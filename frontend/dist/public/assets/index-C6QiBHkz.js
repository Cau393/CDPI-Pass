var R6=Object.defineProperty;var Rx=e=>{throw TypeError(e)};var O6=(e,t,n)=>t in e?R6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Z=(e,t,n)=>O6(e,typeof t!="symbol"?t+"":t,n),m0=(e,t,n)=>t.has(e)||Rx("Cannot "+n);var W=(e,t,n)=>(m0(e,t,"read from private field"),n?n.call(e):t.get(e)),Ue=(e,t,n)=>t.has(e)?Rx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_e=(e,t,n,r)=>(m0(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ot=(e,t,n)=>(m0(e,t,"access private method"),n);var td=(e,t,n,r)=>({set _(o){_e(e,t,o,n)},get _(){return W(e,t,r)}});function uE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ip(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dE={exports:{}},ih={},fE={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ru=Symbol.for("react.element"),P6=Symbol.for("react.portal"),D6=Symbol.for("react.fragment"),k6=Symbol.for("react.strict_mode"),M6=Symbol.for("react.profiler"),j6=Symbol.for("react.provider"),L6=Symbol.for("react.context"),F6=Symbol.for("react.forward_ref"),B6=Symbol.for("react.suspense"),V6=Symbol.for("react.memo"),U6=Symbol.for("react.lazy"),Ox=Symbol.iterator;function z6(e){return e===null||typeof e!="object"?null:(e=Ox&&e[Ox]||e["@@iterator"],typeof e=="function"?e:null)}var hE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mE=Object.assign,pE={};function Vl(e,t,n){this.props=e,this.context=t,this.refs=pE,this.updater=n||hE}Vl.prototype.isReactComponent={};Vl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gE(){}gE.prototype=Vl.prototype;function op(e,t,n){this.props=e,this.context=t,this.refs=pE,this.updater=n||hE}var ap=op.prototype=new gE;ap.constructor=op;mE(ap,Vl.prototype);ap.isPureReactComponent=!0;var Px=Array.isArray,xE=Object.prototype.hasOwnProperty,lp={current:null},yE={key:!0,ref:!0,__self:!0,__source:!0};function vE(e,t,n){var r,o={},l=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(l=""+t.key),t)xE.call(t,r)&&!yE.hasOwnProperty(r)&&(o[r]=t[r]);var m=arguments.length-2;if(m===1)o.children=n;else if(1<m){for(var x=Array(m),g=0;g<m;g++)x[g]=arguments[g+2];o.children=x}if(e&&e.defaultProps)for(r in m=e.defaultProps,m)o[r]===void 0&&(o[r]=m[r]);return{$$typeof:Ru,type:e,key:l,ref:d,props:o,_owner:lp.current}}function W6(e,t){return{$$typeof:Ru,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ru}function H6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Dx=/\/+/g;function p0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?H6(""+e.key):t.toString(36)}function _d(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Ru:case P6:d=!0}}if(d)return d=e,o=o(d),e=r===""?"."+p0(d,0):r,Px(o)?(n="",e!=null&&(n=e.replace(Dx,"$&/")+"/"),_d(o,t,n,"",function(g){return g})):o!=null&&(cp(o)&&(o=W6(o,n+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(Dx,"$&/")+"/")+e)),t.push(o)),1;if(d=0,r=r===""?".":r+":",Px(e))for(var m=0;m<e.length;m++){l=e[m];var x=r+p0(l,m);d+=_d(l,t,n,x,o)}else if(x=z6(e),typeof x=="function")for(e=x.call(e),m=0;!(l=e.next()).done;)l=l.value,x=r+p0(l,m++),d+=_d(l,t,n,x,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function nd(e,t,n){if(e==null)return e;var r=[],o=0;return _d(e,r,"","",function(l){return t.call(n,l,o++)}),r}function G6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fr={current:null},Td={transition:null},$6={ReactCurrentDispatcher:fr,ReactCurrentBatchConfig:Td,ReactCurrentOwner:lp};function wE(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:nd,forEach:function(e,t,n){nd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nd(e,function(){t++}),t},toArray:function(e){return nd(e,function(t){return t})||[]},only:function(e){if(!cp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};dt.Component=Vl;dt.Fragment=D6;dt.Profiler=M6;dt.PureComponent=op;dt.StrictMode=k6;dt.Suspense=B6;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$6;dt.act=wE;dt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mE({},e.props),o=e.key,l=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,d=lp.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(x in t)xE.call(t,x)&&!yE.hasOwnProperty(x)&&(r[x]=t[x]===void 0&&m!==void 0?m[x]:t[x])}var x=arguments.length-2;if(x===1)r.children=n;else if(1<x){m=Array(x);for(var g=0;g<x;g++)m[g]=arguments[g+2];r.children=m}return{$$typeof:Ru,type:e.type,key:o,ref:l,props:r,_owner:d}};dt.createContext=function(e){return e={$$typeof:L6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:j6,_context:e},e.Consumer=e};dt.createElement=vE;dt.createFactory=function(e){var t=vE.bind(null,e);return t.type=e,t};dt.createRef=function(){return{current:null}};dt.forwardRef=function(e){return{$$typeof:F6,render:e}};dt.isValidElement=cp;dt.lazy=function(e){return{$$typeof:U6,_payload:{_status:-1,_result:e},_init:G6}};dt.memo=function(e,t){return{$$typeof:V6,type:e,compare:t===void 0?null:t}};dt.startTransition=function(e){var t=Td.transition;Td.transition={};try{e()}finally{Td.transition=t}};dt.unstable_act=wE;dt.useCallback=function(e,t){return fr.current.useCallback(e,t)};dt.useContext=function(e){return fr.current.useContext(e)};dt.useDebugValue=function(){};dt.useDeferredValue=function(e){return fr.current.useDeferredValue(e)};dt.useEffect=function(e,t){return fr.current.useEffect(e,t)};dt.useId=function(){return fr.current.useId()};dt.useImperativeHandle=function(e,t,n){return fr.current.useImperativeHandle(e,t,n)};dt.useInsertionEffect=function(e,t){return fr.current.useInsertionEffect(e,t)};dt.useLayoutEffect=function(e,t){return fr.current.useLayoutEffect(e,t)};dt.useMemo=function(e,t){return fr.current.useMemo(e,t)};dt.useReducer=function(e,t,n){return fr.current.useReducer(e,t,n)};dt.useRef=function(e){return fr.current.useRef(e)};dt.useState=function(e){return fr.current.useState(e)};dt.useSyncExternalStore=function(e,t,n){return fr.current.useSyncExternalStore(e,t,n)};dt.useTransition=function(){return fr.current.useTransition()};dt.version="18.3.1";fE.exports=dt;var b=fE.exports;const Qe=ip(b),CE=uE({__proto__:null,default:Qe},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X6=b,Z6=Symbol.for("react.element"),K6=Symbol.for("react.fragment"),q6=Object.prototype.hasOwnProperty,Y6=X6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q6={key:!0,ref:!0,__self:!0,__source:!0};function bE(e,t,n){var r,o={},l=null,d=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)q6.call(t,r)&&!Q6.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Z6,type:e,key:l,ref:d,props:o,_owner:Y6.current}}ih.Fragment=K6;ih.jsx=bE;ih.jsxs=bE;dE.exports=ih;var h=dE.exports,f1={},EE={exports:{}},Wr={},SE={exports:{}},AE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ne,V){var ce=ne.length;ne.push(V);e:for(;0<ce;){var Ie=ce-1>>>1,Me=ne[Ie];if(0<o(Me,V))ne[Ie]=V,ne[ce]=Me,ce=Ie;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var V=ne[0],ce=ne.pop();if(ce!==V){ne[0]=ce;e:for(var Ie=0,Me=ne.length,rt=Me>>>1;Ie<rt;){var Ye=2*(Ie+1)-1,yn=ne[Ye],Ee=Ye+1,ke=ne[Ee];if(0>o(yn,ce))Ee<Me&&0>o(ke,yn)?(ne[Ie]=ke,ne[Ee]=ce,Ie=Ee):(ne[Ie]=yn,ne[Ye]=ce,Ie=Ye);else if(Ee<Me&&0>o(ke,ce))ne[Ie]=ke,ne[Ee]=ce,Ie=Ee;else break e}}return V}function o(ne,V){var ce=ne.sortIndex-V.sortIndex;return ce!==0?ce:ne.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var x=[],g=[],v=1,C=null,S=3,R=!1,P=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ne){for(var V=n(g);V!==null;){if(V.callback===null)r(g);else if(V.startTime<=ne)r(g),V.sortIndex=V.expirationTime,t(x,V);else break;V=n(g)}}function M(ne){if(N=!1,I(ne),!P)if(n(x)!==null)P=!0,fe(F);else{var V=n(g);V!==null&&ue(M,V.startTime-ne)}}function F(ne,V){P=!1,N&&(N=!1,O(K),K=-1),R=!0;var ce=S;try{for(I(V),C=n(x);C!==null&&(!(C.expirationTime>V)||ne&&!ye());){var Ie=C.callback;if(typeof Ie=="function"){C.callback=null,S=C.priorityLevel;var Me=Ie(C.expirationTime<=V);V=e.unstable_now(),typeof Me=="function"?C.callback=Me:C===n(x)&&r(x),I(V)}else r(x);C=n(x)}if(C!==null)var rt=!0;else{var Ye=n(g);Ye!==null&&ue(M,Ye.startTime-V),rt=!1}return rt}finally{C=null,S=ce,R=!1}}var X=!1,B=null,K=-1,G=5,oe=-1;function ye(){return!(e.unstable_now()-oe<G)}function Q(){if(B!==null){var ne=e.unstable_now();oe=ne;var V=!0;try{V=B(!0,ne)}finally{V?ie():(X=!1,B=null)}}else X=!1}var ie;if(typeof A=="function")ie=function(){A(Q)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,$=se.port2;se.port1.onmessage=Q,ie=function(){$.postMessage(null)}}else ie=function(){k(Q,0)};function fe(ne){B=ne,X||(X=!0,ie())}function ue(ne,V){K=k(function(){ne(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){P||R||(P=!0,fe(F))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return n(x)},e.unstable_next=function(ne){switch(S){case 1:case 2:case 3:var V=3;break;default:V=S}var ce=S;S=V;try{return ne()}finally{S=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,V){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ce=S;S=ne;try{return V()}finally{S=ce}},e.unstable_scheduleCallback=function(ne,V,ce){var Ie=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ie+ce:Ie):ce=Ie,ne){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ce+Me,ne={id:v++,callback:V,priorityLevel:ne,startTime:ce,expirationTime:Me,sortIndex:-1},ce>Ie?(ne.sortIndex=ce,t(g,ne),n(x)===null&&ne===n(g)&&(N?(O(K),K=-1):N=!0,ue(M,ce-Ie))):(ne.sortIndex=Me,t(x,ne),P||R||(P=!0,fe(F))),ne},e.unstable_shouldYield=ye,e.unstable_wrapCallback=function(ne){var V=S;return function(){var ce=S;S=V;try{return ne.apply(this,arguments)}finally{S=ce}}}})(AE);SE.exports=AE;var J6=SE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eR=b,zr=J6;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NE=new Set,Wc={};function ga(e,t){El(e,t),El(e+"Capture",t)}function El(e,t){for(Wc[e]=t,e=0;e<t.length;e++)NE.add(t[e])}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h1=Object.prototype.hasOwnProperty,tR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kx={},Mx={};function nR(e){return h1.call(Mx,e)?!0:h1.call(kx,e)?!1:tR.test(e)?Mx[e]=!0:(kx[e]=!0,!1)}function rR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sR(e,t,n,r){if(t===null||typeof t>"u"||rR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hr(e,t,n,r,o,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Hn[e]=new hr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Hn[t]=new hr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Hn[e]=new hr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Hn[e]=new hr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Hn[e]=new hr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Hn[e]=new hr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Hn[e]=new hr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Hn[e]=new hr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Hn[e]=new hr(e,5,!1,e.toLowerCase(),null,!1,!1)});var up=/[\-:]([a-z])/g;function dp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(up,dp);Hn[t]=new hr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(up,dp);Hn[t]=new hr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(up,dp);Hn[t]=new hr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Hn[e]=new hr(e,1,!1,e.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Hn[e]=new hr(e,1,!1,e.toLowerCase(),null,!0,!0)});function fp(e,t,n,r){var o=Hn.hasOwnProperty(t)?Hn[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sR(t,n,o,r)&&(n=null),r||o===null?nR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ai=eR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rd=Symbol.for("react.element"),ja=Symbol.for("react.portal"),La=Symbol.for("react.fragment"),hp=Symbol.for("react.strict_mode"),m1=Symbol.for("react.profiler"),_E=Symbol.for("react.provider"),TE=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),p1=Symbol.for("react.suspense"),g1=Symbol.for("react.suspense_list"),pp=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),IE=Symbol.for("react.offscreen"),jx=Symbol.iterator;function lc(e){return e===null||typeof e!="object"?null:(e=jx&&e[jx]||e["@@iterator"],typeof e=="function"?e:null)}var sn=Object.assign,g0;function Cc(e){if(g0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);g0=t&&t[1]||""}return`
`+g0+e}var x0=!1;function y0(e,t){if(!e||x0)return"";x0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var o=g.stack.split(`
`),l=r.stack.split(`
`),d=o.length-1,m=l.length-1;1<=d&&0<=m&&o[d]!==l[m];)m--;for(;1<=d&&0<=m;d--,m--)if(o[d]!==l[m]){if(d!==1||m!==1)do if(d--,m--,0>m||o[d]!==l[m]){var x=`
`+o[d].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=d&&0<=m);break}}}finally{x0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cc(e):""}function iR(e){switch(e.tag){case 5:return Cc(e.type);case 16:return Cc("Lazy");case 13:return Cc("Suspense");case 19:return Cc("SuspenseList");case 0:case 2:case 15:return e=y0(e.type,!1),e;case 11:return e=y0(e.type.render,!1),e;case 1:return e=y0(e.type,!0),e;default:return""}}function x1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case La:return"Fragment";case ja:return"Portal";case m1:return"Profiler";case hp:return"StrictMode";case p1:return"Suspense";case g1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case TE:return(e.displayName||"Context")+".Consumer";case _E:return(e._context.displayName||"Context")+".Provider";case mp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pp:return t=e.displayName||null,t!==null?t:x1(e.type)||"Memo";case Vi:t=e._payload,e=e._init;try{return x1(e(t))}catch{}}return null}function oR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return x1(t);case 8:return t===hp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function RE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aR(e){var t=RE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){r=""+d,l.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sd(e){e._valueTracker||(e._valueTracker=aR(e))}function OE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=RE(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function nf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function y1(e,t){var n=t.checked;return sn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Lx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function PE(e,t){t=t.checked,t!=null&&fp(e,"checked",t,!1)}function v1(e,t){PE(e,t);var n=fo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?w1(e,t.type,n):t.hasOwnProperty("defaultValue")&&w1(e,t.type,fo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function w1(e,t,n){(t!=="number"||nf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bc=Array.isArray;function qa(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fo(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function C1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return sn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(me(92));if(bc(n)){if(1<n.length)throw Error(me(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fo(n)}}function DE(e,t){var n=fo(t.value),r=fo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function b1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var id,ME=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(id=id||document.createElement("div"),id.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=id.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lR=["Webkit","ms","Moz","O"];Object.keys(Rc).forEach(function(e){lR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rc[t]=Rc[e]})});function jE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rc.hasOwnProperty(e)&&Rc[e]?(""+t).trim():t+"px"}function LE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=jE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var cR=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function E1(e,t){if(t){if(cR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function S1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A1=null;function gp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var N1=null,Ya=null,Qa=null;function Ux(e){if(e=Du(e)){if(typeof N1!="function")throw Error(me(280));var t=e.stateNode;t&&(t=uh(t),N1(e.stateNode,e.type,t))}}function FE(e){Ya?Qa?Qa.push(e):Qa=[e]:Ya=e}function BE(){if(Ya){var e=Ya,t=Qa;if(Qa=Ya=null,Ux(e),t)for(e=0;e<t.length;e++)Ux(t[e])}}function VE(e,t){return e(t)}function UE(){}var v0=!1;function zE(e,t,n){if(v0)return e(t,n);v0=!0;try{return VE(e,t,n)}finally{v0=!1,(Ya!==null||Qa!==null)&&(UE(),BE())}}function Gc(e,t){var n=e.stateNode;if(n===null)return null;var r=uh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(me(231,t,typeof n));return n}var _1=!1;if(xi)try{var cc={};Object.defineProperty(cc,"passive",{get:function(){_1=!0}}),window.addEventListener("test",cc,cc),window.removeEventListener("test",cc,cc)}catch{_1=!1}function uR(e,t,n,r,o,l,d,m,x){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(v){this.onError(v)}}var Oc=!1,rf=null,sf=!1,T1=null,dR={onError:function(e){Oc=!0,rf=e}};function fR(e,t,n,r,o,l,d,m,x){Oc=!1,rf=null,uR.apply(dR,arguments)}function hR(e,t,n,r,o,l,d,m,x){if(fR.apply(this,arguments),Oc){if(Oc){var g=rf;Oc=!1,rf=null}else throw Error(me(198));sf||(sf=!0,T1=g)}}function xa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function WE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zx(e){if(xa(e)!==e)throw Error(me(188))}function mR(e){var t=e.alternate;if(!t){if(t=xa(e),t===null)throw Error(me(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return zx(o),e;if(l===r)return zx(o),t;l=l.sibling}throw Error(me(188))}if(n.return!==r.return)n=o,r=l;else{for(var d=!1,m=o.child;m;){if(m===n){d=!0,n=o,r=l;break}if(m===r){d=!0,r=o,n=l;break}m=m.sibling}if(!d){for(m=l.child;m;){if(m===n){d=!0,n=l,r=o;break}if(m===r){d=!0,r=l,n=o;break}m=m.sibling}if(!d)throw Error(me(189))}}if(n.alternate!==r)throw Error(me(190))}if(n.tag!==3)throw Error(me(188));return n.stateNode.current===n?e:t}function HE(e){return e=mR(e),e!==null?GE(e):null}function GE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GE(e);if(t!==null)return t;e=e.sibling}return null}var $E=zr.unstable_scheduleCallback,Wx=zr.unstable_cancelCallback,pR=zr.unstable_shouldYield,gR=zr.unstable_requestPaint,gn=zr.unstable_now,xR=zr.unstable_getCurrentPriorityLevel,xp=zr.unstable_ImmediatePriority,XE=zr.unstable_UserBlockingPriority,of=zr.unstable_NormalPriority,yR=zr.unstable_LowPriority,ZE=zr.unstable_IdlePriority,oh=null,Ws=null;function vR(e){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(oh,e,void 0,(e.current.flags&128)===128)}catch{}}var ws=Math.clz32?Math.clz32:bR,wR=Math.log,CR=Math.LN2;function bR(e){return e>>>=0,e===0?32:31-(wR(e)/CR|0)|0}var od=64,ad=4194304;function Ec(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function af(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,d=n&268435455;if(d!==0){var m=d&~o;m!==0?r=Ec(m):(l&=d,l!==0&&(r=Ec(l)))}else d=n&~o,d!==0?r=Ec(d):l!==0&&(r=Ec(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ws(t),o=1<<n,r|=e[n],t&=~o;return r}function ER(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SR(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-ws(l),m=1<<d,x=o[d];x===-1?(!(m&n)||m&r)&&(o[d]=ER(m,t)):x<=t&&(e.expiredLanes|=m),l&=~m}}function I1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KE(){var e=od;return od<<=1,!(od&4194240)&&(od=64),e}function w0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ou(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ws(t),e[t]=n}function AR(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ws(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function yp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ws(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var kt=0;function qE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var YE,vp,QE,JE,eS,R1=!1,ld=[],no=null,ro=null,so=null,$c=new Map,Xc=new Map,zi=[],NR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hx(e,t){switch(e){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":$c.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(t.pointerId)}}function uc(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Du(t),t!==null&&vp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function _R(e,t,n,r,o){switch(t){case"focusin":return no=uc(no,e,t,n,r,o),!0;case"dragenter":return ro=uc(ro,e,t,n,r,o),!0;case"mouseover":return so=uc(so,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return $c.set(l,uc($c.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Xc.set(l,uc(Xc.get(l)||null,e,t,n,r,o)),!0}return!1}function tS(e){var t=Fo(e.target);if(t!==null){var n=xa(t);if(n!==null){if(t=n.tag,t===13){if(t=WE(n),t!==null){e.blockedOn=t,eS(e.priority,function(){QE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Id(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=O1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);A1=r,n.target.dispatchEvent(r),A1=null}else return t=Du(n),t!==null&&vp(t),e.blockedOn=n,!1;t.shift()}return!0}function Gx(e,t,n){Id(e)&&n.delete(t)}function TR(){R1=!1,no!==null&&Id(no)&&(no=null),ro!==null&&Id(ro)&&(ro=null),so!==null&&Id(so)&&(so=null),$c.forEach(Gx),Xc.forEach(Gx)}function dc(e,t){e.blockedOn===t&&(e.blockedOn=null,R1||(R1=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,TR)))}function Zc(e){function t(o){return dc(o,e)}if(0<ld.length){dc(ld[0],e);for(var n=1;n<ld.length;n++){var r=ld[n];r.blockedOn===e&&(r.blockedOn=null)}}for(no!==null&&dc(no,e),ro!==null&&dc(ro,e),so!==null&&dc(so,e),$c.forEach(t),Xc.forEach(t),n=0;n<zi.length;n++)r=zi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)tS(n),n.blockedOn===null&&zi.shift()}var Ja=Ai.ReactCurrentBatchConfig,lf=!0;function IR(e,t,n,r){var o=kt,l=Ja.transition;Ja.transition=null;try{kt=1,wp(e,t,n,r)}finally{kt=o,Ja.transition=l}}function RR(e,t,n,r){var o=kt,l=Ja.transition;Ja.transition=null;try{kt=4,wp(e,t,n,r)}finally{kt=o,Ja.transition=l}}function wp(e,t,n,r){if(lf){var o=O1(e,t,n,r);if(o===null)R0(e,t,r,cf,n),Hx(e,r);else if(_R(o,e,t,n,r))r.stopPropagation();else if(Hx(e,r),t&4&&-1<NR.indexOf(e)){for(;o!==null;){var l=Du(o);if(l!==null&&YE(l),l=O1(e,t,n,r),l===null&&R0(e,t,r,cf,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else R0(e,t,r,null,n)}}var cf=null;function O1(e,t,n,r){if(cf=null,e=gp(r),e=Fo(e),e!==null)if(t=xa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=WE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cf=e,null}function nS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xR()){case xp:return 1;case XE:return 4;case of:case yR:return 16;case ZE:return 536870912;default:return 16}default:return 16}}var eo=null,Cp=null,Rd=null;function rS(){if(Rd)return Rd;var e,t=Cp,n=t.length,r,o="value"in eo?eo.value:eo.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===o[l-r];r++);return Rd=o.slice(e,1<r?1-r:void 0)}function Od(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cd(){return!0}function $x(){return!1}function Hr(e){function t(n,r,o,l,d){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(l):l[m]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?cd:$x,this.isPropagationStopped=$x,this}return sn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cd)},persist:function(){},isPersistent:cd}),t}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bp=Hr(Ul),Pu=sn({},Ul,{view:0,detail:0}),OR=Hr(Pu),C0,b0,fc,ah=sn({},Pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ep,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fc&&(fc&&e.type==="mousemove"?(C0=e.screenX-fc.screenX,b0=e.screenY-fc.screenY):b0=C0=0,fc=e),C0)},movementY:function(e){return"movementY"in e?e.movementY:b0}}),Xx=Hr(ah),PR=sn({},ah,{dataTransfer:0}),DR=Hr(PR),kR=sn({},Pu,{relatedTarget:0}),E0=Hr(kR),MR=sn({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),jR=Hr(MR),LR=sn({},Ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FR=Hr(LR),BR=sn({},Ul,{data:0}),Zx=Hr(BR),VR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zR[e])?!!t[e]:!1}function Ep(){return WR}var HR=sn({},Pu,{key:function(e){if(e.key){var t=VR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ep,charCode:function(e){return e.type==="keypress"?Od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GR=Hr(HR),$R=sn({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kx=Hr($R),XR=sn({},Pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ep}),ZR=Hr(XR),KR=sn({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),qR=Hr(KR),YR=sn({},ah,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QR=Hr(YR),JR=[9,13,27,32],Sp=xi&&"CompositionEvent"in window,Pc=null;xi&&"documentMode"in document&&(Pc=document.documentMode);var eO=xi&&"TextEvent"in window&&!Pc,sS=xi&&(!Sp||Pc&&8<Pc&&11>=Pc),qx=" ",Yx=!1;function iS(e,t){switch(e){case"keyup":return JR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fa=!1;function tO(e,t){switch(e){case"compositionend":return oS(t);case"keypress":return t.which!==32?null:(Yx=!0,qx);case"textInput":return e=t.data,e===qx&&Yx?null:e;default:return null}}function nO(e,t){if(Fa)return e==="compositionend"||!Sp&&iS(e,t)?(e=rS(),Rd=Cp=eo=null,Fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sS&&t.locale!=="ko"?null:t.data;default:return null}}var rO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rO[e.type]:t==="textarea"}function aS(e,t,n,r){FE(r),t=uf(t,"onChange"),0<t.length&&(n=new bp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dc=null,Kc=null;function sO(e){yS(e,0)}function lh(e){var t=Ua(e);if(OE(t))return e}function iO(e,t){if(e==="change")return t}var lS=!1;if(xi){var S0;if(xi){var A0="oninput"in document;if(!A0){var Jx=document.createElement("div");Jx.setAttribute("oninput","return;"),A0=typeof Jx.oninput=="function"}S0=A0}else S0=!1;lS=S0&&(!document.documentMode||9<document.documentMode)}function ey(){Dc&&(Dc.detachEvent("onpropertychange",cS),Kc=Dc=null)}function cS(e){if(e.propertyName==="value"&&lh(Kc)){var t=[];aS(t,Kc,e,gp(e)),zE(sO,t)}}function oO(e,t,n){e==="focusin"?(ey(),Dc=t,Kc=n,Dc.attachEvent("onpropertychange",cS)):e==="focusout"&&ey()}function aO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lh(Kc)}function lO(e,t){if(e==="click")return lh(t)}function cO(e,t){if(e==="input"||e==="change")return lh(t)}function uO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Es=typeof Object.is=="function"?Object.is:uO;function qc(e,t){if(Es(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!h1.call(t,o)||!Es(e[o],t[o]))return!1}return!0}function ty(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ny(e,t){var n=ty(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ty(n)}}function uS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dS(){for(var e=window,t=nf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=nf(e.document)}return t}function Ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dO(e){var t=dS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uS(n.ownerDocument.documentElement,n)){if(r!==null&&Ap(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=ny(n,l);var d=ny(n,r);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fO=xi&&"documentMode"in document&&11>=document.documentMode,Ba=null,P1=null,kc=null,D1=!1;function ry(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;D1||Ba==null||Ba!==nf(r)||(r=Ba,"selectionStart"in r&&Ap(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kc&&qc(kc,r)||(kc=r,r=uf(P1,"onSelect"),0<r.length&&(t=new bp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ba)))}function ud(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Va={animationend:ud("Animation","AnimationEnd"),animationiteration:ud("Animation","AnimationIteration"),animationstart:ud("Animation","AnimationStart"),transitionend:ud("Transition","TransitionEnd")},N0={},fS={};xi&&(fS=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function ch(e){if(N0[e])return N0[e];if(!Va[e])return e;var t=Va[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fS)return N0[e]=t[n];return e}var hS=ch("animationend"),mS=ch("animationiteration"),pS=ch("animationstart"),gS=ch("transitionend"),xS=new Map,sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(e,t){xS.set(e,t),ga(t,[e])}for(var _0=0;_0<sy.length;_0++){var T0=sy[_0],hO=T0.toLowerCase(),mO=T0[0].toUpperCase()+T0.slice(1);Eo(hO,"on"+mO)}Eo(hS,"onAnimationEnd");Eo(mS,"onAnimationIteration");Eo(pS,"onAnimationStart");Eo("dblclick","onDoubleClick");Eo("focusin","onFocus");Eo("focusout","onBlur");Eo(gS,"onTransitionEnd");El("onMouseEnter",["mouseout","mouseover"]);El("onMouseLeave",["mouseout","mouseover"]);El("onPointerEnter",["pointerout","pointerover"]);El("onPointerLeave",["pointerout","pointerover"]);ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sc));function iy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hR(r,t,void 0,e),e.currentTarget=null}function yS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var d=r.length-1;0<=d;d--){var m=r[d],x=m.instance,g=m.currentTarget;if(m=m.listener,x!==l&&o.isPropagationStopped())break e;iy(o,m,g),l=x}else for(d=0;d<r.length;d++){if(m=r[d],x=m.instance,g=m.currentTarget,m=m.listener,x!==l&&o.isPropagationStopped())break e;iy(o,m,g),l=x}}}if(sf)throw e=T1,sf=!1,T1=null,e}function Gt(e,t){var n=t[F1];n===void 0&&(n=t[F1]=new Set);var r=e+"__bubble";n.has(r)||(vS(t,e,2,!1),n.add(r))}function I0(e,t,n){var r=0;t&&(r|=4),vS(n,e,r,t)}var dd="_reactListening"+Math.random().toString(36).slice(2);function Yc(e){if(!e[dd]){e[dd]=!0,NE.forEach(function(n){n!=="selectionchange"&&(pO.has(n)||I0(n,!1,e),I0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dd]||(t[dd]=!0,I0("selectionchange",!1,t))}}function vS(e,t,n,r){switch(nS(t)){case 1:var o=IR;break;case 4:o=RR;break;default:o=wp}n=o.bind(null,t,n,e),o=void 0,!_1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function R0(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var m=r.stateNode.containerInfo;if(m===o||m.nodeType===8&&m.parentNode===o)break;if(d===4)for(d=r.return;d!==null;){var x=d.tag;if((x===3||x===4)&&(x=d.stateNode.containerInfo,x===o||x.nodeType===8&&x.parentNode===o))return;d=d.return}for(;m!==null;){if(d=Fo(m),d===null)return;if(x=d.tag,x===5||x===6){r=l=d;continue e}m=m.parentNode}}r=r.return}zE(function(){var g=l,v=gp(n),C=[];e:{var S=xS.get(e);if(S!==void 0){var R=bp,P=e;switch(e){case"keypress":if(Od(n)===0)break e;case"keydown":case"keyup":R=GR;break;case"focusin":P="focus",R=E0;break;case"focusout":P="blur",R=E0;break;case"beforeblur":case"afterblur":R=E0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Xx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=DR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=ZR;break;case hS:case mS:case pS:R=jR;break;case gS:R=qR;break;case"scroll":R=OR;break;case"wheel":R=QR;break;case"copy":case"cut":case"paste":R=FR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Kx}var N=(t&4)!==0,k=!N&&e==="scroll",O=N?S!==null?S+"Capture":null:S;N=[];for(var A=g,I;A!==null;){I=A;var M=I.stateNode;if(I.tag===5&&M!==null&&(I=M,O!==null&&(M=Gc(A,O),M!=null&&N.push(Qc(A,M,I)))),k)break;A=A.return}0<N.length&&(S=new R(S,P,null,n,v),C.push({event:S,listeners:N}))}}if(!(t&7)){e:{if(S=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",S&&n!==A1&&(P=n.relatedTarget||n.fromElement)&&(Fo(P)||P[yi]))break e;if((R||S)&&(S=v.window===v?v:(S=v.ownerDocument)?S.defaultView||S.parentWindow:window,R?(P=n.relatedTarget||n.toElement,R=g,P=P?Fo(P):null,P!==null&&(k=xa(P),P!==k||P.tag!==5&&P.tag!==6)&&(P=null)):(R=null,P=g),R!==P)){if(N=Xx,M="onMouseLeave",O="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(N=Kx,M="onPointerLeave",O="onPointerEnter",A="pointer"),k=R==null?S:Ua(R),I=P==null?S:Ua(P),S=new N(M,A+"leave",R,n,v),S.target=k,S.relatedTarget=I,M=null,Fo(v)===g&&(N=new N(O,A+"enter",P,n,v),N.target=I,N.relatedTarget=k,M=N),k=M,R&&P)t:{for(N=R,O=P,A=0,I=N;I;I=Ra(I))A++;for(I=0,M=O;M;M=Ra(M))I++;for(;0<A-I;)N=Ra(N),A--;for(;0<I-A;)O=Ra(O),I--;for(;A--;){if(N===O||O!==null&&N===O.alternate)break t;N=Ra(N),O=Ra(O)}N=null}else N=null;R!==null&&oy(C,S,R,N,!1),P!==null&&k!==null&&oy(C,k,P,N,!0)}}e:{if(S=g?Ua(g):window,R=S.nodeName&&S.nodeName.toLowerCase(),R==="select"||R==="input"&&S.type==="file")var F=iO;else if(Qx(S))if(lS)F=cO;else{F=aO;var X=oO}else(R=S.nodeName)&&R.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(F=lO);if(F&&(F=F(e,g))){aS(C,F,n,v);break e}X&&X(e,S,g),e==="focusout"&&(X=S._wrapperState)&&X.controlled&&S.type==="number"&&w1(S,"number",S.value)}switch(X=g?Ua(g):window,e){case"focusin":(Qx(X)||X.contentEditable==="true")&&(Ba=X,P1=g,kc=null);break;case"focusout":kc=P1=Ba=null;break;case"mousedown":D1=!0;break;case"contextmenu":case"mouseup":case"dragend":D1=!1,ry(C,n,v);break;case"selectionchange":if(fO)break;case"keydown":case"keyup":ry(C,n,v)}var B;if(Sp)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else Fa?iS(e,n)&&(K="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(K="onCompositionStart");K&&(sS&&n.locale!=="ko"&&(Fa||K!=="onCompositionStart"?K==="onCompositionEnd"&&Fa&&(B=rS()):(eo=v,Cp="value"in eo?eo.value:eo.textContent,Fa=!0)),X=uf(g,K),0<X.length&&(K=new Zx(K,e,null,n,v),C.push({event:K,listeners:X}),B?K.data=B:(B=oS(n),B!==null&&(K.data=B)))),(B=eO?tO(e,n):nO(e,n))&&(g=uf(g,"onBeforeInput"),0<g.length&&(v=new Zx("onBeforeInput","beforeinput",null,n,v),C.push({event:v,listeners:g}),v.data=B))}yS(C,t)})}function Qc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function uf(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Gc(e,n),l!=null&&r.unshift(Qc(e,l,o)),l=Gc(e,t),l!=null&&r.push(Qc(e,l,o))),e=e.return}return r}function Ra(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oy(e,t,n,r,o){for(var l=t._reactName,d=[];n!==null&&n!==r;){var m=n,x=m.alternate,g=m.stateNode;if(x!==null&&x===r)break;m.tag===5&&g!==null&&(m=g,o?(x=Gc(n,l),x!=null&&d.unshift(Qc(n,x,m))):o||(x=Gc(n,l),x!=null&&d.push(Qc(n,x,m)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var gO=/\r\n?/g,xO=/\u0000|\uFFFD/g;function ay(e){return(typeof e=="string"?e:""+e).replace(gO,`
`).replace(xO,"")}function fd(e,t,n){if(t=ay(t),ay(e)!==t&&n)throw Error(me(425))}function df(){}var k1=null,M1=null;function j1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var L1=typeof setTimeout=="function"?setTimeout:void 0,yO=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,vO=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(e){return ly.resolve(null).then(e).catch(wO)}:L1;function wO(e){setTimeout(function(){throw e})}function O0(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Zc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Zc(t)}function io(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zl=Math.random().toString(36).slice(2),Vs="__reactFiber$"+zl,Jc="__reactProps$"+zl,yi="__reactContainer$"+zl,F1="__reactEvents$"+zl,CO="__reactListeners$"+zl,bO="__reactHandles$"+zl;function Fo(e){var t=e[Vs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yi]||n[Vs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cy(e);e!==null;){if(n=e[Vs])return n;e=cy(e)}return t}e=n,n=e.parentNode}return null}function Du(e){return e=e[Vs]||e[yi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ua(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function uh(e){return e[Jc]||null}var B1=[],za=-1;function So(e){return{current:e}}function Xt(e){0>za||(e.current=B1[za],B1[za]=null,za--)}function zt(e,t){za++,B1[za]=e.current,e.current=t}var ho={},er=So(ho),_r=So(!1),ea=ho;function Sl(e,t){var n=e.type.contextTypes;if(!n)return ho;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Tr(e){return e=e.childContextTypes,e!=null}function ff(){Xt(_r),Xt(er)}function uy(e,t,n){if(er.current!==ho)throw Error(me(168));zt(er,t),zt(_r,n)}function wS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(me(108,oR(e)||"Unknown",o));return sn({},n,r)}function hf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ho,ea=er.current,zt(er,e),zt(_r,_r.current),!0}function dy(e,t,n){var r=e.stateNode;if(!r)throw Error(me(169));n?(e=wS(e,t,ea),r.__reactInternalMemoizedMergedChildContext=e,Xt(_r),Xt(er),zt(er,e)):Xt(_r),zt(_r,n)}var ci=null,dh=!1,P0=!1;function CS(e){ci===null?ci=[e]:ci.push(e)}function EO(e){dh=!0,CS(e)}function Ao(){if(!P0&&ci!==null){P0=!0;var e=0,t=kt;try{var n=ci;for(kt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ci=null,dh=!1}catch(o){throw ci!==null&&(ci=ci.slice(e+1)),$E(xp,Ao),o}finally{kt=t,P0=!1}}return null}var Wa=[],Ha=0,mf=null,pf=0,Jr=[],es=0,ta=null,fi=1,hi="";function Mo(e,t){Wa[Ha++]=pf,Wa[Ha++]=mf,mf=e,pf=t}function bS(e,t,n){Jr[es++]=fi,Jr[es++]=hi,Jr[es++]=ta,ta=e;var r=fi;e=hi;var o=32-ws(r)-1;r&=~(1<<o),n+=1;var l=32-ws(t)+o;if(30<l){var d=o-o%5;l=(r&(1<<d)-1).toString(32),r>>=d,o-=d,fi=1<<32-ws(t)+o|n<<o|r,hi=l+e}else fi=1<<l|n<<o|r,hi=e}function Np(e){e.return!==null&&(Mo(e,1),bS(e,1,0))}function _p(e){for(;e===mf;)mf=Wa[--Ha],Wa[Ha]=null,pf=Wa[--Ha],Wa[Ha]=null;for(;e===ta;)ta=Jr[--es],Jr[es]=null,hi=Jr[--es],Jr[es]=null,fi=Jr[--es],Jr[es]=null}var Br=null,Fr=null,Yt=!1,ps=null;function ES(e,t){var n=ts(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Br=e,Fr=io(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Br=e,Fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ta!==null?{id:fi,overflow:hi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ts(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Br=e,Fr=null,!0):!1;default:return!1}}function V1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function U1(e){if(Yt){var t=Fr;if(t){var n=t;if(!fy(e,t)){if(V1(e))throw Error(me(418));t=io(n.nextSibling);var r=Br;t&&fy(e,t)?ES(r,n):(e.flags=e.flags&-4097|2,Yt=!1,Br=e)}}else{if(V1(e))throw Error(me(418));e.flags=e.flags&-4097|2,Yt=!1,Br=e}}}function hy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Br=e}function hd(e){if(e!==Br)return!1;if(!Yt)return hy(e),Yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!j1(e.type,e.memoizedProps)),t&&(t=Fr)){if(V1(e))throw SS(),Error(me(418));for(;t;)ES(e,t),t=io(t.nextSibling)}if(hy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fr=io(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fr=null}}else Fr=Br?io(e.stateNode.nextSibling):null;return!0}function SS(){for(var e=Fr;e;)e=io(e.nextSibling)}function Al(){Fr=Br=null,Yt=!1}function Tp(e){ps===null?ps=[e]:ps.push(e)}var SO=Ai.ReactCurrentBatchConfig;function hc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(me(309));var r=n.stateNode}if(!r)throw Error(me(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var m=o.refs;d===null?delete m[l]:m[l]=d},t._stringRef=l,t)}if(typeof e!="string")throw Error(me(284));if(!n._owner)throw Error(me(290,e))}return e}function md(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function my(e){var t=e._init;return t(e._payload)}function AS(e){function t(O,A){if(e){var I=O.deletions;I===null?(O.deletions=[A],O.flags|=16):I.push(A)}}function n(O,A){if(!e)return null;for(;A!==null;)t(O,A),A=A.sibling;return null}function r(O,A){for(O=new Map;A!==null;)A.key!==null?O.set(A.key,A):O.set(A.index,A),A=A.sibling;return O}function o(O,A){return O=co(O,A),O.index=0,O.sibling=null,O}function l(O,A,I){return O.index=I,e?(I=O.alternate,I!==null?(I=I.index,I<A?(O.flags|=2,A):I):(O.flags|=2,A)):(O.flags|=1048576,A)}function d(O){return e&&O.alternate===null&&(O.flags|=2),O}function m(O,A,I,M){return A===null||A.tag!==6?(A=B0(I,O.mode,M),A.return=O,A):(A=o(A,I),A.return=O,A)}function x(O,A,I,M){var F=I.type;return F===La?v(O,A,I.props.children,M,I.key):A!==null&&(A.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Vi&&my(F)===A.type)?(M=o(A,I.props),M.ref=hc(O,A,I),M.return=O,M):(M=Fd(I.type,I.key,I.props,null,O.mode,M),M.ref=hc(O,A,I),M.return=O,M)}function g(O,A,I,M){return A===null||A.tag!==4||A.stateNode.containerInfo!==I.containerInfo||A.stateNode.implementation!==I.implementation?(A=V0(I,O.mode,M),A.return=O,A):(A=o(A,I.children||[]),A.return=O,A)}function v(O,A,I,M,F){return A===null||A.tag!==7?(A=qo(I,O.mode,M,F),A.return=O,A):(A=o(A,I),A.return=O,A)}function C(O,A,I){if(typeof A=="string"&&A!==""||typeof A=="number")return A=B0(""+A,O.mode,I),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case rd:return I=Fd(A.type,A.key,A.props,null,O.mode,I),I.ref=hc(O,null,A),I.return=O,I;case ja:return A=V0(A,O.mode,I),A.return=O,A;case Vi:var M=A._init;return C(O,M(A._payload),I)}if(bc(A)||lc(A))return A=qo(A,O.mode,I,null),A.return=O,A;md(O,A)}return null}function S(O,A,I,M){var F=A!==null?A.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return F!==null?null:m(O,A,""+I,M);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case rd:return I.key===F?x(O,A,I,M):null;case ja:return I.key===F?g(O,A,I,M):null;case Vi:return F=I._init,S(O,A,F(I._payload),M)}if(bc(I)||lc(I))return F!==null?null:v(O,A,I,M,null);md(O,I)}return null}function R(O,A,I,M,F){if(typeof M=="string"&&M!==""||typeof M=="number")return O=O.get(I)||null,m(A,O,""+M,F);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case rd:return O=O.get(M.key===null?I:M.key)||null,x(A,O,M,F);case ja:return O=O.get(M.key===null?I:M.key)||null,g(A,O,M,F);case Vi:var X=M._init;return R(O,A,I,X(M._payload),F)}if(bc(M)||lc(M))return O=O.get(I)||null,v(A,O,M,F,null);md(A,M)}return null}function P(O,A,I,M){for(var F=null,X=null,B=A,K=A=0,G=null;B!==null&&K<I.length;K++){B.index>K?(G=B,B=null):G=B.sibling;var oe=S(O,B,I[K],M);if(oe===null){B===null&&(B=G);break}e&&B&&oe.alternate===null&&t(O,B),A=l(oe,A,K),X===null?F=oe:X.sibling=oe,X=oe,B=G}if(K===I.length)return n(O,B),Yt&&Mo(O,K),F;if(B===null){for(;K<I.length;K++)B=C(O,I[K],M),B!==null&&(A=l(B,A,K),X===null?F=B:X.sibling=B,X=B);return Yt&&Mo(O,K),F}for(B=r(O,B);K<I.length;K++)G=R(B,O,K,I[K],M),G!==null&&(e&&G.alternate!==null&&B.delete(G.key===null?K:G.key),A=l(G,A,K),X===null?F=G:X.sibling=G,X=G);return e&&B.forEach(function(ye){return t(O,ye)}),Yt&&Mo(O,K),F}function N(O,A,I,M){var F=lc(I);if(typeof F!="function")throw Error(me(150));if(I=F.call(I),I==null)throw Error(me(151));for(var X=F=null,B=A,K=A=0,G=null,oe=I.next();B!==null&&!oe.done;K++,oe=I.next()){B.index>K?(G=B,B=null):G=B.sibling;var ye=S(O,B,oe.value,M);if(ye===null){B===null&&(B=G);break}e&&B&&ye.alternate===null&&t(O,B),A=l(ye,A,K),X===null?F=ye:X.sibling=ye,X=ye,B=G}if(oe.done)return n(O,B),Yt&&Mo(O,K),F;if(B===null){for(;!oe.done;K++,oe=I.next())oe=C(O,oe.value,M),oe!==null&&(A=l(oe,A,K),X===null?F=oe:X.sibling=oe,X=oe);return Yt&&Mo(O,K),F}for(B=r(O,B);!oe.done;K++,oe=I.next())oe=R(B,O,K,oe.value,M),oe!==null&&(e&&oe.alternate!==null&&B.delete(oe.key===null?K:oe.key),A=l(oe,A,K),X===null?F=oe:X.sibling=oe,X=oe);return e&&B.forEach(function(Q){return t(O,Q)}),Yt&&Mo(O,K),F}function k(O,A,I,M){if(typeof I=="object"&&I!==null&&I.type===La&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case rd:e:{for(var F=I.key,X=A;X!==null;){if(X.key===F){if(F=I.type,F===La){if(X.tag===7){n(O,X.sibling),A=o(X,I.props.children),A.return=O,O=A;break e}}else if(X.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Vi&&my(F)===X.type){n(O,X.sibling),A=o(X,I.props),A.ref=hc(O,X,I),A.return=O,O=A;break e}n(O,X);break}else t(O,X);X=X.sibling}I.type===La?(A=qo(I.props.children,O.mode,M,I.key),A.return=O,O=A):(M=Fd(I.type,I.key,I.props,null,O.mode,M),M.ref=hc(O,A,I),M.return=O,O=M)}return d(O);case ja:e:{for(X=I.key;A!==null;){if(A.key===X)if(A.tag===4&&A.stateNode.containerInfo===I.containerInfo&&A.stateNode.implementation===I.implementation){n(O,A.sibling),A=o(A,I.children||[]),A.return=O,O=A;break e}else{n(O,A);break}else t(O,A);A=A.sibling}A=V0(I,O.mode,M),A.return=O,O=A}return d(O);case Vi:return X=I._init,k(O,A,X(I._payload),M)}if(bc(I))return P(O,A,I,M);if(lc(I))return N(O,A,I,M);md(O,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,A!==null&&A.tag===6?(n(O,A.sibling),A=o(A,I),A.return=O,O=A):(n(O,A),A=B0(I,O.mode,M),A.return=O,O=A),d(O)):n(O,A)}return k}var Nl=AS(!0),NS=AS(!1),gf=So(null),xf=null,Ga=null,Ip=null;function Rp(){Ip=Ga=xf=null}function Op(e){var t=gf.current;Xt(gf),e._currentValue=t}function z1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function el(e,t){xf=e,Ip=Ga=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function ss(e){var t=e._currentValue;if(Ip!==e)if(e={context:e,memoizedValue:t,next:null},Ga===null){if(xf===null)throw Error(me(308));Ga=e,xf.dependencies={lanes:0,firstContext:e}}else Ga=Ga.next=e;return t}var Bo=null;function Pp(e){Bo===null?Bo=[e]:Bo.push(e)}function _S(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Pp(t)):(n.next=o.next,o.next=n),t.interleaved=n,vi(e,r)}function vi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ui=!1;function Dp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,bt&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,vi(e,n)}return o=r.interleaved,o===null?(t.next=t,Pp(r)):(t.next=o.next,o.next=t),r.interleaved=t,vi(e,n)}function Pd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yp(e,n)}}function py(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=d:l=l.next=d,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yf(e,t,n,r){var o=e.updateQueue;Ui=!1;var l=o.firstBaseUpdate,d=o.lastBaseUpdate,m=o.shared.pending;if(m!==null){o.shared.pending=null;var x=m,g=x.next;x.next=null,d===null?l=g:d.next=g,d=x;var v=e.alternate;v!==null&&(v=v.updateQueue,m=v.lastBaseUpdate,m!==d&&(m===null?v.firstBaseUpdate=g:m.next=g,v.lastBaseUpdate=x))}if(l!==null){var C=o.baseState;d=0,v=g=x=null,m=l;do{var S=m.lane,R=m.eventTime;if((r&S)===S){v!==null&&(v=v.next={eventTime:R,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var P=e,N=m;switch(S=t,R=n,N.tag){case 1:if(P=N.payload,typeof P=="function"){C=P.call(R,C,S);break e}C=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=N.payload,S=typeof P=="function"?P.call(R,C,S):P,S==null)break e;C=sn({},C,S);break e;case 2:Ui=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,S=o.effects,S===null?o.effects=[m]:S.push(m))}else R={eventTime:R,lane:S,tag:m.tag,payload:m.payload,callback:m.callback,next:null},v===null?(g=v=R,x=C):v=v.next=R,d|=S;if(m=m.next,m===null){if(m=o.shared.pending,m===null)break;S=m,m=S.next,S.next=null,o.lastBaseUpdate=S,o.shared.pending=null}}while(!0);if(v===null&&(x=C),o.baseState=x,o.firstBaseUpdate=g,o.lastBaseUpdate=v,t=o.shared.interleaved,t!==null){o=t;do d|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);ra|=d,e.lanes=d,e.memoizedState=C}}function gy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(me(191,o));o.call(r)}}}var ku={},Hs=So(ku),eu=So(ku),tu=So(ku);function Vo(e){if(e===ku)throw Error(me(174));return e}function kp(e,t){switch(zt(tu,t),zt(eu,e),zt(Hs,ku),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:b1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=b1(t,e)}Xt(Hs),zt(Hs,t)}function _l(){Xt(Hs),Xt(eu),Xt(tu)}function IS(e){Vo(tu.current);var t=Vo(Hs.current),n=b1(t,e.type);t!==n&&(zt(eu,e),zt(Hs,n))}function Mp(e){eu.current===e&&(Xt(Hs),Xt(eu))}var nn=So(0);function vf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var D0=[];function jp(){for(var e=0;e<D0.length;e++)D0[e]._workInProgressVersionPrimary=null;D0.length=0}var Dd=Ai.ReactCurrentDispatcher,k0=Ai.ReactCurrentBatchConfig,na=0,rn=null,Sn=null,Pn=null,wf=!1,Mc=!1,nu=0,AO=0;function Zn(){throw Error(me(321))}function Lp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Es(e[n],t[n]))return!1;return!0}function Fp(e,t,n,r,o,l){if(na=l,rn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dd.current=e===null||e.memoizedState===null?IO:RO,e=n(r,o),Mc){l=0;do{if(Mc=!1,nu=0,25<=l)throw Error(me(301));l+=1,Pn=Sn=null,t.updateQueue=null,Dd.current=OO,e=n(r,o)}while(Mc)}if(Dd.current=Cf,t=Sn!==null&&Sn.next!==null,na=0,Pn=Sn=rn=null,wf=!1,t)throw Error(me(300));return e}function Bp(){var e=nu!==0;return nu=0,e}function Ms(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?rn.memoizedState=Pn=e:Pn=Pn.next=e,Pn}function is(){if(Sn===null){var e=rn.alternate;e=e!==null?e.memoizedState:null}else e=Sn.next;var t=Pn===null?rn.memoizedState:Pn.next;if(t!==null)Pn=t,Sn=e;else{if(e===null)throw Error(me(310));Sn=e,e={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Pn===null?rn.memoizedState=Pn=e:Pn=Pn.next=e}return Pn}function ru(e,t){return typeof t=="function"?t(e):t}function M0(e){var t=is(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=Sn,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var d=o.next;o.next=l.next,l.next=d}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var m=d=null,x=null,g=l;do{var v=g.lane;if((na&v)===v)x!==null&&(x=x.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var C={lane:v,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};x===null?(m=x=C,d=r):x=x.next=C,rn.lanes|=v,ra|=v}g=g.next}while(g!==null&&g!==l);x===null?d=r:x.next=m,Es(r,t.memoizedState)||(Nr=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=x,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,rn.lanes|=l,ra|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function j0(e){var t=is(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var d=o=o.next;do l=e(l,d.action),d=d.next;while(d!==o);Es(l,t.memoizedState)||(Nr=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function RS(){}function OS(e,t){var n=rn,r=is(),o=t(),l=!Es(r.memoizedState,o);if(l&&(r.memoizedState=o,Nr=!0),r=r.queue,Vp(kS.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,su(9,DS.bind(null,n,r,o,t),void 0,null),Dn===null)throw Error(me(349));na&30||PS(n,t,o)}return o}function PS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=rn.updateQueue,t===null?(t={lastEffect:null,stores:null},rn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function DS(e,t,n,r){t.value=n,t.getSnapshot=r,MS(t)&&jS(e)}function kS(e,t,n){return n(function(){MS(t)&&jS(e)})}function MS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Es(e,n)}catch{return!0}}function jS(e){var t=vi(e,1);t!==null&&Cs(t,e,1,-1)}function xy(e){var t=Ms();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:e},t.queue=e,e=e.dispatch=TO.bind(null,rn,e),[t.memoizedState,e]}function su(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=rn.updateQueue,t===null?(t={lastEffect:null,stores:null},rn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function LS(){return is().memoizedState}function kd(e,t,n,r){var o=Ms();rn.flags|=e,o.memoizedState=su(1|t,n,void 0,r===void 0?null:r)}function fh(e,t,n,r){var o=is();r=r===void 0?null:r;var l=void 0;if(Sn!==null){var d=Sn.memoizedState;if(l=d.destroy,r!==null&&Lp(r,d.deps)){o.memoizedState=su(t,n,l,r);return}}rn.flags|=e,o.memoizedState=su(1|t,n,l,r)}function yy(e,t){return kd(8390656,8,e,t)}function Vp(e,t){return fh(2048,8,e,t)}function FS(e,t){return fh(4,2,e,t)}function BS(e,t){return fh(4,4,e,t)}function VS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function US(e,t,n){return n=n!=null?n.concat([e]):null,fh(4,4,VS.bind(null,t,e),n)}function Up(){}function zS(e,t){var n=is();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function WS(e,t){var n=is();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function HS(e,t,n){return na&21?(Es(n,t)||(n=KE(),rn.lanes|=n,ra|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=n)}function NO(e,t){var n=kt;kt=n!==0&&4>n?n:4,e(!0);var r=k0.transition;k0.transition={};try{e(!1),t()}finally{kt=n,k0.transition=r}}function GS(){return is().memoizedState}function _O(e,t,n){var r=lo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$S(e))XS(t,n);else if(n=_S(e,t,n,r),n!==null){var o=ur();Cs(n,e,r,o),ZS(n,t,r)}}function TO(e,t,n){var r=lo(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($S(e))XS(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,m=l(d,n);if(o.hasEagerState=!0,o.eagerState=m,Es(m,d)){var x=t.interleaved;x===null?(o.next=o,Pp(t)):(o.next=x.next,x.next=o),t.interleaved=o;return}}catch{}finally{}n=_S(e,t,o,r),n!==null&&(o=ur(),Cs(n,e,r,o),ZS(n,t,r))}}function $S(e){var t=e.alternate;return e===rn||t!==null&&t===rn}function XS(e,t){Mc=wf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ZS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yp(e,n)}}var Cf={readContext:ss,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},IO={readContext:ss,useCallback:function(e,t){return Ms().memoizedState=[e,t===void 0?null:t],e},useContext:ss,useEffect:yy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,kd(4194308,4,VS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kd(4194308,4,e,t)},useInsertionEffect:function(e,t){return kd(4,2,e,t)},useMemo:function(e,t){var n=Ms();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ms();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_O.bind(null,rn,e),[r.memoizedState,e]},useRef:function(e){var t=Ms();return e={current:e},t.memoizedState=e},useState:xy,useDebugValue:Up,useDeferredValue:function(e){return Ms().memoizedState=e},useTransition:function(){var e=xy(!1),t=e[0];return e=NO.bind(null,e[1]),Ms().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=rn,o=Ms();if(Yt){if(n===void 0)throw Error(me(407));n=n()}else{if(n=t(),Dn===null)throw Error(me(349));na&30||PS(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,yy(kS.bind(null,r,l,e),[e]),r.flags|=2048,su(9,DS.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Ms(),t=Dn.identifierPrefix;if(Yt){var n=hi,r=fi;n=(r&~(1<<32-ws(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=nu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=AO++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},RO={readContext:ss,useCallback:zS,useContext:ss,useEffect:Vp,useImperativeHandle:US,useInsertionEffect:FS,useLayoutEffect:BS,useMemo:WS,useReducer:M0,useRef:LS,useState:function(){return M0(ru)},useDebugValue:Up,useDeferredValue:function(e){var t=is();return HS(t,Sn.memoizedState,e)},useTransition:function(){var e=M0(ru)[0],t=is().memoizedState;return[e,t]},useMutableSource:RS,useSyncExternalStore:OS,useId:GS,unstable_isNewReconciler:!1},OO={readContext:ss,useCallback:zS,useContext:ss,useEffect:Vp,useImperativeHandle:US,useInsertionEffect:FS,useLayoutEffect:BS,useMemo:WS,useReducer:j0,useRef:LS,useState:function(){return j0(ru)},useDebugValue:Up,useDeferredValue:function(e){var t=is();return Sn===null?t.memoizedState=e:HS(t,Sn.memoizedState,e)},useTransition:function(){var e=j0(ru)[0],t=is().memoizedState;return[e,t]},useMutableSource:RS,useSyncExternalStore:OS,useId:GS,unstable_isNewReconciler:!1};function fs(e,t){if(e&&e.defaultProps){t=sn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function W1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:sn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hh={isMounted:function(e){return(e=e._reactInternals)?xa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ur(),o=lo(e),l=pi(r,o);l.payload=t,n!=null&&(l.callback=n),t=oo(e,l,o),t!==null&&(Cs(t,e,o,r),Pd(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ur(),o=lo(e),l=pi(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=oo(e,l,o),t!==null&&(Cs(t,e,o,r),Pd(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ur(),r=lo(e),o=pi(n,r);o.tag=2,t!=null&&(o.callback=t),t=oo(e,o,r),t!==null&&(Cs(t,e,r,n),Pd(t,e,r))}};function vy(e,t,n,r,o,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,d):t.prototype&&t.prototype.isPureReactComponent?!qc(n,r)||!qc(o,l):!0}function KS(e,t,n){var r=!1,o=ho,l=t.contextType;return typeof l=="object"&&l!==null?l=ss(l):(o=Tr(t)?ea:er.current,r=t.contextTypes,l=(r=r!=null)?Sl(e,o):ho),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function wy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hh.enqueueReplaceState(t,t.state,null)}function H1(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Dp(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=ss(l):(l=Tr(t)?ea:er.current,o.context=Sl(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(W1(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&hh.enqueueReplaceState(o,o.state,null),yf(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Tl(e,t){try{var n="",r=t;do n+=iR(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function L0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function G1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var PO=typeof WeakMap=="function"?WeakMap:Map;function qS(e,t,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ef||(Ef=!0,tm=r),G1(e,t)},n}function YS(e,t,n){n=pi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){G1(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){G1(e,t),typeof r!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function Cy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new PO;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=$O.bind(null,e,t,n),t.then(e,e))}function by(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ey(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pi(-1,1),t.tag=2,oo(n,t,1))),n.lanes|=1),e)}var DO=Ai.ReactCurrentOwner,Nr=!1;function or(e,t,n,r){t.child=e===null?NS(t,null,n,r):Nl(t,e.child,n,r)}function Sy(e,t,n,r,o){n=n.render;var l=t.ref;return el(t,o),r=Fp(e,t,n,r,l,o),n=Bp(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,wi(e,t,o)):(Yt&&n&&Np(t),t.flags|=1,or(e,t,r,o),t.child)}function Ay(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!Kp(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,QS(e,t,l,r,o)):(e=Fd(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var d=l.memoizedProps;if(n=n.compare,n=n!==null?n:qc,n(d,r)&&e.ref===t.ref)return wi(e,t,o)}return t.flags|=1,e=co(l,r),e.ref=t.ref,e.return=t,t.child=e}function QS(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(qc(l,r)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,wi(e,t,o)}return $1(e,t,n,r,o)}function JS(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Xa,Mr),Mr|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(Xa,Mr),Mr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,zt(Xa,Mr),Mr|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,zt(Xa,Mr),Mr|=r;return or(e,t,o,n),t.child}function e3(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $1(e,t,n,r,o){var l=Tr(n)?ea:er.current;return l=Sl(t,l),el(t,o),n=Fp(e,t,n,r,l,o),r=Bp(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,wi(e,t,o)):(Yt&&r&&Np(t),t.flags|=1,or(e,t,n,o),t.child)}function Ny(e,t,n,r,o){if(Tr(n)){var l=!0;hf(t)}else l=!1;if(el(t,o),t.stateNode===null)Md(e,t),KS(t,n,r),H1(t,n,r,o),r=!0;else if(e===null){var d=t.stateNode,m=t.memoizedProps;d.props=m;var x=d.context,g=n.contextType;typeof g=="object"&&g!==null?g=ss(g):(g=Tr(n)?ea:er.current,g=Sl(t,g));var v=n.getDerivedStateFromProps,C=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function";C||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==r||x!==g)&&wy(t,d,r,g),Ui=!1;var S=t.memoizedState;d.state=S,yf(t,r,d,o),x=t.memoizedState,m!==r||S!==x||_r.current||Ui?(typeof v=="function"&&(W1(t,n,v,r),x=t.memoizedState),(m=Ui||vy(t,n,m,r,S,x,g))?(C||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),d.props=r,d.state=x,d.context=g,r=m):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,TS(e,t),m=t.memoizedProps,g=t.type===t.elementType?m:fs(t.type,m),d.props=g,C=t.pendingProps,S=d.context,x=n.contextType,typeof x=="object"&&x!==null?x=ss(x):(x=Tr(n)?ea:er.current,x=Sl(t,x));var R=n.getDerivedStateFromProps;(v=typeof R=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==C||S!==x)&&wy(t,d,r,x),Ui=!1,S=t.memoizedState,d.state=S,yf(t,r,d,o);var P=t.memoizedState;m!==C||S!==P||_r.current||Ui?(typeof R=="function"&&(W1(t,n,R,r),P=t.memoizedState),(g=Ui||vy(t,n,g,r,S,P,x)||!1)?(v||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,P,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,P,x)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),d.props=r,d.state=P,d.context=x,r=g):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),r=!1)}return X1(e,t,n,r,l,o)}function X1(e,t,n,r,o,l){e3(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return o&&dy(t,n,!1),wi(e,t,l);r=t.stateNode,DO.current=t;var m=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=Nl(t,e.child,null,l),t.child=Nl(t,null,m,l)):or(e,t,m,l),t.memoizedState=r.state,o&&dy(t,n,!0),t.child}function t3(e){var t=e.stateNode;t.pendingContext?uy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uy(e,t.context,!1),kp(e,t.containerInfo)}function _y(e,t,n,r,o){return Al(),Tp(o),t.flags|=256,or(e,t,n,r),t.child}var Z1={dehydrated:null,treeContext:null,retryLane:0};function K1(e){return{baseLanes:e,cachePool:null,transitions:null}}function n3(e,t,n){var r=t.pendingProps,o=nn.current,l=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(o&2)!==0),m?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),zt(nn,o&1),e===null)return U1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=r.children,e=r.fallback,l?(r=t.mode,l=t.child,d={mode:"hidden",children:d},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=d):l=gh(d,r,0,null),e=qo(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=K1(n),t.memoizedState=Z1,e):zp(t,d));if(o=e.memoizedState,o!==null&&(m=o.dehydrated,m!==null))return kO(e,t,d,r,m,o,n);if(l){l=r.fallback,d=t.mode,o=e.child,m=o.sibling;var x={mode:"hidden",children:r.children};return!(d&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=x,t.deletions=null):(r=co(o,x),r.subtreeFlags=o.subtreeFlags&14680064),m!==null?l=co(m,l):(l=qo(l,d,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,d=e.child.memoizedState,d=d===null?K1(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=e.childLanes&~n,t.memoizedState=Z1,r}return l=e.child,e=l.sibling,r=co(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zp(e,t){return t=gh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pd(e,t,n,r){return r!==null&&Tp(r),Nl(t,e.child,null,n),e=zp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kO(e,t,n,r,o,l,d){if(n)return t.flags&256?(t.flags&=-257,r=L0(Error(me(422))),pd(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=gh({mode:"visible",children:r.children},o,0,null),l=qo(l,o,d,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Nl(t,e.child,null,d),t.child.memoizedState=K1(d),t.memoizedState=Z1,l);if(!(t.mode&1))return pd(e,t,d,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var m=r.dgst;return r=m,l=Error(me(419)),r=L0(l,r,void 0),pd(e,t,d,r)}if(m=(d&e.childLanes)!==0,Nr||m){if(r=Dn,r!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|d)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,vi(e,o),Cs(r,e,o,-1))}return Zp(),r=L0(Error(me(421))),pd(e,t,d,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=XO.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Fr=io(o.nextSibling),Br=t,Yt=!0,ps=null,e!==null&&(Jr[es++]=fi,Jr[es++]=hi,Jr[es++]=ta,fi=e.id,hi=e.overflow,ta=t),t=zp(t,r.children),t.flags|=4096,t)}function Ty(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),z1(e.return,t,n)}function F0(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function r3(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(or(e,t,r.children,n),r=nn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ty(e,n,t);else if(e.tag===19)Ty(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(zt(nn,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&vf(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),F0(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&vf(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}F0(t,!0,n,null,l);break;case"together":F0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Md(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ra|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,n=co(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=co(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function MO(e,t,n){switch(t.tag){case 3:t3(t),Al();break;case 5:IS(t);break;case 1:Tr(t.type)&&hf(t);break;case 4:kp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;zt(gf,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(zt(nn,nn.current&1),t.flags|=128,null):n&t.child.childLanes?n3(e,t,n):(zt(nn,nn.current&1),e=wi(e,t,n),e!==null?e.sibling:null);zt(nn,nn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return r3(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),zt(nn,nn.current),r)break;return null;case 22:case 23:return t.lanes=0,JS(e,t,n)}return wi(e,t,n)}var s3,q1,i3,o3;s3=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};q1=function(){};i3=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Vo(Hs.current);var l=null;switch(n){case"input":o=y1(e,o),r=y1(e,r),l=[];break;case"select":o=sn({},o,{value:void 0}),r=sn({},r,{value:void 0}),l=[];break;case"textarea":o=C1(e,o),r=C1(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=df)}E1(n,r);var d;n=null;for(g in o)if(!r.hasOwnProperty(g)&&o.hasOwnProperty(g)&&o[g]!=null)if(g==="style"){var m=o[g];for(d in m)m.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Wc.hasOwnProperty(g)?l||(l=[]):(l=l||[]).push(g,null));for(g in r){var x=r[g];if(m=o!=null?o[g]:void 0,r.hasOwnProperty(g)&&x!==m&&(x!=null||m!=null))if(g==="style")if(m){for(d in m)!m.hasOwnProperty(d)||x&&x.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in x)x.hasOwnProperty(d)&&m[d]!==x[d]&&(n||(n={}),n[d]=x[d])}else n||(l||(l=[]),l.push(g,n)),n=x;else g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,m=m?m.__html:void 0,x!=null&&m!==x&&(l=l||[]).push(g,x)):g==="children"?typeof x!="string"&&typeof x!="number"||(l=l||[]).push(g,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Wc.hasOwnProperty(g)?(x!=null&&g==="onScroll"&&Gt("scroll",e),l||m===x||(l=[])):(l=l||[]).push(g,x))}n&&(l=l||[]).push("style",n);var g=l;(t.updateQueue=g)&&(t.flags|=4)}};o3=function(e,t,n,r){n!==r&&(t.flags|=4)};function mc(e,t){if(!Yt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jO(e,t,n){var r=t.pendingProps;switch(_p(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(t),null;case 1:return Tr(t.type)&&ff(),Kn(t),null;case 3:return r=t.stateNode,_l(),Xt(_r),Xt(er),jp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ps!==null&&(sm(ps),ps=null))),q1(e,t),Kn(t),null;case 5:Mp(t);var o=Vo(tu.current);if(n=t.type,e!==null&&t.stateNode!=null)i3(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(me(166));return Kn(t),null}if(e=Vo(Hs.current),hd(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Vs]=t,r[Jc]=l,e=(t.mode&1)!==0,n){case"dialog":Gt("cancel",r),Gt("close",r);break;case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(o=0;o<Sc.length;o++)Gt(Sc[o],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"details":Gt("toggle",r);break;case"input":Lx(r,l),Gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Gt("invalid",r);break;case"textarea":Bx(r,l),Gt("invalid",r)}E1(n,l),o=null;for(var d in l)if(l.hasOwnProperty(d)){var m=l[d];d==="children"?typeof m=="string"?r.textContent!==m&&(l.suppressHydrationWarning!==!0&&fd(r.textContent,m,e),o=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(l.suppressHydrationWarning!==!0&&fd(r.textContent,m,e),o=["children",""+m]):Wc.hasOwnProperty(d)&&m!=null&&d==="onScroll"&&Gt("scroll",r)}switch(n){case"input":sd(r),Fx(r,l,!0);break;case"textarea":sd(r),Vx(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=df)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[Vs]=t,e[Jc]=r,s3(e,t,!1,!1),t.stateNode=e;e:{switch(d=S1(n,r),n){case"dialog":Gt("cancel",e),Gt("close",e),o=r;break;case"iframe":case"object":case"embed":Gt("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sc.length;o++)Gt(Sc[o],e);o=r;break;case"source":Gt("error",e),o=r;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),o=r;break;case"details":Gt("toggle",e),o=r;break;case"input":Lx(e,r),o=y1(e,r),Gt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=sn({},r,{value:void 0}),Gt("invalid",e);break;case"textarea":Bx(e,r),o=C1(e,r),Gt("invalid",e);break;default:o=r}E1(n,o),m=o;for(l in m)if(m.hasOwnProperty(l)){var x=m[l];l==="style"?LE(e,x):l==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&ME(e,x)):l==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&Hc(e,x):typeof x=="number"&&Hc(e,""+x):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Wc.hasOwnProperty(l)?x!=null&&l==="onScroll"&&Gt("scroll",e):x!=null&&fp(e,l,x,d))}switch(n){case"input":sd(e),Fx(e,r,!1);break;case"textarea":sd(e),Vx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fo(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?qa(e,!!r.multiple,l,!1):r.defaultValue!=null&&qa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=df)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kn(t),null;case 6:if(e&&t.stateNode!=null)o3(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(me(166));if(n=Vo(tu.current),Vo(Hs.current),hd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Vs]=t,(l=r.nodeValue!==n)&&(e=Br,e!==null))switch(e.tag){case 3:fd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fd(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vs]=t,t.stateNode=r}return Kn(t),null;case 13:if(Xt(nn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yt&&Fr!==null&&t.mode&1&&!(t.flags&128))SS(),Al(),t.flags|=98560,l=!1;else if(l=hd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(me(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(me(317));l[Vs]=t}else Al(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kn(t),l=!1}else ps!==null&&(sm(ps),ps=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||nn.current&1?Nn===0&&(Nn=3):Zp())),t.updateQueue!==null&&(t.flags|=4),Kn(t),null);case 4:return _l(),q1(e,t),e===null&&Yc(t.stateNode.containerInfo),Kn(t),null;case 10:return Op(t.type._context),Kn(t),null;case 17:return Tr(t.type)&&ff(),Kn(t),null;case 19:if(Xt(nn),l=t.memoizedState,l===null)return Kn(t),null;if(r=(t.flags&128)!==0,d=l.rendering,d===null)if(r)mc(l,!1);else{if(Nn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=vf(e),d!==null){for(t.flags|=128,mc(l,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,e=d.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return zt(nn,nn.current&1|2),t.child}e=e.sibling}l.tail!==null&&gn()>Il&&(t.flags|=128,r=!0,mc(l,!1),t.lanes=4194304)}else{if(!r)if(e=vf(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),mc(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Yt)return Kn(t),null}else 2*gn()-l.renderingStartTime>Il&&n!==1073741824&&(t.flags|=128,r=!0,mc(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(n=l.last,n!==null?n.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=gn(),t.sibling=null,n=nn.current,zt(nn,r?n&1|2:n&1),t):(Kn(t),null);case 22:case 23:return Xp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Mr&1073741824&&(Kn(t),t.subtreeFlags&6&&(t.flags|=8192)):Kn(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function LO(e,t){switch(_p(t),t.tag){case 1:return Tr(t.type)&&ff(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _l(),Xt(_r),Xt(er),jp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mp(t),null;case 13:if(Xt(nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));Al()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xt(nn),null;case 4:return _l(),null;case 10:return Op(t.type._context),null;case 22:case 23:return Xp(),null;case 24:return null;default:return null}}var gd=!1,Yn=!1,FO=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function $a(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){un(e,t,r)}else n.current=null}function Y1(e,t,n){try{n()}catch(r){un(e,t,r)}}var Iy=!1;function BO(e,t){if(k1=lf,e=dS(),Ap(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var d=0,m=-1,x=-1,g=0,v=0,C=e,S=null;t:for(;;){for(var R;C!==n||o!==0&&C.nodeType!==3||(m=d+o),C!==l||r!==0&&C.nodeType!==3||(x=d+r),C.nodeType===3&&(d+=C.nodeValue.length),(R=C.firstChild)!==null;)S=C,C=R;for(;;){if(C===e)break t;if(S===n&&++g===o&&(m=d),S===l&&++v===r&&(x=d),(R=C.nextSibling)!==null)break;C=S,S=C.parentNode}C=R}n=m===-1||x===-1?null:{start:m,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(M1={focusedElem:e,selectionRange:n},lf=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var N=P.memoizedProps,k=P.memoizedState,O=t.stateNode,A=O.getSnapshotBeforeUpdate(t.elementType===t.type?N:fs(t.type,N),k);O.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(M){un(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return P=Iy,Iy=!1,P}function jc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Y1(t,n,l)}o=o.next}while(o!==r)}}function mh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Q1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function a3(e){var t=e.alternate;t!==null&&(e.alternate=null,a3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vs],delete t[Jc],delete t[F1],delete t[CO],delete t[bO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function l3(e){return e.tag===5||e.tag===3||e.tag===4}function Ry(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||l3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function J1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=df));else if(r!==4&&(e=e.child,e!==null))for(J1(e,t,n),e=e.sibling;e!==null;)J1(e,t,n),e=e.sibling}function em(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(em(e,t,n),e=e.sibling;e!==null;)em(e,t,n),e=e.sibling}var Vn=null,ms=!1;function ki(e,t,n){for(n=n.child;n!==null;)c3(e,t,n),n=n.sibling}function c3(e,t,n){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(oh,n)}catch{}switch(n.tag){case 5:Yn||$a(n,t);case 6:var r=Vn,o=ms;Vn=null,ki(e,t,n),Vn=r,ms=o,Vn!==null&&(ms?(e=Vn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Vn.removeChild(n.stateNode));break;case 18:Vn!==null&&(ms?(e=Vn,n=n.stateNode,e.nodeType===8?O0(e.parentNode,n):e.nodeType===1&&O0(e,n),Zc(e)):O0(Vn,n.stateNode));break;case 4:r=Vn,o=ms,Vn=n.stateNode.containerInfo,ms=!0,ki(e,t,n),Vn=r,ms=o;break;case 0:case 11:case 14:case 15:if(!Yn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,d=l.destroy;l=l.tag,d!==void 0&&(l&2||l&4)&&Y1(n,t,d),o=o.next}while(o!==r)}ki(e,t,n);break;case 1:if(!Yn&&($a(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(m){un(n,t,m)}ki(e,t,n);break;case 21:ki(e,t,n);break;case 22:n.mode&1?(Yn=(r=Yn)||n.memoizedState!==null,ki(e,t,n),Yn=r):ki(e,t,n);break;default:ki(e,t,n)}}function Oy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new FO),t.forEach(function(r){var o=ZO.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function us(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 5:Vn=m.stateNode,ms=!1;break e;case 3:Vn=m.stateNode.containerInfo,ms=!0;break e;case 4:Vn=m.stateNode.containerInfo,ms=!0;break e}m=m.return}if(Vn===null)throw Error(me(160));c3(l,d,o),Vn=null,ms=!1;var x=o.alternate;x!==null&&(x.return=null),o.return=null}catch(g){un(o,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)u3(t,e),t=t.sibling}function u3(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(us(t,e),ks(e),r&4){try{jc(3,e,e.return),mh(3,e)}catch(N){un(e,e.return,N)}try{jc(5,e,e.return)}catch(N){un(e,e.return,N)}}break;case 1:us(t,e),ks(e),r&512&&n!==null&&$a(n,n.return);break;case 5:if(us(t,e),ks(e),r&512&&n!==null&&$a(n,n.return),e.flags&32){var o=e.stateNode;try{Hc(o,"")}catch(N){un(e,e.return,N)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,d=n!==null?n.memoizedProps:l,m=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{m==="input"&&l.type==="radio"&&l.name!=null&&PE(o,l),S1(m,d);var g=S1(m,l);for(d=0;d<x.length;d+=2){var v=x[d],C=x[d+1];v==="style"?LE(o,C):v==="dangerouslySetInnerHTML"?ME(o,C):v==="children"?Hc(o,C):fp(o,v,C,g)}switch(m){case"input":v1(o,l);break;case"textarea":DE(o,l);break;case"select":var S=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var R=l.value;R!=null?qa(o,!!l.multiple,R,!1):S!==!!l.multiple&&(l.defaultValue!=null?qa(o,!!l.multiple,l.defaultValue,!0):qa(o,!!l.multiple,l.multiple?[]:"",!1))}o[Jc]=l}catch(N){un(e,e.return,N)}}break;case 6:if(us(t,e),ks(e),r&4){if(e.stateNode===null)throw Error(me(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(N){un(e,e.return,N)}}break;case 3:if(us(t,e),ks(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zc(t.containerInfo)}catch(N){un(e,e.return,N)}break;case 4:us(t,e),ks(e);break;case 13:us(t,e),ks(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Gp=gn())),r&4&&Oy(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(Yn=(g=Yn)||v,us(t,e),Yn=g):us(t,e),ks(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!v&&e.mode&1)for(Pe=e,v=e.child;v!==null;){for(C=Pe=v;Pe!==null;){switch(S=Pe,R=S.child,S.tag){case 0:case 11:case 14:case 15:jc(4,S,S.return);break;case 1:$a(S,S.return);var P=S.stateNode;if(typeof P.componentWillUnmount=="function"){r=S,n=S.return;try{t=r,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(N){un(r,n,N)}}break;case 5:$a(S,S.return);break;case 22:if(S.memoizedState!==null){Dy(C);continue}}R!==null?(R.return=S,Pe=R):Dy(C)}v=v.sibling}e:for(v=null,C=e;;){if(C.tag===5){if(v===null){v=C;try{o=C.stateNode,g?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(m=C.stateNode,x=C.memoizedProps.style,d=x!=null&&x.hasOwnProperty("display")?x.display:null,m.style.display=jE("display",d))}catch(N){un(e,e.return,N)}}}else if(C.tag===6){if(v===null)try{C.stateNode.nodeValue=g?"":C.memoizedProps}catch(N){un(e,e.return,N)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;v===C&&(v=null),C=C.return}v===C&&(v=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:us(t,e),ks(e),r&4&&Oy(e);break;case 21:break;default:us(t,e),ks(e)}}function ks(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(l3(n)){var r=n;break e}n=n.return}throw Error(me(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Hc(o,""),r.flags&=-33);var l=Ry(e);em(e,l,o);break;case 3:case 4:var d=r.stateNode.containerInfo,m=Ry(e);J1(e,m,d);break;default:throw Error(me(161))}}catch(x){un(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function VO(e,t,n){Pe=e,d3(e)}function d3(e,t,n){for(var r=(e.mode&1)!==0;Pe!==null;){var o=Pe,l=o.child;if(o.tag===22&&r){var d=o.memoizedState!==null||gd;if(!d){var m=o.alternate,x=m!==null&&m.memoizedState!==null||Yn;m=gd;var g=Yn;if(gd=d,(Yn=x)&&!g)for(Pe=o;Pe!==null;)d=Pe,x=d.child,d.tag===22&&d.memoizedState!==null?ky(o):x!==null?(x.return=d,Pe=x):ky(o);for(;l!==null;)Pe=l,d3(l),l=l.sibling;Pe=o,gd=m,Yn=g}Py(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,Pe=l):Py(e)}}function Py(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yn||mh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Yn)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:fs(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&gy(t,l,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gy(t,d,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var v=g.memoizedState;if(v!==null){var C=v.dehydrated;C!==null&&Zc(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Yn||t.flags&512&&Q1(t)}catch(S){un(t,t.return,S)}}if(t===e){Pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function Dy(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function ky(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{mh(4,t)}catch(x){un(t,n,x)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(x){un(t,o,x)}}var l=t.return;try{Q1(t)}catch(x){un(t,l,x)}break;case 5:var d=t.return;try{Q1(t)}catch(x){un(t,d,x)}}}catch(x){un(t,t.return,x)}if(t===e){Pe=null;break}var m=t.sibling;if(m!==null){m.return=t.return,Pe=m;break}Pe=t.return}}var UO=Math.ceil,bf=Ai.ReactCurrentDispatcher,Wp=Ai.ReactCurrentOwner,ns=Ai.ReactCurrentBatchConfig,bt=0,Dn=null,wn=null,Wn=0,Mr=0,Xa=So(0),Nn=0,iu=null,ra=0,ph=0,Hp=0,Lc=null,Sr=null,Gp=0,Il=1/0,li=null,Ef=!1,tm=null,ao=null,xd=!1,to=null,Sf=0,Fc=0,nm=null,jd=-1,Ld=0;function ur(){return bt&6?gn():jd!==-1?jd:jd=gn()}function lo(e){return e.mode&1?bt&2&&Wn!==0?Wn&-Wn:SO.transition!==null?(Ld===0&&(Ld=KE()),Ld):(e=kt,e!==0||(e=window.event,e=e===void 0?16:nS(e.type)),e):1}function Cs(e,t,n,r){if(50<Fc)throw Fc=0,nm=null,Error(me(185));Ou(e,n,r),(!(bt&2)||e!==Dn)&&(e===Dn&&(!(bt&2)&&(ph|=n),Nn===4&&Wi(e,Wn)),Ir(e,r),n===1&&bt===0&&!(t.mode&1)&&(Il=gn()+500,dh&&Ao()))}function Ir(e,t){var n=e.callbackNode;SR(e,t);var r=af(e,e===Dn?Wn:0);if(r===0)n!==null&&Wx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wx(n),t===1)e.tag===0?EO(My.bind(null,e)):CS(My.bind(null,e)),vO(function(){!(bt&6)&&Ao()}),n=null;else{switch(qE(r)){case 1:n=xp;break;case 4:n=XE;break;case 16:n=of;break;case 536870912:n=ZE;break;default:n=of}n=v3(n,f3.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function f3(e,t){if(jd=-1,Ld=0,bt&6)throw Error(me(327));var n=e.callbackNode;if(tl()&&e.callbackNode!==n)return null;var r=af(e,e===Dn?Wn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Af(e,r);else{t=r;var o=bt;bt|=2;var l=m3();(Dn!==e||Wn!==t)&&(li=null,Il=gn()+500,Ko(e,t));do try{HO();break}catch(m){h3(e,m)}while(!0);Rp(),bf.current=l,bt=o,wn!==null?t=0:(Dn=null,Wn=0,t=Nn)}if(t!==0){if(t===2&&(o=I1(e),o!==0&&(r=o,t=rm(e,o))),t===1)throw n=iu,Ko(e,0),Wi(e,r),Ir(e,gn()),n;if(t===6)Wi(e,r);else{if(o=e.current.alternate,!(r&30)&&!zO(o)&&(t=Af(e,r),t===2&&(l=I1(e),l!==0&&(r=l,t=rm(e,l))),t===1))throw n=iu,Ko(e,0),Wi(e,r),Ir(e,gn()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(me(345));case 2:jo(e,Sr,li);break;case 3:if(Wi(e,r),(r&130023424)===r&&(t=Gp+500-gn(),10<t)){if(af(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){ur(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=L1(jo.bind(null,e,Sr,li),t);break}jo(e,Sr,li);break;case 4:if(Wi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var d=31-ws(r);l=1<<d,d=t[d],d>o&&(o=d),r&=~l}if(r=o,r=gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UO(r/1960))-r,10<r){e.timeoutHandle=L1(jo.bind(null,e,Sr,li),r);break}jo(e,Sr,li);break;case 5:jo(e,Sr,li);break;default:throw Error(me(329))}}}return Ir(e,gn()),e.callbackNode===n?f3.bind(null,e):null}function rm(e,t){var n=Lc;return e.current.memoizedState.isDehydrated&&(Ko(e,t).flags|=256),e=Af(e,t),e!==2&&(t=Sr,Sr=n,t!==null&&sm(t)),e}function sm(e){Sr===null?Sr=e:Sr.push.apply(Sr,e)}function zO(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!Es(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wi(e,t){for(t&=~Hp,t&=~ph,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ws(t),r=1<<n;e[n]=-1,t&=~r}}function My(e){if(bt&6)throw Error(me(327));tl();var t=af(e,0);if(!(t&1))return Ir(e,gn()),null;var n=Af(e,t);if(e.tag!==0&&n===2){var r=I1(e);r!==0&&(t=r,n=rm(e,r))}if(n===1)throw n=iu,Ko(e,0),Wi(e,t),Ir(e,gn()),n;if(n===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jo(e,Sr,li),Ir(e,gn()),null}function $p(e,t){var n=bt;bt|=1;try{return e(t)}finally{bt=n,bt===0&&(Il=gn()+500,dh&&Ao())}}function sa(e){to!==null&&to.tag===0&&!(bt&6)&&tl();var t=bt;bt|=1;var n=ns.transition,r=kt;try{if(ns.transition=null,kt=1,e)return e()}finally{kt=r,ns.transition=n,bt=t,!(bt&6)&&Ao()}}function Xp(){Mr=Xa.current,Xt(Xa)}function Ko(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yO(n)),wn!==null)for(n=wn.return;n!==null;){var r=n;switch(_p(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ff();break;case 3:_l(),Xt(_r),Xt(er),jp();break;case 5:Mp(r);break;case 4:_l();break;case 13:Xt(nn);break;case 19:Xt(nn);break;case 10:Op(r.type._context);break;case 22:case 23:Xp()}n=n.return}if(Dn=e,wn=e=co(e.current,null),Wn=Mr=t,Nn=0,iu=null,Hp=ph=ra=0,Sr=Lc=null,Bo!==null){for(t=0;t<Bo.length;t++)if(n=Bo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var d=l.next;l.next=o,r.next=d}n.pending=r}Bo=null}return e}function h3(e,t){do{var n=wn;try{if(Rp(),Dd.current=Cf,wf){for(var r=rn.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}wf=!1}if(na=0,Pn=Sn=rn=null,Mc=!1,nu=0,Wp.current=null,n===null||n.return===null){Nn=1,iu=t,wn=null;break}e:{var l=e,d=n.return,m=n,x=t;if(t=Wn,m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var g=x,v=m,C=v.tag;if(!(v.mode&1)&&(C===0||C===11||C===15)){var S=v.alternate;S?(v.updateQueue=S.updateQueue,v.memoizedState=S.memoizedState,v.lanes=S.lanes):(v.updateQueue=null,v.memoizedState=null)}var R=by(d);if(R!==null){R.flags&=-257,Ey(R,d,m,l,t),R.mode&1&&Cy(l,g,t),t=R,x=g;var P=t.updateQueue;if(P===null){var N=new Set;N.add(x),t.updateQueue=N}else P.add(x);break e}else{if(!(t&1)){Cy(l,g,t),Zp();break e}x=Error(me(426))}}else if(Yt&&m.mode&1){var k=by(d);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ey(k,d,m,l,t),Tp(Tl(x,m));break e}}l=x=Tl(x,m),Nn!==4&&(Nn=2),Lc===null?Lc=[l]:Lc.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var O=qS(l,x,t);py(l,O);break e;case 1:m=x;var A=l.type,I=l.stateNode;if(!(l.flags&128)&&(typeof A.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(ao===null||!ao.has(I)))){l.flags|=65536,t&=-t,l.lanes|=t;var M=YS(l,m,t);py(l,M);break e}}l=l.return}while(l!==null)}g3(n)}catch(F){t=F,wn===n&&n!==null&&(wn=n=n.return);continue}break}while(!0)}function m3(){var e=bf.current;return bf.current=Cf,e===null?Cf:e}function Zp(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Dn===null||!(ra&268435455)&&!(ph&268435455)||Wi(Dn,Wn)}function Af(e,t){var n=bt;bt|=2;var r=m3();(Dn!==e||Wn!==t)&&(li=null,Ko(e,t));do try{WO();break}catch(o){h3(e,o)}while(!0);if(Rp(),bt=n,bf.current=r,wn!==null)throw Error(me(261));return Dn=null,Wn=0,Nn}function WO(){for(;wn!==null;)p3(wn)}function HO(){for(;wn!==null&&!pR();)p3(wn)}function p3(e){var t=y3(e.alternate,e,Mr);e.memoizedProps=e.pendingProps,t===null?g3(e):wn=t,Wp.current=null}function g3(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=LO(n,t),n!==null){n.flags&=32767,wn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nn=6,wn=null;return}}else if(n=jO(n,t,Mr),n!==null){wn=n;return}if(t=t.sibling,t!==null){wn=t;return}wn=t=e}while(t!==null);Nn===0&&(Nn=5)}function jo(e,t,n){var r=kt,o=ns.transition;try{ns.transition=null,kt=1,GO(e,t,n,r)}finally{ns.transition=o,kt=r}return null}function GO(e,t,n,r){do tl();while(to!==null);if(bt&6)throw Error(me(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(AR(e,l),e===Dn&&(wn=Dn=null,Wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xd||(xd=!0,v3(of,function(){return tl(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=ns.transition,ns.transition=null;var d=kt;kt=1;var m=bt;bt|=4,Wp.current=null,BO(e,n),u3(n,e),dO(M1),lf=!!k1,M1=k1=null,e.current=n,VO(n),gR(),bt=m,kt=d,ns.transition=l}else e.current=n;if(xd&&(xd=!1,to=e,Sf=o),l=e.pendingLanes,l===0&&(ao=null),vR(n.stateNode),Ir(e,gn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ef)throw Ef=!1,e=tm,tm=null,e;return Sf&1&&e.tag!==0&&tl(),l=e.pendingLanes,l&1?e===nm?Fc++:(Fc=0,nm=e):Fc=0,Ao(),null}function tl(){if(to!==null){var e=qE(Sf),t=ns.transition,n=kt;try{if(ns.transition=null,kt=16>e?16:e,to===null)var r=!1;else{if(e=to,to=null,Sf=0,bt&6)throw Error(me(331));var o=bt;for(bt|=4,Pe=e.current;Pe!==null;){var l=Pe,d=l.child;if(Pe.flags&16){var m=l.deletions;if(m!==null){for(var x=0;x<m.length;x++){var g=m[x];for(Pe=g;Pe!==null;){var v=Pe;switch(v.tag){case 0:case 11:case 15:jc(8,v,l)}var C=v.child;if(C!==null)C.return=v,Pe=C;else for(;Pe!==null;){v=Pe;var S=v.sibling,R=v.return;if(a3(v),v===g){Pe=null;break}if(S!==null){S.return=R,Pe=S;break}Pe=R}}}var P=l.alternate;if(P!==null){var N=P.child;if(N!==null){P.child=null;do{var k=N.sibling;N.sibling=null,N=k}while(N!==null)}}Pe=l}}if(l.subtreeFlags&2064&&d!==null)d.return=l,Pe=d;else e:for(;Pe!==null;){if(l=Pe,l.flags&2048)switch(l.tag){case 0:case 11:case 15:jc(9,l,l.return)}var O=l.sibling;if(O!==null){O.return=l.return,Pe=O;break e}Pe=l.return}}var A=e.current;for(Pe=A;Pe!==null;){d=Pe;var I=d.child;if(d.subtreeFlags&2064&&I!==null)I.return=d,Pe=I;else e:for(d=A;Pe!==null;){if(m=Pe,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:mh(9,m)}}catch(F){un(m,m.return,F)}if(m===d){Pe=null;break e}var M=m.sibling;if(M!==null){M.return=m.return,Pe=M;break e}Pe=m.return}}if(bt=o,Ao(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(oh,e)}catch{}r=!0}return r}finally{kt=n,ns.transition=t}}return!1}function jy(e,t,n){t=Tl(n,t),t=qS(e,t,1),e=oo(e,t,1),t=ur(),e!==null&&(Ou(e,1,t),Ir(e,t))}function un(e,t,n){if(e.tag===3)jy(e,e,n);else for(;t!==null;){if(t.tag===3){jy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ao===null||!ao.has(r))){e=Tl(n,e),e=YS(t,e,1),t=oo(t,e,1),e=ur(),t!==null&&(Ou(t,1,e),Ir(t,e));break}}t=t.return}}function $O(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ur(),e.pingedLanes|=e.suspendedLanes&n,Dn===e&&(Wn&n)===n&&(Nn===4||Nn===3&&(Wn&130023424)===Wn&&500>gn()-Gp?Ko(e,0):Hp|=n),Ir(e,t)}function x3(e,t){t===0&&(e.mode&1?(t=ad,ad<<=1,!(ad&130023424)&&(ad=4194304)):t=1);var n=ur();e=vi(e,t),e!==null&&(Ou(e,t,n),Ir(e,n))}function XO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),x3(e,n)}function ZO(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(me(314))}r!==null&&r.delete(t),x3(e,n)}var y3;y3=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_r.current)Nr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nr=!1,MO(e,t,n);Nr=!!(e.flags&131072)}else Nr=!1,Yt&&t.flags&1048576&&bS(t,pf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Md(e,t),e=t.pendingProps;var o=Sl(t,er.current);el(t,n),o=Fp(null,t,r,e,o,n);var l=Bp();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tr(r)?(l=!0,hf(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Dp(t),o.updater=hh,t.stateNode=o,o._reactInternals=t,H1(t,r,e,n),t=X1(null,t,r,!0,l,n)):(t.tag=0,Yt&&l&&Np(t),or(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Md(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=qO(r),e=fs(r,e),o){case 0:t=$1(null,t,r,e,n);break e;case 1:t=Ny(null,t,r,e,n);break e;case 11:t=Sy(null,t,r,e,n);break e;case 14:t=Ay(null,t,r,fs(r.type,e),n);break e}throw Error(me(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:fs(r,o),$1(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:fs(r,o),Ny(e,t,r,o,n);case 3:e:{if(t3(t),e===null)throw Error(me(387));r=t.pendingProps,l=t.memoizedState,o=l.element,TS(e,t),yf(t,r,null,n);var d=t.memoizedState;if(r=d.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=Tl(Error(me(423)),t),t=_y(e,t,r,n,o);break e}else if(r!==o){o=Tl(Error(me(424)),t),t=_y(e,t,r,n,o);break e}else for(Fr=io(t.stateNode.containerInfo.firstChild),Br=t,Yt=!0,ps=null,n=NS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Al(),r===o){t=wi(e,t,n);break e}or(e,t,r,n)}t=t.child}return t;case 5:return IS(t),e===null&&U1(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,d=o.children,j1(r,o)?d=null:l!==null&&j1(r,l)&&(t.flags|=32),e3(e,t),or(e,t,d,n),t.child;case 6:return e===null&&U1(t),null;case 13:return n3(e,t,n);case 4:return kp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Nl(t,null,r,n):or(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:fs(r,o),Sy(e,t,r,o,n);case 7:return or(e,t,t.pendingProps,n),t.child;case 8:return or(e,t,t.pendingProps.children,n),t.child;case 12:return or(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,d=o.value,zt(gf,r._currentValue),r._currentValue=d,l!==null)if(Es(l.value,d)){if(l.children===o.children&&!_r.current){t=wi(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var m=l.dependencies;if(m!==null){d=l.child;for(var x=m.firstContext;x!==null;){if(x.context===r){if(l.tag===1){x=pi(-1,n&-n),x.tag=2;var g=l.updateQueue;if(g!==null){g=g.shared;var v=g.pending;v===null?x.next=x:(x.next=v.next,v.next=x),g.pending=x}}l.lanes|=n,x=l.alternate,x!==null&&(x.lanes|=n),z1(l.return,n,t),m.lanes|=n;break}x=x.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(me(341));d.lanes|=n,m=d.alternate,m!==null&&(m.lanes|=n),z1(d,n,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}or(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,el(t,n),o=ss(o),r=r(o),t.flags|=1,or(e,t,r,n),t.child;case 14:return r=t.type,o=fs(r,t.pendingProps),o=fs(r.type,o),Ay(e,t,r,o,n);case 15:return QS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:fs(r,o),Md(e,t),t.tag=1,Tr(r)?(e=!0,hf(t)):e=!1,el(t,n),KS(t,r,o),H1(t,r,o,n),X1(null,t,r,!0,e,n);case 19:return r3(e,t,n);case 22:return JS(e,t,n)}throw Error(me(156,t.tag))};function v3(e,t){return $E(e,t)}function KO(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(e,t,n,r){return new KO(e,t,n,r)}function Kp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qO(e){if(typeof e=="function")return Kp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mp)return 11;if(e===pp)return 14}return 2}function co(e,t){var n=e.alternate;return n===null?(n=ts(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fd(e,t,n,r,o,l){var d=2;if(r=e,typeof e=="function")Kp(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case La:return qo(n.children,o,l,t);case hp:d=8,o|=8;break;case m1:return e=ts(12,n,t,o|2),e.elementType=m1,e.lanes=l,e;case p1:return e=ts(13,n,t,o),e.elementType=p1,e.lanes=l,e;case g1:return e=ts(19,n,t,o),e.elementType=g1,e.lanes=l,e;case IE:return gh(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _E:d=10;break e;case TE:d=9;break e;case mp:d=11;break e;case pp:d=14;break e;case Vi:d=16,r=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=ts(d,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function qo(e,t,n,r){return e=ts(7,e,r,t),e.lanes=n,e}function gh(e,t,n,r){return e=ts(22,e,r,t),e.elementType=IE,e.lanes=n,e.stateNode={isHidden:!1},e}function B0(e,t,n){return e=ts(6,e,null,t),e.lanes=n,e}function V0(e,t,n){return t=ts(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YO(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w0(0),this.expirationTimes=w0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w0(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function qp(e,t,n,r,o,l,d,m,x){return e=new YO(e,t,n,m,x),t===1?(t=1,l===!0&&(t|=8)):t=0,l=ts(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dp(l),e}function QO(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ja,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function w3(e){if(!e)return ho;e=e._reactInternals;e:{if(xa(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var n=e.type;if(Tr(n))return wS(e,n,t)}return t}function C3(e,t,n,r,o,l,d,m,x){return e=qp(n,r,!0,e,o,l,d,m,x),e.context=w3(null),n=e.current,r=ur(),o=lo(n),l=pi(r,o),l.callback=t??null,oo(n,l,o),e.current.lanes=o,Ou(e,o,r),Ir(e,r),e}function xh(e,t,n,r){var o=t.current,l=ur(),d=lo(o);return n=w3(n),t.context===null?t.context=n:t.pendingContext=n,t=pi(l,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=oo(o,t,d),e!==null&&(Cs(e,o,d,l),Pd(e,o,d)),d}function Nf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ly(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yp(e,t){Ly(e,t),(e=e.alternate)&&Ly(e,t)}function JO(){return null}var b3=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qp(e){this._internalRoot=e}yh.prototype.render=Qp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));xh(e,t,null,null)};yh.prototype.unmount=Qp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sa(function(){xh(null,e,null,null)}),t[yi]=null}};function yh(e){this._internalRoot=e}yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=JE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zi.length&&t!==0&&t<zi[n].priority;n++);zi.splice(n,0,e),n===0&&tS(e)}};function Jp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fy(){}function e5(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var g=Nf(d);l.call(g)}}var d=C3(t,r,e,0,null,!1,!1,"",Fy);return e._reactRootContainer=d,e[yi]=d.current,Yc(e.nodeType===8?e.parentNode:e),sa(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var m=r;r=function(){var g=Nf(x);m.call(g)}}var x=qp(e,0,!1,null,null,!1,!1,"",Fy);return e._reactRootContainer=x,e[yi]=x.current,Yc(e.nodeType===8?e.parentNode:e),sa(function(){xh(t,x,n,r)}),x}function wh(e,t,n,r,o){var l=n._reactRootContainer;if(l){var d=l;if(typeof o=="function"){var m=o;o=function(){var x=Nf(d);m.call(x)}}xh(t,d,e,o)}else d=e5(n,t,e,o,r);return Nf(d)}YE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ec(t.pendingLanes);n!==0&&(yp(t,n|1),Ir(t,gn()),!(bt&6)&&(Il=gn()+500,Ao()))}break;case 13:sa(function(){var r=vi(e,1);if(r!==null){var o=ur();Cs(r,e,1,o)}}),Yp(e,1)}};vp=function(e){if(e.tag===13){var t=vi(e,134217728);if(t!==null){var n=ur();Cs(t,e,134217728,n)}Yp(e,134217728)}};QE=function(e){if(e.tag===13){var t=lo(e),n=vi(e,t);if(n!==null){var r=ur();Cs(n,e,t,r)}Yp(e,t)}};JE=function(){return kt};eS=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}};N1=function(e,t,n){switch(t){case"input":if(v1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=uh(r);if(!o)throw Error(me(90));OE(r),v1(r,o)}}}break;case"textarea":DE(e,n);break;case"select":t=n.value,t!=null&&qa(e,!!n.multiple,t,!1)}};VE=$p;UE=sa;var t5={usingClientEntryPoint:!1,Events:[Du,Ua,uh,FE,BE,$p]},pc={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n5={bundleType:pc.bundleType,version:pc.version,rendererPackageName:pc.rendererPackageName,rendererConfig:pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HE(e),e===null?null:e.stateNode},findFiberByHostInstance:pc.findFiberByHostInstance||JO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{oh=yd.inject(n5),Ws=yd}catch{}}Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t5;Wr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jp(t))throw Error(me(200));return QO(e,t,null,n)};Wr.createRoot=function(e,t){if(!Jp(e))throw Error(me(299));var n=!1,r="",o=b3;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=qp(e,1,!1,null,null,n,!1,r,o),e[yi]=t.current,Yc(e.nodeType===8?e.parentNode:e),new Qp(t)};Wr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=HE(t),e=e===null?null:e.stateNode,e};Wr.flushSync=function(e){return sa(e)};Wr.hydrate=function(e,t,n){if(!vh(t))throw Error(me(200));return wh(null,e,t,!0,n)};Wr.hydrateRoot=function(e,t,n){if(!Jp(e))throw Error(me(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",d=b3;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=C3(t,null,e,1,n??null,o,!1,l,d),e[yi]=t.current,Yc(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new yh(t)};Wr.render=function(e,t,n){if(!vh(t))throw Error(me(200));return wh(null,e,t,!1,n)};Wr.unmountComponentAtNode=function(e){if(!vh(e))throw Error(me(40));return e._reactRootContainer?(sa(function(){wh(null,null,e,!1,function(){e._reactRootContainer=null,e[yi]=null})}),!0):!1};Wr.unstable_batchedUpdates=$p;Wr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vh(n))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return wh(e,t,n,!1,r)};Wr.version="18.3.1-next-f1338f8080-20240426";function E3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E3)}catch(e){console.error(e)}}E3(),EE.exports=Wr;var ya=EE.exports;const r5=ip(ya);var By=ya;f1.createRoot=By.createRoot,f1.hydrateRoot=By.hydrateRoot;var Wl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ia=typeof window>"u"||"Deno"in globalThis;function Yr(){}function s5(e,t){return typeof e=="function"?e(t):e}function im(e){return typeof e=="number"&&e>=0&&e!==1/0}function S3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function nl(e,t){return typeof e=="function"?e(t):e}function gs(e,t){return typeof e=="function"?e(t):e}function Vy(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:l,queryKey:d,stale:m}=e;if(d){if(r){if(t.queryHash!==eg(d,t.options))return!1}else if(!ou(t.queryKey,d))return!1}if(n!=="all"){const x=t.isActive();if(n==="active"&&!x||n==="inactive"&&x)return!1}return!(typeof m=="boolean"&&t.isStale()!==m||o&&o!==t.state.fetchStatus||l&&!l(t))}function Uy(e,t){const{exact:n,status:r,predicate:o,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(oa(t.options.mutationKey)!==oa(l))return!1}else if(!ou(t.options.mutationKey,l))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function eg(e,t){return((t==null?void 0:t.queryKeyHashFn)||oa)(e)}function oa(e){return JSON.stringify(e,(t,n)=>om(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function ou(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ou(e[n],t[n])):!1}function A3(e,t){if(e===t)return e;const n=zy(e)&&zy(t);if(n||om(e)&&om(t)){const r=n?e:Object.keys(e),o=r.length,l=n?t:Object.keys(t),d=l.length,m=n?[]:{};let x=0;for(let g=0;g<d;g++){const v=n?g:l[g];(!n&&r.includes(v)||n)&&e[v]===void 0&&t[v]===void 0?(m[v]=void 0,x++):(m[v]=A3(e[v],t[v]),m[v]===e[v]&&e[v]!==void 0&&x++)}return o===d&&x===o?e:m}return t}function _f(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function zy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function om(e){if(!Wy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Wy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Wy(e){return Object.prototype.toString.call(e)==="[object Object]"}function i5(e){return new Promise(t=>{setTimeout(t,e)})}function am(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?A3(e,t):t}function o5(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function a5(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var tg=Symbol();function N3(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var zo,Gi,ul,yv,l5=(yv=class extends Wl{constructor(){super();Ue(this,zo);Ue(this,Gi);Ue(this,ul);_e(this,ul,t=>{if(!ia&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,Gi)||this.setEventListener(W(this,ul))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Gi))==null||t.call(this),_e(this,Gi,void 0))}setEventListener(t){var n;_e(this,ul,t),(n=W(this,Gi))==null||n.call(this),_e(this,Gi,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){W(this,zo)!==t&&(_e(this,zo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof W(this,zo)=="boolean"?W(this,zo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zo=new WeakMap,Gi=new WeakMap,ul=new WeakMap,yv),ng=new l5,dl,$i,fl,vv,c5=(vv=class extends Wl{constructor(){super();Ue(this,dl,!0);Ue(this,$i);Ue(this,fl);_e(this,fl,t=>{if(!ia&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,$i)||this.setEventListener(W(this,fl))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,$i))==null||t.call(this),_e(this,$i,void 0))}setEventListener(t){var n;_e(this,fl,t),(n=W(this,$i))==null||n.call(this),_e(this,$i,t(this.setOnline.bind(this)))}setOnline(t){W(this,dl)!==t&&(_e(this,dl,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return W(this,dl)}},dl=new WeakMap,$i=new WeakMap,fl=new WeakMap,vv),Tf=new c5;function lm(){let e,t;const n=new Promise((o,l)=>{e=o,t=l});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function u5(e){return Math.min(1e3*2**e,3e4)}function _3(e){return(e??"online")==="online"?Tf.isOnline():!0}var T3=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function U0(e){return e instanceof T3}function I3(e){let t=!1,n=0,r=!1,o;const l=lm(),d=N=>{var k;r||(S(new T3(N)),(k=e.abort)==null||k.call(e))},m=()=>{t=!0},x=()=>{t=!1},g=()=>ng.isFocused()&&(e.networkMode==="always"||Tf.isOnline())&&e.canRun(),v=()=>_3(e.networkMode)&&e.canRun(),C=N=>{var k;r||(r=!0,(k=e.onSuccess)==null||k.call(e,N),o==null||o(),l.resolve(N))},S=N=>{var k;r||(r=!0,(k=e.onError)==null||k.call(e,N),o==null||o(),l.reject(N))},R=()=>new Promise(N=>{var k;o=O=>{(r||g())&&N(O)},(k=e.onPause)==null||k.call(e)}).then(()=>{var N;o=void 0,r||(N=e.onContinue)==null||N.call(e)}),P=()=>{if(r)return;let N;const k=n===0?e.initialPromise:void 0;try{N=k??e.fn()}catch(O){N=Promise.reject(O)}Promise.resolve(N).then(C).catch(O=>{var X;if(r)return;const A=e.retry??(ia?0:3),I=e.retryDelay??u5,M=typeof I=="function"?I(n,O):I,F=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,O);if(t||!F){S(O);return}n++,(X=e.onFail)==null||X.call(e,n,O),i5(M).then(()=>g()?void 0:R()).then(()=>{t?S(O):P()})})};return{promise:l,cancel:d,continue:()=>(o==null||o(),l),cancelRetry:m,continueRetry:x,canStart:v,start:()=>(v()?P():R().then(P),l)}}function d5(){let e=[],t=0,n=m=>{m()},r=m=>{m()},o=m=>setTimeout(m,0);const l=m=>{t?e.push(m):o(()=>{n(m)})},d=()=>{const m=e;e=[],m.length&&o(()=>{r(()=>{m.forEach(x=>{n(x)})})})};return{batch:m=>{let x;t++;try{x=m()}finally{t--,t||d()}return x},batchCalls:m=>(...x)=>{l(()=>{m(...x)})},schedule:l,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{r=m},setScheduler:m=>{o=m}}}var An=d5(),Wo,wv,R3=(wv=class{constructor(){Ue(this,Wo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),im(this.gcTime)&&_e(this,Wo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ia?1/0:5*60*1e3))}clearGcTimeout(){W(this,Wo)&&(clearTimeout(W(this,Wo)),_e(this,Wo,void 0))}},Wo=new WeakMap,wv),hl,ml,qr,qn,Nu,Ho,hs,ei,Cv,f5=(Cv=class extends R3{constructor(t){super();Ue(this,hs);Ue(this,hl);Ue(this,ml);Ue(this,qr);Ue(this,qn);Ue(this,Nu);Ue(this,Ho);_e(this,Ho,!1),_e(this,Nu,t.defaultOptions),this.setOptions(t.options),this.observers=[],_e(this,qr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_e(this,hl,h5(this.options)),this.state=t.state??W(this,hl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,qn))==null?void 0:t.promise}setOptions(t){this.options={...W(this,Nu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,qr).remove(this)}setData(t,n){const r=am(this.state.data,t,this.options);return ot(this,hs,ei).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ot(this,hs,ei).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=W(this,qn))==null?void 0:r.promise;return(o=W(this,qn))==null||o.cancel(t),n?n.then(Yr).catch(Yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,hl))}isActive(){return this.observers.some(t=>gs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!S3(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,qn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,qn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,qr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(W(this,qn)&&(W(this,Ho)?W(this,qn).cancel({revert:!0}):W(this,qn).cancelRetry()),this.scheduleGc()),W(this,qr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ot(this,hs,ei).call(this,{type:"invalidate"})}fetch(t,n){var x,g,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,qn))return W(this,qn).continueRetry(),W(this,qn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(S=>S.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,o=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(_e(this,Ho,!0),r.signal)})},l=()=>{const C=N3(this.options,n),S={queryKey:this.queryKey,meta:this.meta};return o(S),_e(this,Ho,!1),this.options.persister?this.options.persister(C,S,this):C(S)},d={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};o(d),(x=this.options.behavior)==null||x.onFetch(d,this),_e(this,ml,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=d.fetchOptions)==null?void 0:g.meta))&&ot(this,hs,ei).call(this,{type:"fetch",meta:(v=d.fetchOptions)==null?void 0:v.meta});const m=C=>{var S,R,P,N;U0(C)&&C.silent||ot(this,hs,ei).call(this,{type:"error",error:C}),U0(C)||((R=(S=W(this,qr).config).onError)==null||R.call(S,C,this),(N=(P=W(this,qr).config).onSettled)==null||N.call(P,this.state.data,C,this)),this.scheduleGc()};return _e(this,qn,I3({initialPromise:n==null?void 0:n.initialPromise,fn:d.fetchFn,abort:r.abort.bind(r),onSuccess:C=>{var S,R,P,N;if(C===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(C)}catch(k){m(k);return}(R=(S=W(this,qr).config).onSuccess)==null||R.call(S,C,this),(N=(P=W(this,qr).config).onSettled)==null||N.call(P,C,this.state.error,this),this.scheduleGc()},onError:m,onFail:(C,S)=>{ot(this,hs,ei).call(this,{type:"failed",failureCount:C,error:S})},onPause:()=>{ot(this,hs,ei).call(this,{type:"pause"})},onContinue:()=>{ot(this,hs,ei).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),W(this,qn).start()}},hl=new WeakMap,ml=new WeakMap,qr=new WeakMap,qn=new WeakMap,Nu=new WeakMap,Ho=new WeakMap,hs=new WeakSet,ei=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...O3(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return U0(o)&&o.revert&&W(this,ml)?{...W(this,ml),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),An.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,qr).notify({query:this,type:"updated",action:t})})},Cv);function O3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_3(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function h5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var js,bv,m5=(bv=class extends Wl{constructor(t={}){super();Ue(this,js);this.config=t,_e(this,js,new Map)}build(t,n,r){const o=n.queryKey,l=n.queryHash??eg(o,n);let d=this.get(l);return d||(d=new f5({cache:this,queryKey:o,queryHash:l,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(d)),d}add(t){W(this,js).has(t.queryHash)||(W(this,js).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=W(this,js).get(t.queryHash);n&&(t.destroy(),n===t&&W(this,js).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){An.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,js).get(t)}getAll(){return[...W(this,js).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Vy(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Vy(t,r)):n}notify(t){An.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){An.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},js=new WeakMap,bv),Ls,rr,Go,Fs,Fi,Ev,p5=(Ev=class extends R3{constructor(t){super();Ue(this,Fs);Ue(this,Ls);Ue(this,rr);Ue(this,Go);this.mutationId=t.mutationId,_e(this,rr,t.mutationCache),_e(this,Ls,[]),this.state=t.state||P3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,Ls).includes(t)||(W(this,Ls).push(t),this.clearGcTimeout(),W(this,rr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_e(this,Ls,W(this,Ls).filter(n=>n!==t)),this.scheduleGc(),W(this,rr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,Ls).length||(this.state.status==="pending"?this.scheduleGc():W(this,rr).remove(this))}continue(){var t;return((t=W(this,Go))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,d,m,x,g,v,C,S,R,P,N,k,O,A,I,M,F,X,B;_e(this,Go,I3({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(K,G)=>{ot(this,Fs,Fi).call(this,{type:"failed",failureCount:K,error:G})},onPause:()=>{ot(this,Fs,Fi).call(this,{type:"pause"})},onContinue:()=>{ot(this,Fs,Fi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,rr).canRun(this)}));const n=this.state.status==="pending",r=!W(this,Go).canStart();try{if(!n){ot(this,Fs,Fi).call(this,{type:"pending",variables:t,isPaused:r}),await((l=(o=W(this,rr).config).onMutate)==null?void 0:l.call(o,t,this));const G=await((m=(d=this.options).onMutate)==null?void 0:m.call(d,t));G!==this.state.context&&ot(this,Fs,Fi).call(this,{type:"pending",context:G,variables:t,isPaused:r})}const K=await W(this,Go).start();return await((g=(x=W(this,rr).config).onSuccess)==null?void 0:g.call(x,K,t,this.state.context,this)),await((C=(v=this.options).onSuccess)==null?void 0:C.call(v,K,t,this.state.context)),await((R=(S=W(this,rr).config).onSettled)==null?void 0:R.call(S,K,null,this.state.variables,this.state.context,this)),await((N=(P=this.options).onSettled)==null?void 0:N.call(P,K,null,t,this.state.context)),ot(this,Fs,Fi).call(this,{type:"success",data:K}),K}catch(K){try{throw await((O=(k=W(this,rr).config).onError)==null?void 0:O.call(k,K,t,this.state.context,this)),await((I=(A=this.options).onError)==null?void 0:I.call(A,K,t,this.state.context)),await((F=(M=W(this,rr).config).onSettled)==null?void 0:F.call(M,void 0,K,this.state.variables,this.state.context,this)),await((B=(X=this.options).onSettled)==null?void 0:B.call(X,void 0,K,t,this.state.context)),K}finally{ot(this,Fs,Fi).call(this,{type:"error",error:K})}}finally{W(this,rr).runNext(this)}}},Ls=new WeakMap,rr=new WeakMap,Go=new WeakMap,Fs=new WeakSet,Fi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),An.batch(()=>{W(this,Ls).forEach(r=>{r.onMutationUpdate(t)}),W(this,rr).notify({mutation:this,type:"updated",action:t})})},Ev);function P3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kr,_u,Sv,g5=(Sv=class extends Wl{constructor(t={}){super();Ue(this,kr);Ue(this,_u);this.config=t,_e(this,kr,new Map),_e(this,_u,Date.now())}build(t,n,r){const o=new p5({mutationCache:this,mutationId:++td(this,_u)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=vd(t),r=W(this,kr).get(n)??[];r.push(t),W(this,kr).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=vd(t);if(W(this,kr).has(n)){const o=(r=W(this,kr).get(n))==null?void 0:r.filter(l=>l!==t);o&&(o.length===0?W(this,kr).delete(n):W(this,kr).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=W(this,kr).get(vd(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=W(this,kr).get(vd(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){An.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...W(this,kr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Uy(n,r))}findAll(t={}){return this.getAll().filter(n=>Uy(t,n))}notify(t){An.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return An.batch(()=>Promise.all(t.map(n=>n.continue().catch(Yr))))}},kr=new WeakMap,_u=new WeakMap,Sv);function vd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Hy(e){return{onFetch:(t,n)=>{var v,C,S,R,P;const r=t.options,o=(S=(C=(v=t.fetchOptions)==null?void 0:v.meta)==null?void 0:C.fetchMore)==null?void 0:S.direction,l=((R=t.state.data)==null?void 0:R.pages)||[],d=((P=t.state.data)==null?void 0:P.pageParams)||[];let m={pages:[],pageParams:[]},x=0;const g=async()=>{let N=!1;const k=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?N=!0:t.signal.addEventListener("abort",()=>{N=!0}),t.signal)})},O=N3(t.options,t.fetchOptions),A=async(I,M,F)=>{if(N)return Promise.reject();if(M==null&&I.pages.length)return Promise.resolve(I);const X={queryKey:t.queryKey,pageParam:M,direction:F?"backward":"forward",meta:t.options.meta};k(X);const B=await O(X),{maxPages:K}=t.options,G=F?a5:o5;return{pages:G(I.pages,B,K),pageParams:G(I.pageParams,M,K)}};if(o&&l.length){const I=o==="backward",M=I?x5:Gy,F={pages:l,pageParams:d},X=M(r,F);m=await A(F,X,I)}else{const I=e??l.length;do{const M=x===0?d[0]??r.initialPageParam:Gy(r,m);if(x>0&&M==null)break;m=await A(m,M),x++}while(x<I)}return m};t.options.persister?t.fetchFn=()=>{var N,k;return(k=(N=t.options).persister)==null?void 0:k.call(N,g,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=g}}}function Gy(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function x5(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ln,Xi,Zi,pl,gl,Ki,xl,yl,Av,y5=(Av=class{constructor(e={}){Ue(this,ln);Ue(this,Xi);Ue(this,Zi);Ue(this,pl);Ue(this,gl);Ue(this,Ki);Ue(this,xl);Ue(this,yl);_e(this,ln,e.queryCache||new m5),_e(this,Xi,e.mutationCache||new g5),_e(this,Zi,e.defaultOptions||{}),_e(this,pl,new Map),_e(this,gl,new Map),_e(this,Ki,0)}mount(){td(this,Ki)._++,W(this,Ki)===1&&(_e(this,xl,ng.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,ln).onFocus())})),_e(this,yl,Tf.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,ln).onOnline())})))}unmount(){var e,t;td(this,Ki)._--,W(this,Ki)===0&&((e=W(this,xl))==null||e.call(this),_e(this,xl,void 0),(t=W(this,yl))==null||t.call(this),_e(this,yl,void 0))}isFetching(e){return W(this,ln).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,Xi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,ln).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=W(this,ln).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(nl(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return W(this,ln).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=W(this,ln).get(r.queryHash),l=o==null?void 0:o.state.data,d=s5(t,l);if(d!==void 0)return W(this,ln).build(this,r).setData(d,{...n,manual:!0})}setQueriesData(e,t,n){return An.batch(()=>W(this,ln).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,ln).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=W(this,ln);An.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=W(this,ln),r={type:"active",...e};return An.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=An.batch(()=>W(this,ln).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Yr).catch(Yr)}invalidateQueries(e={},t={}){return An.batch(()=>{if(W(this,ln).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=An.batch(()=>W(this,ln).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let l=o.fetch(void 0,n);return n.throwOnError||(l=l.catch(Yr)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(Yr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=W(this,ln).build(this,t);return n.isStaleByTime(nl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Yr).catch(Yr)}fetchInfiniteQuery(e){return e.behavior=Hy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Yr).catch(Yr)}ensureInfiniteQueryData(e){return e.behavior=Hy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Tf.isOnline()?W(this,Xi).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,ln)}getMutationCache(){return W(this,Xi)}getDefaultOptions(){return W(this,Zi)}setDefaultOptions(e){_e(this,Zi,e)}setQueryDefaults(e,t){W(this,pl).set(oa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,pl).values()];let n={};return t.forEach(r=>{ou(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){W(this,gl).set(oa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,gl).values()];let n={};return t.forEach(r=>{ou(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,Zi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=eg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===tg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,Zi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,ln).clear(),W(this,Xi).clear()}},ln=new WeakMap,Xi=new WeakMap,Zi=new WeakMap,pl=new WeakMap,gl=new WeakMap,Ki=new WeakMap,xl=new WeakMap,yl=new WeakMap,Av),br,xt,Tu,sr,$o,vl,qi,Bs,Iu,wl,Cl,Xo,Zo,Yi,bl,Dt,Ac,cm,um,dm,fm,hm,mm,pm,D3,Nv,v5=(Nv=class extends Wl{constructor(t,n){super();Ue(this,Dt);Ue(this,br);Ue(this,xt);Ue(this,Tu);Ue(this,sr);Ue(this,$o);Ue(this,vl);Ue(this,qi);Ue(this,Bs);Ue(this,Iu);Ue(this,wl);Ue(this,Cl);Ue(this,Xo);Ue(this,Zo);Ue(this,Yi);Ue(this,bl,new Set);this.options=n,_e(this,br,t),_e(this,Bs,null),_e(this,qi,lm()),this.options.experimental_prefetchInRender||W(this,qi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,xt).addObserver(this),$y(W(this,xt),this.options)?ot(this,Dt,Ac).call(this):this.updateResult(),ot(this,Dt,fm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gm(W(this,xt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gm(W(this,xt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ot(this,Dt,hm).call(this),ot(this,Dt,mm).call(this),W(this,xt).removeObserver(this)}setOptions(t,n){const r=this.options,o=W(this,xt);if(this.options=W(this,br).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gs(this.options.enabled,W(this,xt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ot(this,Dt,pm).call(this),W(this,xt).setOptions(this.options),r._defaulted&&!_f(this.options,r)&&W(this,br).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,xt),observer:this});const l=this.hasListeners();l&&Xy(W(this,xt),o,this.options,r)&&ot(this,Dt,Ac).call(this),this.updateResult(n),l&&(W(this,xt)!==o||gs(this.options.enabled,W(this,xt))!==gs(r.enabled,W(this,xt))||nl(this.options.staleTime,W(this,xt))!==nl(r.staleTime,W(this,xt)))&&ot(this,Dt,cm).call(this);const d=ot(this,Dt,um).call(this);l&&(W(this,xt)!==o||gs(this.options.enabled,W(this,xt))!==gs(r.enabled,W(this,xt))||d!==W(this,Yi))&&ot(this,Dt,dm).call(this,d)}getOptimisticResult(t){const n=W(this,br).getQueryCache().build(W(this,br),t),r=this.createResult(n,t);return C5(this,r)&&(_e(this,sr,r),_e(this,vl,this.options),_e(this,$o,W(this,xt).state)),r}getCurrentResult(){return W(this,sr)}trackResult(t,n){const r={};return Object.keys(t).forEach(o=>{Object.defineProperty(r,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),n==null||n(o),t[o])})}),r}trackProp(t){W(this,bl).add(t)}getCurrentQuery(){return W(this,xt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=W(this,br).defaultQueryOptions(t),r=W(this,br).getQueryCache().build(W(this,br),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ot(this,Dt,Ac).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,sr)))}createResult(t,n){var K;const r=W(this,xt),o=this.options,l=W(this,sr),d=W(this,$o),m=W(this,vl),g=t!==r?t.state:W(this,Tu),{state:v}=t;let C={...v},S=!1,R;if(n._optimisticResults){const G=this.hasListeners(),oe=!G&&$y(t,n),ye=G&&Xy(t,r,n,o);(oe||ye)&&(C={...C,...O3(v.data,t.options)}),n._optimisticResults==="isRestoring"&&(C.fetchStatus="idle")}let{error:P,errorUpdatedAt:N,status:k}=C;if(n.select&&C.data!==void 0)if(l&&C.data===(d==null?void 0:d.data)&&n.select===W(this,Iu))R=W(this,wl);else try{_e(this,Iu,n.select),R=n.select(C.data),R=am(l==null?void 0:l.data,R,n),_e(this,wl,R),_e(this,Bs,null)}catch(G){_e(this,Bs,G)}else R=C.data;if(n.placeholderData!==void 0&&R===void 0&&k==="pending"){let G;if(l!=null&&l.isPlaceholderData&&n.placeholderData===(m==null?void 0:m.placeholderData))G=l.data;else if(G=typeof n.placeholderData=="function"?n.placeholderData((K=W(this,Cl))==null?void 0:K.state.data,W(this,Cl)):n.placeholderData,n.select&&G!==void 0)try{G=n.select(G),_e(this,Bs,null)}catch(oe){_e(this,Bs,oe)}G!==void 0&&(k="success",R=am(l==null?void 0:l.data,G,n),S=!0)}W(this,Bs)&&(P=W(this,Bs),R=W(this,wl),N=Date.now(),k="error");const O=C.fetchStatus==="fetching",A=k==="pending",I=k==="error",M=A&&O,F=R!==void 0,B={status:k,fetchStatus:C.fetchStatus,isPending:A,isSuccess:k==="success",isError:I,isInitialLoading:M,isLoading:M,data:R,dataUpdatedAt:C.dataUpdatedAt,error:P,errorUpdatedAt:N,failureCount:C.fetchFailureCount,failureReason:C.fetchFailureReason,errorUpdateCount:C.errorUpdateCount,isFetched:C.dataUpdateCount>0||C.errorUpdateCount>0,isFetchedAfterMount:C.dataUpdateCount>g.dataUpdateCount||C.errorUpdateCount>g.errorUpdateCount,isFetching:O,isRefetching:O&&!A,isLoadingError:I&&!F,isPaused:C.fetchStatus==="paused",isPlaceholderData:S,isRefetchError:I&&F,isStale:rg(t,n),refetch:this.refetch,promise:W(this,qi)};if(this.options.experimental_prefetchInRender){const G=Q=>{B.status==="error"?Q.reject(B.error):B.data!==void 0&&Q.resolve(B.data)},oe=()=>{const Q=_e(this,qi,B.promise=lm());G(Q)},ye=W(this,qi);switch(ye.status){case"pending":t.queryHash===r.queryHash&&G(ye);break;case"fulfilled":(B.status==="error"||B.data!==ye.value)&&oe();break;case"rejected":(B.status!=="error"||B.error!==ye.reason)&&oe();break}}return B}updateResult(t){const n=W(this,sr),r=this.createResult(W(this,xt),this.options);if(_e(this,$o,W(this,xt).state),_e(this,vl,this.options),W(this,$o).data!==void 0&&_e(this,Cl,W(this,xt)),_f(r,n))return;_e(this,sr,r);const o={},l=()=>{if(!n)return!0;const{notifyOnChangeProps:d}=this.options,m=typeof d=="function"?d():d;if(m==="all"||!m&&!W(this,bl).size)return!0;const x=new Set(m??W(this,bl));return this.options.throwOnError&&x.add("error"),Object.keys(W(this,sr)).some(g=>{const v=g;return W(this,sr)[v]!==n[v]&&x.has(v)})};(t==null?void 0:t.listeners)!==!1&&l()&&(o.listeners=!0),ot(this,Dt,D3).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ot(this,Dt,fm).call(this)}},br=new WeakMap,xt=new WeakMap,Tu=new WeakMap,sr=new WeakMap,$o=new WeakMap,vl=new WeakMap,qi=new WeakMap,Bs=new WeakMap,Iu=new WeakMap,wl=new WeakMap,Cl=new WeakMap,Xo=new WeakMap,Zo=new WeakMap,Yi=new WeakMap,bl=new WeakMap,Dt=new WeakSet,Ac=function(t){ot(this,Dt,pm).call(this);let n=W(this,xt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Yr)),n},cm=function(){ot(this,Dt,hm).call(this);const t=nl(this.options.staleTime,W(this,xt));if(ia||W(this,sr).isStale||!im(t))return;const r=S3(W(this,sr).dataUpdatedAt,t)+1;_e(this,Xo,setTimeout(()=>{W(this,sr).isStale||this.updateResult()},r))},um=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,xt)):this.options.refetchInterval)??!1},dm=function(t){ot(this,Dt,mm).call(this),_e(this,Yi,t),!(ia||gs(this.options.enabled,W(this,xt))===!1||!im(W(this,Yi))||W(this,Yi)===0)&&_e(this,Zo,setInterval(()=>{(this.options.refetchIntervalInBackground||ng.isFocused())&&ot(this,Dt,Ac).call(this)},W(this,Yi)))},fm=function(){ot(this,Dt,cm).call(this),ot(this,Dt,dm).call(this,ot(this,Dt,um).call(this))},hm=function(){W(this,Xo)&&(clearTimeout(W(this,Xo)),_e(this,Xo,void 0))},mm=function(){W(this,Zo)&&(clearInterval(W(this,Zo)),_e(this,Zo,void 0))},pm=function(){const t=W(this,br).getQueryCache().build(W(this,br),this.options);if(t===W(this,xt))return;const n=W(this,xt);_e(this,xt,t),_e(this,Tu,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},D3=function(t){An.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(W(this,sr))}),W(this,br).getQueryCache().notify({query:W(this,xt),type:"observerResultsUpdated"})})},Nv);function w5(e,t){return gs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function $y(e,t){return w5(e,t)||e.state.data!==void 0&&gm(e,t,t.refetchOnMount)}function gm(e,t,n){if(gs(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&rg(e,t)}return!1}function Xy(e,t,n,r){return(e!==t||gs(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&rg(e,n)}function rg(e,t){return gs(t.enabled,e)!==!1&&e.isStaleByTime(nl(t.staleTime,e))}function C5(e,t){return!_f(e.getCurrentResult(),t)}var Qi,Ji,Er,di,gi,Bd,xm,_v,b5=(_v=class extends Wl{constructor(n,r){super();Ue(this,gi);Ue(this,Qi);Ue(this,Ji);Ue(this,Er);Ue(this,di);_e(this,Qi,n),this.setOptions(r),this.bindMethods(),ot(this,gi,Bd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const r=this.options;this.options=W(this,Qi).defaultMutationOptions(n),_f(this.options,r)||W(this,Qi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,Er),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&oa(r.mutationKey)!==oa(this.options.mutationKey)?this.reset():((o=W(this,Er))==null?void 0:o.state.status)==="pending"&&W(this,Er).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=W(this,Er))==null||n.removeObserver(this)}onMutationUpdate(n){ot(this,gi,Bd).call(this),ot(this,gi,xm).call(this,n)}getCurrentResult(){return W(this,Ji)}reset(){var n;(n=W(this,Er))==null||n.removeObserver(this),_e(this,Er,void 0),ot(this,gi,Bd).call(this),ot(this,gi,xm).call(this)}mutate(n,r){var o;return _e(this,di,r),(o=W(this,Er))==null||o.removeObserver(this),_e(this,Er,W(this,Qi).getMutationCache().build(W(this,Qi),this.options)),W(this,Er).addObserver(this),W(this,Er).execute(n)}},Qi=new WeakMap,Ji=new WeakMap,Er=new WeakMap,di=new WeakMap,gi=new WeakSet,Bd=function(){var r;const n=((r=W(this,Er))==null?void 0:r.state)??P3();_e(this,Ji,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},xm=function(n){An.batch(()=>{var r,o,l,d,m,x,g,v;if(W(this,di)&&this.hasListeners()){const C=W(this,Ji).variables,S=W(this,Ji).context;(n==null?void 0:n.type)==="success"?((o=(r=W(this,di)).onSuccess)==null||o.call(r,n.data,C,S),(d=(l=W(this,di)).onSettled)==null||d.call(l,n.data,null,C,S)):(n==null?void 0:n.type)==="error"&&((x=(m=W(this,di)).onError)==null||x.call(m,n.error,C,S),(v=(g=W(this,di)).onSettled)==null||v.call(g,void 0,n.error,C,S))}this.listeners.forEach(C=>{C(W(this,Ji))})})},_v),k3=b.createContext(void 0),sg=e=>{const t=b.useContext(k3);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},M3=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(k3.Provider,{value:e,children:t})),j3=b.createContext(!1),E5=()=>b.useContext(j3);j3.Provider;function S5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var A5=b.createContext(S5()),N5=()=>b.useContext(A5);function L3(e,t){return typeof e=="function"?e(...t):!!e}function ym(){}var _5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},T5=e=>{b.useEffect(()=>{e.clearReset()},[e])},I5=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&L3(n,[e.error,r]),R5=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},O5=(e,t)=>e.isLoading&&e.isFetching&&!t,P5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Zy=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function D5(e,t,n){var v,C,S,R,P;const r=sg(),o=E5(),l=N5(),d=r.defaultQueryOptions(e);(C=(v=r.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||C.call(v,d),d._optimisticResults=o?"isRestoring":"optimistic",R5(d),_5(d,l),T5(l);const m=!r.getQueryCache().get(d.queryHash),[x]=b.useState(()=>new t(r,d)),g=x.getOptimisticResult(d);if(b.useSyncExternalStore(b.useCallback(N=>{const k=o?ym:x.subscribe(An.batchCalls(N));return x.updateResult(),k},[x,o]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),b.useEffect(()=>{x.setOptions(d,{listeners:!1})},[d,x]),P5(d,g))throw Zy(d,x,l);if(I5({result:g,errorResetBoundary:l,throwOnError:d.throwOnError,query:r.getQueryCache().get(d.queryHash)}))throw g.error;if((R=(S=r.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||R.call(S,d,g),d.experimental_prefetchInRender&&!ia&&O5(g,o)){const N=m?Zy(d,x,l):(P=r.getQueryCache().get(d.queryHash))==null?void 0:P.promise;N==null||N.catch(ym).finally(()=>{x.updateResult()})}return d.notifyOnChangeProps?g:x.trackResult(g)}function mo(e,t){return D5(e,v5)}function Ar(e,t){const n=sg(),[r]=b.useState(()=>new b5(n,e));b.useEffect(()=>{r.setOptions(e)},[r,e]);const o=b.useSyncExternalStore(b.useCallback(d=>r.subscribe(An.batchCalls(d)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=b.useCallback((d,m)=>{r.mutate(d,m).catch(ym)},[r]);if(o.error&&L3(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}var k5={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vm=function(){return vm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vm.apply(this,arguments)},wm,M5=function(e){var t;e?function(n){if(n)for(;n.lastChild;)n.lastChild.remove()}(typeof e=="string"?document.getElementById(e):e):(t=document.querySelector(".grecaptcha-badge"))&&t.parentNode&&document.body.removeChild(t.parentNode)},j5=function(e,t){M5(t),window.___grecaptcha_cfg=void 0;var n=document.querySelector("#"+e);n&&n.remove(),function(){var r=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');r&&r.remove()}()},L5=function(e){var t=e.render,n=e.onLoadCallbackName,r=e.language,o=e.onLoad,l=e.useRecaptchaNet,d=e.useEnterprise,m=e.scriptProps,x=m===void 0?{}:m,g=x.nonce,v=g===void 0?"":g,C=x.defer,S=C!==void 0&&C,R=x.async,P=R!==void 0&&R,N=x.id,k=N===void 0?"":N,O=x.appendTo,A=k||"google-recaptcha-v3";if(function(F){return!!document.querySelector("#"+F)}(A))o();else{var I=function(F){return"https://www."+(F.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(F.useEnterprise?"enterprise.js":"api.js")}({useEnterprise:d,useRecaptchaNet:l}),M=document.createElement("script");M.id=A,M.src=I+"?render="+t+(t==="explicit"?"&onload="+n:"")+(r?"&hl="+r:""),v&&(M.nonce=v),M.defer=!!S,M.async=!!P,M.onload=o,(O==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(M)}},z0=function(e){typeof process<"u"&&k5&&!1||console.warn(e)};(function(e){e.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(wm||(wm={}));var ig=b.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});ig.Consumer;function F5(e){var t=e.reCaptchaKey,n=e.useEnterprise,r=n!==void 0&&n,o=e.useRecaptchaNet,l=o!==void 0&&o,d=e.scriptProps,m=e.language,x=e.container,g=e.children,v=b.useState(null),C=v[0],S=v[1],R=b.useRef(t),P=JSON.stringify(d),N=JSON.stringify(x==null?void 0:x.parameters);b.useEffect(function(){if(t){var A=(d==null?void 0:d.id)||"google-recaptcha-v3",I=(d==null?void 0:d.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[I]=function(){var M=r?window.grecaptcha.enterprise:window.grecaptcha,F=vm({badge:"inline",size:"invisible",sitekey:t},(x==null?void 0:x.parameters)||{});R.current=M.render(x==null?void 0:x.element,F)},L5({render:x!=null&&x.element?"explicit":t,onLoadCallbackName:I,useEnterprise:r,useRecaptchaNet:l,scriptProps:d,language:m,onLoad:function(){if(window&&window.grecaptcha){var M=r?window.grecaptcha.enterprise:window.grecaptcha;M.ready(function(){S(M)})}else z0("<GoogleRecaptchaProvider /> "+wm.SCRIPT_NOT_AVAILABLE)},onError:function(){z0("Error loading google recaptcha script")}}),function(){j5(A,x==null?void 0:x.element)}}z0("<GoogleReCaptchaProvider /> recaptcha key not provided")},[r,l,P,N,m,t,x==null?void 0:x.element]);var k=b.useCallback(function(A){if(!C||!C.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return C.execute(R.current,{action:A})},[C,R]),O=b.useMemo(function(){return{executeRecaptcha:C?k:void 0,container:x==null?void 0:x.element}},[k,C,x==null?void 0:x.element]);return Qe.createElement(ig.Provider,{value:O},g)}var B5=function(){return b.useContext(ig)};function F3(e,t){return e(t={exports:{}},t.exports),t.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var kn=typeof Symbol=="function"&&Symbol.for,Cm=kn?Symbol.for("react.element"):60103,bm=kn?Symbol.for("react.portal"):60106,Vd=kn?Symbol.for("react.fragment"):60107,Ud=kn?Symbol.for("react.strict_mode"):60108,zd=kn?Symbol.for("react.profiler"):60114,Wd=kn?Symbol.for("react.provider"):60109,Hd=kn?Symbol.for("react.context"):60110,Em=kn?Symbol.for("react.async_mode"):60111,If=kn?Symbol.for("react.concurrent_mode"):60111,Gd=kn?Symbol.for("react.forward_ref"):60112,$d=kn?Symbol.for("react.suspense"):60113,V5=kn?Symbol.for("react.suspense_list"):60120,Xd=kn?Symbol.for("react.memo"):60115,Zd=kn?Symbol.for("react.lazy"):60116,U5=kn?Symbol.for("react.block"):60121,z5=kn?Symbol.for("react.fundamental"):60117,W5=kn?Symbol.for("react.responder"):60118,H5=kn?Symbol.for("react.scope"):60119;function Pr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Cm:switch(e=e.type){case Em:case If:case Vd:case zd:case Ud:case $d:return e;default:switch(e=e&&e.$$typeof){case Hd:case Gd:case Zd:case Xd:case Wd:return e;default:return t}}case bm:return t}}}function Ky(e){return Pr(e)===If}var G5={AsyncMode:Em,ConcurrentMode:If,ContextConsumer:Hd,ContextProvider:Wd,Element:Cm,ForwardRef:Gd,Fragment:Vd,Lazy:Zd,Memo:Xd,Portal:bm,Profiler:zd,StrictMode:Ud,Suspense:$d,isAsyncMode:function(e){return Ky(e)||Pr(e)===Em},isConcurrentMode:Ky,isContextConsumer:function(e){return Pr(e)===Hd},isContextProvider:function(e){return Pr(e)===Wd},isElement:function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cm},isForwardRef:function(e){return Pr(e)===Gd},isFragment:function(e){return Pr(e)===Vd},isLazy:function(e){return Pr(e)===Zd},isMemo:function(e){return Pr(e)===Xd},isPortal:function(e){return Pr(e)===bm},isProfiler:function(e){return Pr(e)===zd},isStrictMode:function(e){return Pr(e)===Ud},isSuspense:function(e){return Pr(e)===$d},isValidElementType:function(e){return typeof e=="string"||typeof e=="function"||e===Vd||e===If||e===zd||e===Ud||e===$d||e===V5||typeof e=="object"&&e!==null&&(e.$$typeof===Zd||e.$$typeof===Xd||e.$$typeof===Wd||e.$$typeof===Hd||e.$$typeof===Gd||e.$$typeof===z5||e.$$typeof===W5||e.$$typeof===H5||e.$$typeof===U5)},typeOf:Pr},jt=F3(function(e,t){}),qy=(jt.AsyncMode,jt.ConcurrentMode,jt.ContextConsumer,jt.ContextProvider,jt.Element,jt.ForwardRef,jt.Fragment,jt.Lazy,jt.Memo,jt.Portal,jt.Profiler,jt.StrictMode,jt.Suspense,jt.isAsyncMode,jt.isConcurrentMode,jt.isContextConsumer,jt.isContextProvider,jt.isElement,jt.isForwardRef,jt.isFragment,jt.isLazy,jt.isMemo,jt.isPortal,jt.isProfiler,jt.isStrictMode,jt.isSuspense,jt.isValidElementType,jt.typeOf,F3(function(e){e.exports=G5})),$5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Yy={};Yy[qy.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Yy[qy.Memo]=$5;function X5(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,l,d=[],m="",x=e.split("/");for(x[0]||x.shift();o=x.shift();)n=o[0],n==="*"?(d.push(n),m+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),l=o.indexOf(".",1),d.push(o.substring(1,~r?r:~l?l:o.length)),m+=~r&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(m+=(~r?"?":"")+"\\"+o.substring(l))):m+="/"+o;return{keys:d,pattern:new RegExp("^"+m+(t?"(?=$|/)":"/?$"),"i")}}var B3={exports:{}},V3={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rl=b;function Z5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var K5=typeof Object.is=="function"?Object.is:Z5,q5=Rl.useState,Y5=Rl.useEffect,Q5=Rl.useLayoutEffect,J5=Rl.useDebugValue;function eP(e,t){var n=t(),r=q5({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return Q5(function(){o.value=n,o.getSnapshot=t,W0(o)&&l({inst:o})},[e,n,t]),Y5(function(){return W0(o)&&l({inst:o}),e(function(){W0(o)&&l({inst:o})})},[e]),J5(n),n}function W0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!K5(e,n)}catch{return!0}}function tP(e,t){return t()}var nP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tP:eP;V3.useSyncExternalStore=Rl.useSyncExternalStore!==void 0?Rl.useSyncExternalStore:nP;B3.exports=V3;var rP=B3.exports;const sP=CE.useInsertionEffect,iP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oP=iP?b.useLayoutEffect:b.useEffect,aP=sP||oP,U3=e=>{const t=b.useRef([e,(...n)=>t[0](...n)]).current;return aP(()=>{t[0]=e}),t[1]},lP="popstate",og="pushState",ag="replaceState",cP="hashchange",Qy=[lP,og,ag,cP],uP=e=>{for(const t of Qy)addEventListener(t,e);return()=>{for(const t of Qy)removeEventListener(t,e)}},z3=(e,t)=>rP.useSyncExternalStore(uP,e,t),dP=()=>location.search,fP=({ssrSearch:e=""}={})=>z3(dP,()=>e),Jy=()=>location.pathname,hP=({ssrPath:e}={})=>z3(Jy,e?()=>e:Jy),mP=(e,{replace:t=!1,state:n=null}={})=>history[t?ag:og](n,"",e),pP=(e={})=>[hP(e),mP],e2=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[e2]>"u"){for(const e of[og,ag]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,e2,{value:!0})}const gP=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",W3=(e="")=>e==="/"?"":e,xP=(e,t)=>e[0]==="~"?e.slice(1):W3(t)+e,yP=(e="",t)=>gP(Sm(W3(e)),Sm(t)),vP=e=>e[0]==="?"?e.slice(1):e,Sm=e=>{try{return decodeURI(e)}catch{return e}},wP=e=>Sm(vP(e)),H3={hook:pP,searchHook:fP,parser:X5,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},G3=b.createContext(H3),Hl=()=>b.useContext(G3),$3={},X3=b.createContext($3),Z3=()=>b.useContext(X3),Ch=e=>{const[t,n]=e.hook(e);return[yP(e.base,t),U3((r,o)=>n(xP(r,e.base),o))]},os=()=>Ch(Hl()),K3=()=>{const e=Hl();return wP(e.searchHook(e))},q3=(e,t,n,r)=>{const{pattern:o,keys:l}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),d=o.exec(n)||[],[m,...x]=d;return m!==void 0?[!0,(()=>{const g=l!==!1?Object.fromEntries(l.map((C,S)=>[C,x[S]])):d.groups;let v={...x};return g&&Object.assign(v,g),v})(),...r?[m]:[]]:[!1,null]},CP=({children:e,...t})=>{var v,C;const n=Hl(),r=t.hook?H3:n;let o=r;const[l,d]=((v=t.ssrPath)==null?void 0:v.split("?"))??[];d&&(t.ssrSearch=d,t.ssrPath=l),t.hrefs=t.hrefs??((C=t.hook)==null?void 0:C.hrefs);let m=b.useRef({}),x=m.current,g=x;for(let S in r){const R=S==="base"?r[S]+(t[S]||""):t[S]||r[S];x===g&&R!==g[S]&&(m.current=g={...g}),g[S]=R,R!==r[S]&&(o=g)}return b.createElement(G3.Provider,{value:o,children:e})},t2=({children:e,component:t},n)=>t?b.createElement(t,{params:n}):typeof e=="function"?e(n):e,bP=e=>{let t=b.useRef($3),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Cr=({path:e,nest:t,match:n,...r})=>{const o=Hl(),[l]=Ch(o),[d,m,x]=n??q3(o.parser,e,l,t),g=bP({...Z3(),...m});if(!d)return null;const v=x?b.createElement(CP,{base:x},t2(r,g)):t2(r,g);return b.createElement(X3.Provider,{value:g,children:v})};b.forwardRef((e,t)=>{const n=Hl(),[r,o]=Ch(n),{to:l="",href:d=l,onClick:m,asChild:x,children:g,className:v,replace:C,state:S,...R}=e,P=U3(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(m==null||m(k),k.defaultPrevented||(k.preventDefault(),o(d,e)))}),N=n.hrefs(d[0]==="~"?d.slice(1):n.base+d,n);return x&&b.isValidElement(g)?b.cloneElement(g,{onClick:P,href:N}):b.createElement("a",{...R,onClick:P,href:N,className:v!=null&&v.call?v(r===d):v,children:g,ref:t})});const Y3=e=>Array.isArray(e)?e.flatMap(t=>Y3(t&&t.type===b.Fragment?t.props.children:t)):[e],EP=({children:e,location:t})=>{const n=Hl(),[r]=Ch(n);for(const o of Y3(e)){let l=0;if(b.isValidElement(o)&&(l=q3(n.parser,o.props.path,t||r,o.props.nest))[0])return b.cloneElement(o,{match:l})}return null};async function Q3(e){if(!e.ok){e.status===401&&(localStorage.removeItem("token"),window.location.href="/login");const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function zn(e,t,n){const r=localStorage.getItem("token"),o={};n&&(o["Content-Type"]="application/json"),r&&(o.Authorization=`Bearer ${r}`);const l=await fetch(t,{method:e,headers:o,body:n?JSON.stringify(n):void 0,credentials:"include"});return await Q3(l),l}const SP=({on401:e})=>async({queryKey:t})=>{const n=localStorage.getItem("token"),r={};n&&(r.Authorization=`Bearer ${n}`);const o=await fetch(t.join("/"),{headers:r,credentials:"include"});return e==="returnNull"&&o.status===401?null:(await Q3(o),await o.json())},mi=new y5({defaultOptions:{queries:{queryFn:SP({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),AP=1,NP=1e6;let H0=0;function _P(){return H0=(H0+1)%Number.MAX_SAFE_INTEGER,H0.toString()}const G0=new Map,n2=e=>{if(G0.has(e))return;const t=setTimeout(()=>{G0.delete(e),Bc({type:"REMOVE_TOAST",toastId:e})},NP);G0.set(e,t)},TP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,AP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?n2(n):e.toasts.forEach(r=>{n2(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Kd=[];let qd={toasts:[]};function Bc(e){qd=TP(qd,e),Kd.forEach(t=>{t(qd)})}function IP({...e}){const t=_P(),n=o=>Bc({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Bc({type:"DISMISS_TOAST",toastId:t});return Bc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Rr(){const[e,t]=b.useState(qd);return b.useEffect(()=>(Kd.push(t),()=>{const n=Kd.indexOf(t);n>-1&&Kd.splice(n,1)}),[e]),{...e,toast:IP,dismiss:n=>Bc({type:"DISMISS_TOAST",toastId:n})}}function Ce(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function r2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bh(...e){return t=>{let n=!1;const r=e.map(o=>{const l=r2(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<r.length;o++){const l=r[o];typeof l=="function"?l():r2(e[o],null)}}}}function vt(...e){return b.useCallback(bh(...e),e)}function RP(e,t){const n=b.createContext(t),r=l=>{const{children:d,...m}=l,x=b.useMemo(()=>m,Object.values(m));return h.jsx(n.Provider,{value:x,children:d})};r.displayName=e+"Provider";function o(l){const d=b.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[r,o]}function Gr(e,t=[]){let n=[];function r(l,d){const m=b.createContext(d),x=n.length;n=[...n,d];const g=C=>{var O;const{scope:S,children:R,...P}=C,N=((O=S==null?void 0:S[e])==null?void 0:O[x])||m,k=b.useMemo(()=>P,Object.values(P));return h.jsx(N.Provider,{value:k,children:R})};g.displayName=l+"Provider";function v(C,S){var N;const R=((N=S==null?void 0:S[e])==null?void 0:N[x])||m,P=b.useContext(R);if(P)return P;if(d!==void 0)return d;throw new Error(`\`${C}\` must be used within \`${l}\``)}return[g,v]}const o=()=>{const l=n.map(d=>b.createContext(d));return function(m){const x=(m==null?void 0:m[e])||l;return b.useMemo(()=>({[`__scope${e}`]:{...m,[e]:x}}),[m,x])}};return o.scopeName=e,[r,OP(o,...t)]}function OP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=r.reduce((m,{useScope:x,scopeName:g})=>{const C=x(l)[`__scope${g}`];return{...m,...C}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function aa(e){const t=PP(e),n=b.forwardRef((r,o)=>{const{children:l,...d}=r,m=b.Children.toArray(l),x=m.find(DP);if(x){const g=x.props.children,v=m.map(C=>C===x?b.Children.count(g)>1?b.Children.only(null):b.isValidElement(g)?g.props.children:null:C);return h.jsx(t,{...d,ref:o,children:b.isValidElement(g)?b.cloneElement(g,void 0,v):null})}return h.jsx(t,{...d,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}var J3=aa("Slot");function PP(e){const t=b.forwardRef((n,r)=>{const{children:o,...l}=n;if(b.isValidElement(o)){const d=MP(o),m=kP(l,o.props);return o.type!==b.Fragment&&(m.ref=r?bh(r,d):d),b.cloneElement(o,m)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eA=Symbol("radix.slottable");function tA(e){const t=({children:n})=>h.jsx(h.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=eA,t}function DP(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eA}function kP(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...m)=>{l(...m),o(...m)}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function MP(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Eh(e){const t=e+"CollectionProvider",[n,r]=Gr(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=N=>{const{scope:k,children:O}=N,A=Qe.useRef(null),I=Qe.useRef(new Map).current;return h.jsx(o,{scope:k,itemMap:I,collectionRef:A,children:O})};d.displayName=t;const m=e+"CollectionSlot",x=aa(m),g=Qe.forwardRef((N,k)=>{const{scope:O,children:A}=N,I=l(m,O),M=vt(k,I.collectionRef);return h.jsx(x,{ref:M,children:A})});g.displayName=m;const v=e+"CollectionItemSlot",C="data-radix-collection-item",S=aa(v),R=Qe.forwardRef((N,k)=>{const{scope:O,children:A,...I}=N,M=Qe.useRef(null),F=vt(k,M),X=l(v,O);return Qe.useEffect(()=>(X.itemMap.set(M,{ref:M,...I}),()=>void X.itemMap.delete(M))),h.jsx(S,{[C]:"",ref:F,children:A})});R.displayName=v;function P(N){const k=l(e+"CollectionConsumer",N);return Qe.useCallback(()=>{const A=k.collectionRef.current;if(!A)return[];const I=Array.from(A.querySelectorAll(`[${C}]`));return Array.from(k.itemMap.values()).sort((X,B)=>I.indexOf(X.ref.current)-I.indexOf(B.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:d,Slot:g,ItemSlot:R},P,r]}var jP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ze=jP.reduce((e,t)=>{const n=aa(`Primitive.${t}`),r=b.forwardRef((o,l)=>{const{asChild:d,...m}=o,x=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(x,{...m,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function lg(e,t){e&&ya.flushSync(()=>e.dispatchEvent(t))}function Gn(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function LP(e,t=globalThis==null?void 0:globalThis.document){const n=Gn(e);b.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var FP="DismissableLayer",Am="dismissableLayer.update",BP="dismissableLayer.pointerDownOutside",VP="dismissableLayer.focusOutside",s2,nA=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gl=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:m,...x}=e,g=b.useContext(nA),[v,C]=b.useState(null),S=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,R]=b.useState({}),P=vt(t,B=>C(B)),N=Array.from(g.layers),[k]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),O=N.indexOf(k),A=v?N.indexOf(v):-1,I=g.layersWithOutsidePointerEventsDisabled.size>0,M=A>=O,F=zP(B=>{const K=B.target,G=[...g.branches].some(oe=>oe.contains(K));!M||G||(o==null||o(B),d==null||d(B),B.defaultPrevented||m==null||m())},S),X=WP(B=>{const K=B.target;[...g.branches].some(oe=>oe.contains(K))||(l==null||l(B),d==null||d(B),B.defaultPrevented||m==null||m())},S);return LP(B=>{A===g.layers.size-1&&(r==null||r(B),!B.defaultPrevented&&m&&(B.preventDefault(),m()))},S),b.useEffect(()=>{if(v)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(s2=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(v)),g.layers.add(v),i2(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=s2)}},[v,S,n,g]),b.useEffect(()=>()=>{v&&(g.layers.delete(v),g.layersWithOutsidePointerEventsDisabled.delete(v),i2())},[v,g]),b.useEffect(()=>{const B=()=>R({});return document.addEventListener(Am,B),()=>document.removeEventListener(Am,B)},[]),h.jsx(ze.div,{...x,ref:P,style:{pointerEvents:I?M?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,X.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,X.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,F.onPointerDownCapture)})});Gl.displayName=FP;var UP="DismissableLayerBranch",rA=b.forwardRef((e,t)=>{const n=b.useContext(nA),r=b.useRef(null),o=vt(t,r);return b.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),h.jsx(ze.div,{...e,ref:o})});rA.displayName=UP;function zP(e,t=globalThis==null?void 0:globalThis.document){const n=Gn(e),r=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const l=m=>{if(m.target&&!r.current){let x=function(){sA(BP,n,g,{discrete:!0})};const g={originalEvent:m};m.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=x,t.addEventListener("click",o.current,{once:!0})):x()}else t.removeEventListener("click",o.current);r.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function WP(e,t=globalThis==null?void 0:globalThis.document){const n=Gn(e),r=b.useRef(!1);return b.useEffect(()=>{const o=l=>{l.target&&!r.current&&sA(VP,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function i2(){const e=new CustomEvent(Am);document.dispatchEvent(e)}function sA(e,t,n,{discrete:r}){const o=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?lg(o,l):o.dispatchEvent(l)}var HP=Gl,GP=rA,Tn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},$P="Portal",Mu=b.forwardRef((e,t)=>{var m;const{container:n,...r}=e,[o,l]=b.useState(!1);Tn(()=>l(!0),[]);const d=n||o&&((m=globalThis==null?void 0:globalThis.document)==null?void 0:m.body);return d?r5.createPortal(h.jsx(ze.div,{...r,ref:t}),d):null});Mu.displayName=$P;function XP(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var as=e=>{const{present:t,children:n}=e,r=ZP(t),o=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),l=vt(r.ref,KP(o));return typeof n=="function"||r.isPresent?b.cloneElement(o,{ref:l}):null};as.displayName="Presence";function ZP(e){const[t,n]=b.useState(),r=b.useRef({}),o=b.useRef(e),l=b.useRef("none"),d=e?"mounted":"unmounted",[m,x]=XP(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const g=wd(r.current);l.current=m==="mounted"?g:"none"},[m]),Tn(()=>{const g=r.current,v=o.current;if(v!==e){const S=l.current,R=wd(g);e?x("MOUNT"):R==="none"||(g==null?void 0:g.display)==="none"?x("UNMOUNT"):x(v&&S!==R?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,x]),Tn(()=>{if(t){let g;const v=t.ownerDocument.defaultView??window,C=R=>{const N=wd(r.current).includes(R.animationName);if(R.target===t&&N&&(x("ANIMATION_END"),!o.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",g=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},S=R=>{R.target===t&&(l.current=wd(r.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",C),t.addEventListener("animationend",C),()=>{v.clearTimeout(g),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",C),t.removeEventListener("animationend",C)}}else x("ANIMATION_END")},[t,x]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:b.useCallback(g=>{g&&(r.current=getComputedStyle(g)),n(g)},[])}}function wd(e){return(e==null?void 0:e.animationName)||"none"}function KP(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function po({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=qP({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:r,m=Gn(n),x=b.useCallback(g=>{if(l){const C=typeof g=="function"?g(e):g;C!==e&&m(C)}else o(g)},[l,e,o,m]);return[d,x]}function qP({defaultProp:e,onChange:t}){const n=b.useState(e),[r]=n,o=b.useRef(r),l=Gn(t);return b.useEffect(()=>{o.current!==r&&(l(r),o.current=r)},[r,o,l]),n}var YP="VisuallyHidden",ju=b.forwardRef((e,t)=>h.jsx(ze.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ju.displayName=YP;var QP=ju,cg="ToastProvider",[ug,JP,eD]=Eh("Toast"),[iA,YV]=Gr("Toast",[eD]),[tD,Sh]=iA(cg),oA=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:d}=e,[m,x]=b.useState(null),[g,v]=b.useState(0),C=b.useRef(!1),S=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${cg}\`. Expected non-empty \`string\`.`),h.jsx(ug.Provider,{scope:t,children:h.jsx(tD,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:l,toastCount:g,viewport:m,onViewportChange:x,onToastAdd:b.useCallback(()=>v(R=>R+1),[]),onToastRemove:b.useCallback(()=>v(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:C,isClosePausedRef:S,children:d})})};oA.displayName=cg;var aA="ToastViewport",nD=["F8"],Nm="toast.viewportPause",_m="toast.viewportResume",lA=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=nD,label:o="Notifications ({hotkey})",...l}=e,d=Sh(aA,n),m=JP(n),x=b.useRef(null),g=b.useRef(null),v=b.useRef(null),C=b.useRef(null),S=vt(t,C,d.onViewportChange),R=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=d.toastCount>0;b.useEffect(()=>{const k=O=>{var I;r.length!==0&&r.every(M=>O[M]||O.code===M)&&((I=C.current)==null||I.focus())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[r]),b.useEffect(()=>{const k=x.current,O=C.current;if(P&&k&&O){const A=()=>{if(!d.isClosePausedRef.current){const X=new CustomEvent(Nm);O.dispatchEvent(X),d.isClosePausedRef.current=!0}},I=()=>{if(d.isClosePausedRef.current){const X=new CustomEvent(_m);O.dispatchEvent(X),d.isClosePausedRef.current=!1}},M=X=>{!k.contains(X.relatedTarget)&&I()},F=()=>{k.contains(document.activeElement)||I()};return k.addEventListener("focusin",A),k.addEventListener("focusout",M),k.addEventListener("pointermove",A),k.addEventListener("pointerleave",F),window.addEventListener("blur",A),window.addEventListener("focus",I),()=>{k.removeEventListener("focusin",A),k.removeEventListener("focusout",M),k.removeEventListener("pointermove",A),k.removeEventListener("pointerleave",F),window.removeEventListener("blur",A),window.removeEventListener("focus",I)}}},[P,d.isClosePausedRef]);const N=b.useCallback(({tabbingDirection:k})=>{const A=m().map(I=>{const M=I.ref.current,F=[M,...pD(M)];return k==="forwards"?F:F.reverse()});return(k==="forwards"?A.reverse():A).flat()},[m]);return b.useEffect(()=>{const k=C.current;if(k){const O=A=>{var F,X,B;const I=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!I){const K=document.activeElement,G=A.shiftKey;if(A.target===k&&G){(F=g.current)==null||F.focus();return}const Q=N({tabbingDirection:G?"backwards":"forwards"}),ie=Q.findIndex(se=>se===K);$0(Q.slice(ie+1))?A.preventDefault():G?(X=g.current)==null||X.focus():(B=v.current)==null||B.focus()}};return k.addEventListener("keydown",O),()=>k.removeEventListener("keydown",O)}},[m,N]),h.jsxs(GP,{ref:x,role:"region","aria-label":o.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&h.jsx(Tm,{ref:g,onFocusFromOutsideViewport:()=>{const k=N({tabbingDirection:"forwards"});$0(k)}}),h.jsx(ug.Slot,{scope:n,children:h.jsx(ze.ol,{tabIndex:-1,...l,ref:S})}),P&&h.jsx(Tm,{ref:v,onFocusFromOutsideViewport:()=>{const k=N({tabbingDirection:"backwards"});$0(k)}})]})});lA.displayName=aA;var cA="ToastFocusProxy",Tm=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,l=Sh(cA,n);return h.jsx(ju,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:d=>{var g;const m=d.relatedTarget;!((g=l.viewport)!=null&&g.contains(m))&&r()}})});Tm.displayName=cA;var Ah="Toast",rD="toast.swipeStart",sD="toast.swipeMove",iD="toast.swipeCancel",oD="toast.swipeEnd",uA=b.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:l,...d}=e,[m=!0,x]=po({prop:r,defaultProp:o,onChange:l});return h.jsx(as,{present:n||m,children:h.jsx(cD,{open:m,...d,ref:t,onClose:()=>x(!1),onPause:Gn(e.onPause),onResume:Gn(e.onResume),onSwipeStart:Ce(e.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(e.onSwipeMove,g=>{const{x:v,y:C}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${C}px`)}),onSwipeCancel:Ce(e.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(e.onSwipeEnd,g=>{const{x:v,y:C}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${C}px`),x(!1)})})})});uA.displayName=Ah;var[aD,lD]=iA(Ah,{onClose(){}}),cD=b.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:l,onClose:d,onEscapeKeyDown:m,onPause:x,onResume:g,onSwipeStart:v,onSwipeMove:C,onSwipeCancel:S,onSwipeEnd:R,...P}=e,N=Sh(Ah,n),[k,O]=b.useState(null),A=vt(t,se=>O(se)),I=b.useRef(null),M=b.useRef(null),F=o||N.duration,X=b.useRef(0),B=b.useRef(F),K=b.useRef(0),{onToastAdd:G,onToastRemove:oe}=N,ye=Gn(()=>{var $;(k==null?void 0:k.contains(document.activeElement))&&(($=N.viewport)==null||$.focus()),d()}),Q=b.useCallback(se=>{!se||se===1/0||(window.clearTimeout(K.current),X.current=new Date().getTime(),K.current=window.setTimeout(ye,se))},[ye]);b.useEffect(()=>{const se=N.viewport;if(se){const $=()=>{Q(B.current),g==null||g()},fe=()=>{const ue=new Date().getTime()-X.current;B.current=B.current-ue,window.clearTimeout(K.current),x==null||x()};return se.addEventListener(Nm,fe),se.addEventListener(_m,$),()=>{se.removeEventListener(Nm,fe),se.removeEventListener(_m,$)}}},[N.viewport,F,x,g,Q]),b.useEffect(()=>{l&&!N.isClosePausedRef.current&&Q(F)},[l,F,N.isClosePausedRef,Q]),b.useEffect(()=>(G(),()=>oe()),[G,oe]);const ie=b.useMemo(()=>k?xA(k):null,[k]);return N.viewport?h.jsxs(h.Fragment,{children:[ie&&h.jsx(uD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ie}),h.jsx(aD,{scope:n,onClose:ye,children:ya.createPortal(h.jsx(ug.ItemSlot,{scope:n,children:h.jsx(HP,{asChild:!0,onEscapeKeyDown:Ce(m,()=>{N.isFocusedToastEscapeKeyDownRef.current||ye(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":N.swipeDirection,...P,ref:A,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ce(e.onKeyDown,se=>{se.key==="Escape"&&(m==null||m(se.nativeEvent),se.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,ye()))}),onPointerDown:Ce(e.onPointerDown,se=>{se.button===0&&(I.current={x:se.clientX,y:se.clientY})}),onPointerMove:Ce(e.onPointerMove,se=>{if(!I.current)return;const $=se.clientX-I.current.x,fe=se.clientY-I.current.y,ue=!!M.current,ne=["left","right"].includes(N.swipeDirection),V=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,ce=ne?V(0,$):0,Ie=ne?0:V(0,fe),Me=se.pointerType==="touch"?10:2,rt={x:ce,y:Ie},Ye={originalEvent:se,delta:rt};ue?(M.current=rt,Cd(sD,C,Ye,{discrete:!1})):o2(rt,N.swipeDirection,Me)?(M.current=rt,Cd(rD,v,Ye,{discrete:!1}),se.target.setPointerCapture(se.pointerId)):(Math.abs($)>Me||Math.abs(fe)>Me)&&(I.current=null)}),onPointerUp:Ce(e.onPointerUp,se=>{const $=M.current,fe=se.target;if(fe.hasPointerCapture(se.pointerId)&&fe.releasePointerCapture(se.pointerId),M.current=null,I.current=null,$){const ue=se.currentTarget,ne={originalEvent:se,delta:$};o2($,N.swipeDirection,N.swipeThreshold)?Cd(oD,R,ne,{discrete:!0}):Cd(iD,S,ne,{discrete:!0}),ue.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),uD=e=>{const{__scopeToast:t,children:n,...r}=e,o=Sh(Ah,t),[l,d]=b.useState(!1),[m,x]=b.useState(!1);return hD(()=>d(!0)),b.useEffect(()=>{const g=window.setTimeout(()=>x(!0),1e3);return()=>window.clearTimeout(g)},[]),m?null:h.jsx(Mu,{asChild:!0,children:h.jsx(ju,{...r,children:l&&h.jsxs(h.Fragment,{children:[o.label," ",n]})})})},dD="ToastTitle",dA=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return h.jsx(ze.div,{...r,ref:t})});dA.displayName=dD;var fD="ToastDescription",fA=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return h.jsx(ze.div,{...r,ref:t})});fA.displayName=fD;var hA="ToastAction",mA=b.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?h.jsx(gA,{altText:n,asChild:!0,children:h.jsx(dg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${hA}\`. Expected non-empty \`string\`.`),null)});mA.displayName=hA;var pA="ToastClose",dg=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=lD(pA,n);return h.jsx(gA,{asChild:!0,children:h.jsx(ze.button,{type:"button",...r,ref:t,onClick:Ce(e.onClick,o.onClose)})})});dg.displayName=pA;var gA=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return h.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function xA(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),mD(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const d=r.dataset.radixToastAnnounceAlt;d&&t.push(d)}else t.push(...xA(r))}}),t}function Cd(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?lg(o,l):o.dispatchEvent(l)}var o2=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),l=r>o;return t==="left"||t==="right"?l&&r>n:!l&&o>n};function hD(e=()=>{}){const t=Gn(e);Tn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function mD(e){return e.nodeType===e.ELEMENT_NODE}function pD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $0(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var gD=oA,yA=lA,vA=uA,wA=dA,CA=fA,bA=mA,EA=dg;function SA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=SA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function AA(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=SA(e))&&(r&&(r+=" "),r+=t);return r}const a2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,l2=AA,Nh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return l2(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:l}=t,d=Object.keys(o).map(g=>{const v=n==null?void 0:n[g],C=l==null?void 0:l[g];if(v===null)return null;const S=a2(v)||a2(C);return o[g][S]}),m=n&&Object.entries(n).reduce((g,v)=>{let[C,S]=v;return S===void 0||(g[C]=S),g},{}),x=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((g,v)=>{let{class:C,className:S,...R}=v;return Object.entries(R).every(P=>{let[N,k]=P;return Array.isArray(k)?k.includes({...l,...m}[N]):{...l,...m}[N]===k})?[...g,C,S]:g},[]);return l2(e,d,x,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NA=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:d,...m},x)=>b.createElement("svg",{ref:x,...yD,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:NA("lucide",o),...m},[...d.map(([g,v])=>b.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(e,t)=>{const n=b.forwardRef(({className:r,...o},l)=>b.createElement(vD,{ref:l,iconNode:t,className:NA(`lucide-${xD(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Et("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=Et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Et("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=Et("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Et("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=Et("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=Et("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Et("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Et("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Et("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Et("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Et("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=Et("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Et("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Et("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Et("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Et("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=Et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Et("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Et("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Et("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=Et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=Et("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),mg="-",kD=e=>{const t=jD(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:d=>{const m=d.split(mg);return m[0]===""&&m.length!==1&&m.shift(),OA(m,t)||MD(d)},getConflictingClassGroupIds:(d,m)=>{const x=n[d]||[];return m&&r[d]?[...x,...r[d]]:x}}},OA=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?OA(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const l=e.join(mg);return(d=t.validators.find(({validator:m})=>m(l)))==null?void 0:d.classGroupId},f2=/^\[(.+)\]$/,MD=e=>{if(f2.test(e)){const t=f2.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},jD=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return FD(Object.entries(e.classGroups),n).forEach(([l,d])=>{Rm(d,r,l,t)}),r},Rm=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const l=o===""?t:h2(t,o);l.classGroupId=n;return}if(typeof o=="function"){if(LD(o)){Rm(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,d])=>{Rm(d,h2(t,l),n,r)})})},h2=(e,t)=>{let n=e;return t.split(mg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},LD=e=>e.isThemeGetter,FD=(e,t)=>t?e.map(([n,r])=>{const o=r.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([d,m])=>[t+d,m])):l);return[n,o]}):e,BD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(l,d)=>{n.set(l,d),t++,t>e&&(t=0,r=n,n=new Map)};return{get(l){let d=n.get(l);if(d!==void 0)return d;if((d=r.get(l))!==void 0)return o(l,d),d},set(l,d){n.has(l)?n.set(l,d):o(l,d)}}},PA="!",VD=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],l=t.length,d=m=>{const x=[];let g=0,v=0,C;for(let k=0;k<m.length;k++){let O=m[k];if(g===0){if(O===o&&(r||m.slice(k,k+l)===t)){x.push(m.slice(v,k)),v=k+l;continue}if(O==="/"){C=k;continue}}O==="["?g++:O==="]"&&g--}const S=x.length===0?m:m.substring(v),R=S.startsWith(PA),P=R?S.substring(1):S,N=C&&C>v?C-v:void 0;return{modifiers:x,hasImportantModifier:R,baseClassName:P,maybePostfixModifierPosition:N}};return n?m=>n({className:m,parseClassName:d}):d},UD=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},zD=e=>({cache:BD(e.cacheSize),parseClassName:VD(e),...kD(e)}),WD=/\s+/,HD=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,l=[],d=e.trim().split(WD);let m="";for(let x=d.length-1;x>=0;x-=1){const g=d[x],{modifiers:v,hasImportantModifier:C,baseClassName:S,maybePostfixModifierPosition:R}=n(g);let P=!!R,N=r(P?S.substring(0,R):S);if(!N){if(!P){m=g+(m.length>0?" "+m:m);continue}if(N=r(S),!N){m=g+(m.length>0?" "+m:m);continue}P=!1}const k=UD(v).join(":"),O=C?k+PA:k,A=O+N;if(l.includes(A))continue;l.push(A);const I=o(N,P);for(let M=0;M<I.length;++M){const F=I[M];l.push(O+F)}m=g+(m.length>0?" "+m:m)}return m};function GD(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=DA(t))&&(r&&(r+=" "),r+=n);return r}const DA=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=DA(e[r]))&&(n&&(n+=" "),n+=t);return n};function $D(e,...t){let n,r,o,l=d;function d(x){const g=t.reduce((v,C)=>C(v),e());return n=zD(g),r=n.cache.get,o=n.cache.set,l=m,m(x)}function m(x){const g=r(x);if(g)return g;const v=HD(x,n);return o(x,v),v}return function(){return l(GD.apply(null,arguments))}}const Ht=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},kA=/^\[(?:([a-z-]+):)?(.+)\]$/i,XD=/^\d+\/\d+$/,ZD=new Set(["px","full","screen"]),KD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=e=>rl(e)||ZD.has(e)||XD.test(e),Mi=e=>$l(e,"length",ak),rl=e=>!!e&&!Number.isNaN(Number(e)),q0=e=>$l(e,"number",rl),gc=e=>!!e&&Number.isInteger(Number(e)),ek=e=>e.endsWith("%")&&rl(e.slice(0,-1)),nt=e=>kA.test(e),ji=e=>KD.test(e),tk=new Set(["length","size","percentage"]),nk=e=>$l(e,tk,MA),rk=e=>$l(e,"position",MA),sk=new Set(["image","url"]),ik=e=>$l(e,sk,ck),ok=e=>$l(e,"",lk),xc=()=>!0,$l=(e,t,n)=>{const r=kA.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},ak=e=>qD.test(e)&&!YD.test(e),MA=()=>!1,lk=e=>QD.test(e),ck=e=>JD.test(e),uk=()=>{const e=Ht("colors"),t=Ht("spacing"),n=Ht("blur"),r=Ht("brightness"),o=Ht("borderColor"),l=Ht("borderRadius"),d=Ht("borderSpacing"),m=Ht("borderWidth"),x=Ht("contrast"),g=Ht("grayscale"),v=Ht("hueRotate"),C=Ht("invert"),S=Ht("gap"),R=Ht("gradientColorStops"),P=Ht("gradientColorStopPositions"),N=Ht("inset"),k=Ht("margin"),O=Ht("opacity"),A=Ht("padding"),I=Ht("saturate"),M=Ht("scale"),F=Ht("sepia"),X=Ht("skew"),B=Ht("space"),K=Ht("translate"),G=()=>["auto","contain","none"],oe=()=>["auto","hidden","clip","visible","scroll"],ye=()=>["auto",nt,t],Q=()=>[nt,t],ie=()=>["",Qs,Mi],se=()=>["auto",rl,nt],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",nt],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ie=()=>[rl,nt];return{cacheSize:500,separator:":",theme:{colors:[xc],spacing:[Qs,Mi],blur:["none","",ji,nt],brightness:Ie(),borderColor:[e],borderRadius:["none","","full",ji,nt],borderSpacing:Q(),borderWidth:ie(),contrast:Ie(),grayscale:V(),hueRotate:Ie(),invert:V(),gap:Q(),gradientColorStops:[e],gradientColorStopPositions:[ek,Mi],inset:ye(),margin:ye(),opacity:Ie(),padding:Q(),saturate:Ie(),scale:Ie(),sepia:V(),skew:Ie(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",nt]}],container:["container"],columns:[{columns:[ji]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),nt]}],overflow:[{overflow:oe()}],"overflow-x":[{"overflow-x":oe()}],"overflow-y":[{"overflow-y":oe()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gc,nt]}],basis:[{basis:ye()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nt]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",gc,nt]}],"grid-cols":[{"grid-cols":[xc]}],"col-start-end":[{col:["auto",{span:["full",gc,nt]},nt]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[xc]}],"row-start-end":[{row:["auto",{span:[gc,nt]},nt]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nt]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nt,t]}],"min-w":[{"min-w":[nt,t,"min","max","fit"]}],"max-w":[{"max-w":[nt,t,"none","full","min","max","fit","prose",{screen:[ji]},ji]}],h:[{h:[nt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ji,Mi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",q0]}],"font-family":[{font:[xc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nt]}],"line-clamp":[{"line-clamp":["none",rl,q0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qs,nt]}],"list-image":[{"list-image":["none",nt]}],"list-style-type":[{list:["none","disc","decimal",nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qs,Mi]}],"underline-offset":[{"underline-offset":["auto",Qs,nt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),rk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ik]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[R]}],"gradient-via":[{via:[R]}],"gradient-to":[{to:[R]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:fe()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[Qs,nt]}],"outline-w":[{outline:[Qs,Mi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[Qs,Mi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ji,ok]}],"shadow-color":[{shadow:[xc]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",ji,nt]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[C]}],saturate:[{saturate:[I]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[C]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nt]}],duration:[{duration:Ie()}],ease:[{ease:["linear","in","out","in-out",nt]}],delay:[{delay:Ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[gc,nt]}],"translate-x":[{"translate-x":[K]}],"translate-y":[{"translate-y":[K]}],"skew-x":[{"skew-x":[X]}],"skew-y":[{"skew-y":[X]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qs,Mi,q0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dk=$D(uk);function Le(...e){return dk(AA(e))}const fk=gD,jA=b.forwardRef(({className:e,...t},n)=>h.jsx(yA,{ref:n,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));jA.displayName=yA.displayName;const hk=Nh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LA=b.forwardRef(({className:e,variant:t,...n},r)=>h.jsx(vA,{ref:r,className:Le(hk({variant:t}),e),...n}));LA.displayName=vA.displayName;const mk=b.forwardRef(({className:e,...t},n)=>h.jsx(bA,{ref:n,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));mk.displayName=bA.displayName;const FA=b.forwardRef(({className:e,...t},n)=>h.jsx(EA,{ref:n,className:Le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:h.jsx(RA,{className:"h-4 w-4"})}));FA.displayName=EA.displayName;const BA=b.forwardRef(({className:e,...t},n)=>h.jsx(wA,{ref:n,className:Le("text-sm font-semibold",e),...t}));BA.displayName=wA.displayName;const VA=b.forwardRef(({className:e,...t},n)=>h.jsx(CA,{ref:n,className:Le("text-sm opacity-90",e),...t}));VA.displayName=CA.displayName;function pk(){const{toasts:e}=Rr();return h.jsxs(fk,{children:[e.map(function({id:t,title:n,description:r,action:o,...l}){return h.jsxs(LA,{...l,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(BA,{children:n}),r&&h.jsx(VA,{children:r})]}),o,h.jsx(FA,{})]},t)}),h.jsx(jA,{})]})}var gk=CE[" useId ".trim().toString()]||(()=>{}),xk=0;function Gs(e){const[t,n]=b.useState(gk());return Tn(()=>{e||n(r=>r??String(xk++))},[e]),e||(t?`radix-${t}`:"")}const yk=["top","right","bottom","left"],go=Math.min,Lr=Math.max,Rf=Math.round,bd=Math.floor,$s=e=>({x:e,y:e}),vk={left:"right",right:"left",bottom:"top",top:"bottom"},wk={start:"end",end:"start"};function Om(e,t,n){return Lr(e,go(t,n))}function Ci(e,t){return typeof e=="function"?e(t):e}function bi(e){return e.split("-")[0]}function Xl(e){return e.split("-")[1]}function pg(e){return e==="x"?"y":"x"}function gg(e){return e==="y"?"height":"width"}function xo(e){return["top","bottom"].includes(bi(e))?"y":"x"}function xg(e){return pg(xo(e))}function Ck(e,t,n){n===void 0&&(n=!1);const r=Xl(e),o=xg(e),l=gg(o);let d=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(d=Of(d)),[d,Of(d)]}function bk(e){const t=Of(e);return[Pm(e),t,Pm(t)]}function Pm(e){return e.replace(/start|end/g,t=>wk[t])}function Ek(e,t,n){const r=["left","right"],o=["right","left"],l=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?l:d;default:return[]}}function Sk(e,t,n,r){const o=Xl(e);let l=Ek(bi(e),n==="start",r);return o&&(l=l.map(d=>d+"-"+o),t&&(l=l.concat(l.map(Pm)))),l}function Of(e){return e.replace(/left|right|bottom|top/g,t=>vk[t])}function Ak(e){return{top:0,right:0,bottom:0,left:0,...e}}function UA(e){return typeof e!="number"?Ak(e):{top:e,right:e,bottom:e,left:e}}function Pf(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function m2(e,t,n){let{reference:r,floating:o}=e;const l=xo(t),d=xg(t),m=gg(d),x=bi(t),g=l==="y",v=r.x+r.width/2-o.width/2,C=r.y+r.height/2-o.height/2,S=r[m]/2-o[m]/2;let R;switch(x){case"top":R={x:v,y:r.y-o.height};break;case"bottom":R={x:v,y:r.y+r.height};break;case"right":R={x:r.x+r.width,y:C};break;case"left":R={x:r.x-o.width,y:C};break;default:R={x:r.x,y:r.y}}switch(Xl(t)){case"start":R[d]-=S*(n&&g?-1:1);break;case"end":R[d]+=S*(n&&g?-1:1);break}return R}const Nk=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:l=[],platform:d}=n,m=l.filter(Boolean),x=await(d.isRTL==null?void 0:d.isRTL(t));let g=await d.getElementRects({reference:e,floating:t,strategy:o}),{x:v,y:C}=m2(g,r,x),S=r,R={},P=0;for(let N=0;N<m.length;N++){const{name:k,fn:O}=m[N],{x:A,y:I,data:M,reset:F}=await O({x:v,y:C,initialPlacement:r,placement:S,strategy:o,middlewareData:R,rects:g,platform:d,elements:{reference:e,floating:t}});v=A??v,C=I??C,R={...R,[k]:{...R[k],...M}},F&&P<=50&&(P++,typeof F=="object"&&(F.placement&&(S=F.placement),F.rects&&(g=F.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:o}):F.rects),{x:v,y:C}=m2(g,S,x)),N=-1)}return{x:v,y:C,placement:S,strategy:o,middlewareData:R}};async function cu(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:l,rects:d,elements:m,strategy:x}=e,{boundary:g="clippingAncestors",rootBoundary:v="viewport",elementContext:C="floating",altBoundary:S=!1,padding:R=0}=Ci(t,e),P=UA(R),k=m[S?C==="floating"?"reference":"floating":C],O=Pf(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(k)))==null||n?k:k.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(m.floating)),boundary:g,rootBoundary:v,strategy:x})),A=C==="floating"?{x:r,y:o,width:d.floating.width,height:d.floating.height}:d.reference,I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m.floating)),M=await(l.isElement==null?void 0:l.isElement(I))?await(l.getScale==null?void 0:l.getScale(I))||{x:1,y:1}:{x:1,y:1},F=Pf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:A,offsetParent:I,strategy:x}):A);return{top:(O.top-F.top+P.top)/M.y,bottom:(F.bottom-O.bottom+P.bottom)/M.y,left:(O.left-F.left+P.left)/M.x,right:(F.right-O.right+P.right)/M.x}}const _k=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:l,platform:d,elements:m,middlewareData:x}=t,{element:g,padding:v=0}=Ci(e,t)||{};if(g==null)return{};const C=UA(v),S={x:n,y:r},R=xg(o),P=gg(R),N=await d.getDimensions(g),k=R==="y",O=k?"top":"left",A=k?"bottom":"right",I=k?"clientHeight":"clientWidth",M=l.reference[P]+l.reference[R]-S[R]-l.floating[P],F=S[R]-l.reference[R],X=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let B=X?X[I]:0;(!B||!await(d.isElement==null?void 0:d.isElement(X)))&&(B=m.floating[I]||l.floating[P]);const K=M/2-F/2,G=B/2-N[P]/2-1,oe=go(C[O],G),ye=go(C[A],G),Q=oe,ie=B-N[P]-ye,se=B/2-N[P]/2+K,$=Om(Q,se,ie),fe=!x.arrow&&Xl(o)!=null&&se!==$&&l.reference[P]/2-(se<Q?oe:ye)-N[P]/2<0,ue=fe?se<Q?se-Q:se-ie:0;return{[R]:S[R]+ue,data:{[R]:$,centerOffset:se-$-ue,...fe&&{alignmentOffset:ue}},reset:fe}}}),Tk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:l,rects:d,initialPlacement:m,platform:x,elements:g}=t,{mainAxis:v=!0,crossAxis:C=!0,fallbackPlacements:S,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:N=!0,...k}=Ci(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const O=bi(o),A=xo(m),I=bi(m)===m,M=await(x.isRTL==null?void 0:x.isRTL(g.floating)),F=S||(I||!N?[Of(m)]:bk(m)),X=P!=="none";!S&&X&&F.push(...Sk(m,N,P,M));const B=[m,...F],K=await cu(t,k),G=[];let oe=((r=l.flip)==null?void 0:r.overflows)||[];if(v&&G.push(K[O]),C){const se=Ck(o,d,M);G.push(K[se[0]],K[se[1]])}if(oe=[...oe,{placement:o,overflows:G}],!G.every(se=>se<=0)){var ye,Q;const se=(((ye=l.flip)==null?void 0:ye.index)||0)+1,$=B[se];if($)return{data:{index:se,overflows:oe},reset:{placement:$}};let fe=(Q=oe.filter(ue=>ue.overflows[0]<=0).sort((ue,ne)=>ue.overflows[1]-ne.overflows[1])[0])==null?void 0:Q.placement;if(!fe)switch(R){case"bestFit":{var ie;const ue=(ie=oe.filter(ne=>{if(X){const V=xo(ne.placement);return V===A||V==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(V=>V>0).reduce((V,ce)=>V+ce,0)]).sort((ne,V)=>ne[1]-V[1])[0])==null?void 0:ie[0];ue&&(fe=ue);break}case"initialPlacement":fe=m;break}if(o!==fe)return{reset:{placement:fe}}}return{}}}};function p2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function g2(e){return yk.some(t=>e[t]>=0)}const Ik=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Ci(e,t);switch(r){case"referenceHidden":{const l=await cu(t,{...o,elementContext:"reference"}),d=p2(l,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:g2(d)}}}case"escaped":{const l=await cu(t,{...o,altBoundary:!0}),d=p2(l,n.floating);return{data:{escapedOffsets:d,escaped:g2(d)}}}default:return{}}}}};async function Rk(e,t){const{placement:n,platform:r,elements:o}=e,l=await(r.isRTL==null?void 0:r.isRTL(o.floating)),d=bi(n),m=Xl(n),x=xo(n)==="y",g=["left","top"].includes(d)?-1:1,v=l&&x?-1:1,C=Ci(t,e);let{mainAxis:S,crossAxis:R,alignmentAxis:P}=typeof C=="number"?{mainAxis:C,crossAxis:0,alignmentAxis:null}:{mainAxis:C.mainAxis||0,crossAxis:C.crossAxis||0,alignmentAxis:C.alignmentAxis};return m&&typeof P=="number"&&(R=m==="end"?P*-1:P),x?{x:R*v,y:S*g}:{x:S*g,y:R*v}}const Ok=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:l,placement:d,middlewareData:m}=t,x=await Rk(t,e);return d===((n=m.offset)==null?void 0:n.placement)&&(r=m.arrow)!=null&&r.alignmentOffset?{}:{x:o+x.x,y:l+x.y,data:{...x,placement:d}}}}},Pk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:l=!0,crossAxis:d=!1,limiter:m={fn:k=>{let{x:O,y:A}=k;return{x:O,y:A}}},...x}=Ci(e,t),g={x:n,y:r},v=await cu(t,x),C=xo(bi(o)),S=pg(C);let R=g[S],P=g[C];if(l){const k=S==="y"?"top":"left",O=S==="y"?"bottom":"right",A=R+v[k],I=R-v[O];R=Om(A,R,I)}if(d){const k=C==="y"?"top":"left",O=C==="y"?"bottom":"right",A=P+v[k],I=P-v[O];P=Om(A,P,I)}const N=m.fn({...t,[S]:R,[C]:P});return{...N,data:{x:N.x-n,y:N.y-r,enabled:{[S]:l,[C]:d}}}}}},Dk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:l,middlewareData:d}=t,{offset:m=0,mainAxis:x=!0,crossAxis:g=!0}=Ci(e,t),v={x:n,y:r},C=xo(o),S=pg(C);let R=v[S],P=v[C];const N=Ci(m,t),k=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(x){const I=S==="y"?"height":"width",M=l.reference[S]-l.floating[I]+k.mainAxis,F=l.reference[S]+l.reference[I]-k.mainAxis;R<M?R=M:R>F&&(R=F)}if(g){var O,A;const I=S==="y"?"width":"height",M=["top","left"].includes(bi(o)),F=l.reference[C]-l.floating[I]+(M&&((O=d.offset)==null?void 0:O[C])||0)+(M?0:k.crossAxis),X=l.reference[C]+l.reference[I]+(M?0:((A=d.offset)==null?void 0:A[C])||0)-(M?k.crossAxis:0);P<F?P=F:P>X&&(P=X)}return{[S]:R,[C]:P}}}},kk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:l,platform:d,elements:m}=t,{apply:x=()=>{},...g}=Ci(e,t),v=await cu(t,g),C=bi(o),S=Xl(o),R=xo(o)==="y",{width:P,height:N}=l.floating;let k,O;C==="top"||C==="bottom"?(k=C,O=S===(await(d.isRTL==null?void 0:d.isRTL(m.floating))?"start":"end")?"left":"right"):(O=C,k=S==="end"?"top":"bottom");const A=N-v.top-v.bottom,I=P-v.left-v.right,M=go(N-v[k],A),F=go(P-v[O],I),X=!t.middlewareData.shift;let B=M,K=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(K=I),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(B=A),X&&!S){const oe=Lr(v.left,0),ye=Lr(v.right,0),Q=Lr(v.top,0),ie=Lr(v.bottom,0);R?K=P-2*(oe!==0||ye!==0?oe+ye:Lr(v.left,v.right)):B=N-2*(Q!==0||ie!==0?Q+ie:Lr(v.top,v.bottom))}await x({...t,availableWidth:K,availableHeight:B});const G=await d.getDimensions(m.floating);return P!==G.width||N!==G.height?{reset:{rects:!0}}:{}}}};function Th(){return typeof window<"u"}function Zl(e){return zA(e)?(e.nodeName||"").toLowerCase():"#document"}function Vr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ys(e){var t;return(t=(zA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zA(e){return Th()?e instanceof Node||e instanceof Vr(e).Node:!1}function Ss(e){return Th()?e instanceof Element||e instanceof Vr(e).Element:!1}function Zs(e){return Th()?e instanceof HTMLElement||e instanceof Vr(e).HTMLElement:!1}function x2(e){return!Th()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vr(e).ShadowRoot}function Lu(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=As(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Mk(e){return["table","td","th"].includes(Zl(e))}function Ih(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function yg(e){const t=vg(),n=Ss(e)?As(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function jk(e){let t=yo(e);for(;Zs(t)&&!Pl(t);){if(yg(t))return t;if(Ih(t))return null;t=yo(t)}return null}function vg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pl(e){return["html","body","#document"].includes(Zl(e))}function As(e){return Vr(e).getComputedStyle(e)}function Rh(e){return Ss(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yo(e){if(Zl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||x2(e)&&e.host||Ys(e);return x2(t)?t.host:t}function WA(e){const t=yo(e);return Pl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zs(t)&&Lu(t)?t:WA(t)}function uu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=WA(e),l=o===((r=e.ownerDocument)==null?void 0:r.body),d=Vr(o);if(l){const m=Dm(d);return t.concat(d,d.visualViewport||[],Lu(o)?o:[],m&&n?uu(m):[])}return t.concat(o,uu(o,[],n))}function Dm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function HA(e){const t=As(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Zs(e),l=o?e.offsetWidth:n,d=o?e.offsetHeight:r,m=Rf(n)!==l||Rf(r)!==d;return m&&(n=l,r=d),{width:n,height:r,$:m}}function wg(e){return Ss(e)?e:e.contextElement}function sl(e){const t=wg(e);if(!Zs(t))return $s(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:l}=HA(t);let d=(l?Rf(n.width):n.width)/r,m=(l?Rf(n.height):n.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const Lk=$s(0);function GA(e){const t=Vr(e);return!vg()||!t.visualViewport?Lk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Fk(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Vr(e)?!1:t}function la(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=wg(e);let d=$s(1);t&&(r?Ss(r)&&(d=sl(r)):d=sl(e));const m=Fk(l,n,r)?GA(l):$s(0);let x=(o.left+m.x)/d.x,g=(o.top+m.y)/d.y,v=o.width/d.x,C=o.height/d.y;if(l){const S=Vr(l),R=r&&Ss(r)?Vr(r):r;let P=S,N=Dm(P);for(;N&&r&&R!==P;){const k=sl(N),O=N.getBoundingClientRect(),A=As(N),I=O.left+(N.clientLeft+parseFloat(A.paddingLeft))*k.x,M=O.top+(N.clientTop+parseFloat(A.paddingTop))*k.y;x*=k.x,g*=k.y,v*=k.x,C*=k.y,x+=I,g+=M,P=Vr(N),N=Dm(P)}}return Pf({width:v,height:C,x,y:g})}function Cg(e,t){const n=Rh(e).scrollLeft;return t?t.left+n:la(Ys(e)).left+n}function $A(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Cg(e,r)),l=r.top+t.scrollTop;return{x:o,y:l}}function Bk(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const l=o==="fixed",d=Ys(r),m=t?Ih(t.floating):!1;if(r===d||m&&l)return n;let x={scrollLeft:0,scrollTop:0},g=$s(1);const v=$s(0),C=Zs(r);if((C||!C&&!l)&&((Zl(r)!=="body"||Lu(d))&&(x=Rh(r)),Zs(r))){const R=la(r);g=sl(r),v.x=R.x+r.clientLeft,v.y=R.y+r.clientTop}const S=d&&!C&&!l?$A(d,x,!0):$s(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-x.scrollLeft*g.x+v.x+S.x,y:n.y*g.y-x.scrollTop*g.y+v.y+S.y}}function Vk(e){return Array.from(e.getClientRects())}function Uk(e){const t=Ys(e),n=Rh(e),r=e.ownerDocument.body,o=Lr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),l=Lr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let d=-n.scrollLeft+Cg(e);const m=-n.scrollTop;return As(r).direction==="rtl"&&(d+=Lr(t.clientWidth,r.clientWidth)-o),{width:o,height:l,x:d,y:m}}function zk(e,t){const n=Vr(e),r=Ys(e),o=n.visualViewport;let l=r.clientWidth,d=r.clientHeight,m=0,x=0;if(o){l=o.width,d=o.height;const g=vg();(!g||g&&t==="fixed")&&(m=o.offsetLeft,x=o.offsetTop)}return{width:l,height:d,x:m,y:x}}function Wk(e,t){const n=la(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,l=Zs(e)?sl(e):$s(1),d=e.clientWidth*l.x,m=e.clientHeight*l.y,x=o*l.x,g=r*l.y;return{width:d,height:m,x,y:g}}function y2(e,t,n){let r;if(t==="viewport")r=zk(e,n);else if(t==="document")r=Uk(Ys(e));else if(Ss(t))r=Wk(t,n);else{const o=GA(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Pf(r)}function XA(e,t){const n=yo(e);return n===t||!Ss(n)||Pl(n)?!1:As(n).position==="fixed"||XA(n,t)}function Hk(e,t){const n=t.get(e);if(n)return n;let r=uu(e,[],!1).filter(m=>Ss(m)&&Zl(m)!=="body"),o=null;const l=As(e).position==="fixed";let d=l?yo(e):e;for(;Ss(d)&&!Pl(d);){const m=As(d),x=yg(d);!x&&m.position==="fixed"&&(o=null),(l?!x&&!o:!x&&m.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Lu(d)&&!x&&XA(e,d))?r=r.filter(v=>v!==d):o=m,d=yo(d)}return t.set(e,r),r}function Gk(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const d=[...n==="clippingAncestors"?Ih(t)?[]:Hk(t,this._c):[].concat(n),r],m=d[0],x=d.reduce((g,v)=>{const C=y2(t,v,o);return g.top=Lr(C.top,g.top),g.right=go(C.right,g.right),g.bottom=go(C.bottom,g.bottom),g.left=Lr(C.left,g.left),g},y2(t,m,o));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function $k(e){const{width:t,height:n}=HA(e);return{width:t,height:n}}function Xk(e,t,n){const r=Zs(t),o=Ys(t),l=n==="fixed",d=la(e,!0,l,t);let m={scrollLeft:0,scrollTop:0};const x=$s(0);if(r||!r&&!l)if((Zl(t)!=="body"||Lu(o))&&(m=Rh(t)),r){const S=la(t,!0,l,t);x.x=S.x+t.clientLeft,x.y=S.y+t.clientTop}else o&&(x.x=Cg(o));const g=o&&!r&&!l?$A(o,m):$s(0),v=d.left+m.scrollLeft-x.x-g.x,C=d.top+m.scrollTop-x.y-g.y;return{x:v,y:C,width:d.width,height:d.height}}function Y0(e){return As(e).position==="static"}function v2(e,t){if(!Zs(e)||As(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ys(e)===n&&(n=n.ownerDocument.body),n}function ZA(e,t){const n=Vr(e);if(Ih(e))return n;if(!Zs(e)){let o=yo(e);for(;o&&!Pl(o);){if(Ss(o)&&!Y0(o))return o;o=yo(o)}return n}let r=v2(e,t);for(;r&&Mk(r)&&Y0(r);)r=v2(r,t);return r&&Pl(r)&&Y0(r)&&!yg(r)?n:r||jk(e)||n}const Zk=async function(e){const t=this.getOffsetParent||ZA,n=this.getDimensions,r=await n(e.floating);return{reference:Xk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Kk(e){return As(e).direction==="rtl"}const qk={convertOffsetParentRelativeRectToViewportRelativeRect:Bk,getDocumentElement:Ys,getClippingRect:Gk,getOffsetParent:ZA,getElementRects:Zk,getClientRects:Vk,getDimensions:$k,getScale:sl,isElement:Ss,isRTL:Kk};function KA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Yk(e,t){let n=null,r;const o=Ys(e);function l(){var m;clearTimeout(r),(m=n)==null||m.disconnect(),n=null}function d(m,x){m===void 0&&(m=!1),x===void 0&&(x=1),l();const g=e.getBoundingClientRect(),{left:v,top:C,width:S,height:R}=g;if(m||t(),!S||!R)return;const P=bd(C),N=bd(o.clientWidth-(v+S)),k=bd(o.clientHeight-(C+R)),O=bd(v),I={rootMargin:-P+"px "+-N+"px "+-k+"px "+-O+"px",threshold:Lr(0,go(1,x))||1};let M=!0;function F(X){const B=X[0].intersectionRatio;if(B!==x){if(!M)return d();B?d(!1,B):r=setTimeout(()=>{d(!1,1e-7)},1e3)}B===1&&!KA(g,e.getBoundingClientRect())&&d(),M=!1}try{n=new IntersectionObserver(F,{...I,root:o.ownerDocument})}catch{n=new IntersectionObserver(F,I)}n.observe(e)}return d(!0),l}function Qk(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:x=!1}=r,g=wg(e),v=o||l?[...g?uu(g):[],...uu(t)]:[];v.forEach(O=>{o&&O.addEventListener("scroll",n,{passive:!0}),l&&O.addEventListener("resize",n)});const C=g&&m?Yk(g,n):null;let S=-1,R=null;d&&(R=new ResizeObserver(O=>{let[A]=O;A&&A.target===g&&R&&(R.unobserve(t),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var I;(I=R)==null||I.observe(t)})),n()}),g&&!x&&R.observe(g),R.observe(t));let P,N=x?la(e):null;x&&k();function k(){const O=la(e);N&&!KA(N,O)&&n(),N=O,P=requestAnimationFrame(k)}return n(),()=>{var O;v.forEach(A=>{o&&A.removeEventListener("scroll",n),l&&A.removeEventListener("resize",n)}),C==null||C(),(O=R)==null||O.disconnect(),R=null,x&&cancelAnimationFrame(P)}}const Jk=Ok,eM=Pk,tM=Tk,nM=kk,rM=Ik,w2=_k,sM=Dk,iM=(e,t,n)=>{const r=new Map,o={platform:qk,...n},l={...o.platform,_c:r};return Nk(e,t,{...o,platform:l})};var Qd=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Df(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Df(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const l=o[r];if(!(l==="_owner"&&e.$$typeof)&&!Df(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function qA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function C2(e,t){const n=qA(e);return Math.round(t*n)/n}function Q0(e){const t=b.useRef(e);return Qd(()=>{t.current=e}),t}function oM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:l,floating:d}={},transform:m=!0,whileElementsMounted:x,open:g}=e,[v,C]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[S,R]=b.useState(r);Df(S,r)||R(r);const[P,N]=b.useState(null),[k,O]=b.useState(null),A=b.useCallback(ne=>{ne!==X.current&&(X.current=ne,N(ne))},[]),I=b.useCallback(ne=>{ne!==B.current&&(B.current=ne,O(ne))},[]),M=l||P,F=d||k,X=b.useRef(null),B=b.useRef(null),K=b.useRef(v),G=x!=null,oe=Q0(x),ye=Q0(o),Q=Q0(g),ie=b.useCallback(()=>{if(!X.current||!B.current)return;const ne={placement:t,strategy:n,middleware:S};ye.current&&(ne.platform=ye.current),iM(X.current,B.current,ne).then(V=>{const ce={...V,isPositioned:Q.current!==!1};se.current&&!Df(K.current,ce)&&(K.current=ce,ya.flushSync(()=>{C(ce)}))})},[S,t,n,ye,Q]);Qd(()=>{g===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,C(ne=>({...ne,isPositioned:!1})))},[g]);const se=b.useRef(!1);Qd(()=>(se.current=!0,()=>{se.current=!1}),[]),Qd(()=>{if(M&&(X.current=M),F&&(B.current=F),M&&F){if(oe.current)return oe.current(M,F,ie);ie()}},[M,F,ie,oe,G]);const $=b.useMemo(()=>({reference:X,floating:B,setReference:A,setFloating:I}),[A,I]),fe=b.useMemo(()=>({reference:M,floating:F}),[M,F]),ue=b.useMemo(()=>{const ne={position:n,left:0,top:0};if(!fe.floating)return ne;const V=C2(fe.floating,v.x),ce=C2(fe.floating,v.y);return m?{...ne,transform:"translate("+V+"px, "+ce+"px)",...qA(fe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:ce}},[n,m,fe.floating,v.x,v.y]);return b.useMemo(()=>({...v,update:ie,refs:$,elements:fe,floatingStyles:ue}),[v,ie,$,fe,ue])}const aM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?w2({element:r.current,padding:o}).fn(n):{}:r?w2({element:r,padding:o}).fn(n):{}}}},lM=(e,t)=>({...Jk(e),options:[e,t]}),cM=(e,t)=>({...eM(e),options:[e,t]}),uM=(e,t)=>({...sM(e),options:[e,t]}),dM=(e,t)=>({...tM(e),options:[e,t]}),fM=(e,t)=>({...nM(e),options:[e,t]}),hM=(e,t)=>({...rM(e),options:[e,t]}),mM=(e,t)=>({...aM(e),options:[e,t]});var pM="Arrow",YA=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...l}=e;return h.jsx(ze.svg,{...l,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});YA.displayName=pM;var gM=YA;function QA(e){const[t,n]=b.useState(void 0);return Tn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let d,m;if("borderBoxSize"in l){const x=l.borderBoxSize,g=Array.isArray(x)?x[0]:x;d=g.inlineSize,m=g.blockSize}else d=e.offsetWidth,m=e.offsetHeight;n({width:d,height:m})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var bg="Popper",[JA,Kl]=Gr(bg),[xM,eN]=JA(bg),tN=e=>{const{__scopePopper:t,children:n}=e,[r,o]=b.useState(null);return h.jsx(xM,{scope:t,anchor:r,onAnchorChange:o,children:n})};tN.displayName=bg;var nN="PopperAnchor",rN=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,l=eN(nN,n),d=b.useRef(null),m=vt(t,d);return b.useEffect(()=>{l.onAnchorChange((r==null?void 0:r.current)||d.current)}),r?null:h.jsx(ze.div,{...o,ref:m})});rN.displayName=nN;var Eg="PopperContent",[yM,vM]=JA(Eg),sN=b.forwardRef((e,t)=>{var ke,We,ft,ct,Ze,ht;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:l="center",alignOffset:d=0,arrowPadding:m=0,avoidCollisions:x=!0,collisionBoundary:g=[],collisionPadding:v=0,sticky:C="partial",hideWhenDetached:S=!1,updatePositionStrategy:R="optimized",onPlaced:P,...N}=e,k=eN(Eg,n),[O,A]=b.useState(null),I=vt(t,Ke=>A(Ke)),[M,F]=b.useState(null),X=QA(M),B=(X==null?void 0:X.width)??0,K=(X==null?void 0:X.height)??0,G=r+(l!=="center"?"-"+l:""),oe=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},ye=Array.isArray(g)?g:[g],Q=ye.length>0,ie={padding:oe,boundary:ye.filter(CM),altBoundary:Q},{refs:se,floatingStyles:$,placement:fe,isPositioned:ue,middlewareData:ne}=oM({strategy:"fixed",placement:G,whileElementsMounted:(...Ke)=>Qk(...Ke,{animationFrame:R==="always"}),elements:{reference:k.anchor},middleware:[lM({mainAxis:o+K,alignmentAxis:d}),x&&cM({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?uM():void 0,...ie}),x&&dM({...ie}),fM({...ie,apply:({elements:Ke,rects:vn,availableWidth:In,availableHeight:pr})=>{const{width:Vt,height:_t}=vn.reference,st=Ke.floating.style;st.setProperty("--radix-popper-available-width",`${In}px`),st.setProperty("--radix-popper-available-height",`${pr}px`),st.setProperty("--radix-popper-anchor-width",`${Vt}px`),st.setProperty("--radix-popper-anchor-height",`${_t}px`)}}),M&&mM({element:M,padding:m}),bM({arrowWidth:B,arrowHeight:K}),S&&hM({strategy:"referenceHidden",...ie})]}),[V,ce]=aN(fe),Ie=Gn(P);Tn(()=>{ue&&(Ie==null||Ie())},[ue,Ie]);const Me=(ke=ne.arrow)==null?void 0:ke.x,rt=(We=ne.arrow)==null?void 0:We.y,Ye=((ft=ne.arrow)==null?void 0:ft.centerOffset)!==0,[yn,Ee]=b.useState();return Tn(()=>{O&&Ee(window.getComputedStyle(O).zIndex)},[O]),h.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:ue?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:yn,"--radix-popper-transform-origin":[(ct=ne.transformOrigin)==null?void 0:ct.x,(Ze=ne.transformOrigin)==null?void 0:Ze.y].join(" "),...((ht=ne.hide)==null?void 0:ht.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(yM,{scope:n,placedSide:V,onArrowChange:F,arrowX:Me,arrowY:rt,shouldHideArrow:Ye,children:h.jsx(ze.div,{"data-side":V,"data-align":ce,...N,ref:I,style:{...N.style,animation:ue?void 0:"none"}})})})});sN.displayName=Eg;var iN="PopperArrow",wM={top:"bottom",right:"left",bottom:"top",left:"right"},oN=b.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,l=vM(iN,r),d=wM[l.placedSide];return h.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:h.jsx(gM,{...o,ref:n,style:{...o.style,display:"block"}})})});oN.displayName=iN;function CM(e){return e!==null}var bM=e=>({name:"transformOrigin",options:e,fn(t){var k,O,A;const{placement:n,rects:r,middlewareData:o}=t,d=((k=o.arrow)==null?void 0:k.centerOffset)!==0,m=d?0:e.arrowWidth,x=d?0:e.arrowHeight,[g,v]=aN(n),C={start:"0%",center:"50%",end:"100%"}[v],S=(((O=o.arrow)==null?void 0:O.x)??0)+m/2,R=(((A=o.arrow)==null?void 0:A.y)??0)+x/2;let P="",N="";return g==="bottom"?(P=d?C:`${S}px`,N=`${-x}px`):g==="top"?(P=d?C:`${S}px`,N=`${r.floating.height+x}px`):g==="right"?(P=`${-x}px`,N=d?C:`${R}px`):g==="left"&&(P=`${r.floating.width+x}px`,N=d?C:`${R}px`),{data:{x:P,y:N}}}});function aN(e){const[t,n="center"]=e.split("-");return[t,n]}var lN=tN,Sg=rN,Ag=sN,Ng=oN,[Oh,QV]=Gr("Tooltip",[Kl]),_g=Kl(),cN="TooltipProvider",EM=700,b2="tooltip.open",[SM,uN]=Oh(cN),dN=e=>{const{__scopeTooltip:t,delayDuration:n=EM,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:l}=e,d=b.useRef(!0),m=b.useRef(!1),x=b.useRef(0);return b.useEffect(()=>{const g=x.current;return()=>window.clearTimeout(g)},[]),h.jsx(SM,{scope:t,isOpenDelayedRef:d,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(x.current),d.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>d.current=!0,r)},[r]),isPointerInTransitRef:m,onPointerInTransitChange:b.useCallback(g=>{m.current=g},[]),disableHoverableContent:o,children:l})};dN.displayName=cN;var fN="Tooltip",[JV,Ph]=Oh(fN),km="TooltipTrigger",AM=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Ph(km,n),l=uN(km,n),d=_g(n),m=b.useRef(null),x=vt(t,m,o.onTriggerChange),g=b.useRef(!1),v=b.useRef(!1),C=b.useCallback(()=>g.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",C),[C]),h.jsx(Sg,{asChild:!0,...d,children:h.jsx(ze.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:x,onPointerMove:Ce(e.onPointerMove,S=>{S.pointerType!=="touch"&&!v.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),v.current=!0)}),onPointerLeave:Ce(e.onPointerLeave,()=>{o.onTriggerLeave(),v.current=!1}),onPointerDown:Ce(e.onPointerDown,()=>{o.open&&o.onClose(),g.current=!0,document.addEventListener("pointerup",C,{once:!0})}),onFocus:Ce(e.onFocus,()=>{g.current||o.onOpen()}),onBlur:Ce(e.onBlur,o.onClose),onClick:Ce(e.onClick,o.onClose)})})});AM.displayName=km;var NM="TooltipPortal",[eU,_M]=Oh(NM,{forceMount:void 0}),Dl="TooltipContent",hN=b.forwardRef((e,t)=>{const n=_M(Dl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...l}=e,d=Ph(Dl,e.__scopeTooltip);return h.jsx(as,{present:r||d.open,children:d.disableHoverableContent?h.jsx(mN,{side:o,...l,ref:t}):h.jsx(TM,{side:o,...l,ref:t})})}),TM=b.forwardRef((e,t)=>{const n=Ph(Dl,e.__scopeTooltip),r=uN(Dl,e.__scopeTooltip),o=b.useRef(null),l=vt(t,o),[d,m]=b.useState(null),{trigger:x,onClose:g}=n,v=o.current,{onPointerInTransitChange:C}=r,S=b.useCallback(()=>{m(null),C(!1)},[C]),R=b.useCallback((P,N)=>{const k=P.currentTarget,O={x:P.clientX,y:P.clientY},A=DM(O,k.getBoundingClientRect()),I=kM(O,A),M=MM(N.getBoundingClientRect()),F=LM([...I,...M]);m(F),C(!0)},[C]);return b.useEffect(()=>()=>S(),[S]),b.useEffect(()=>{if(x&&v){const P=k=>R(k,v),N=k=>R(k,x);return x.addEventListener("pointerleave",P),v.addEventListener("pointerleave",N),()=>{x.removeEventListener("pointerleave",P),v.removeEventListener("pointerleave",N)}}},[x,v,R,S]),b.useEffect(()=>{if(d){const P=N=>{const k=N.target,O={x:N.clientX,y:N.clientY},A=(x==null?void 0:x.contains(k))||(v==null?void 0:v.contains(k)),I=!jM(O,d);A?S():I&&(S(),g())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[x,v,d,g,S]),h.jsx(mN,{...e,ref:l})}),[IM,RM]=Oh(fN,{isInside:!1}),OM=tA("TooltipContent"),mN=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:d,...m}=e,x=Ph(Dl,n),g=_g(n),{onClose:v}=x;return b.useEffect(()=>(document.addEventListener(b2,v),()=>document.removeEventListener(b2,v)),[v]),b.useEffect(()=>{if(x.trigger){const C=S=>{const R=S.target;R!=null&&R.contains(x.trigger)&&v()};return window.addEventListener("scroll",C,{capture:!0}),()=>window.removeEventListener("scroll",C,{capture:!0})}},[x.trigger,v]),h.jsx(Gl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:C=>C.preventDefault(),onDismiss:v,children:h.jsxs(Ag,{"data-state":x.stateAttribute,...g,...m,ref:t,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(OM,{children:r}),h.jsx(IM,{scope:n,isInside:!0,children:h.jsx(QP,{id:x.contentId,role:"tooltip",children:o||r})})]})})});hN.displayName=Dl;var pN="TooltipArrow",PM=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=_g(n);return RM(pN,n).isInside?null:h.jsx(Ng,{...o,...r,ref:t})});PM.displayName=pN;function DM(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,r,o,l)){case l:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function kM(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function MM(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function jM(e,t){const{x:n,y:r}=e;let o=!1;for(let l=0,d=t.length-1;l<t.length;d=l++){const m=t[l].x,x=t[l].y,g=t[d].x,v=t[d].y;x>r!=v>r&&n<(g-m)*(r-x)/(v-x)+m&&(o=!o)}return o}function LM(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),FM(t)}function FM(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const l=t[t.length-1],d=t[t.length-2];if((l.x-d.x)*(o.y-d.y)>=(l.y-d.y)*(o.x-d.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const l=n[n.length-1],d=n[n.length-2];if((l.x-d.x)*(o.y-d.y)>=(l.y-d.y)*(o.x-d.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var BM=dN,gN=hN;const VM=BM,UM=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>h.jsx(gN,{ref:r,sideOffset:t,className:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));UM.displayName=gN.displayName;function No(){const[,e]=os(),{data:t,isLoading:n,error:r}=mo({queryKey:["/api/auth/me"],retry:(o,l)=>l.message.includes("401")||l.message.includes("403")?(localStorage.removeItem("token"),e("/login"),!1):o<3,enabled:!!localStorage.getItem("token")});return{user:t,isLoading:n,isAuthenticated:!!t&&!!localStorage.getItem("token"),error:r}}const Tg=Nh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ut=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},l)=>{const d=r?J3:"button";return h.jsx(d,{className:Le(Tg({variant:t,size:n,className:e})),ref:l,...o})});ut.displayName="Button";var J0="focusScope.autoFocusOnMount",e1="focusScope.autoFocusOnUnmount",E2={bubbles:!1,cancelable:!0},zM="FocusScope",Dh=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...d}=e,[m,x]=b.useState(null),g=Gn(o),v=Gn(l),C=b.useRef(null),S=vt(t,N=>x(N)),R=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let N=function(I){if(R.paused||!m)return;const M=I.target;m.contains(M)?C.current=M:Bi(C.current,{select:!0})},k=function(I){if(R.paused||!m)return;const M=I.relatedTarget;M!==null&&(m.contains(M)||Bi(C.current,{select:!0}))},O=function(I){if(document.activeElement===document.body)for(const F of I)F.removedNodes.length>0&&Bi(m)};document.addEventListener("focusin",N),document.addEventListener("focusout",k);const A=new MutationObserver(O);return m&&A.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",k),A.disconnect()}}},[r,m,R.paused]),b.useEffect(()=>{if(m){A2.add(R);const N=document.activeElement;if(!m.contains(N)){const O=new CustomEvent(J0,E2);m.addEventListener(J0,g),m.dispatchEvent(O),O.defaultPrevented||(WM(ZM(xN(m)),{select:!0}),document.activeElement===N&&Bi(m))}return()=>{m.removeEventListener(J0,g),setTimeout(()=>{const O=new CustomEvent(e1,E2);m.addEventListener(e1,v),m.dispatchEvent(O),O.defaultPrevented||Bi(N??document.body,{select:!0}),m.removeEventListener(e1,v),A2.remove(R)},0)}}},[m,g,v,R]);const P=b.useCallback(N=>{if(!n&&!r||R.paused)return;const k=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,O=document.activeElement;if(k&&O){const A=N.currentTarget,[I,M]=HM(A);I&&M?!N.shiftKey&&O===M?(N.preventDefault(),n&&Bi(I,{select:!0})):N.shiftKey&&O===I&&(N.preventDefault(),n&&Bi(M,{select:!0})):O===A&&N.preventDefault()}},[n,r,R.paused]);return h.jsx(ze.div,{tabIndex:-1,...d,ref:S,onKeyDown:P})});Dh.displayName=zM;function WM(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Bi(r,{select:t}),document.activeElement!==n)return}function HM(e){const t=xN(e),n=S2(t,e),r=S2(t.reverse(),e);return[n,r]}function xN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function S2(e,t){for(const n of e)if(!GM(n,{upTo:t}))return n}function GM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $M(e){return e instanceof HTMLInputElement&&"select"in e}function Bi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&$M(e)&&t&&e.select()}}var A2=XM();function XM(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=N2(e,t),e.unshift(t)},remove(t){var n;e=N2(e,t),(n=e[0])==null||n.resume()}}}function N2(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ZM(e){return e.filter(t=>t.tagName!=="A")}var t1=0;function Ig(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_2()),document.body.insertAdjacentElement("beforeend",e[1]??_2()),t1++,()=>{t1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),t1--}},[])}function _2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Us=function(){return Us=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Us.apply(this,arguments)};function yN(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function KM(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,l;r<o;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}var Jd="right-scroll-bar-position",ef="width-before-scroll-bar",qM="with-scroll-bars-hidden",YM="--removed-body-scroll-bar-size";function n1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function QM(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var JM=typeof window<"u"?b.useLayoutEffect:b.useEffect,T2=new WeakMap;function e7(e,t){var n=QM(null,function(r){return e.forEach(function(o){return n1(o,r)})});return JM(function(){var r=T2.get(n);if(r){var o=new Set(r),l=new Set(e),d=n.current;o.forEach(function(m){l.has(m)||n1(m,null)}),l.forEach(function(m){o.has(m)||n1(m,d)})}T2.set(n,e)},[e]),n}function t7(e){return e}function n7(e,t){t===void 0&&(t=t7);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var d=t(l,r);return n.push(d),function(){n=n.filter(function(m){return m!==d})}},assignSyncMedium:function(l){for(r=!0;n.length;){var d=n;n=[],d.forEach(l)}n={push:function(m){return l(m)},filter:function(){return n}}},assignMedium:function(l){r=!0;var d=[];if(n.length){var m=n;n=[],m.forEach(l),d=n}var x=function(){var v=d;d=[],v.forEach(l)},g=function(){return Promise.resolve().then(x)};g(),n={push:function(v){d.push(v),g()},filter:function(v){return d=d.filter(v),n}}}};return o}function r7(e){e===void 0&&(e={});var t=n7(null);return t.options=Us({async:!0,ssr:!1},e),t}var vN=function(e){var t=e.sideCar,n=yN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Us({},n))};vN.isSideCarExport=!0;function s7(e,t){return e.useMedium(t),vN}var wN=r7(),r1=function(){},kh=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:r1,onWheelCapture:r1,onTouchMoveCapture:r1}),o=r[0],l=r[1],d=e.forwardProps,m=e.children,x=e.className,g=e.removeScrollBar,v=e.enabled,C=e.shards,S=e.sideCar,R=e.noIsolation,P=e.inert,N=e.allowPinchZoom,k=e.as,O=k===void 0?"div":k,A=e.gapMode,I=yN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=S,F=e7([n,t]),X=Us(Us({},I),o);return b.createElement(b.Fragment,null,v&&b.createElement(M,{sideCar:wN,removeScrollBar:g,shards:C,noIsolation:R,inert:P,setCallbacks:l,allowPinchZoom:!!N,lockRef:n,gapMode:A}),d?b.cloneElement(b.Children.only(m),Us(Us({},X),{ref:F})):b.createElement(O,Us({},X,{className:x,ref:F}),m))});kh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kh.classNames={fullWidth:ef,zeroRight:Jd};var i7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=i7();return t&&e.setAttribute("nonce",t),e}function a7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function l7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var c7=function(){var e=0,t=null;return{add:function(n){e==0&&(t=o7())&&(a7(t,n),l7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},u7=function(){var e=c7();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},CN=function(){var e=u7(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},d7={left:0,top:0,right:0,gap:0},s1=function(e){return parseInt(e||"",10)||0},f7=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[s1(n),s1(r),s1(o)]},h7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return d7;var t=f7(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},m7=CN(),il="data-scroll-locked",p7=function(e,t,n,r){var o=e.left,l=e.top,d=e.right,m=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(qM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(m,"px ").concat(r,`;
  }
  body[`).concat(il,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(m,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jd,` {
    right: `).concat(m,"px ").concat(r,`;
  }
  
  .`).concat(ef,` {
    margin-right: `).concat(m,"px ").concat(r,`;
  }
  
  .`).concat(Jd," .").concat(Jd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ef," .").concat(ef,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(il,`] {
    `).concat(YM,": ").concat(m,`px;
  }
`)},I2=function(){var e=parseInt(document.body.getAttribute(il)||"0",10);return isFinite(e)?e:0},g7=function(){b.useEffect(function(){return document.body.setAttribute(il,(I2()+1).toString()),function(){var e=I2()-1;e<=0?document.body.removeAttribute(il):document.body.setAttribute(il,e.toString())}},[])},x7=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;g7();var l=b.useMemo(function(){return h7(o)},[o]);return b.createElement(m7,{styles:p7(l,!t,o,n?"":"!important")})},Mm=!1;if(typeof window<"u")try{var Ed=Object.defineProperty({},"passive",{get:function(){return Mm=!0,!0}});window.addEventListener("test",Ed,Ed),window.removeEventListener("test",Ed,Ed)}catch{Mm=!1}var Oa=Mm?{passive:!1}:!1,y7=function(e){return e.tagName==="TEXTAREA"},bN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!y7(e)&&n[t]==="visible")},v7=function(e){return bN(e,"overflowY")},w7=function(e){return bN(e,"overflowX")},R2=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=EN(e,r);if(o){var l=SN(e,r),d=l[1],m=l[2];if(d>m)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},C7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},b7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},EN=function(e,t){return e==="v"?v7(t):w7(t)},SN=function(e,t){return e==="v"?C7(t):b7(t)},E7=function(e,t){return e==="h"&&t==="rtl"?-1:1},S7=function(e,t,n,r,o){var l=E7(e,window.getComputedStyle(t).direction),d=l*r,m=n.target,x=t.contains(m),g=!1,v=d>0,C=0,S=0;do{var R=SN(e,m),P=R[0],N=R[1],k=R[2],O=N-k-l*P;(P||O)&&EN(e,m)&&(C+=O,S+=P),m instanceof ShadowRoot?m=m.host:m=m.parentNode}while(!x&&m!==document.body||x&&(t.contains(m)||t===m));return(v&&(Math.abs(C)<1||!o)||!v&&(Math.abs(S)<1||!o))&&(g=!0),g},Sd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},O2=function(e){return[e.deltaX,e.deltaY]},P2=function(e){return e&&"current"in e?e.current:e},A7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},N7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_7=0,Pa=[];function T7(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),o=b.useState(_7++)[0],l=b.useState(CN)[0],d=b.useRef(e);b.useEffect(function(){d.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var N=KM([e.lockRef.current],(e.shards||[]).map(P2),!0).filter(Boolean);return N.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),N.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var m=b.useCallback(function(N,k){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!d.current.allowPinchZoom;var O=Sd(N),A=n.current,I="deltaX"in N?N.deltaX:A[0]-O[0],M="deltaY"in N?N.deltaY:A[1]-O[1],F,X=N.target,B=Math.abs(I)>Math.abs(M)?"h":"v";if("touches"in N&&B==="h"&&X.type==="range")return!1;var K=R2(B,X);if(!K)return!0;if(K?F=B:(F=B==="v"?"h":"v",K=R2(B,X)),!K)return!1;if(!r.current&&"changedTouches"in N&&(I||M)&&(r.current=F),!F)return!0;var G=r.current||F;return S7(G,k,N,G==="h"?I:M,!0)},[]),x=b.useCallback(function(N){var k=N;if(!(!Pa.length||Pa[Pa.length-1]!==l)){var O="deltaY"in k?O2(k):Sd(k),A=t.current.filter(function(F){return F.name===k.type&&(F.target===k.target||k.target===F.shadowParent)&&A7(F.delta,O)})[0];if(A&&A.should){k.cancelable&&k.preventDefault();return}if(!A){var I=(d.current.shards||[]).map(P2).filter(Boolean).filter(function(F){return F.contains(k.target)}),M=I.length>0?m(k,I[0]):!d.current.noIsolation;M&&k.cancelable&&k.preventDefault()}}},[]),g=b.useCallback(function(N,k,O,A){var I={name:N,delta:k,target:O,should:A,shadowParent:I7(O)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(M){return M!==I})},1)},[]),v=b.useCallback(function(N){n.current=Sd(N),r.current=void 0},[]),C=b.useCallback(function(N){g(N.type,O2(N),N.target,m(N,e.lockRef.current))},[]),S=b.useCallback(function(N){g(N.type,Sd(N),N.target,m(N,e.lockRef.current))},[]);b.useEffect(function(){return Pa.push(l),e.setCallbacks({onScrollCapture:C,onWheelCapture:C,onTouchMoveCapture:S}),document.addEventListener("wheel",x,Oa),document.addEventListener("touchmove",x,Oa),document.addEventListener("touchstart",v,Oa),function(){Pa=Pa.filter(function(N){return N!==l}),document.removeEventListener("wheel",x,Oa),document.removeEventListener("touchmove",x,Oa),document.removeEventListener("touchstart",v,Oa)}},[]);var R=e.removeScrollBar,P=e.inert;return b.createElement(b.Fragment,null,P?b.createElement(l,{styles:N7(o)}):null,R?b.createElement(x7,{gapMode:e.gapMode}):null)}function I7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const R7=s7(wN,T7);var Mh=b.forwardRef(function(e,t){return b.createElement(kh,Us({},e,{ref:t,sideCar:R7}))});Mh.classNames=kh.classNames;var O7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Da=new WeakMap,Ad=new WeakMap,Nd={},i1=0,AN=function(e){return e&&(e.host||AN(e.parentNode))},P7=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=AN(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},D7=function(e,t,n,r){var o=P7(t,Array.isArray(e)?e:[e]);Nd[n]||(Nd[n]=new WeakMap);var l=Nd[n],d=[],m=new Set,x=new Set(o),g=function(C){!C||m.has(C)||(m.add(C),g(C.parentNode))};o.forEach(g);var v=function(C){!C||x.has(C)||Array.prototype.forEach.call(C.children,function(S){if(m.has(S))v(S);else try{var R=S.getAttribute(r),P=R!==null&&R!=="false",N=(Da.get(S)||0)+1,k=(l.get(S)||0)+1;Da.set(S,N),l.set(S,k),d.push(S),N===1&&P&&Ad.set(S,!0),k===1&&S.setAttribute(n,"true"),P||S.setAttribute(r,"true")}catch(O){console.error("aria-hidden: cannot operate on ",S,O)}})};return v(t),m.clear(),i1++,function(){d.forEach(function(C){var S=Da.get(C)-1,R=l.get(C)-1;Da.set(C,S),l.set(C,R),S||(Ad.has(C)||C.removeAttribute(r),Ad.delete(C)),R||C.removeAttribute(n)}),i1--,i1||(Da=new WeakMap,Da=new WeakMap,Ad=new WeakMap,Nd={})}},Rg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=O7(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),D7(r,o,n,"aria-hidden")):function(){return null}},Og="Dialog",[NN,_N]=Gr(Og),[k7,_s]=NN(Og),TN=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:l,modal:d=!0}=e,m=b.useRef(null),x=b.useRef(null),[g=!1,v]=po({prop:r,defaultProp:o,onChange:l});return h.jsx(k7,{scope:t,triggerRef:m,contentRef:x,contentId:Gs(),titleId:Gs(),descriptionId:Gs(),open:g,onOpenChange:v,onOpenToggle:b.useCallback(()=>v(C=>!C),[v]),modal:d,children:n})};TN.displayName=Og;var IN="DialogTrigger",RN=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=_s(IN,n),l=vt(t,o.triggerRef);return h.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":kg(o.open),...r,ref:l,onClick:Ce(e.onClick,o.onOpenToggle)})});RN.displayName=IN;var Pg="DialogPortal",[M7,ON]=NN(Pg,{forceMount:void 0}),PN=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,l=_s(Pg,t);return h.jsx(M7,{scope:t,forceMount:n,children:b.Children.map(r,d=>h.jsx(as,{present:n||l.open,children:h.jsx(Mu,{asChild:!0,container:o,children:d})}))})};PN.displayName=Pg;var kf="DialogOverlay",DN=b.forwardRef((e,t)=>{const n=ON(kf,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,l=_s(kf,e.__scopeDialog);return l.modal?h.jsx(as,{present:r||l.open,children:h.jsx(L7,{...o,ref:t})}):null});DN.displayName=kf;var j7=aa("DialogOverlay.RemoveScroll"),L7=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=_s(kf,n);return h.jsx(Mh,{as:j7,allowPinchZoom:!0,shards:[o.contentRef],children:h.jsx(ze.div,{"data-state":kg(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ca="DialogContent",kN=b.forwardRef((e,t)=>{const n=ON(ca,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,l=_s(ca,e.__scopeDialog);return h.jsx(as,{present:r||l.open,children:l.modal?h.jsx(F7,{...o,ref:t}):h.jsx(B7,{...o,ref:t})})});kN.displayName=ca;var F7=b.forwardRef((e,t)=>{const n=_s(ca,e.__scopeDialog),r=b.useRef(null),o=vt(t,n.contentRef,r);return b.useEffect(()=>{const l=r.current;if(l)return Rg(l)},[]),h.jsx(MN,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,l=>{var d;l.preventDefault(),(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,l=>{const d=l.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0;(d.button===2||m)&&l.preventDefault()}),onFocusOutside:Ce(e.onFocusOutside,l=>l.preventDefault())})}),B7=b.forwardRef((e,t)=>{const n=_s(ca,e.__scopeDialog),r=b.useRef(!1),o=b.useRef(!1);return h.jsx(MN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var d,m;(d=e.onCloseAutoFocus)==null||d.call(e,l),l.defaultPrevented||(r.current||(m=n.triggerRef.current)==null||m.focus(),l.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:l=>{var x,g;(x=e.onInteractOutside)==null||x.call(e,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=l.target;((g=n.triggerRef.current)==null?void 0:g.contains(d))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),MN=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,...d}=e,m=_s(ca,n),x=b.useRef(null),g=vt(t,x);return Ig(),h.jsxs(h.Fragment,{children:[h.jsx(Dh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:l,children:h.jsx(Gl,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":kg(m.open),...d,ref:g,onDismiss:()=>m.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(U7,{titleId:m.titleId}),h.jsx(W7,{contentRef:x,descriptionId:m.descriptionId})]})]})}),Dg="DialogTitle",jN=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=_s(Dg,n);return h.jsx(ze.h2,{id:o.titleId,...r,ref:t})});jN.displayName=Dg;var LN="DialogDescription",FN=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=_s(LN,n);return h.jsx(ze.p,{id:o.descriptionId,...r,ref:t})});FN.displayName=LN;var BN="DialogClose",VN=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=_s(BN,n);return h.jsx(ze.button,{type:"button",...r,ref:t,onClick:Ce(e.onClick,()=>o.onOpenChange(!1))})});VN.displayName=BN;function kg(e){return e?"open":"closed"}var UN="DialogTitleWarning",[V7,zN]=RP(UN,{contentName:ca,titleName:Dg,docsSlug:"dialog"}),U7=({titleId:e})=>{const t=zN(UN),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},z7="DialogDescriptionWarning",W7=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zN(z7).contentName}}.`;return b.useEffect(()=>{var l;const o=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},WN=TN,H7=RN,HN=PN,Mg=DN,jg=kN,Lg=jN,Fg=FN,Bg=VN;const G7=WN,$7=HN,GN=b.forwardRef(({className:e,...t},n)=>h.jsx(Mg,{ref:n,className:Le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));GN.displayName=Mg.displayName;const $N=b.forwardRef(({className:e,children:t,...n},r)=>h.jsxs($7,{children:[h.jsx(GN,{}),h.jsxs(jg,{ref:r,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,h.jsxs(Bg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(RA,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$N.displayName=jg.displayName;const XN=({className:e,...t})=>h.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});XN.displayName="DialogHeader";const ZN=b.forwardRef(({className:e,...t},n)=>h.jsx(Lg,{ref:n,className:Le("text-lg font-semibold leading-none tracking-tight",e),...t}));ZN.displayName=Lg.displayName;const X7=b.forwardRef(({className:e,...t},n)=>h.jsx(Fg,{ref:n,className:Le("text-sm text-muted-foreground",e),...t}));X7.displayName=Fg.displayName;const Ot=b.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:Le("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ot.displayName="Card";const Qn=b.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:Le("flex flex-col space-y-1.5 p-6",e),...t}));Qn.displayName="CardHeader";const Jn=b.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:Le("text-2xl font-semibold leading-none tracking-tight",e),...t}));Jn.displayName="CardTitle";const KN=b.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:Le("text-sm text-muted-foreground",e),...t}));KN.displayName="CardDescription";const Pt=b.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:Le("p-6 pt-0",e),...t}));Pt.displayName="CardContent";const Z7=b.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:Le("flex items-center p-6 pt-0",e),...t}));Z7.displayName="CardFooter";var K7=b.createContext(void 0);function jh(e){const t=b.useContext(K7);return e||t||"ltr"}var o1="rovingFocusGroup.onEntryFocus",q7={bubbles:!1,cancelable:!0},Lh="RovingFocusGroup",[jm,qN,Y7]=Eh(Lh),[Q7,Fh]=Gr(Lh,[Y7]),[J7,e9]=Q7(Lh),YN=b.forwardRef((e,t)=>h.jsx(jm.Provider,{scope:e.__scopeRovingFocusGroup,children:h.jsx(jm.Slot,{scope:e.__scopeRovingFocusGroup,children:h.jsx(t9,{...e,ref:t})})}));YN.displayName=Lh;var t9=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:x,onEntryFocus:g,preventScrollOnEntryFocus:v=!1,...C}=e,S=b.useRef(null),R=vt(t,S),P=jh(l),[N=null,k]=po({prop:d,defaultProp:m,onChange:x}),[O,A]=b.useState(!1),I=Gn(g),M=qN(n),F=b.useRef(!1),[X,B]=b.useState(0);return b.useEffect(()=>{const K=S.current;if(K)return K.addEventListener(o1,I),()=>K.removeEventListener(o1,I)},[I]),h.jsx(J7,{scope:n,orientation:r,dir:P,loop:o,currentTabStopId:N,onItemFocus:b.useCallback(K=>k(K),[k]),onItemShiftTab:b.useCallback(()=>A(!0),[]),onFocusableItemAdd:b.useCallback(()=>B(K=>K+1),[]),onFocusableItemRemove:b.useCallback(()=>B(K=>K-1),[]),children:h.jsx(ze.div,{tabIndex:O||X===0?-1:0,"data-orientation":r,...C,ref:R,style:{outline:"none",...e.style},onMouseDown:Ce(e.onMouseDown,()=>{F.current=!0}),onFocus:Ce(e.onFocus,K=>{const G=!F.current;if(K.target===K.currentTarget&&G&&!O){const oe=new CustomEvent(o1,q7);if(K.currentTarget.dispatchEvent(oe),!oe.defaultPrevented){const ye=M().filter(fe=>fe.focusable),Q=ye.find(fe=>fe.active),ie=ye.find(fe=>fe.id===N),$=[Q,ie,...ye].filter(Boolean).map(fe=>fe.ref.current);e_($,v)}}F.current=!1}),onBlur:Ce(e.onBlur,()=>A(!1))})})}),QN="RovingFocusGroupItem",JN=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:l,...d}=e,m=Gs(),x=l||m,g=e9(QN,n),v=g.currentTabStopId===x,C=qN(n),{onFocusableItemAdd:S,onFocusableItemRemove:R}=g;return b.useEffect(()=>{if(r)return S(),()=>R()},[r,S,R]),h.jsx(jm.ItemSlot,{scope:n,id:x,focusable:r,active:o,children:h.jsx(ze.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...d,ref:t,onMouseDown:Ce(e.onMouseDown,P=>{r?g.onItemFocus(x):P.preventDefault()}),onFocus:Ce(e.onFocus,()=>g.onItemFocus(x)),onKeyDown:Ce(e.onKeyDown,P=>{if(P.key==="Tab"&&P.shiftKey){g.onItemShiftTab();return}if(P.target!==P.currentTarget)return;const N=s9(P,g.orientation,g.dir);if(N!==void 0){if(P.metaKey||P.ctrlKey||P.altKey||P.shiftKey)return;P.preventDefault();let O=C().filter(A=>A.focusable).map(A=>A.ref.current);if(N==="last")O.reverse();else if(N==="prev"||N==="next"){N==="prev"&&O.reverse();const A=O.indexOf(P.currentTarget);O=g.loop?i9(O,A+1):O.slice(A+1)}setTimeout(()=>e_(O))}})})})});JN.displayName=QN;var n9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function r9(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function s9(e,t,n){const r=r9(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return n9[r]}function e_(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function i9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var t_=YN,n_=JN,Vg="Tabs",[o9,tU]=Gr(Vg,[Fh]),r_=Fh(),[a9,Ug]=o9(Vg),s_=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:l,orientation:d="horizontal",dir:m,activationMode:x="automatic",...g}=e,v=jh(m),[C,S]=po({prop:r,onChange:o,defaultProp:l});return h.jsx(a9,{scope:n,baseId:Gs(),value:C,onValueChange:S,orientation:d,dir:v,activationMode:x,children:h.jsx(ze.div,{dir:v,"data-orientation":d,...g,ref:t})})});s_.displayName=Vg;var i_="TabsList",o_=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,l=Ug(i_,n),d=r_(n);return h.jsx(t_,{asChild:!0,...d,orientation:l.orientation,dir:l.dir,loop:r,children:h.jsx(ze.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});o_.displayName=i_;var a_="TabsTrigger",l_=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...l}=e,d=Ug(a_,n),m=r_(n),x=d_(d.baseId,r),g=f_(d.baseId,r),v=r===d.value;return h.jsx(n_,{asChild:!0,...m,focusable:!o,active:v,children:h.jsx(ze.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":g,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:x,...l,ref:t,onMouseDown:Ce(e.onMouseDown,C=>{!o&&C.button===0&&C.ctrlKey===!1?d.onValueChange(r):C.preventDefault()}),onKeyDown:Ce(e.onKeyDown,C=>{[" ","Enter"].includes(C.key)&&d.onValueChange(r)}),onFocus:Ce(e.onFocus,()=>{const C=d.activationMode!=="manual";!v&&!o&&C&&d.onValueChange(r)})})})});l_.displayName=a_;var c_="TabsContent",u_=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:l,...d}=e,m=Ug(c_,n),x=d_(m.baseId,r),g=f_(m.baseId,r),v=r===m.value,C=b.useRef(v);return b.useEffect(()=>{const S=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(S)},[]),h.jsx(as,{present:o||v,children:({present:S})=>h.jsx(ze.div,{"data-state":v?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":x,hidden:!S,id:g,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:C.current?"0s":void 0},children:S&&l})})});u_.displayName=c_;function d_(e,t){return`${e}-trigger-${t}`}function f_(e,t){return`${e}-content-${t}`}var l9=s_,h_=o_,m_=l_,p_=u_;const g_=l9,zg=b.forwardRef(({className:e,...t},n)=>h.jsx(h_,{ref:n,className:Le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));zg.displayName=h_.displayName;const Yo=b.forwardRef(({className:e,...t},n)=>h.jsx(m_,{ref:n,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Yo.displayName=m_.displayName;const Qo=b.forwardRef(({className:e,...t},n)=>h.jsx(p_,{ref:n,className:Le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Qo.displayName=p_.displayName;function x_({isOpen:e,onClose:t,event:n,onSuccess:r}){const{toast:o}=Rr(),[l,d]=b.useState("pix"),[m,x]=b.useState(null),g=Ar({mutationFn:async R=>(await zn("POST","/api/orders",{eventId:n.id,paymentMethod:R})).json(),onSuccess:R=>{x(R),o({title:"Pedido criado!",description:"Complete o pagamento para confirmar seu ingresso."})},onError:R=>{o({title:"Erro ao processar pagamento",description:R.message,variant:"destructive"})}}),v=()=>{g.mutate(l)},C=R=>{navigator.clipboard.writeText(R),o({title:"Copiado!",description:"Código PIX copiado para a área de transferência."})},S=R=>{const P=typeof R=="string"?parseFloat(R):R;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P)};return h.jsx(G7,{open:e,onOpenChange:t,children:h.jsxs($N,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsx(XN,{children:h.jsxs(ZN,{children:["Finalizar Compra - ",n==null?void 0:n.title]})}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(Ot,{children:h.jsx(Pt,{className:"pt-6",children:h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Evento:"}),h.jsx("span",{className:"font-semibold",children:n==null?void 0:n.title})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Data:"}),h.jsx("span",{children:new Date(n==null?void 0:n.date).toLocaleDateString("pt-BR")})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Local:"}),h.jsx("span",{children:n==null?void 0:n.location})]}),h.jsxs("div",{className:"border-t pt-2 mt-2",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Valor do Ingresso:"}),h.jsx("span",{children:S(parseFloat(n==null?void 0:n.price)||0)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Taxa de Conveniência:"}),h.jsx("span",{children:S(5)})]}),h.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2",children:[h.jsx("span",{children:"Total:"}),h.jsx("span",{className:"text-primary",children:S((parseFloat(n==null?void 0:n.price)||0)+5)})]})]})]})})}),m?h.jsxs("div",{className:"space-y-4",children:[l==="pix"&&m.payment.pixQrCode&&h.jsx(Ot,{children:h.jsx(Pt,{className:"pt-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(hg,{className:"h-12 w-12 mx-auto text-green-500 mb-2"}),h.jsx("h3",{className:"font-semibold text-lg",children:"PIX Gerado com Sucesso!"}),h.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Escaneie o QR Code ou copie o código PIX"})]}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:`data:image/png;base64,${m.payment.pixQrCode}`,alt:"QR Code PIX",className:"w-64 h-64"})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-sm font-medium text-center",children:"Código PIX:"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",value:m.payment.pixPayload||"",readOnly:!0,className:"flex-1 p-2 border rounded text-xs"}),h.jsx(ut,{onClick:()=>C(m.payment.pixPayload),size:"sm",variant:"outline",children:h.jsx(TA,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"flex items-center justify-center text-sm text-yellow-600",children:[h.jsx(_A,{className:"h-4 w-4 mr-2"}),"Código expira em 30 minutos"]})]})})}),l==="credit_card"&&h.jsx(Ot,{children:h.jsx(Pt,{className:"pt-6",children:h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx(X0,{className:"h-12 w-12 mx-auto text-primary"}),h.jsx("h3",{className:"font-semibold text-lg",children:"Pagamento Pendente, cheque seu email"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Foi enviado um link no seu email para finalizar o pagamento!"})]})})}),l==="boleto"&&h.jsx(Ot,{children:h.jsx(Pt,{className:"pt-6",children:h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx(Z0,{className:"h-12 w-12 mx-auto text-primary"}),h.jsx("h3",{className:"font-semibold text-lg",children:"Boleto Gerado!"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Clique no botão abaixo para visualizar e imprimir o boleto"}),h.jsx(ut,{onClick:()=>window.open(m.payment.boletoUrl,"_blank"),className:"w-full bg-primary hover:bg-secondary",children:"Abrir Boleto"}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Vencimento: ",new Date(Date.now()+7*24*60*60*1e3).toLocaleDateString("pt-BR")]})]})})}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Após o pagamento, você receberá o ingresso por e-mail"}),h.jsx(ut,{onClick:()=>{mi.invalidateQueries({queryKey:["/api/orders"]}),r(),t()},variant:"outline",className:"w-full",children:"Concluir"})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs(g_,{value:l,onValueChange:R=>d(R),children:[h.jsxs(zg,{className:"grid w-full grid-cols-3",children:[h.jsxs(Yo,{value:"pix",className:"flex items-center gap-2",children:[h.jsx(d2,{className:"h-4 w-4"}),"PIX"]}),h.jsxs(Yo,{value:"credit_card",className:"flex items-center gap-2",children:[h.jsx(X0,{className:"h-4 w-4"}),"Cartão"]}),h.jsxs(Yo,{value:"boleto",className:"flex items-center gap-2",children:[h.jsx(Z0,{className:"h-4 w-4"}),"Boleto"]})]}),h.jsx(Qo,{value:"pix",className:"space-y-4",children:h.jsx(Ot,{children:h.jsx(Pt,{className:"pt-6",children:h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx(d2,{className:"h-12 w-12 mx-auto text-primary"}),h.jsx("h3",{className:"font-semibold",children:"Pagamento via PIX"}),h.jsx("p",{className:"text-sm text-gray-600",children:'Ao clicar em "Gerar PIX", você receberá um QR Code para pagamento'}),h.jsx("p",{className:"text-sm text-gray-600",children:"O código expira em 30 minutos"})]})})})}),h.jsx(Qo,{value:"credit_card",className:"space-y-4",children:h.jsx(Ot,{children:h.jsx(Pt,{className:"pt-6",children:h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx(X0,{className:"h-12 w-12 mx-auto text-primary"}),h.jsx("h3",{className:"font-semibold",children:"Pagamento com Cartão"}),h.jsx("p",{className:"text-sm text-gray-600",children:"O link de pagamento será enviado no seu email!"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Aceitamos todas as bandeiras"})]})})})}),h.jsx(Qo,{value:"boleto",className:"space-y-4",children:h.jsx(Ot,{children:h.jsx(Pt,{className:"pt-6",children:h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx(Z0,{className:"h-12 w-12 mx-auto text-primary"}),h.jsx("h3",{className:"font-semibold",children:"Pagamento via Boleto"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Você receberá o boleto para pagamento"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Vencimento em 7 dias úteis"})]})})})})]}),h.jsx(ut,{onClick:v,className:"w-full bg-primary hover:bg-secondary",disabled:g.isPending,"data-testid":"button-confirm-payment",children:g.isPending?"Processando...":l==="pix"?"Gerar PIX":l==="credit_card"?"Pagar com Cartão":"Gerar Boleto"})]})]})]})})}function c9(){var N;const[e,t]=b.useState(null),[n,r]=b.useState(!1),[o,l]=b.useState(null),[,d]=os(),{isAuthenticated:m}=No(),{toast:x}=Rr(),{data:g,isLoading:v}=mo({queryKey:["/api/events"]}),C=k=>{if(!m){x({title:"Login necessário",description:"Faça login ou cadastre-se para comprar ingressos",variant:"destructive"}),d("/login");return}t(k),r(!0)},S=(N=g==null?void 0:g.filter(k=>new Date(k.date)>new Date))==null?void 0:N.sort((k,O)=>new Date(k.date).getTime()-new Date(O.date).getTime()),R=S==null?void 0:S[0],P=(S==null?void 0:S.slice(1,2))||[];return h.jsxs("main",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-[rgb(25,30,94)]",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsx("div",{className:"lg:col-span-2",children:v?h.jsx("div",{className:"bg-white rounded-lg shadow-lg animate-pulse h-96"}):R?h.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden relative cursor-pointer hover:shadow-xl transition-shadow",onClick:()=>d(`/event/${R.id}`),"data-testid":`card-main-event-${R.id}`,children:[h.jsx("div",{className:"absolute top-4 left-4 z-10",children:h.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-4 py-2 flex items-center space-x-2",children:[h.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 100 100",className:"text-primary",children:[h.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"3"}),h.jsx("circle",{cx:"50",cy:"20",r:"8",fill:"currentColor"}),h.jsx("circle",{cx:"80",cy:"50",r:"8",fill:"currentColor"}),h.jsx("circle",{cx:"50",cy:"80",r:"8",fill:"currentColor"}),h.jsx("circle",{cx:"20",cy:"50",r:"8",fill:"currentColor"}),h.jsx("path",{d:"M50 20 L80 50 L50 80 L20 50 Z",fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Workshop"}),h.jsx("div",{className:"text-lg font-bold text-primary",children:"360°"})]})]})}),h.jsxs("div",{className:"flex flex-col lg:flex-row",children:[h.jsx("div",{className:"lg:w-2/5",children:R.imageUrl?h.jsx("img",{src:R.imageUrl,alt:R.title,className:"w-full h-full object-cover"}):h.jsx("div",{className:"h-full bg-gradient-to-br from-primary to-secondary p-8 flex items-center justify-center",children:h.jsxs("div",{className:"text-center text-white",children:[h.jsx("div",{className:"w-48 h-48 bg-white/20 rounded-full mx-auto mb-4 flex items-center justify-center",children:h.jsx("span",{className:"text-6xl",children:"📅"})}),h.jsx("p",{className:"text-sm",children:"Evento"}),h.jsx("p",{className:"font-bold text-lg",children:"CDPI"})]})})}),h.jsxs("div",{className:"lg:w-3/5 p-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:R.title}),h.jsx("p",{className:"text-gray-600 mb-6",children:R.description}),h.jsxs("div",{className:"space-y-3 mb-6",children:[h.jsxs("div",{className:"flex items-center text-gray-600",children:[h.jsx(au,{className:"h-5 w-5 mr-3 text-primary"}),h.jsx("span",{children:new Date(R.date).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"})})]}),h.jsxs("div",{className:"flex items-center text-gray-600",children:[h.jsx(lu,{className:"h-5 w-5 mr-3 text-primary"}),h.jsx("span",{children:R.location})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-3xl font-bold text-primary",children:["R$ ",parseFloat(R.price).toFixed(2)]}),h.jsx("p",{className:"text-xs text-gray-500",children:"+ taxa de conveniência"})]}),h.jsx(ut,{onClick:k=>{k.stopPropagation(),C(R)},className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3","data-testid":"button-buy-main",children:"Comprar Ingresso"})]})]})]})]}):h.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:h.jsx("p",{className:"text-gray-600",children:"Nenhum evento principal disponível"})})}),h.jsxs("div",{className:"lg:col-span-1",children:[h.jsx("div",{className:"bg-[rgb(58,57,147)] text-white rounded-t-lg p-4",children:h.jsx("h3",{className:"text-lg font-bold",children:"Próximos Eventos"})}),h.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg",children:[P.length>0?h.jsx("div",{className:"divide-y",children:P.map(k=>h.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>d(`/event/${k.id}`),"data-testid":`card-upcoming-${k.id}`,children:[k.imageUrl?h.jsx("img",{src:k.imageUrl,alt:k.title,className:"w-full h-32 object-cover rounded-lg mb-3"}):h.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-lg h-32 mb-3 flex items-center justify-center",children:h.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 100 100",className:"text-primary/30",children:[h.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"3"}),h.jsx("circle",{cx:"50",cy:"20",r:"8",fill:"currentColor"}),h.jsx("circle",{cx:"80",cy:"50",r:"8",fill:"currentColor"}),h.jsx("circle",{cx:"50",cy:"80",r:"8",fill:"currentColor"}),h.jsx("circle",{cx:"20",cy:"50",r:"8",fill:"currentColor"})]})}),h.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:k.title}),h.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(au,{className:"h-4 w-4 mr-1"}),new Date(k.date).toLocaleDateString("pt-BR")]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(lu,{className:"h-4 w-4 mr-1"}),k.location]})]}),h.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[h.jsxs("span",{className:"font-bold text-primary",children:["R$ ",parseFloat(k.price).toFixed(2)]}),h.jsx(ut,{size:"sm",onClick:O=>{O.stopPropagation(),d(`/event/${k.id}`)},className:"bg-primary hover:bg-secondary","data-testid":`button-view-${k.id}`,children:"Ver mais"})]})]},k.id))}):h.jsx("div",{className:"p-8 text-center text-gray-500",children:h.jsx("p",{children:"Mais eventos em breve"})}),h.jsx("div",{className:"p-4 border-t",children:h.jsx(ut,{onClick:()=>d("/eventos"),className:"w-full bg-primary hover:bg-secondary text-white","data-testid":"button-all-events",children:"Ver todos os eventos"})})]})]})]})})}),h.jsxs("div",{className:"bg-white py-16 lg:py-24 relative overflow-hidden",children:[h.jsx("img",{src:"/audience-background.jpg",alt:"Audience at the event",className:"absolute inset-0 w-full h-full object-cover grayscale opacity-30 fade-gradient-mask"}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[h.jsxs("div",{className:"lg:pr-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Sobre o Evento"}),h.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"O Workshop 360° na Indústria Farmacêutica é a mais nova iniciativa do CDPI voltada à capacitação prática e estratégica de profissionais do setor."}),h.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Em suas edições, o evento traz uma visão completa do ciclo de vida do produto farma abordando as principais áreas que sustentam a indústria: Regulatório, Qualidade, Desenvolvimento Analítico, Produção e P&D."})]}),h.jsx("div",{className:"relative h-96 lg:h-[550px]",children:h.jsx("img",{src:"/speaker.png",alt:"Event speaker",className:"w-full h-full object-contain star-mask transform lg:scale-125 lg:-mr-16"})})]})})]}),h.jsx("div",{className:"bg-white py-16",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Perguntas frequentes"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"border rounded-lg",children:[h.jsxs("button",{onClick:()=>l(o==="workshop"?null:"workshop"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[h.jsx("span",{className:"font-semibold text-gray-900",children:"O que é o WorkShop 360º?"}),o==="workshop"?h.jsx(Yd,{className:"h-5 w-5 text-gray-500"}):h.jsx(Vc,{className:"h-5 w-5 text-gray-500"})]}),o==="workshop"&&h.jsx("div",{className:"px-6 pb-4 text-gray-600",children:h.jsx("p",{children:"O Workshop 360º é um evento completo que aborda todos os aspectos da indústria farmacêutica, desde pesquisa e desenvolvimento até regulamentação e comercialização."})})]}),h.jsxs("div",{className:"border rounded-lg",children:[h.jsxs("button",{onClick:()=>l(o==="garantir"?null:"garantir"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[h.jsx("span",{className:"font-semibold text-gray-900",children:"Como garantir meu ingresso?"}),o==="garantir"?h.jsx(Yd,{className:"h-5 w-5 text-gray-500"}):h.jsx(Vc,{className:"h-5 w-5 text-gray-500"})]}),o==="garantir"&&h.jsx("div",{className:"px-6 pb-4 text-gray-600",children:h.jsx("p",{children:'Para garantir seu ingresso, basta clicar no botão "Comprar Ingresso", fazer seu cadastro ou login, escolher a forma de pagamento e confirmar a compra. Você receberá o QR Code do ingresso por e-mail.'})})]}),h.jsxs("div",{className:"border rounded-lg",children:[h.jsxs("button",{onClick:()=>l(o==="cortesias"?null:"cortesias"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[h.jsx("span",{className:"font-semibold text-gray-900",children:"Como retirar minhas cortesias?"}),o==="cortesias"?h.jsx(Yd,{className:"h-5 w-5 text-gray-500"}):h.jsx(Vc,{className:"h-5 w-5 text-gray-500"})]}),o==="cortesias"&&h.jsx("div",{className:"px-6 pb-4 text-gray-600",children:h.jsx("p",{children:'Se você recebeu um código de cortesia, acesse a opção "Resgate de cortesia" no menu, insira seu código e siga as instruções para receber seu ingresso gratuito.'})})]})]})]})}),h.jsx("footer",{className:"bg-primary text-white",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsxs("div",{children:[h.jsx("div",{className:"flex items-center mb-4",children:h.jsx("img",{src:"/LOGO rodape 200px 60x negativa.svg",alt:"CDPI Faculdade Logo",className:"h-12 w-auto"})}),h.jsxs("p",{className:"text-white/80 text-sm",children:["CDPI Faculdade. Todos os direitos",h.jsx("br",{}),"reservados ©️ 2025 CNPJ: 40.082.785/0001-03",h.jsx("br",{}),"Rua 115, Setor Sul, Golania-GO"]})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:"font-bold mb-4",children:"CDPI"}),h.jsx("p",{className:"text-2xl font-bold mb-2",children:"+55 (62) 99860-6833"}),h.jsxs("p",{className:"text-sm text-white/80",children:["Entre em contato conosco",h.jsx("br",{}),"e tire suas dúvidas"]})]}),h.jsx("div",{className:"text-center md:text-right",children:h.jsxs("div",{className:"flex justify-center md:justify-end space-x-3 mb-4",children:[h.jsx("a",{href:"https://www.facebook.com/cdpipharma/",target:"_blank",className:"bg-white/10 p-2 rounded-full hover:bg-white/20 transition-colors",children:h.jsx(ED,{className:"h-5 w-5"})}),h.jsx("a",{href:"https://www.instagram.com/cdpipharma/",target:"_blank",className:"bg-white/10 p-2 rounded-full hover:bg-white/20 transition-colors",children:h.jsx(SD,{className:"h-5 w-5"})}),h.jsx("a",{href:"https://www.linkedin.com/company/cdpi-pharma/",target:"_blank",className:"bg-white/10 p-2 rounded-full hover:bg-white/20 transition-colors",children:h.jsx(ND,{className:"h-5 w-5"})}),h.jsx("a",{href:"https://www.youtube.com/@cdpimoving",target:"_blank",className:"bg-white/10 p-2 rounded-full hover:bg-white/20 transition-colors",children:h.jsx(DD,{className:"h-5 w-5"})})]})})]})})}),e&&h.jsx(x_,{event:e,isOpen:n,onClose:()=>{r(!1),t(null)},onSuccess:()=>{x({title:"Pagamento iniciado!",description:"Acompanhe o status do seu pedido na página de perfil."}),r(!1),t(null)}})]})}const pt=b.forwardRef(({className:e,type:t,...n},r)=>h.jsx("input",{type:t,className:Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));pt.displayName="Input";function u9(){var d;const[,e]=os(),[t,n]=b.useState(""),{data:r,isLoading:o}=mo({queryKey:["/api/events"]}),l=(d=r==null?void 0:r.filter(m=>{const x=t.toLowerCase();return m.title.toLowerCase().includes(x)||m.description.toLowerCase().includes(x)||m.location.toLowerCase().includes(x)}))==null?void 0:d.sort((m,x)=>+new Date(m.date)-+new Date(x.date));return h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Todos os Eventos"}),h.jsxs("div",{className:"relative max-w-md",children:[h.jsx(pt,{type:"text",placeholder:"Buscar eventos...",value:t,onChange:m=>n(m.target.value),className:"pl-10","data-testid":"input-search-events"}),h.jsx(IA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]}),o?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((m,x)=>h.jsxs(Ot,{className:"animate-pulse",children:[h.jsx("div",{className:"h-48 bg-gray-300 rounded-t-lg"}),h.jsxs(Pt,{className:"p-4",children:[h.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),h.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),h.jsx("div",{className:"h-4 bg-gray-300 rounded"})]})]},x))}):l&&l.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(m=>h.jsxs(Ot,{className:"overflow-hidden hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>e(`/event/${m.id}`),"data-testid":`card-event-${m.id}`,children:[m.imageUrl&&h.jsx("div",{className:"h-48 overflow-hidden bg-gray-100",children:h.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-full object-cover"})}),!m.imageUrl&&h.jsx("div",{className:"h-48 bg-gradient-to-br from-primary to-secondary flex items-center justify-center",children:h.jsxs("div",{className:"text-white text-center",children:[h.jsx("div",{className:"text-6xl mb-2",children:"📅"}),h.jsx("p",{className:"text-sm",children:"Evento CDPI"})]})}),h.jsxs(Pt,{className:"p-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:m.title}),h.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:m.description}),h.jsxs("div",{className:"space-y-2 mb-4",children:[h.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[h.jsx(au,{className:"h-4 w-4 mr-2 text-primary"}),h.jsx("span",{children:new Date(m.date).toLocaleDateString("pt-BR",{day:"numeric",month:"short",year:"numeric"})})]}),h.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[h.jsx(lu,{className:"h-4 w-4 mr-2 text-primary"}),h.jsx("span",{className:"line-clamp-1",children:m.location})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",parseFloat(m.price).toFixed(2)]}),h.jsx(ut,{size:"sm",className:"bg-primary hover:bg-secondary",onClick:x=>{x.stopPropagation(),e(`/event/${m.id}`)},"data-testid":`button-view-${m.id}`,children:"Ver Detalhes"})]})]})]},m.id))}):h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-500 text-lg",children:t?"Nenhum evento encontrado com os termos pesquisados.":"Nenhum evento disponível no momento."})})]})})}var Fu=e=>e.type==="checkbox",Uo=e=>e instanceof Date,ar=e=>e==null;const y_=e=>typeof e=="object";var xn=e=>!ar(e)&&!Array.isArray(e)&&y_(e)&&!Uo(e),v_=e=>xn(e)&&e.target?Fu(e.target)?e.target.checked:e.target.value:e,d9=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,w_=(e,t)=>e.has(d9(t)),f9=e=>{const t=e.constructor&&e.constructor.prototype;return xn(t)&&t.hasOwnProperty("isPrototypeOf")},Wg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bn(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Wg&&(e instanceof Blob||r))&&(n||xn(e)))if(t=n?[]:{},!n&&!f9(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=Bn(e[o]));else return e;return t}var Bh=e=>Array.isArray(e)?e.filter(Boolean):[],pn=e=>e===void 0,be=(e,t,n)=>{if(!t||!xn(e))return n;const r=Bh(t.split(/[,[\].]+?/)).reduce((o,l)=>ar(o)?o:o[l],e);return pn(r)||r===e?pn(e[t])?n:e[t]:r},jr=e=>typeof e=="boolean",Hg=e=>/^\w*$/.test(e),C_=e=>Bh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Rt=(e,t,n)=>{let r=-1;const o=Hg(t)?[t]:C_(t),l=o.length,d=l-1;for(;++r<l;){const m=o[r];let x=n;if(r!==d){const g=e[m];x=xn(g)||Array.isArray(g)?g:isNaN(+o[r+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=x,e=e[m]}};const Mf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},xs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Js={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},b_=Qe.createContext(null),Vh=()=>Qe.useContext(b_),h9=e=>{const{children:t,...n}=e;return Qe.createElement(b_.Provider,{value:n},t)};var E_=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const d=l;return t._proxyFormState[d]!==xs.all&&(t._proxyFormState[d]=!r||xs.all),n&&(n[d]=!0),e[d]}});return o};function m9(e){const t=Vh(),{control:n=t.control,disabled:r,name:o,exact:l}=e||{},[d,m]=Qe.useState(n._formState),x=Qe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),g=Qe.useRef(o);return g.current=o,Qe.useEffect(()=>n._subscribe({name:g.current,formState:x.current,exact:l,callback:v=>{!r&&m({...n._formState,...v})}}),[n,r,l]),Qe.useEffect(()=>{x.current.isValid&&n._setValid(!0)},[n]),Qe.useMemo(()=>E_(d,n,x.current,!1),[d,n])}var zs=e=>typeof e=="string",S_=(e,t,n,r,o)=>zs(e)?(r&&t.watch.add(e),be(n,e,o)):Array.isArray(e)?e.map(l=>(r&&t.watch.add(l),be(n,l))):(r&&(t.watchAll=!0),n);function p9(e){const t=Vh(),{control:n=t.control,name:r,defaultValue:o,disabled:l,exact:d}=e||{},m=Qe.useRef(r),x=Qe.useRef(o);m.current=r,Qe.useEffect(()=>n._subscribe({name:m.current,formState:{values:!0},exact:d,callback:C=>!l&&v(S_(m.current,n._names,C.values||n._formValues,!1,x.current))}),[n,l,d]);const[g,v]=Qe.useState(n._getWatch(r,o));return Qe.useEffect(()=>n._removeUnmounted()),g}function g9(e){const t=Vh(),{name:n,disabled:r,control:o=t.control,shouldUnregister:l}=e,d=w_(o._names.array,n),m=p9({control:o,name:n,defaultValue:be(o._formValues,n,be(o._defaultValues,n,e.defaultValue)),exact:!0}),x=m9({control:o,name:n,exact:!0}),g=Qe.useRef(e),v=Qe.useRef(o.register(n,{...e.rules,value:m,...jr(e.disabled)?{disabled:e.disabled}:{}})),C=Qe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!be(x.errors,n)},isDirty:{enumerable:!0,get:()=>!!be(x.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!be(x.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!be(x.validatingFields,n)},error:{enumerable:!0,get:()=>be(x.errors,n)}}),[x,n]),S=Qe.useCallback(k=>v.current.onChange({target:{value:v_(k),name:n},type:Mf.CHANGE}),[n]),R=Qe.useCallback(()=>v.current.onBlur({target:{value:be(o._formValues,n),name:n},type:Mf.BLUR}),[n,o._formValues]),P=Qe.useCallback(k=>{const O=be(o._fields,n);O&&k&&(O._f.ref={focus:()=>k.focus(),select:()=>k.select(),setCustomValidity:A=>k.setCustomValidity(A),reportValidity:()=>k.reportValidity()})},[o._fields,n]),N=Qe.useMemo(()=>({name:n,value:m,...jr(r)||x.disabled?{disabled:x.disabled||r}:{},onChange:S,onBlur:R,ref:P}),[n,r,x.disabled,S,R,P,m]);return Qe.useEffect(()=>{const k=o._options.shouldUnregister||l;o.register(n,{...g.current.rules,...jr(g.current.disabled)?{disabled:g.current.disabled}:{}});const O=(A,I)=>{const M=be(o._fields,A);M&&M._f&&(M._f.mount=I)};if(O(n,!0),k){const A=Bn(be(o._options.defaultValues,n));Rt(o._defaultValues,n,A),pn(be(o._formValues,n))&&Rt(o._formValues,n,A)}return!d&&o.register(n),()=>{(d?k&&!o._state.action:k)?o.unregister(n):O(n,!1)}},[n,o,d,l]),Qe.useEffect(()=>{o._setDisabledField({disabled:r,name:n})},[r,n,o]),Qe.useMemo(()=>({field:N,formState:x,fieldState:C}),[N,x,C])}const x9=e=>e.render(g9(e));var A_=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},Uc=e=>Array.isArray(e)?e:[e],D2=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}},Lm=e=>ar(e)||!y_(e);function Hi(e,t){if(Lm(e)||Lm(t))return e===t;if(Uo(e)&&Uo(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n){const l=e[o];if(!r.includes(o))return!1;if(o!=="ref"){const d=t[o];if(Uo(l)&&Uo(d)||xn(l)&&xn(d)||Array.isArray(l)&&Array.isArray(d)?!Hi(l,d):l!==d)return!1}}return!0}var ir=e=>xn(e)&&!Object.keys(e).length,Gg=e=>e.type==="file",ys=e=>typeof e=="function",jf=e=>{if(!Wg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},N_=e=>e.type==="select-multiple",$g=e=>e.type==="radio",y9=e=>$g(e)||Fu(e),a1=e=>jf(e)&&e.isConnected;function v9(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=pn(e)?r++:e[t[r++]];return e}function w9(e){for(const t in e)if(e.hasOwnProperty(t)&&!pn(e[t]))return!1;return!0}function En(e,t){const n=Array.isArray(t)?t:Hg(t)?[t]:C_(t),r=n.length===1?e:v9(e,n),o=n.length-1,l=n[o];return r&&delete r[l],o!==0&&(xn(r)&&ir(r)||Array.isArray(r)&&w9(r))&&En(e,n.slice(0,-1)),e}var __=e=>{for(const t in e)if(ys(e[t]))return!0;return!1};function Lf(e,t={}){const n=Array.isArray(e);if(xn(e)||n)for(const r in e)Array.isArray(e[r])||xn(e[r])&&!__(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Lf(e[r],t[r])):ar(e[r])||(t[r]=!0);return t}function T_(e,t,n){const r=Array.isArray(e);if(xn(e)||r)for(const o in e)Array.isArray(e[o])||xn(e[o])&&!__(e[o])?pn(t)||Lm(n[o])?n[o]=Array.isArray(e[o])?Lf(e[o],[]):{...Lf(e[o])}:T_(e[o],ar(t)?{}:t[o],n[o]):n[o]=!Hi(e[o],t[o]);return n}var yc=(e,t)=>T_(e,t,Lf(t));const k2={value:!1,isValid:!1},M2={value:!0,isValid:!0};var I_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!pn(e[0].attributes.value)?pn(e[0].value)||e[0].value===""?M2:{value:e[0].value,isValid:!0}:M2:k2}return k2},R_=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>pn(e)?e:t?e===""?NaN:e&&+e:n&&zs(e)?new Date(e):r?r(e):e;const j2={isValid:!1,value:null};var O_=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,j2):j2;function L2(e){const t=e.ref;return Gg(t)?t.files:$g(t)?O_(e.refs).value:N_(t)?[...t.selectedOptions].map(({value:n})=>n):Fu(t)?I_(e.refs).value:R_(pn(t.value)?e.ref.value:t.value,e)}var C9=(e,t,n,r)=>{const o={};for(const l of e){const d=be(t,l);d&&Rt(o,l,d._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},Ff=e=>e instanceof RegExp,vc=e=>pn(e)?e:Ff(e)?e.source:xn(e)?Ff(e.value)?e.value.source:e.value:e,F2=e=>({isOnSubmit:!e||e===xs.onSubmit,isOnBlur:e===xs.onBlur,isOnChange:e===xs.onChange,isOnAll:e===xs.all,isOnTouch:e===xs.onTouched});const B2="AsyncFunction";var b9=e=>!!e&&!!e.validate&&!!(ys(e.validate)&&e.validate.constructor.name===B2||xn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===B2)),E9=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),V2=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const zc=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const l=be(e,o);if(l){const{_f:d,...m}=l;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!r)return!0;if(d.ref&&t(d.ref,d.name)&&!r)return!0;if(zc(m,t))break}else if(xn(m)&&zc(m,t))break}}};function U2(e,t,n){const r=be(e,n);if(r||Hg(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const l=o.join("."),d=be(t,l),m=be(e,l);if(d&&!Array.isArray(d)&&n!==l)return{name:n};if(m&&m.type)return{name:l,error:m};o.pop()}return{name:n}}var S9=(e,t,n,r)=>{n(e);const{name:o,...l}=e;return ir(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(d=>t[d]===(!r||xs.all))},A9=(e,t,n)=>!e||!t||e===t||Uc(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),N9=(e,t,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:(n?r.isOnChange:o.isOnChange)?e:!0,_9=(e,t)=>!Bh(be(e,t)).length&&En(e,t),T9=(e,t,n)=>{const r=Uc(be(e,n));return Rt(r,"root",t[n]),Rt(e,n,r),e},tf=e=>zs(e);function z2(e,t,n="validate"){if(tf(e)||Array.isArray(e)&&e.every(tf)||jr(e)&&!e)return{type:n,message:tf(e)?e:"",ref:t}}var ka=e=>xn(e)&&!Ff(e)?e:{value:e,message:""},W2=async(e,t,n,r,o,l)=>{const{ref:d,refs:m,required:x,maxLength:g,minLength:v,min:C,max:S,pattern:R,validate:P,name:N,valueAsNumber:k,mount:O}=e._f,A=be(n,N);if(!O||t.has(N))return{};const I=m?m[0]:d,M=Q=>{o&&I.reportValidity&&(I.setCustomValidity(jr(Q)?"":Q||""),I.reportValidity())},F={},X=$g(d),B=Fu(d),K=X||B,G=(k||Gg(d))&&pn(d.value)&&pn(A)||jf(d)&&d.value===""||A===""||Array.isArray(A)&&!A.length,oe=A_.bind(null,N,r,F),ye=(Q,ie,se,$=Js.maxLength,fe=Js.minLength)=>{const ue=Q?ie:se;F[N]={type:Q?$:fe,message:ue,ref:d,...oe(Q?$:fe,ue)}};if(l?!Array.isArray(A)||!A.length:x&&(!K&&(G||ar(A))||jr(A)&&!A||B&&!I_(m).isValid||X&&!O_(m).isValid)){const{value:Q,message:ie}=tf(x)?{value:!!x,message:x}:ka(x);if(Q&&(F[N]={type:Js.required,message:ie,ref:I,...oe(Js.required,ie)},!r))return M(ie),F}if(!G&&(!ar(C)||!ar(S))){let Q,ie;const se=ka(S),$=ka(C);if(!ar(A)&&!isNaN(A)){const fe=d.valueAsNumber||A&&+A;ar(se.value)||(Q=fe>se.value),ar($.value)||(ie=fe<$.value)}else{const fe=d.valueAsDate||new Date(A),ue=ce=>new Date(new Date().toDateString()+" "+ce),ne=d.type=="time",V=d.type=="week";zs(se.value)&&A&&(Q=ne?ue(A)>ue(se.value):V?A>se.value:fe>new Date(se.value)),zs($.value)&&A&&(ie=ne?ue(A)<ue($.value):V?A<$.value:fe<new Date($.value))}if((Q||ie)&&(ye(!!Q,se.message,$.message,Js.max,Js.min),!r))return M(F[N].message),F}if((g||v)&&!G&&(zs(A)||l&&Array.isArray(A))){const Q=ka(g),ie=ka(v),se=!ar(Q.value)&&A.length>+Q.value,$=!ar(ie.value)&&A.length<+ie.value;if((se||$)&&(ye(se,Q.message,ie.message),!r))return M(F[N].message),F}if(R&&!G&&zs(A)){const{value:Q,message:ie}=ka(R);if(Ff(Q)&&!A.match(Q)&&(F[N]={type:Js.pattern,message:ie,ref:d,...oe(Js.pattern,ie)},!r))return M(ie),F}if(P){if(ys(P)){const Q=await P(A,n),ie=z2(Q,I);if(ie&&(F[N]={...ie,...oe(Js.validate,ie.message)},!r))return M(ie.message),F}else if(xn(P)){let Q={};for(const ie in P){if(!ir(Q)&&!r)break;const se=z2(await P[ie](A,n),I,ie);se&&(Q={...se,...oe(ie,se.message)},M(se.message),r&&(F[N]=Q))}if(!ir(Q)&&(F[N]={ref:I,...Q},!r))return F}}return M(!0),F};const I9={mode:xs.onSubmit,reValidateMode:xs.onChange,shouldFocusError:!0};function R9(e={}){let t={...I9,...e},n={submitCount:0,isDirty:!1,isLoading:ys(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let o=xn(t.defaultValues)||xn(t.values)?Bn(t.values||t.defaultValues)||{}:{},l=t.shouldUnregister?{}:Bn(o),d={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},x,g=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let C={...v};const S={array:D2(),state:D2()},R=F2(t.mode),P=F2(t.reValidateMode),N=t.criteriaMode===xs.all,k=z=>J=>{clearTimeout(g),g=setTimeout(z,J)},O=async z=>{if(!t.disabled&&(v.isValid||C.isValid||z)){const J=t.resolver?ir((await G()).errors):await ye(r,!0);J!==n.isValid&&S.state.next({isValid:J})}},A=(z,J)=>{!t.disabled&&(v.isValidating||v.validatingFields||C.isValidating||C.validatingFields)&&((z||Array.from(m.mount)).forEach(re=>{re&&(J?Rt(n.validatingFields,re,J):En(n.validatingFields,re))}),S.state.next({validatingFields:n.validatingFields,isValidating:!ir(n.validatingFields)}))},I=(z,J=[],re,Ae,ve=!0,xe=!0)=>{if(Ae&&re&&!t.disabled){if(d.action=!0,xe&&Array.isArray(be(r,z))){const Ne=re(be(r,z),Ae.argA,Ae.argB);ve&&Rt(r,z,Ne)}if(xe&&Array.isArray(be(n.errors,z))){const Ne=re(be(n.errors,z),Ae.argA,Ae.argB);ve&&Rt(n.errors,z,Ne),_9(n.errors,z)}if((v.touchedFields||C.touchedFields)&&xe&&Array.isArray(be(n.touchedFields,z))){const Ne=re(be(n.touchedFields,z),Ae.argA,Ae.argB);ve&&Rt(n.touchedFields,z,Ne)}(v.dirtyFields||C.dirtyFields)&&(n.dirtyFields=yc(o,l)),S.state.next({name:z,isDirty:ie(z,J),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Rt(l,z,J)},M=(z,J)=>{Rt(n.errors,z,J),S.state.next({errors:n.errors})},F=z=>{n.errors=z,S.state.next({errors:n.errors,isValid:!1})},X=(z,J,re,Ae)=>{const ve=be(r,z);if(ve){const xe=be(l,z,pn(re)?be(o,z):re);pn(xe)||Ae&&Ae.defaultChecked||J?Rt(l,z,J?xe:L2(ve._f)):fe(z,xe),d.mount&&O()}},B=(z,J,re,Ae,ve)=>{let xe=!1,Ne=!1;const $e={name:z};if(!t.disabled){if(!re||Ae){(v.isDirty||C.isDirty)&&(Ne=n.isDirty,n.isDirty=$e.isDirty=ie(),xe=Ne!==$e.isDirty);const Qt=Hi(be(o,z),J);Ne=!!be(n.dirtyFields,z),Qt?En(n.dirtyFields,z):Rt(n.dirtyFields,z,!0),$e.dirtyFields=n.dirtyFields,xe=xe||(v.dirtyFields||C.dirtyFields)&&Ne!==!Qt}if(re){const Qt=be(n.touchedFields,z);Qt||(Rt(n.touchedFields,z,re),$e.touchedFields=n.touchedFields,xe=xe||(v.touchedFields||C.touchedFields)&&Qt!==re)}xe&&ve&&S.state.next($e)}return xe?$e:{}},K=(z,J,re,Ae)=>{const ve=be(n.errors,z),xe=(v.isValid||C.isValid)&&jr(J)&&n.isValid!==J;if(t.delayError&&re?(x=k(()=>M(z,re)),x(t.delayError)):(clearTimeout(g),x=null,re?Rt(n.errors,z,re):En(n.errors,z)),(re?!Hi(ve,re):ve)||!ir(Ae)||xe){const Ne={...Ae,...xe&&jr(J)?{isValid:J}:{},errors:n.errors,name:z};n={...n,...Ne},S.state.next(Ne)}},G=async z=>{A(z,!0);const J=await t.resolver(l,t.context,C9(z||m.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return A(z),J},oe=async z=>{const{errors:J}=await G(z);if(z)for(const re of z){const Ae=be(J,re);Ae?Rt(n.errors,re,Ae):En(n.errors,re)}else n.errors=J;return J},ye=async(z,J,re={valid:!0})=>{for(const Ae in z){const ve=z[Ae];if(ve){const{_f:xe,...Ne}=ve;if(xe){const $e=m.array.has(xe.name),Qt=ve._f&&b9(ve._f);Qt&&v.validatingFields&&A([Ae],!0);const dn=await W2(ve,m.disabled,l,N,t.shouldUseNativeValidation&&!J,$e);if(Qt&&v.validatingFields&&A([Ae]),dn[xe.name]&&(re.valid=!1,J))break;!J&&(be(dn,xe.name)?$e?T9(n.errors,dn,xe.name):Rt(n.errors,xe.name,dn[xe.name]):En(n.errors,xe.name))}!ir(Ne)&&await ye(Ne,J,re)}}return re.valid},Q=()=>{for(const z of m.unMount){const J=be(r,z);J&&(J._f.refs?J._f.refs.every(re=>!a1(re)):!a1(J._f.ref))&&ft(z)}m.unMount=new Set},ie=(z,J)=>!t.disabled&&(z&&J&&Rt(l,z,J),!Hi(Me(),o)),se=(z,J,re)=>S_(z,m,{...d.mount?l:pn(J)?o:zs(z)?{[z]:J}:J},re,J),$=z=>Bh(be(d.mount?l:o,z,t.shouldUnregister?be(o,z,[]):[])),fe=(z,J,re={})=>{const Ae=be(r,z);let ve=J;if(Ae){const xe=Ae._f;xe&&(!xe.disabled&&Rt(l,z,R_(J,xe)),ve=jf(xe.ref)&&ar(J)?"":J,N_(xe.ref)?[...xe.ref.options].forEach(Ne=>Ne.selected=ve.includes(Ne.value)):xe.refs?Fu(xe.ref)?xe.refs.length>1?xe.refs.forEach(Ne=>(!Ne.defaultChecked||!Ne.disabled)&&(Ne.checked=Array.isArray(ve)?!!ve.find($e=>$e===Ne.value):ve===Ne.value)):xe.refs[0]&&(xe.refs[0].checked=!!ve):xe.refs.forEach(Ne=>Ne.checked=Ne.value===ve):Gg(xe.ref)?xe.ref.value="":(xe.ref.value=ve,xe.ref.type||S.state.next({name:z,values:Bn(l)})))}(re.shouldDirty||re.shouldTouch)&&B(z,ve,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&Ie(z)},ue=(z,J,re)=>{for(const Ae in J){const ve=J[Ae],xe=`${z}.${Ae}`,Ne=be(r,xe);(m.array.has(z)||xn(ve)||Ne&&!Ne._f)&&!Uo(ve)?ue(xe,ve,re):fe(xe,ve,re)}},ne=(z,J,re={})=>{const Ae=be(r,z),ve=m.array.has(z),xe=Bn(J);Rt(l,z,xe),ve?(S.array.next({name:z,values:Bn(l)}),(v.isDirty||v.dirtyFields||C.isDirty||C.dirtyFields)&&re.shouldDirty&&S.state.next({name:z,dirtyFields:yc(o,l),isDirty:ie(z,xe)})):Ae&&!Ae._f&&!ar(xe)?ue(z,xe,re):fe(z,xe,re),V2(z,m)&&S.state.next({...n}),S.state.next({name:d.mount?z:void 0,values:Bn(l)})},V=async z=>{d.mount=!0;const J=z.target;let re=J.name,Ae=!0;const ve=be(r,re),xe=Ne=>{Ae=Number.isNaN(Ne)||Uo(Ne)&&isNaN(Ne.getTime())||Hi(Ne,be(l,re,Ne))};if(ve){let Ne,$e;const Qt=J.type?L2(ve._f):v_(z),dn=z.type===Mf.BLUR||z.type===Mf.FOCUS_OUT,Zh=!E9(ve._f)&&!t.resolver&&!be(n.errors,re)&&!ve._f.deps||N9(dn,be(n.touchedFields,re),n.isSubmitted,P,R),Zt=V2(re,m,dn);Rt(l,re,Qt),dn?(ve._f.onBlur&&ve._f.onBlur(z),x&&x(0)):ve._f.onChange&&ve._f.onChange(z);const we=B(re,Qt,dn),fn=!ir(we)||Zt;if(!dn&&S.state.next({name:re,type:z.type,values:Bn(l)}),Zh)return(v.isValid||C.isValid)&&(t.mode==="onBlur"?dn&&O():dn||O()),fn&&S.state.next({name:re,...Zt?{}:we});if(!dn&&Zt&&S.state.next({...n}),t.resolver){const{errors:Tt}=await G([re]);if(xe(Qt),Ae){const Kt=U2(n.errors,r,re),_i=U2(Tt,r,Kt.name||re);Ne=_i.error,re=_i.name,$e=ir(Tt)}}else A([re],!0),Ne=(await W2(ve,m.disabled,l,N,t.shouldUseNativeValidation))[re],A([re]),xe(Qt),Ae&&(Ne?$e=!1:(v.isValid||C.isValid)&&($e=await ye(r,!0)));Ae&&(ve._f.deps&&Ie(ve._f.deps),K(re,$e,Ne,we))}},ce=(z,J)=>{if(be(n.errors,J)&&z.focus)return z.focus(),1},Ie=async(z,J={})=>{let re,Ae;const ve=Uc(z);if(t.resolver){const xe=await oe(pn(z)?z:ve);re=ir(xe),Ae=z?!ve.some(Ne=>be(xe,Ne)):re}else z?(Ae=(await Promise.all(ve.map(async xe=>{const Ne=be(r,xe);return await ye(Ne&&Ne._f?{[xe]:Ne}:Ne)}))).every(Boolean),!(!Ae&&!n.isValid)&&O()):Ae=re=await ye(r);return S.state.next({...!zs(z)||(v.isValid||C.isValid)&&re!==n.isValid?{}:{name:z},...t.resolver||!z?{isValid:re}:{},errors:n.errors}),J.shouldFocus&&!Ae&&zc(r,ce,z?ve:m.mount),Ae},Me=z=>{const J={...d.mount?l:o};return pn(z)?J:zs(z)?be(J,z):z.map(re=>be(J,re))},rt=(z,J)=>({invalid:!!be((J||n).errors,z),isDirty:!!be((J||n).dirtyFields,z),error:be((J||n).errors,z),isValidating:!!be(n.validatingFields,z),isTouched:!!be((J||n).touchedFields,z)}),Ye=z=>{z&&Uc(z).forEach(J=>En(n.errors,J)),S.state.next({errors:z?n.errors:{}})},yn=(z,J,re)=>{const Ae=(be(r,z,{_f:{}})._f||{}).ref,ve=be(n.errors,z)||{},{ref:xe,message:Ne,type:$e,...Qt}=ve;Rt(n.errors,z,{...Qt,...J,ref:Ae}),S.state.next({name:z,errors:n.errors,isValid:!1}),re&&re.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},Ee=(z,J)=>ys(z)?S.state.subscribe({next:re=>z(se(void 0,J),re)}):se(z,J,!0),ke=z=>S.state.subscribe({next:J=>{A9(z.name,J.name,z.exact)&&S9(J,z.formState||v,st,z.reRenderRoot)&&z.callback({values:{...l},...n,...J})}}).unsubscribe,We=z=>(d.mount=!0,C={...C,...z.formState},ke({...z,formState:C})),ft=(z,J={})=>{for(const re of z?Uc(z):m.mount)m.mount.delete(re),m.array.delete(re),J.keepValue||(En(r,re),En(l,re)),!J.keepError&&En(n.errors,re),!J.keepDirty&&En(n.dirtyFields,re),!J.keepTouched&&En(n.touchedFields,re),!J.keepIsValidating&&En(n.validatingFields,re),!t.shouldUnregister&&!J.keepDefaultValue&&En(o,re);S.state.next({values:Bn(l)}),S.state.next({...n,...J.keepDirty?{isDirty:ie()}:{}}),!J.keepIsValid&&O()},ct=({disabled:z,name:J})=>{(jr(z)&&d.mount||z||m.disabled.has(J))&&(z?m.disabled.add(J):m.disabled.delete(J))},Ze=(z,J={})=>{let re=be(r,z);const Ae=jr(J.disabled)||jr(t.disabled);return Rt(r,z,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:z}},name:z,mount:!0,...J}}),m.mount.add(z),re?ct({disabled:jr(J.disabled)?J.disabled:t.disabled,name:z}):X(z,!0,J.value),{...Ae?{disabled:J.disabled||t.disabled}:{},...t.progressive?{required:!!J.required,min:vc(J.min),max:vc(J.max),minLength:vc(J.minLength),maxLength:vc(J.maxLength),pattern:vc(J.pattern)}:{},name:z,onChange:V,onBlur:V,ref:ve=>{if(ve){Ze(z,J),re=be(r,z);const xe=pn(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,Ne=y9(xe),$e=re._f.refs||[];if(Ne?$e.find(Qt=>Qt===xe):xe===re._f.ref)return;Rt(r,z,{_f:{...re._f,...Ne?{refs:[...$e.filter(a1),xe,...Array.isArray(be(o,z))?[{}]:[]],ref:{type:xe.type,name:z}}:{ref:xe}}}),X(z,!1,void 0,xe)}else re=be(r,z,{}),re._f&&(re._f.mount=!1),(t.shouldUnregister||J.shouldUnregister)&&!(w_(m.array,z)&&d.action)&&m.unMount.add(z)}}},ht=()=>t.shouldFocusError&&zc(r,ce,m.mount),Ke=z=>{jr(z)&&(S.state.next({disabled:z}),zc(r,(J,re)=>{const Ae=be(r,re);Ae&&(J.disabled=Ae._f.disabled||z,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(ve=>{ve.disabled=Ae._f.disabled||z}))},0,!1))},vn=(z,J)=>async re=>{let Ae;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let ve=Bn(l);if(S.state.next({isSubmitting:!0}),t.resolver){const{errors:xe,values:Ne}=await G();n.errors=xe,ve=Ne}else await ye(r);if(m.disabled.size)for(const xe of m.disabled)Rt(ve,xe,void 0);if(En(n.errors,"root"),ir(n.errors)){S.state.next({errors:{}});try{await z(ve,re)}catch(xe){Ae=xe}}else J&&await J({...n.errors},re),ht(),setTimeout(ht);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ir(n.errors)&&!Ae,submitCount:n.submitCount+1,errors:n.errors}),Ae)throw Ae},In=(z,J={})=>{be(r,z)&&(pn(J.defaultValue)?ne(z,Bn(be(o,z))):(ne(z,J.defaultValue),Rt(o,z,Bn(J.defaultValue))),J.keepTouched||En(n.touchedFields,z),J.keepDirty||(En(n.dirtyFields,z),n.isDirty=J.defaultValue?ie(z,Bn(be(o,z))):ie()),J.keepError||(En(n.errors,z),v.isValid&&O()),S.state.next({...n}))},pr=(z,J={})=>{const re=z?Bn(z):o,Ae=Bn(re),ve=ir(z),xe=ve?o:Ae;if(J.keepDefaultValues||(o=re),!J.keepValues){if(J.keepDirtyValues){const Ne=new Set([...m.mount,...Object.keys(yc(o,l))]);for(const $e of Array.from(Ne))be(n.dirtyFields,$e)?Rt(xe,$e,be(l,$e)):ne($e,be(xe,$e))}else{if(Wg&&pn(z))for(const Ne of m.mount){const $e=be(r,Ne);if($e&&$e._f){const Qt=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(jf(Qt)){const dn=Qt.closest("form");if(dn){dn.reset();break}}}}for(const Ne of m.mount)ne(Ne,be(xe,Ne))}l=Bn(xe),S.array.next({values:{...xe}}),S.state.next({values:{...xe}})}m={mount:J.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!v.isValid||!!J.keepIsValid||!!J.keepDirtyValues,d.watch=!!t.shouldUnregister,S.state.next({submitCount:J.keepSubmitCount?n.submitCount:0,isDirty:ve?!1:J.keepDirty?n.isDirty:!!(J.keepDefaultValues&&!Hi(z,o)),isSubmitted:J.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ve?{}:J.keepDirtyValues?J.keepDefaultValues&&l?yc(o,l):n.dirtyFields:J.keepDefaultValues&&z?yc(o,z):J.keepDirty?n.dirtyFields:{},touchedFields:J.keepTouched?n.touchedFields:{},errors:J.keepErrors?n.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Vt=(z,J)=>pr(ys(z)?z(l):z,J),_t=(z,J={})=>{const re=be(r,z),Ae=re&&re._f;if(Ae){const ve=Ae.refs?Ae.refs[0]:Ae.ref;ve.focus&&(ve.focus(),J.shouldSelect&&ys(ve.select)&&ve.select())}},st=z=>{n={...n,...z}},De={control:{register:Ze,unregister:ft,getFieldState:rt,handleSubmit:vn,setError:yn,_subscribe:ke,_runSchema:G,_getWatch:se,_getDirty:ie,_setValid:O,_setFieldArray:I,_setDisabledField:ct,_setErrors:F,_getFieldArray:$,_reset:pr,_resetDefaultValues:()=>ys(t.defaultValues)&&t.defaultValues().then(z=>{Vt(z,t.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:Q,_disableForm:Ke,_subjects:S,_proxyFormState:v,get _fields(){return r},get _formValues(){return l},get _state(){return d},set _state(z){d=z},get _defaultValues(){return o},get _names(){return m},set _names(z){m=z},get _formState(){return n},get _options(){return t},set _options(z){t={...t,...z}}},subscribe:We,trigger:Ie,register:Ze,handleSubmit:vn,watch:Ee,setValue:ne,getValues:Me,reset:Vt,resetField:In,clearErrors:Ye,unregister:ft,setError:yn,setFocus:_t,getFieldState:rt};return{...De,formControl:De}}function ua(e={}){const t=Qe.useRef(void 0),n=Qe.useRef(void 0),[r,o]=Qe.useState({isDirty:!1,isValidating:!1,isLoading:ys(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ys(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:R9(e),formState:r},e.formControl&&e.defaultValues&&!ys(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const l=t.current.control;return l._options=e,Qe.useLayoutEffect(()=>l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0}),[l]),Qe.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),Qe.useEffect(()=>{if(l._proxyFormState.isDirty){const d=l._getDirty();d!==r.isDirty&&l._subjects.state.next({isDirty:d})}},[l,r.isDirty]),Qe.useEffect(()=>{e.values&&!Hi(e.values,n.current)?(l._reset(e.values,l._options.resetOptions),n.current=e.values,o(d=>({...d}))):l._resetDefaultValues()},[e.values,l]),Qe.useEffect(()=>{e.errors&&!ir(e.errors)&&l._setErrors(e.errors)},[e.errors,l]),Qe.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),Qe.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[e.shouldUnregister,l]),t.current.formState=E_(r,l),t.current}const H2=(e,t,n)=>{if(e&&"reportValidity"in e){const r=be(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},P_=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?H2(r.ref,n,e):r.refs&&r.refs.forEach(o=>H2(o,n,e))}},O9=(e,t)=>{t.shouldUseNativeValidation&&P_(e,t);const n={};for(const r in e){const o=be(t.fields,r),l=Object.assign(e[r]||{},{ref:o&&o.ref});if(P9(t.names||Object.keys(e),r)){const d=Object.assign({},be(n,r));Rt(d,"root",l),Rt(n,r,d)}else Rt(n,r,l)}return n},P9=(e,t)=>e.some(n=>n.startsWith(t+"."));var D9=function(e,t){for(var n={};e.length;){var r=e[0],o=r.code,l=r.message,d=r.path.join(".");if(!n[d])if("unionErrors"in r){var m=r.unionErrors[0].errors[0];n[d]={message:m.message,type:m.code}}else n[d]={message:l,type:o};if("unionErrors"in r&&r.unionErrors.forEach(function(v){return v.errors.forEach(function(C){return e.push(C)})}),t){var x=n[d].types,g=x&&x[r.code];n[d]=A_(d,t,n,o,g?[].concat(g,r.message):r.message)}e.shift()}return n},Xg=function(e,t,n){return n===void 0&&(n={}),function(r,o,l){try{return Promise.resolve(function(d,m){try{var x=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(g){return l.shouldUseNativeValidation&&P_({},l),{errors:{},values:n.raw?r:g}})}catch(g){return m(g)}return x&&x.then?x.then(void 0,m):x}(0,function(d){if(function(m){return Array.isArray(m==null?void 0:m.errors)}(d))return{values:{},errors:O9(D9(d.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw d}))}catch(d){return Promise.reject(d)}}},k9="Label",D_=b.forwardRef((e,t)=>h.jsx(ze.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));D_.displayName=k9;var k_=D_;const M9=Nh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Nt=b.forwardRef(({className:e,...t},n)=>h.jsx(k_,{ref:n,className:Le(M9(),e),...t}));Nt.displayName=k_.displayName;function M_(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Zg="Checkbox",[j9,nU]=Gr(Zg),[L9,F9]=j9(Zg),j_=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:l,required:d,disabled:m,value:x="on",onCheckedChange:g,form:v,...C}=e,[S,R]=b.useState(null),P=vt(t,M=>R(M)),N=b.useRef(!1),k=S?v||!!S.closest("form"):!0,[O=!1,A]=po({prop:o,defaultProp:l,onChange:g}),I=b.useRef(O);return b.useEffect(()=>{const M=S==null?void 0:S.form;if(M){const F=()=>A(I.current);return M.addEventListener("reset",F),()=>M.removeEventListener("reset",F)}},[S,A]),h.jsxs(L9,{scope:n,state:O,disabled:m,children:[h.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":uo(O)?"mixed":O,"aria-required":d,"data-state":B_(O),"data-disabled":m?"":void 0,disabled:m,value:x,...C,ref:P,onKeyDown:Ce(e.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:Ce(e.onClick,M=>{A(F=>uo(F)?!0:!F),k&&(N.current=M.isPropagationStopped(),N.current||M.stopPropagation())})}),k&&h.jsx(B9,{control:S,bubbles:!N.current,name:r,value:x,checked:O,required:d,disabled:m,form:v,style:{transform:"translateX(-100%)"},defaultChecked:uo(l)?!1:l})]})});j_.displayName=Zg;var L_="CheckboxIndicator",F_=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,l=F9(L_,n);return h.jsx(as,{present:r||uo(l.state)||l.state===!0,children:h.jsx(ze.span,{"data-state":B_(l.state),"data-disabled":l.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});F_.displayName=L_;var B9=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:o,...l}=e,d=b.useRef(null),m=M_(n),x=QA(t);b.useEffect(()=>{const v=d.current,C=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(C,"checked").set;if(m!==n&&R){const P=new Event("click",{bubbles:r});v.indeterminate=uo(n),R.call(v,uo(n)?!1:n),v.dispatchEvent(P)}},[m,n,r]);const g=b.useRef(uo(n)?!1:n);return h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,...l,tabIndex:-1,ref:d,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function uo(e){return e==="indeterminate"}function B_(e){return uo(e)?"indeterminate":e?"checked":"unchecked"}var V_=j_,V9=F_;const Kg=b.forwardRef(({className:e,...t},n)=>h.jsx(V_,{ref:n,className:Le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:h.jsx(V9,{className:Le("flex items-center justify-center text-current"),children:h.jsx(_h,{className:"h-4 w-4"})})}));Kg.displayName=V_.displayName;const le=Symbol.for("drizzle:entityKind");function Un(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,le))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(le in n&&n[le]===t[le])return!0;n=Object.getPrototypeOf(n)}return!1}var Tv;Tv=le;class kl{constructor(t,n){Z(this,"name");Z(this,"keyAsName");Z(this,"primary");Z(this,"notNull");Z(this,"default");Z(this,"defaultFn");Z(this,"onUpdateFn");Z(this,"hasDefault");Z(this,"isUnique");Z(this,"uniqueName");Z(this,"uniqueType");Z(this,"dataType");Z(this,"columnType");Z(this,"enumValues");Z(this,"generated");Z(this,"generatedIdentity");Z(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}Z(kl,Tv,"Column");var Iv;Iv=le;class U_{constructor(t,n,r){Z(this,"config");Z(this,"$default",this.$defaultFn);Z(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}Z(U_,Iv,"ColumnBuilder");const ol=Symbol.for("drizzle:Name");var Rv;Rv=le;class z_{constructor(t,n){Z(this,"reference");Z(this,"_onUpdate","no action");Z(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:o,foreignColumns:l}=t();return{name:r,columns:o,foreignTable:l[0].table,foreignColumns:l}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new W_(t,this)}}Z(z_,Rv,"PgForeignKeyBuilder");var Ov;Ov=le;class W_{constructor(t,n){Z(this,"reference");Z(this,"onUpdate");Z(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),o=n.map(m=>m.name),l=r.map(m=>m.name),d=[this.table[ol],...o,r[0].table[ol],...l];return t??`${d.join("_")}_fk`}}Z(W_,Ov,"PgForeignKey");function U9(e,...t){return e(...t)}function z9(e,t){return`${e[ol]}_${t.join("_")}_unique`}function G2(e,t,n){for(let r=t;r<e.length;r++){const o=e[r];if(o==="\\"){r++;continue}if(o==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!n&&(o===","||o==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function H_(e,t=0){const n=[];let r=t,o=!1;for(;r<e.length;){const l=e[r];if(l===","){(o||r===t)&&n.push(""),o=!0,r++;continue}if(o=!1,l==="\\"){r+=2;continue}if(l==='"'){const[x,g]=G2(e,r+1,!0);n.push(x),r=g;continue}if(l==="}")return[n,r+1];if(l==="{"){const[x,g]=H_(e,r+1);n.push(x),r=g;continue}const[d,m]=G2(e,r,!1);n.push(d),r=m}return[n,r]}function W9(e){const[t]=H_(e,1);return t}function G_(e){return`{${e.map(t=>Array.isArray(t)?G_(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var Pv,Dv;class wt extends(Dv=U_,Pv=le,Dv){constructor(){super(...arguments);Z(this,"foreignKeyConfigs",[])}array(n){return new X_(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:o,actions:l})=>U9((d,m)=>{const x=new z_(()=>{const g=d();return{columns:[n],foreignColumns:[g]}});return m.onUpdate&&x.onUpdate(m.onUpdate),m.onDelete&&x.onDelete(m.onDelete),x.build(r)},o,l))}buildExtraConfigColumn(n){return new $_(n,this.config)}}Z(wt,Pv,"PgColumnBuilder");var kv,Mv;class tt extends(Mv=kl,kv=le,Mv){constructor(t,n){n.uniqueName||(n.uniqueName=z9(t,[n.name])),super(t,n),this.table=t}}Z(tt,kv,"PgColumn");var jv,Lv;class $_ extends(Lv=tt,jv=le,Lv){constructor(){super(...arguments);Z(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});Z(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}Z($_,jv,"ExtraConfigColumn");var Fv,Bv;class X_ extends(Bv=wt,Fv=le,Bv){constructor(t,n,r){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(t){const n=this.config.baseBuilder.build(t);return new Fm(t,this.config,n)}}Z(X_,Fv,"PgArrayBuilder");var Vv,Uv;const sh=class sh extends(Uv=tt,Vv=le,Uv){constructor(n,r,o,l){super(n,r);Z(this,"size");this.baseColumn=o,this.range=l,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=W9(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const o=n.map(l=>l===null?null:Un(this.baseColumn,sh)?this.baseColumn.mapToDriverValue(l,!0):this.baseColumn.mapToDriverValue(l));return r?o:G_(o)}};Z(sh,Vv,"PgArray");let Fm=sh;const $2=Symbol.for("drizzle:isPgEnum");function H9(e){return!!e&&typeof e=="function"&&$2 in e&&e[$2]===!0}var zv;zv=le;class qg{constructor(t,n,r,o=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:o}}}Z(qg,zv,"Subquery");const G9={startActiveSpan(e,t){return t()}},al=Symbol.for("drizzle:ViewBaseConfig"),l1=Symbol.for("drizzle:Schema"),X2=Symbol.for("drizzle:Columns"),Z2=Symbol.for("drizzle:ExtraConfigColumns"),c1=Symbol.for("drizzle:OriginalName"),u1=Symbol.for("drizzle:BaseName"),Bf=Symbol.for("drizzle:IsAlias"),K2=Symbol.for("drizzle:ExtraConfigBuilder"),Z_=Symbol.for("drizzle:IsDrizzleTable");var Wv,Hv,Gv,$v,Xv,Zv,Kv,qv,Yv,Qv;Qv=le,Yv=ol,qv=c1,Kv=l1,Zv=X2,Xv=Z2,$v=u1,Gv=Bf,Hv=Z_,Wv=K2;class lr{constructor(t,n,r){Z(this,Yv);Z(this,qv);Z(this,Kv);Z(this,Zv);Z(this,Xv);Z(this,$v);Z(this,Gv,!1);Z(this,Hv,!0);Z(this,Wv);this[ol]=this[c1]=t,this[l1]=n,this[u1]=r}}Z(lr,Qv,"Table"),Z(lr,"Symbol",{Name:ol,Schema:l1,OriginalName:c1,Columns:X2,ExtraConfigColumns:Z2,BaseName:u1,IsAlias:Bf,ExtraConfigBuilder:K2});function K_(e){return typeof e=="object"&&e!==null&&Z_ in e}function $9(e){return e!=null&&typeof e.getSQL=="function"}function X9(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var Jv;Jv=le;class Qr{constructor(t){Z(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new _n([this])}}Z(Qr,Jv,"StringChunk");var ew;ew=le;const Lo=class Lo{constructor(t){Z(this,"decoder",q_);Z(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return G9.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:o,escapeName:l,escapeParam:d,prepareTyping:m,inlineParams:x,paramStartIndex:g}=r;return X9(t.map(v=>{var C;if(Un(v,Qr))return{sql:v.value.join(""),params:[]};if(Un(v,Vf))return{sql:l(v.value),params:[]};if(v===void 0)return{sql:"",params:[]};if(Array.isArray(v)){const S=[new Qr("(")];for(const[R,P]of v.entries())S.push(P),R<v.length-1&&S.push(new Qr(", "));return S.push(new Qr(")")),this.buildQueryFromSourceParams(S,r)}if(Un(v,Lo))return this.buildQueryFromSourceParams(v.queryChunks,{...r,inlineParams:x||v.shouldInlineParams});if(Un(v,lr)){const S=v[lr.Symbol.Schema],R=v[lr.Symbol.Name];return{sql:S===void 0||v[Bf]?l(R):l(S)+"."+l(R),params:[]}}if(Un(v,kl)){const S=o.getColumnCasing(v);if(n.invokeSource==="indexes")return{sql:l(S),params:[]};const R=v.table[lr.Symbol.Schema];return{sql:v.table[Bf]||R===void 0?l(v.table[lr.Symbol.Name])+"."+l(S):l(R)+"."+l(v.table[lr.Symbol.Name])+"."+l(S),params:[]}}if(Un(v,J_)){const S=v[al].schema,R=v[al].name;return{sql:S===void 0||v[al].isAlias?l(R):l(S)+"."+l(R),params:[]}}if(Un(v,Yg)){if(Un(v.value,Uf))return{sql:d(g.value++,v),params:[v],typings:["none"]};const S=v.value===null?null:v.encoder.mapToDriverValue(v.value);if(Un(S,Lo))return this.buildQueryFromSourceParams([S],r);if(x)return{sql:this.mapInlineParam(S,r),params:[]};let R=["none"];return m&&(R=[m(v.encoder)]),{sql:d(g.value++,S),params:[S],typings:R}}return Un(v,Uf)?{sql:d(g.value++,v),params:[v],typings:["none"]}:Un(v,Lo.Aliased)&&v.fieldAlias!==void 0?{sql:l(v.fieldAlias),params:[]}:Un(v,qg)?v._.isWith?{sql:l(v._.alias),params:[]}:this.buildQueryFromSourceParams([new Qr("("),v._.sql,new Qr(") "),new Vf(v._.alias)],r):H9(v)?v.schema?{sql:l(v.schema)+"."+l(v.enumName),params:[]}:{sql:l(v.enumName),params:[]}:$9(v)?(C=v.shouldOmitSQLParens)!=null&&C.call(v)?this.buildQueryFromSourceParams([v.getSQL()],r):this.buildQueryFromSourceParams([new Qr("("),v.getSQL(),new Qr(")")],r):x?{sql:this.mapInlineParam(v,r),params:[]}:{sql:d(g.value++,v),params:[v],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Lo.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};Z(Lo,ew,"SQL");let _n=Lo;var tw;tw=le;class Vf{constructor(t){Z(this,"brand");this.value=t}getSQL(){return new _n([this])}}Z(Vf,tw,"Name");const q_={mapFromDriverValue:e=>e},Y_={mapToDriverValue:e=>e};({...q_,...Y_});var nw;nw=le;class Yg{constructor(t,n=Y_){Z(this,"brand");this.value=t,this.encoder=n}getSQL(){return new _n([this])}}Z(Yg,nw,"Param");function Ei(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new Qr(e[0]));for(const[r,o]of t.entries())n.push(o,new Qr(e[r+1]));return new _n(n)}(e=>{function t(){return new _n([])}e.empty=t;function n(x){return new _n(x)}e.fromList=n;function r(x){return new _n([new Qr(x)])}e.raw=r;function o(x,g){const v=[];for(const[C,S]of x.entries())C>0&&g!==void 0&&v.push(g),v.push(S);return new _n(v)}e.join=o;function l(x){return new Vf(x)}e.identifier=l;function d(x){return new Uf(x)}e.placeholder=d;function m(x,g){return new Yg(x,g)}e.param=m})(Ei||(Ei={}));(e=>{var n;n=le;const r=class r{constructor(l,d){Z(this,"isSelectionField",!1);this.sql=l,this.fieldAlias=d}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};Z(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(_n||(_n={}));var rw;rw=le;class Uf{constructor(t){this.name=t}getSQL(){return new _n([this])}}Z(Uf,rw,"Placeholder");const Q_=Symbol.for("drizzle:IsDrizzleView");var sw,iw,ow;ow=le,iw=al,sw=Q_;class J_{constructor({name:t,schema:n,selectedFields:r,query:o}){Z(this,iw);Z(this,sw,!0);this[al]={name:t,originalName:t,schema:n,selectedFields:r,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new _n([this])}}Z(J_,ow,"View");function Z9(e){return typeof e=="object"&&e!==null&&Q_ in e}kl.prototype.getSQL=function(){return new _n([this])};lr.prototype.getSQL=function(){return new _n([this])};qg.prototype.getSQL=function(){return new _n([this])};function K9(e){return e[lr.Symbol.Columns]}function q9(e){return e[al].selectedFields}function Mn(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var aw,lw;class Bu extends(lw=wt,aw=le,lw){generatedAlwaysAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}Z(Bu,aw,"PgIntColumnBaseBuilder");var cw,uw;class e4 extends(uw=Bu,cw=le,uw){constructor(t){super(t,"number","PgBigInt53")}build(t){return new t4(t,this.config)}}Z(e4,cw,"PgBigInt53Builder");var dw,fw;class t4 extends(fw=tt,dw=le,fw){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}Z(t4,dw,"PgBigInt53");var hw,mw;class n4 extends(mw=Bu,hw=le,mw){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new r4(t,this.config)}}Z(n4,hw,"PgBigInt64Builder");var pw,gw;class r4 extends(gw=tt,pw=le,gw){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}Z(r4,pw,"PgBigInt64");function Y9(e,t){const{name:n,config:r}=Mn(e,t);return r.mode==="number"?new e4(n):new n4(n)}var xw,yw;class s4 extends(yw=wt,xw=le,yw){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new i4(t,this.config)}}Z(s4,xw,"PgBigSerial53Builder");var vw,ww;class i4 extends(ww=tt,vw=le,ww){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}Z(i4,vw,"PgBigSerial53");var Cw,bw;class o4 extends(bw=wt,Cw=le,bw){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new a4(t,this.config)}}Z(o4,Cw,"PgBigSerial64Builder");var Ew,Sw;class a4 extends(Sw=tt,Ew=le,Sw){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}Z(a4,Ew,"PgBigSerial64");function Q9(e,t){const{name:n,config:r}=Mn(e,t);return r.mode==="number"?new s4(n):new o4(n)}var Aw,Nw;class l4 extends(Nw=wt,Aw=le,Nw){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new c4(t,this.config)}}Z(l4,Aw,"PgBooleanBuilder");var _w,Tw;class c4 extends(Tw=tt,_w=le,Tw){getSQLType(){return"boolean"}}Z(c4,_w,"PgBoolean");function Ml(e){return new l4(e??"")}var Iw,Rw;class u4 extends(Rw=wt,Iw=le,Rw){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new d4(t,this.config)}}Z(u4,Iw,"PgCharBuilder");var Ow,Pw;class d4 extends(Pw=tt,Ow=le,Pw){constructor(){super(...arguments);Z(this,"length",this.config.length);Z(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}Z(d4,Ow,"PgChar");function J9(e,t={}){const{name:n,config:r}=Mn(e,t);return new u4(n,r)}var Dw,kw;class f4 extends(kw=wt,Dw=le,kw){constructor(t){super(t,"string","PgCidr")}build(t){return new h4(t,this.config)}}Z(f4,Dw,"PgCidrBuilder");var Mw,jw;class h4 extends(jw=tt,Mw=le,jw){getSQLType(){return"cidr"}}Z(h4,Mw,"PgCidr");function ej(e){return new f4(e??"")}var Lw,Fw;class m4 extends(Fw=wt,Lw=le,Fw){constructor(t,n,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new p4(t,this.config)}}Z(m4,Lw,"PgCustomColumnBuilder");var Bw,Vw;class p4 extends(Vw=tt,Bw=le,Vw){constructor(n,r){super(n,r);Z(this,"sqlName");Z(this,"mapTo");Z(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}Z(p4,Bw,"PgCustomColumn");function tj(e){return(t,n)=>{const{name:r,config:o}=Mn(t,n);return new m4(r,o,e)}}var Uw,zw;class ql extends(zw=wt,Uw=le,zw){defaultNow(){return this.default(Ei`now()`)}}Z(ql,Uw,"PgDateColumnBaseBuilder");var Ww,Hw;class g4 extends(Hw=ql,Ww=le,Hw){constructor(t){super(t,"date","PgDate")}build(t){return new x4(t,this.config)}}Z(g4,Ww,"PgDateBuilder");var Gw,$w;class x4 extends($w=tt,Gw=le,$w){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}Z(x4,Gw,"PgDate");var Xw,Zw;class y4 extends(Zw=ql,Xw=le,Zw){constructor(t){super(t,"string","PgDateString")}build(t){return new v4(t,this.config)}}Z(y4,Xw,"PgDateStringBuilder");var Kw,qw;class v4 extends(qw=tt,Kw=le,qw){getSQLType(){return"date"}}Z(v4,Kw,"PgDateString");function nj(e,t){const{name:n,config:r}=Mn(e,t);return(r==null?void 0:r.mode)==="date"?new g4(n):new y4(n)}var Yw,Qw;class w4 extends(Qw=wt,Yw=le,Qw){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new C4(t,this.config)}}Z(w4,Yw,"PgDoublePrecisionBuilder");var Jw,eC;class C4 extends(eC=tt,Jw=le,eC){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}Z(C4,Jw,"PgDoublePrecision");function rj(e){return new w4(e??"")}var tC,nC;class b4 extends(nC=wt,tC=le,nC){constructor(t){super(t,"string","PgInet")}build(t){return new E4(t,this.config)}}Z(b4,tC,"PgInetBuilder");var rC,sC;class E4 extends(sC=tt,rC=le,sC){getSQLType(){return"inet"}}Z(E4,rC,"PgInet");function sj(e){return new b4(e??"")}var iC,oC;class S4 extends(oC=Bu,iC=le,oC){constructor(t){super(t,"number","PgInteger")}build(t){return new A4(t,this.config)}}Z(S4,iC,"PgIntegerBuilder");var aC,lC;class A4 extends(lC=tt,aC=le,lC){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}Z(A4,aC,"PgInteger");function jl(e){return new S4(e??"")}var cC,uC;class N4 extends(uC=wt,cC=le,uC){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new _4(t,this.config)}}Z(N4,cC,"PgIntervalBuilder");var dC,fC;class _4 extends(fC=tt,dC=le,fC){constructor(){super(...arguments);Z(this,"fields",this.config.intervalConfig.fields);Z(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}Z(_4,dC,"PgInterval");function ij(e,t={}){const{name:n,config:r}=Mn(e,t);return new N4(n,r)}var hC,mC;class T4 extends(mC=wt,hC=le,mC){constructor(t){super(t,"json","PgJson")}build(t){return new I4(t,this.config)}}Z(T4,hC,"PgJsonBuilder");var pC,gC;class I4 extends(gC=tt,pC=le,gC){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}Z(I4,pC,"PgJson");function oj(e){return new T4(e??"")}var xC,yC;class R4 extends(yC=wt,xC=le,yC){constructor(t){super(t,"json","PgJsonb")}build(t){return new O4(t,this.config)}}Z(R4,xC,"PgJsonbBuilder");var vC,wC;class O4 extends(wC=tt,vC=le,wC){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}Z(O4,vC,"PgJsonb");function aj(e){return new R4(e??"")}var CC,bC;class P4 extends(bC=wt,CC=le,bC){constructor(t){super(t,"array","PgLine")}build(t){return new D4(t,this.config)}}Z(P4,CC,"PgLineBuilder");var EC,SC;class D4 extends(SC=tt,EC=le,SC){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,o]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(o)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}Z(D4,EC,"PgLine");var AC,NC;class k4 extends(NC=wt,AC=le,NC){constructor(t){super(t,"json","PgLineABC")}build(t){return new M4(t,this.config)}}Z(k4,AC,"PgLineABCBuilder");var _C,TC;class M4 extends(TC=tt,_C=le,TC){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,o]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(o)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}Z(M4,_C,"PgLineABC");function lj(e,t){const{name:n,config:r}=Mn(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new P4(n):new k4(n)}var IC,RC;class j4 extends(RC=wt,IC=le,RC){constructor(t){super(t,"string","PgMacaddr")}build(t){return new L4(t,this.config)}}Z(j4,IC,"PgMacaddrBuilder");var OC,PC;class L4 extends(PC=tt,OC=le,PC){getSQLType(){return"macaddr"}}Z(L4,OC,"PgMacaddr");function cj(e){return new j4(e??"")}var DC,kC;class F4 extends(kC=wt,DC=le,kC){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new B4(t,this.config)}}Z(F4,DC,"PgMacaddr8Builder");var MC,jC;class B4 extends(jC=tt,MC=le,jC){getSQLType(){return"macaddr8"}}Z(B4,MC,"PgMacaddr8");function uj(e){return new F4(e??"")}var LC,FC;class V4 extends(FC=wt,LC=le,FC){constructor(t,n,r){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(t){return new U4(t,this.config)}}Z(V4,LC,"PgNumericBuilder");var BC,VC;class U4 extends(VC=tt,BC=le,VC){constructor(n,r){super(n,r);Z(this,"precision");Z(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}Z(U4,BC,"PgNumeric");function z4(e,t){const{name:n,config:r}=Mn(e,t);return new V4(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const W4=z4;var UC,zC;class H4 extends(zC=wt,UC=le,zC){constructor(t){super(t,"array","PgPointTuple")}build(t){return new G4(t,this.config)}}Z(H4,UC,"PgPointTupleBuilder");var WC,HC;class G4 extends(HC=tt,WC=le,HC){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}Z(G4,WC,"PgPointTuple");var GC,$C;class $4 extends($C=wt,GC=le,$C){constructor(t){super(t,"json","PgPointObject")}build(t){return new X4(t,this.config)}}Z($4,GC,"PgPointObjectBuilder");var XC,ZC;class X4 extends(ZC=tt,XC=le,ZC){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}Z(X4,XC,"PgPointObject");function dj(e,t){const{name:n,config:r}=Mn(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new H4(n):new $4(n)}function fj(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function q2(e,t){const n=new ArrayBuffer(8),r=new DataView(n);for(let o=0;o<8;o++)r.setUint8(o,e[t+o]);return r.getFloat64(0,!0)}function Z4(e){const t=fj(e);let n=0;const r=t[n];n+=1;const o=new DataView(t.buffer),l=o.getUint32(n,r===1);if(n+=4,l&536870912&&(o.getUint32(n,r===1),n+=4),(l&65535)===1){const d=q2(t,n);n+=8;const m=q2(t,n);return n+=8,[d,m]}throw new Error("Unsupported geometry type")}var KC,qC;class K4 extends(qC=wt,KC=le,qC){constructor(t){super(t,"array","PgGeometry")}build(t){return new q4(t,this.config)}}Z(K4,KC,"PgGeometryBuilder");var YC,QC;class q4 extends(QC=tt,YC=le,QC){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return Z4(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}Z(q4,YC,"PgGeometry");var JC,eb;class Y4 extends(eb=wt,JC=le,eb){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new Q4(t,this.config)}}Z(Y4,JC,"PgGeometryObjectBuilder");var tb,nb;class Q4 extends(nb=tt,tb=le,nb){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=Z4(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}Z(Q4,tb,"PgGeometryObject");function hj(e,t){const{name:n,config:r}=Mn(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new K4(n):new Y4(n)}var rb,sb;class J4 extends(sb=wt,rb=le,sb){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new eT(t,this.config)}}Z(J4,rb,"PgRealBuilder");var ib,ob;class eT extends(ob=tt,ib=le,ob){constructor(n,r){super(n,r);Z(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}Z(eT,ib,"PgReal");function mj(e){return new J4(e??"")}var ab,lb;class tT extends(lb=wt,ab=le,lb){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new nT(t,this.config)}}Z(tT,ab,"PgSerialBuilder");var cb,ub;class nT extends(ub=tt,cb=le,ub){getSQLType(){return"serial"}}Z(nT,cb,"PgSerial");function pj(e){return new tT(e??"")}var db,fb;class rT extends(fb=Bu,db=le,fb){constructor(t){super(t,"number","PgSmallInt")}build(t){return new sT(t,this.config)}}Z(rT,db,"PgSmallIntBuilder");var hb,mb;class sT extends(mb=tt,hb=le,mb){constructor(){super(...arguments);Z(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}Z(sT,hb,"PgSmallInt");function gj(e){return new rT(e??"")}var pb,gb;class iT extends(gb=wt,pb=le,gb){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new oT(t,this.config)}}Z(iT,pb,"PgSmallSerialBuilder");var xb,yb;class oT extends(yb=tt,xb=le,yb){getSQLType(){return"smallserial"}}Z(oT,xb,"PgSmallSerial");function xj(e){return new iT(e??"")}var vb,wb;class aT extends(wb=wt,vb=le,wb){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new lT(t,this.config)}}Z(aT,vb,"PgTextBuilder");var Cb,bb;class lT extends(bb=tt,Cb=le,bb){constructor(){super(...arguments);Z(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}Z(lT,Cb,"PgText");function da(e,t={}){const{name:n,config:r}=Mn(e,t);return new aT(n,r)}var Eb,Sb;class cT extends(Sb=ql,Eb=le,Sb){constructor(t,n,r){super(t,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(t){return new uT(t,this.config)}}Z(cT,Eb,"PgTimeBuilder");var Ab,Nb;class uT extends(Nb=tt,Ab=le,Nb){constructor(n,r){super(n,r);Z(this,"withTimezone");Z(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Z(uT,Ab,"PgTime");function yj(e,t={}){const{name:n,config:r}=Mn(e,t);return new cT(n,r.withTimezone??!1,r.precision)}var _b,Tb;class dT extends(Tb=ql,_b=le,Tb){constructor(t,n,r){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(t){return new fT(t,this.config)}}Z(dT,_b,"PgTimestampBuilder");var Ib,Rb;class fT extends(Rb=tt,Ib=le,Rb){constructor(n,r){super(n,r);Z(this,"withTimezone");Z(this,"precision");Z(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));Z(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}Z(fT,Ib,"PgTimestamp");var Ob,Pb;class hT extends(Pb=ql,Ob=le,Pb){constructor(t,n,r){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(t){return new mT(t,this.config)}}Z(hT,Ob,"PgTimestampStringBuilder");var Db,kb;class mT extends(kb=tt,Db=le,kb){constructor(n,r){super(n,r);Z(this,"withTimezone");Z(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Z(mT,Db,"PgTimestampString");function cr(e,t={}){const{name:n,config:r}=Mn(e,t);return(r==null?void 0:r.mode)==="string"?new hT(n,r.withTimezone??!1,r.precision):new dT(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var Mb,jb;class pT extends(jb=wt,Mb=le,jb){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Ei`gen_random_uuid()`)}build(t){return new gT(t,this.config)}}Z(pT,Mb,"PgUUIDBuilder");var Lb,Fb;class gT extends(Fb=tt,Lb=le,Fb){getSQLType(){return"uuid"}}Z(gT,Lb,"PgUUID");function vj(e){return new pT(e??"")}var Bb,Vb;class xT extends(Vb=wt,Bb=le,Vb){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new yT(t,this.config)}}Z(xT,Bb,"PgVarcharBuilder");var Ub,zb;class yT extends(zb=tt,Ub=le,zb){constructor(){super(...arguments);Z(this,"length",this.config.length);Z(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}Z(yT,Ub,"PgVarchar");function Lt(e,t={}){const{name:n,config:r}=Mn(e,t);return new xT(n,r)}var Wb,Hb;class vT extends(Hb=wt,Wb=le,Hb){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new wT(t,this.config)}}Z(vT,Wb,"PgBinaryVectorBuilder");var Gb,$b;class wT extends($b=tt,Gb=le,$b){constructor(){super(...arguments);Z(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}Z(wT,Gb,"PgBinaryVector");function wj(e,t){const{name:n,config:r}=Mn(e,t);return new vT(n,r)}var Xb,Zb;class CT extends(Zb=wt,Xb=le,Zb){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new bT(t,this.config)}}Z(CT,Xb,"PgHalfVectorBuilder");var Kb,qb;class bT extends(qb=tt,Kb=le,qb){constructor(){super(...arguments);Z(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}Z(bT,Kb,"PgHalfVector");function Cj(e,t){const{name:n,config:r}=Mn(e,t);return new CT(n,r)}var Yb,Qb;class ET extends(Qb=wt,Yb=le,Qb){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new ST(t,this.config)}}Z(ET,Yb,"PgSparseVectorBuilder");var Jb,eE;class ST extends(eE=tt,Jb=le,eE){constructor(){super(...arguments);Z(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}Z(ST,Jb,"PgSparseVector");function bj(e,t){const{name:n,config:r}=Mn(e,t);return new ET(n,r)}var tE,nE;class AT extends(nE=wt,tE=le,nE){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new NT(t,this.config)}}Z(AT,tE,"PgVectorBuilder");var rE,sE;class NT extends(sE=tt,rE=le,sE){constructor(){super(...arguments);Z(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}Z(NT,rE,"PgVector");function Ej(e,t){const{name:n,config:r}=Mn(e,t);return new AT(n,r)}function Sj(){return{bigint:Y9,bigserial:Q9,boolean:Ml,char:J9,cidr:ej,customType:tj,date:nj,doublePrecision:rj,inet:sj,integer:jl,interval:ij,json:oj,jsonb:aj,line:lj,macaddr:cj,macaddr8:uj,numeric:z4,point:dj,geometry:hj,real:mj,serial:pj,smallint:gj,smallserial:xj,text:da,time:yj,timestamp:cr,uuid:vj,varchar:Lt,bit:wj,halfvec:Cj,sparsevec:bj,vector:Ej}}const Bm=Symbol.for("drizzle:PgInlineForeignKeys"),Y2=Symbol.for("drizzle:EnableRLS");var iE,oE,aE,lE,cE;class zf extends(cE=lr,lE=le,aE=Bm,oE=Y2,iE=lr.Symbol.ExtraConfigBuilder,cE){constructor(){super(...arguments);Z(this,aE,[]);Z(this,oE,!1);Z(this,iE)}}Z(zf,lE,"PgTable"),Z(zf,"Symbol",Object.assign({},lr.Symbol,{InlineForeignKeys:Bm,EnableRLS:Y2}));function Aj(e,t,n,r,o=e){const l=new zf(e,r,o),d=typeof t=="function"?t(Sj()):t,m=Object.fromEntries(Object.entries(d).map(([v,C])=>{const S=C;S.setName(v);const R=S.build(l);return l[Bm].push(...S.buildForeignKeys(R,l)),[v,R]})),x=Object.fromEntries(Object.entries(d).map(([v,C])=>{const S=C;S.setName(v);const R=S.buildExtraConfigColumn(l);return[v,R]})),g=Object.assign(l,m);return g[lr.Symbol.Columns]=m,g[lr.Symbol.ExtraConfigColumns]=x,Object.assign(g,{enableRLS:()=>(g[zf.Symbol.EnableRLS]=!0,g)})}const Vu=(e,t,n)=>Aj(e,t,n,void 0);var yt;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const l={};for(const d of o)l[d]=d;return l},e.getValidEnumValues=o=>{const l=e.objectKeys(o).filter(m=>typeof o[o[m]]!="number"),d={};for(const m of l)d[m]=o[m];return e.objectValues(d)},e.objectValues=o=>e.objectKeys(o).map(function(l){return o[l]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const l=[];for(const d in o)Object.prototype.hasOwnProperty.call(o,d)&&l.push(d);return l},e.find=(o,l)=>{for(const d of o)if(l(d))return d},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,l=" | "){return o.map(d=>typeof d=="string"?`'${d}'`:d).join(l)}e.joinValues=r,e.jsonStringifyReplacer=(o,l)=>typeof l=="bigint"?l.toString():l})(yt||(yt={}));var Vm;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Vm||(Vm={}));const Te=yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ui=e=>{switch(typeof e){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(e)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(e)?Te.array:e===null?Te.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Te.promise:typeof Map<"u"&&e instanceof Map?Te.map:typeof Set<"u"&&e instanceof Set?Te.set:typeof Date<"u"&&e instanceof Date?Te.date:Te.object;default:return Te.unknown}},he=yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Nj=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ur extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(l){return l.message},r={_errors:[]},o=l=>{for(const d of l.issues)if(d.code==="invalid_union")d.unionErrors.map(o);else if(d.code==="invalid_return_type")o(d.returnTypeError);else if(d.code==="invalid_arguments")o(d.argumentsError);else if(d.path.length===0)r._errors.push(n(d));else{let m=r,x=0;for(;x<d.path.length;){const g=d.path[x];x===d.path.length-1?(m[g]=m[g]||{_errors:[]},m[g]._errors.push(n(d))):m[g]=m[g]||{_errors:[]},m=m[g],x++}}};return o(this),r}static assert(t){if(!(t instanceof Ur))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ur.create=e=>new Ur(e);const Ll=(e,t)=>{let n;switch(e.code){case he.invalid_type:e.received===Te.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case he.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,yt.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:n=`Unrecognized key(s) in object: ${yt.joinValues(e.keys,", ")}`;break;case he.invalid_union:n="Invalid input";break;case he.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${yt.joinValues(e.options)}`;break;case he.invalid_enum_value:n=`Invalid enum value. Expected ${yt.joinValues(e.options)}, received '${e.received}'`;break;case he.invalid_arguments:n="Invalid function arguments";break;case he.invalid_return_type:n="Invalid function return type";break;case he.invalid_date:n="Invalid date";break;case he.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:yt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case he.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case he.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case he.custom:n="Invalid input";break;case he.invalid_intersection_types:n="Intersection results could not be merged";break;case he.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case he.not_finite:n="Number must be finite";break;default:n=t.defaultError,yt.assertNever(e)}return{message:n}};let _T=Ll;function _j(e){_T=e}function Wf(){return _T}const Hf=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,l=[...n,...o.path||[]],d={...o,path:l};if(o.message!==void 0)return{...o,path:l,message:o.message};let m="";const x=r.filter(g=>!!g).slice().reverse();for(const g of x)m=g(d,{data:t,defaultError:m}).message;return{...o,path:l,message:m}},Tj=[];function Se(e,t){const n=Wf(),r=Hf({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ll?void 0:Ll].filter(o=>!!o)});e.common.issues.push(r)}class tr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const o of n){if(o.status==="aborted")return Xe;o.status==="dirty"&&t.dirty(),r.push(o.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const o of n){const l=await o.key,d=await o.value;r.push({key:l,value:d})}return tr.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const o of n){const{key:l,value:d}=o;if(l.status==="aborted"||d.status==="aborted")return Xe;l.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),l.value!=="__proto__"&&(typeof d.value<"u"||o.alwaysSet)&&(r[l.value]=d.value)}return{status:t.value,value:r}}}const Xe=Object.freeze({status:"aborted"}),Za=e=>({status:"dirty",value:e}),dr=e=>({status:"valid",value:e}),Um=e=>e.status==="aborted",zm=e=>e.status==="dirty",fa=e=>e.status==="valid",du=e=>typeof Promise<"u"&&e instanceof Promise;function Gf(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function TT(e,t,n,r,o){if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var je;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(je||(je={}));var Nc,_c;class Ks{constructor(t,n,r,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Q2=(e,t)=>{if(fa(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ur(e.common.issues);return this._error=n,this._error}}};function et(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(d,m)=>{var x,g;const{message:v}=e;return d.code==="invalid_enum_value"?{message:v??m.defaultError}:typeof m.data>"u"?{message:(x=v??r)!==null&&x!==void 0?x:m.defaultError}:d.code!=="invalid_type"?{message:m.defaultError}:{message:(g=v??n)!==null&&g!==void 0?g:m.defaultError}},description:o}}class at{get description(){return this._def.description}_getType(t){return ui(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ui(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new tr,ctx:{common:t.parent.common,data:t.data,parsedType:ui(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(du(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const o={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ui(t)},l=this._parseSync({data:t,path:o.path,parent:o});return Q2(o,l)}"~validate"(t){var n,r;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ui(t)};if(!this["~standard"].async)try{const l=this._parseSync({data:t,path:[],parent:o});return fa(l)?{value:l.value}:{issues:o.common.issues}}catch(l){!((r=(n=l==null?void 0:l.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:o}).then(l=>fa(l)?{value:l.value}:{issues:o.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ui(t)},o=this._parse({data:t,path:r.path,parent:r}),l=await(du(o)?o:Promise.resolve(o));return Q2(r,l)}refine(t,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,l)=>{const d=t(o),m=()=>l.addIssue({code:he.custom,...r(o)});return typeof Promise<"u"&&d instanceof Promise?d.then(x=>x?!0:(m(),!1)):d?!0:(m(),!1)})}refinement(t,n){return this._refinement((r,o)=>t(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(t){return new Ns({schema:this,typeName:Ge.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Xs.create(this,this._def)}nullable(){return bo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bs.create(this)}promise(){return Bl.create(this,this._def)}or(t){return pu.create([this,t],this._def)}and(t){return gu.create(this,t,this._def)}transform(t){return new Ns({...et(this._def),schema:this,typeName:Ge.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Cu({...et(this._def),innerType:this,defaultValue:n,typeName:Ge.ZodDefault})}brand(){return new Qg({typeName:Ge.ZodBranded,type:this,...et(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new bu({...et(this._def),innerType:this,catchValue:n,typeName:Ge.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Uu.create(this,t)}readonly(){return Eu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ij=/^c[^\s-]{8,}$/i,Rj=/^[0-9a-z]+$/,Oj=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Pj=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Dj=/^[a-z0-9_-]{21}$/i,kj=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Mj=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jj=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Lj="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let d1;const Fj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Bj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Vj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Uj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zj=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Wj=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,IT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Hj=new RegExp(`^${IT}$`);function RT(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Gj(e){return new RegExp(`^${RT(e)}$`)}function OT(e){let t=`${IT}T${RT(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function $j(e,t){return!!((t==="v4"||!t)&&Fj.test(e)||(t==="v6"||!t)&&Vj.test(e))}function Xj(e,t){if(!kj.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||!o.typ||!o.alg||t&&o.alg!==t)}catch{return!1}}function Zj(e,t){return!!((t==="v4"||!t)&&Bj.test(e)||(t==="v6"||!t)&&Uj.test(e))}class vs extends at{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Te.string){const l=this._getOrReturnCtx(t);return Se(l,{code:he.invalid_type,expected:Te.string,received:l.parsedType}),Xe}const r=new tr;let o;for(const l of this._def.checks)if(l.kind==="min")t.data.length<l.value&&(o=this._getOrReturnCtx(t,o),Se(o,{code:he.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),r.dirty());else if(l.kind==="max")t.data.length>l.value&&(o=this._getOrReturnCtx(t,o),Se(o,{code:he.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),r.dirty());else if(l.kind==="length"){const d=t.data.length>l.value,m=t.data.length<l.value;(d||m)&&(o=this._getOrReturnCtx(t,o),d?Se(o,{code:he.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):m&&Se(o,{code:he.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),r.dirty())}else if(l.kind==="email")jj.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"email",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="emoji")d1||(d1=new RegExp(Lj,"u")),d1.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"emoji",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="uuid")Pj.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"uuid",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="nanoid")Dj.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"nanoid",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="cuid")Ij.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"cuid",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="cuid2")Rj.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"cuid2",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="ulid")Oj.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"ulid",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),Se(o,{validation:"url",code:he.invalid_string,message:l.message}),r.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"regex",code:he.invalid_string,message:l.message}),r.dirty())):l.kind==="trim"?t.data=t.data.trim():l.kind==="includes"?t.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(t,o),Se(o,{code:he.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),r.dirty()):l.kind==="toLowerCase"?t.data=t.data.toLowerCase():l.kind==="toUpperCase"?t.data=t.data.toUpperCase():l.kind==="startsWith"?t.data.startsWith(l.value)||(o=this._getOrReturnCtx(t,o),Se(o,{code:he.invalid_string,validation:{startsWith:l.value},message:l.message}),r.dirty()):l.kind==="endsWith"?t.data.endsWith(l.value)||(o=this._getOrReturnCtx(t,o),Se(o,{code:he.invalid_string,validation:{endsWith:l.value},message:l.message}),r.dirty()):l.kind==="datetime"?OT(l).test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{code:he.invalid_string,validation:"datetime",message:l.message}),r.dirty()):l.kind==="date"?Hj.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{code:he.invalid_string,validation:"date",message:l.message}),r.dirty()):l.kind==="time"?Gj(l).test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{code:he.invalid_string,validation:"time",message:l.message}),r.dirty()):l.kind==="duration"?Mj.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"duration",code:he.invalid_string,message:l.message}),r.dirty()):l.kind==="ip"?$j(t.data,l.version)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"ip",code:he.invalid_string,message:l.message}),r.dirty()):l.kind==="jwt"?Xj(t.data,l.alg)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"jwt",code:he.invalid_string,message:l.message}),r.dirty()):l.kind==="cidr"?Zj(t.data,l.version)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"cidr",code:he.invalid_string,message:l.message}),r.dirty()):l.kind==="base64"?zj.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"base64",code:he.invalid_string,message:l.message}),r.dirty()):l.kind==="base64url"?Wj.test(t.data)||(o=this._getOrReturnCtx(t,o),Se(o,{validation:"base64url",code:he.invalid_string,message:l.message}),r.dirty()):yt.assertNever(l);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(o=>t.test(o),{validation:n,code:he.invalid_string,...je.errToObj(r)})}_addCheck(t){return new vs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...je.errToObj(t)})}url(t){return this._addCheck({kind:"url",...je.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...je.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...je.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...je.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...je.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...je.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...je.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...je.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...je.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...je.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...je.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...je.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...je.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...je.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...je.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...je.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...je.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...je.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...je.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...je.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...je.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...je.errToObj(n)})}nonempty(t){return this.min(1,je.errToObj(t))}trim(){return new vs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}vs.create=e=>{var t;return new vs({checks:[],typeName:Ge.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...et(e)})};function Kj(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r,l=parseInt(e.toFixed(o).replace(".","")),d=parseInt(t.toFixed(o).replace(".",""));return l%d/Math.pow(10,o)}class vo extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Te.number){const l=this._getOrReturnCtx(t);return Se(l,{code:he.invalid_type,expected:Te.number,received:l.parsedType}),Xe}let r;const o=new tr;for(const l of this._def.checks)l.kind==="int"?yt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Se(r,{code:he.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:he.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:he.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?Kj(t.data,l.value)!==0&&(r=this._getOrReturnCtx(t,r),Se(r,{code:he.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Se(r,{code:he.not_finite,message:l.message}),o.dirty()):yt.assertNever(l);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,je.toString(n))}gt(t,n){return this.setLimit("min",t,!1,je.toString(n))}lte(t,n){return this.setLimit("max",t,!0,je.toString(n))}lt(t,n){return this.setLimit("max",t,!1,je.toString(n))}setLimit(t,n,r,o){return new vo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:je.toString(o)}]})}_addCheck(t){return new vo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:je.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:je.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:je.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:je.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:je.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:je.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&yt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}vo.create=e=>new vo({checks:[],typeName:Ge.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...et(e)});class wo extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Te.bigint)return this._getInvalidInput(t);let r;const o=new tr;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:he.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:he.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?t.data%l.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:he.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):yt.assertNever(l);return{status:o.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Se(n,{code:he.invalid_type,expected:Te.bigint,received:n.parsedType}),Xe}gte(t,n){return this.setLimit("min",t,!0,je.toString(n))}gt(t,n){return this.setLimit("min",t,!1,je.toString(n))}lte(t,n){return this.setLimit("max",t,!0,je.toString(n))}lt(t,n){return this.setLimit("max",t,!1,je.toString(n))}setLimit(t,n,r,o){return new wo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:je.toString(o)}]})}_addCheck(t){return new wo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:je.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:je.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}wo.create=e=>{var t;return new wo({checks:[],typeName:Ge.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...et(e)})};class fu extends at{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Te.boolean){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Te.boolean,received:r.parsedType}),Xe}return dr(t.data)}}fu.create=e=>new fu({typeName:Ge.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...et(e)});class ha extends at{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Te.date){const l=this._getOrReturnCtx(t);return Se(l,{code:he.invalid_type,expected:Te.date,received:l.parsedType}),Xe}if(isNaN(t.data.getTime())){const l=this._getOrReturnCtx(t);return Se(l,{code:he.invalid_date}),Xe}const r=new tr;let o;for(const l of this._def.checks)l.kind==="min"?t.data.getTime()<l.value&&(o=this._getOrReturnCtx(t,o),Se(o,{code:he.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),r.dirty()):l.kind==="max"?t.data.getTime()>l.value&&(o=this._getOrReturnCtx(t,o),Se(o,{code:he.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),r.dirty()):yt.assertNever(l);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ha({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:je.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:je.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ha.create=e=>new ha({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ge.ZodDate,...et(e)});class $f extends at{_parse(t){if(this._getType(t)!==Te.symbol){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Te.symbol,received:r.parsedType}),Xe}return dr(t.data)}}$f.create=e=>new $f({typeName:Ge.ZodSymbol,...et(e)});class hu extends at{_parse(t){if(this._getType(t)!==Te.undefined){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Te.undefined,received:r.parsedType}),Xe}return dr(t.data)}}hu.create=e=>new hu({typeName:Ge.ZodUndefined,...et(e)});class mu extends at{_parse(t){if(this._getType(t)!==Te.null){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Te.null,received:r.parsedType}),Xe}return dr(t.data)}}mu.create=e=>new mu({typeName:Ge.ZodNull,...et(e)});class Fl extends at{constructor(){super(...arguments),this._any=!0}_parse(t){return dr(t.data)}}Fl.create=e=>new Fl({typeName:Ge.ZodAny,...et(e)});class Jo extends at{constructor(){super(...arguments),this._unknown=!0}_parse(t){return dr(t.data)}}Jo.create=e=>new Jo({typeName:Ge.ZodUnknown,...et(e)});class Si extends at{_parse(t){const n=this._getOrReturnCtx(t);return Se(n,{code:he.invalid_type,expected:Te.never,received:n.parsedType}),Xe}}Si.create=e=>new Si({typeName:Ge.ZodNever,...et(e)});class Xf extends at{_parse(t){if(this._getType(t)!==Te.undefined){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Te.void,received:r.parsedType}),Xe}return dr(t.data)}}Xf.create=e=>new Xf({typeName:Ge.ZodVoid,...et(e)});class bs extends at{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),o=this._def;if(n.parsedType!==Te.array)return Se(n,{code:he.invalid_type,expected:Te.array,received:n.parsedType}),Xe;if(o.exactLength!==null){const d=n.data.length>o.exactLength.value,m=n.data.length<o.exactLength.value;(d||m)&&(Se(n,{code:d?he.too_big:he.too_small,minimum:m?o.exactLength.value:void 0,maximum:d?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(Se(n,{code:he.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(Se(n,{code:he.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((d,m)=>o.type._parseAsync(new Ks(n,d,n.path,m)))).then(d=>tr.mergeArray(r,d));const l=[...n.data].map((d,m)=>o.type._parseSync(new Ks(n,d,n.path,m)));return tr.mergeArray(r,l)}get element(){return this._def.type}min(t,n){return new bs({...this._def,minLength:{value:t,message:je.toString(n)}})}max(t,n){return new bs({...this._def,maxLength:{value:t,message:je.toString(n)}})}length(t,n){return new bs({...this._def,exactLength:{value:t,message:je.toString(n)}})}nonempty(t){return this.min(1,t)}}bs.create=(e,t)=>new bs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ge.ZodArray,...et(t)});function Ma(e){if(e instanceof tn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Xs.create(Ma(r))}return new tn({...e._def,shape:()=>t})}else return e instanceof bs?new bs({...e._def,type:Ma(e.element)}):e instanceof Xs?Xs.create(Ma(e.unwrap())):e instanceof bo?bo.create(Ma(e.unwrap())):e instanceof qs?qs.create(e.items.map(t=>Ma(t))):e}class tn extends at{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=yt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Te.object){const g=this._getOrReturnCtx(t);return Se(g,{code:he.invalid_type,expected:Te.object,received:g.parsedType}),Xe}const{status:r,ctx:o}=this._processInputParams(t),{shape:l,keys:d}=this._getCached(),m=[];if(!(this._def.catchall instanceof Si&&this._def.unknownKeys==="strip"))for(const g in o.data)d.includes(g)||m.push(g);const x=[];for(const g of d){const v=l[g],C=o.data[g];x.push({key:{status:"valid",value:g},value:v._parse(new Ks(o,C,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof Si){const g=this._def.unknownKeys;if(g==="passthrough")for(const v of m)x.push({key:{status:"valid",value:v},value:{status:"valid",value:o.data[v]}});else if(g==="strict")m.length>0&&(Se(o,{code:he.unrecognized_keys,keys:m}),r.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const v of m){const C=o.data[v];x.push({key:{status:"valid",value:v},value:g._parse(new Ks(o,C,o.path,v)),alwaysSet:v in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const g=[];for(const v of x){const C=await v.key,S=await v.value;g.push({key:C,value:S,alwaysSet:v.alwaysSet})}return g}).then(g=>tr.mergeObjectSync(r,g)):tr.mergeObjectSync(r,x)}get shape(){return this._def.shape()}strict(t){return je.errToObj,new tn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var o,l,d,m;const x=(d=(l=(o=this._def).errorMap)===null||l===void 0?void 0:l.call(o,n,r).message)!==null&&d!==void 0?d:r.defaultError;return n.code==="unrecognized_keys"?{message:(m=je.errToObj(t).message)!==null&&m!==void 0?m:x}:{message:x}}}:{}})}strip(){return new tn({...this._def,unknownKeys:"strip"})}passthrough(){return new tn({...this._def,unknownKeys:"passthrough"})}extend(t){return new tn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new tn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ge.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new tn({...this._def,catchall:t})}pick(t){const n={};return yt.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new tn({...this._def,shape:()=>n})}omit(t){const n={};return yt.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new tn({...this._def,shape:()=>n})}deepPartial(){return Ma(this)}partial(t){const n={};return yt.objectKeys(this.shape).forEach(r=>{const o=this.shape[r];t&&!t[r]?n[r]=o:n[r]=o.optional()}),new tn({...this._def,shape:()=>n})}required(t){const n={};return yt.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let l=this.shape[r];for(;l instanceof Xs;)l=l._def.innerType;n[r]=l}}),new tn({...this._def,shape:()=>n})}keyof(){return PT(yt.objectKeys(this.shape))}}tn.create=(e,t)=>new tn({shape:()=>e,unknownKeys:"strip",catchall:Si.create(),typeName:Ge.ZodObject,...et(t)});tn.strictCreate=(e,t)=>new tn({shape:()=>e,unknownKeys:"strict",catchall:Si.create(),typeName:Ge.ZodObject,...et(t)});tn.lazycreate=(e,t)=>new tn({shape:e,unknownKeys:"strip",catchall:Si.create(),typeName:Ge.ZodObject,...et(t)});class pu extends at{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function o(l){for(const m of l)if(m.result.status==="valid")return m.result;for(const m of l)if(m.result.status==="dirty")return n.common.issues.push(...m.ctx.common.issues),m.result;const d=l.map(m=>new Ur(m.ctx.common.issues));return Se(n,{code:he.invalid_union,unionErrors:d}),Xe}if(n.common.async)return Promise.all(r.map(async l=>{const d={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:d}),ctx:d}})).then(o);{let l;const d=[];for(const x of r){const g={...n,common:{...n.common,issues:[]},parent:null},v=x._parseSync({data:n.data,path:n.path,parent:g});if(v.status==="valid")return v;v.status==="dirty"&&!l&&(l={result:v,ctx:g}),g.common.issues.length&&d.push(g.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const m=d.map(x=>new Ur(x));return Se(n,{code:he.invalid_union,unionErrors:m}),Xe}}get options(){return this._def.options}}pu.create=(e,t)=>new pu({options:e,typeName:Ge.ZodUnion,...et(t)});const ti=e=>e instanceof yu?ti(e.schema):e instanceof Ns?ti(e.innerType()):e instanceof vu?[e.value]:e instanceof Co?e.options:e instanceof wu?yt.objectValues(e.enum):e instanceof Cu?ti(e._def.innerType):e instanceof hu?[void 0]:e instanceof mu?[null]:e instanceof Xs?[void 0,...ti(e.unwrap())]:e instanceof bo?[null,...ti(e.unwrap())]:e instanceof Qg||e instanceof Eu?ti(e.unwrap()):e instanceof bu?ti(e._def.innerType):[];class Uh extends at{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.object)return Se(n,{code:he.invalid_type,expected:Te.object,received:n.parsedType}),Xe;const r=this.discriminator,o=n.data[r],l=this.optionsMap.get(o);return l?n.common.async?l._parseAsync({data:n.data,path:n.path,parent:n}):l._parseSync({data:n.data,path:n.path,parent:n}):(Se(n,{code:he.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Xe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const o=new Map;for(const l of n){const d=ti(l.shape[t]);if(!d.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const m of d){if(o.has(m))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(m)}`);o.set(m,l)}}return new Uh({typeName:Ge.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o,...et(r)})}}function Wm(e,t){const n=ui(e),r=ui(t);if(e===t)return{valid:!0,data:e};if(n===Te.object&&r===Te.object){const o=yt.objectKeys(t),l=yt.objectKeys(e).filter(m=>o.indexOf(m)!==-1),d={...e,...t};for(const m of l){const x=Wm(e[m],t[m]);if(!x.valid)return{valid:!1};d[m]=x.data}return{valid:!0,data:d}}else if(n===Te.array&&r===Te.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let l=0;l<e.length;l++){const d=e[l],m=t[l],x=Wm(d,m);if(!x.valid)return{valid:!1};o.push(x.data)}return{valid:!0,data:o}}else return n===Te.date&&r===Te.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class gu extends at{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=(l,d)=>{if(Um(l)||Um(d))return Xe;const m=Wm(l.value,d.value);return m.valid?((zm(l)||zm(d))&&n.dirty(),{status:n.value,value:m.data}):(Se(r,{code:he.invalid_intersection_types}),Xe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([l,d])=>o(l,d)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}gu.create=(e,t,n)=>new gu({left:e,right:t,typeName:Ge.ZodIntersection,...et(n)});class qs extends at{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.array)return Se(r,{code:he.invalid_type,expected:Te.array,received:r.parsedType}),Xe;if(r.data.length<this._def.items.length)return Se(r,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xe;!this._def.rest&&r.data.length>this._def.items.length&&(Se(r,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...r.data].map((d,m)=>{const x=this._def.items[m]||this._def.rest;return x?x._parse(new Ks(r,d,r.path,m)):null}).filter(d=>!!d);return r.common.async?Promise.all(l).then(d=>tr.mergeArray(n,d)):tr.mergeArray(n,l)}get items(){return this._def.items}rest(t){return new qs({...this._def,rest:t})}}qs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qs({items:e,typeName:Ge.ZodTuple,rest:null,...et(t)})};class xu extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.object)return Se(r,{code:he.invalid_type,expected:Te.object,received:r.parsedType}),Xe;const o=[],l=this._def.keyType,d=this._def.valueType;for(const m in r.data)o.push({key:l._parse(new Ks(r,m,r.path,m)),value:d._parse(new Ks(r,r.data[m],r.path,m)),alwaysSet:m in r.data});return r.common.async?tr.mergeObjectAsync(n,o):tr.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof at?new xu({keyType:t,valueType:n,typeName:Ge.ZodRecord,...et(r)}):new xu({keyType:vs.create(),valueType:t,typeName:Ge.ZodRecord,...et(n)})}}class Zf extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.map)return Se(r,{code:he.invalid_type,expected:Te.map,received:r.parsedType}),Xe;const o=this._def.keyType,l=this._def.valueType,d=[...r.data.entries()].map(([m,x],g)=>({key:o._parse(new Ks(r,m,r.path,[g,"key"])),value:l._parse(new Ks(r,x,r.path,[g,"value"]))}));if(r.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const x of d){const g=await x.key,v=await x.value;if(g.status==="aborted"||v.status==="aborted")return Xe;(g.status==="dirty"||v.status==="dirty")&&n.dirty(),m.set(g.value,v.value)}return{status:n.value,value:m}})}else{const m=new Map;for(const x of d){const g=x.key,v=x.value;if(g.status==="aborted"||v.status==="aborted")return Xe;(g.status==="dirty"||v.status==="dirty")&&n.dirty(),m.set(g.value,v.value)}return{status:n.value,value:m}}}}Zf.create=(e,t,n)=>new Zf({valueType:t,keyType:e,typeName:Ge.ZodMap,...et(n)});class ma extends at{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.set)return Se(r,{code:he.invalid_type,expected:Te.set,received:r.parsedType}),Xe;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(Se(r,{code:he.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(Se(r,{code:he.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const l=this._def.valueType;function d(x){const g=new Set;for(const v of x){if(v.status==="aborted")return Xe;v.status==="dirty"&&n.dirty(),g.add(v.value)}return{status:n.value,value:g}}const m=[...r.data.values()].map((x,g)=>l._parse(new Ks(r,x,r.path,g)));return r.common.async?Promise.all(m).then(x=>d(x)):d(m)}min(t,n){return new ma({...this._def,minSize:{value:t,message:je.toString(n)}})}max(t,n){return new ma({...this._def,maxSize:{value:t,message:je.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}ma.create=(e,t)=>new ma({valueType:e,minSize:null,maxSize:null,typeName:Ge.ZodSet,...et(t)});class ll extends at{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.function)return Se(n,{code:he.invalid_type,expected:Te.function,received:n.parsedType}),Xe;function r(m,x){return Hf({data:m,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Wf(),Ll].filter(g=>!!g),issueData:{code:he.invalid_arguments,argumentsError:x}})}function o(m,x){return Hf({data:m,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Wf(),Ll].filter(g=>!!g),issueData:{code:he.invalid_return_type,returnTypeError:x}})}const l={errorMap:n.common.contextualErrorMap},d=n.data;if(this._def.returns instanceof Bl){const m=this;return dr(async function(...x){const g=new Ur([]),v=await m._def.args.parseAsync(x,l).catch(R=>{throw g.addIssue(r(x,R)),g}),C=await Reflect.apply(d,this,v);return await m._def.returns._def.type.parseAsync(C,l).catch(R=>{throw g.addIssue(o(C,R)),g})})}else{const m=this;return dr(function(...x){const g=m._def.args.safeParse(x,l);if(!g.success)throw new Ur([r(x,g.error)]);const v=Reflect.apply(d,this,g.data),C=m._def.returns.safeParse(v,l);if(!C.success)throw new Ur([o(v,C.error)]);return C.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ll({...this._def,args:qs.create(t).rest(Jo.create())})}returns(t){return new ll({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new ll({args:t||qs.create([]).rest(Jo.create()),returns:n||Jo.create(),typeName:Ge.ZodFunction,...et(r)})}}class yu extends at{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}yu.create=(e,t)=>new yu({getter:e,typeName:Ge.ZodLazy,...et(t)});class vu extends at{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Se(n,{received:n.data,code:he.invalid_literal,expected:this._def.value}),Xe}return{status:"valid",value:t.data}}get value(){return this._def.value}}vu.create=(e,t)=>new vu({value:e,typeName:Ge.ZodLiteral,...et(t)});function PT(e,t){return new Co({values:e,typeName:Ge.ZodEnum,...et(t)})}class Co extends at{constructor(){super(...arguments),Nc.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Se(n,{expected:yt.joinValues(r),received:n.parsedType,code:he.invalid_type}),Xe}if(Gf(this,Nc)||TT(this,Nc,new Set(this._def.values)),!Gf(this,Nc).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Se(n,{received:n.data,code:he.invalid_enum_value,options:r}),Xe}return dr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Co.create(t,{...this._def,...n})}exclude(t,n=this._def){return Co.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Nc=new WeakMap;Co.create=PT;class wu extends at{constructor(){super(...arguments),_c.set(this,void 0)}_parse(t){const n=yt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Te.string&&r.parsedType!==Te.number){const o=yt.objectValues(n);return Se(r,{expected:yt.joinValues(o),received:r.parsedType,code:he.invalid_type}),Xe}if(Gf(this,_c)||TT(this,_c,new Set(yt.getValidEnumValues(this._def.values))),!Gf(this,_c).has(t.data)){const o=yt.objectValues(n);return Se(r,{received:r.data,code:he.invalid_enum_value,options:o}),Xe}return dr(t.data)}get enum(){return this._def.values}}_c=new WeakMap;wu.create=(e,t)=>new wu({values:e,typeName:Ge.ZodNativeEnum,...et(t)});class Bl extends at{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.promise&&n.common.async===!1)return Se(n,{code:he.invalid_type,expected:Te.promise,received:n.parsedType}),Xe;const r=n.parsedType===Te.promise?n.data:Promise.resolve(n.data);return dr(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Bl.create=(e,t)=>new Bl({type:e,typeName:Ge.ZodPromise,...et(t)});class Ns extends at{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=this._def.effect||null,l={addIssue:d=>{Se(r,d),d.fatal?n.abort():n.dirty()},get path(){return r.path}};if(l.addIssue=l.addIssue.bind(l),o.type==="preprocess"){const d=o.transform(r.data,l);if(r.common.async)return Promise.resolve(d).then(async m=>{if(n.value==="aborted")return Xe;const x=await this._def.schema._parseAsync({data:m,path:r.path,parent:r});return x.status==="aborted"?Xe:x.status==="dirty"||n.value==="dirty"?Za(x.value):x});{if(n.value==="aborted")return Xe;const m=this._def.schema._parseSync({data:d,path:r.path,parent:r});return m.status==="aborted"?Xe:m.status==="dirty"||n.value==="dirty"?Za(m.value):m}}if(o.type==="refinement"){const d=m=>{const x=o.refinement(m,l);if(r.common.async)return Promise.resolve(x);if(x instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(r.common.async===!1){const m=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return m.status==="aborted"?Xe:(m.status==="dirty"&&n.dirty(),d(m.value),{status:n.value,value:m.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(m=>m.status==="aborted"?Xe:(m.status==="dirty"&&n.dirty(),d(m.value).then(()=>({status:n.value,value:m.value}))))}if(o.type==="transform")if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!fa(d))return d;const m=o.transform(d.value,l);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:m}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>fa(d)?Promise.resolve(o.transform(d.value,l)).then(m=>({status:n.value,value:m})):d);yt.assertNever(o)}}Ns.create=(e,t,n)=>new Ns({schema:e,typeName:Ge.ZodEffects,effect:t,...et(n)});Ns.createWithPreprocess=(e,t,n)=>new Ns({schema:t,effect:{type:"preprocess",transform:e},typeName:Ge.ZodEffects,...et(n)});class Xs extends at{_parse(t){return this._getType(t)===Te.undefined?dr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xs.create=(e,t)=>new Xs({innerType:e,typeName:Ge.ZodOptional,...et(t)});class bo extends at{_parse(t){return this._getType(t)===Te.null?dr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bo.create=(e,t)=>new bo({innerType:e,typeName:Ge.ZodNullable,...et(t)});class Cu extends at{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Te.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Cu.create=(e,t)=>new Cu({innerType:e,typeName:Ge.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...et(t)});class bu extends at{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return du(o)?o.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Ur(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ur(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}bu.create=(e,t)=>new bu({innerType:e,typeName:Ge.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...et(t)});class Kf extends at{_parse(t){if(this._getType(t)!==Te.nan){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Te.nan,received:r.parsedType}),Xe}return{status:"valid",value:t.data}}}Kf.create=e=>new Kf({typeName:Ge.ZodNaN,...et(e)});const qj=Symbol("zod_brand");class Qg extends at{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Uu extends at{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Xe:l.status==="dirty"?(n.dirty(),Za(l.value)):this._def.out._parseAsync({data:l.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Xe:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(t,n){return new Uu({in:t,out:n,typeName:Ge.ZodPipeline})}}class Eu extends at{_parse(t){const n=this._def.innerType._parse(t),r=o=>(fa(o)&&(o.value=Object.freeze(o.value)),o);return du(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}}Eu.create=(e,t)=>new Eu({innerType:e,typeName:Ge.ZodReadonly,...et(t)});function J2(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function DT(e,t={},n){return e?Fl.create().superRefine((r,o)=>{var l,d;const m=e(r);if(m instanceof Promise)return m.then(x=>{var g,v;if(!x){const C=J2(t,r),S=(v=(g=C.fatal)!==null&&g!==void 0?g:n)!==null&&v!==void 0?v:!0;o.addIssue({code:"custom",...C,fatal:S})}});if(!m){const x=J2(t,r),g=(d=(l=x.fatal)!==null&&l!==void 0?l:n)!==null&&d!==void 0?d:!0;o.addIssue({code:"custom",...x,fatal:g})}}):Fl.create()}const Yj={object:tn.lazycreate};var Ge;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ge||(Ge={}));const Qj=(e,t={message:`Input not instance of ${e.name}`})=>DT(n=>n instanceof e,t),kT=vs.create,MT=vo.create,Jj=Kf.create,eL=wo.create,jT=fu.create,tL=ha.create,nL=$f.create,rL=hu.create,sL=mu.create,iL=Fl.create,oL=Jo.create,aL=Si.create,lL=Xf.create,cL=bs.create,uL=tn.create,dL=tn.strictCreate,fL=pu.create,hL=Uh.create,mL=gu.create,pL=qs.create,gL=xu.create,xL=Zf.create,yL=ma.create,vL=ll.create,wL=yu.create,CL=vu.create,bL=Co.create,EL=wu.create,SL=Bl.create,ev=Ns.create,AL=Xs.create,NL=bo.create,_L=Ns.createWithPreprocess,TL=Uu.create,IL=()=>kT().optional(),RL=()=>MT().optional(),OL=()=>jT().optional(),PL={string:e=>vs.create({...e,coerce:!0}),number:e=>vo.create({...e,coerce:!0}),boolean:e=>fu.create({...e,coerce:!0}),bigint:e=>wo.create({...e,coerce:!0}),date:e=>ha.create({...e,coerce:!0})},DL=Xe;var qe=Object.freeze({__proto__:null,defaultErrorMap:Ll,setErrorMap:_j,getErrorMap:Wf,makeIssue:Hf,EMPTY_PATH:Tj,addIssueToContext:Se,ParseStatus:tr,INVALID:Xe,DIRTY:Za,OK:dr,isAborted:Um,isDirty:zm,isValid:fa,isAsync:du,get util(){return yt},get objectUtil(){return Vm},ZodParsedType:Te,getParsedType:ui,ZodType:at,datetimeRegex:OT,ZodString:vs,ZodNumber:vo,ZodBigInt:wo,ZodBoolean:fu,ZodDate:ha,ZodSymbol:$f,ZodUndefined:hu,ZodNull:mu,ZodAny:Fl,ZodUnknown:Jo,ZodNever:Si,ZodVoid:Xf,ZodArray:bs,ZodObject:tn,ZodUnion:pu,ZodDiscriminatedUnion:Uh,ZodIntersection:gu,ZodTuple:qs,ZodRecord:xu,ZodMap:Zf,ZodSet:ma,ZodFunction:ll,ZodLazy:yu,ZodLiteral:vu,ZodEnum:Co,ZodNativeEnum:wu,ZodPromise:Bl,ZodEffects:Ns,ZodTransformer:Ns,ZodOptional:Xs,ZodNullable:bo,ZodDefault:Cu,ZodCatch:bu,ZodNaN:Kf,BRAND:qj,ZodBranded:Qg,ZodPipeline:Uu,ZodReadonly:Eu,custom:DT,Schema:at,ZodSchema:at,late:Yj,get ZodFirstPartyTypeKind(){return Ge},coerce:PL,any:iL,array:cL,bigint:eL,boolean:jT,date:tL,discriminatedUnion:hL,effect:ev,enum:bL,function:vL,instanceof:Qj,intersection:mL,lazy:wL,literal:CL,map:xL,nan:Jj,nativeEnum:EL,never:aL,null:sL,nullable:NL,number:MT,object:uL,oboolean:OL,onumber:RL,optional:AL,ostring:IL,pipeline:TL,preprocess:_L,promise:SL,record:gL,set:yL,strictObject:dL,string:kT,symbol:nL,transformer:ev,tuple:pL,undefined:rL,union:fL,unknown:oL,void:lL,NEVER:DL,ZodIssueCode:he,quotelessJson:Nj,ZodError:Ur});const en={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function mn(e,t){return t.includes(e.columnType)}function kL(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const ML=qe.union([qe.string(),qe.number(),qe.boolean(),qe.null()]),jL=qe.union([ML,qe.record(qe.any()),qe.array(qe.any())]),LL=qe.custom(e=>e instanceof Buffer);function LT(e,t){const n=(t==null?void 0:t.zodInstance)??qe,r=(t==null?void 0:t.coerce)??{};let o;return kL(e)&&(o=e.enumValues.length?n.enum(e.enumValues):n.string()),o||(mn(e,["PgGeometry","PgPointTuple"])?o=n.tuple([n.number(),n.number()]):mn(e,["PgGeometryObject","PgPointObject"])?o=n.object({x:n.number(),y:n.number()}):mn(e,["PgHalfVector","PgVector"])?(o=n.array(n.number()),o=e.dimensions?o.length(e.dimensions):o):mn(e,["PgLine"])?o=n.tuple([n.number(),n.number(),n.number()]):mn(e,["PgLineABC"])?o=n.object({a:n.number(),b:n.number(),c:n.number()}):mn(e,["PgArray"])?(o=n.array(LT(e.baseColumn,n)),o=e.size?o.length(e.size):o):e.dataType==="array"?o=n.array(n.any()):e.dataType==="number"?o=FL(e,n,r):e.dataType==="bigint"?o=BL(e,n,r):e.dataType==="boolean"?o=r===!0||r.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?o=r===!0||r.date?n.coerce.date():n.date():e.dataType==="string"?o=VL(e,n,r):e.dataType==="json"?o=jL:e.dataType==="custom"?o=n.any():e.dataType==="buffer"&&(o=LL)),o||(o=n.any()),o}function FL(e,t,n){let r=e.getSQLType().includes("unsigned"),o,l,d=!1;mn(e,["MySqlTinyInt","SingleStoreTinyInt"])?(o=r?0:en.INT8_MIN,l=r?en.INT8_UNSIGNED_MAX:en.INT8_MAX,d=!0):mn(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=r?0:en.INT16_MIN,l=r?en.INT16_UNSIGNED_MAX:en.INT16_MAX,d=!0):mn(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=r?0:en.INT24_MIN,l=r?en.INT24_UNSIGNED_MAX:en.INT24_MAX,d=mn(e,["MySqlMediumInt","SingleStoreMediumInt"])):mn(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=r?0:en.INT32_MIN,l=r?en.INT32_UNSIGNED_MAX:en.INT32_MAX,d=!0):mn(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=r?0:en.INT48_MIN,l=r?en.INT48_UNSIGNED_MAX:en.INT48_MAX):mn(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||mn(e,["MySqlSerial","SingleStoreSerial"]),o=r?0:Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,d=!0):mn(e,["MySqlYear","SingleStoreYear"])?(o=1901,l=2155,d=!0):(o=Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER);let m=n===!0||n!=null&&n.number?t.coerce.number():t.number();return m=m.min(o).max(l),d?m.int():m}function BL(e,t,n){const r=e.getSQLType().includes("unsigned"),o=r?0n:en.INT64_MIN,l=r?en.INT64_UNSIGNED_MAX:en.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(o).max(l)}function VL(e,t,n){if(mn(e,["PgUUID"]))return t.string().uuid();let r,o,l=!1;mn(e,["PgVarchar","SQLiteText"])?r=e.length:mn(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??en.INT16_UNSIGNED_MAX:mn(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=en.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=en.INT24_UNSIGNED_MAX:e.textType==="text"?r=en.INT16_UNSIGNED_MAX:r=en.INT8_UNSIGNED_MAX),mn(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,l=!0),mn(e,["PgBinaryVector"])&&(o=/^[01]+$/,r=e.dimensions);let d=n===!0||n!=null&&n.string?t.coerce.string():t.string();return d=o?d.regex(o):d,r&&l?d.length(r):r?d.max(r):d}function FT(e){return K_(e)?K9(e):q9(e)}function BT(e,t,n,r){const o={};for(const[l,d]of Object.entries(e)){if(!Un(d,kl)&&!Un(d,_n)&&!Un(d,_n.Aliased)&&typeof d=="object"){const C=K_(d)||Z9(d)?FT(d):d;o[l]=BT(C,t[l]??{},n,r);continue}const m=t[l];if(m!==void 0&&typeof m!="function"){o[l]=m;continue}const x=Un(d,kl)?d:void 0,g=x?LT(x,r):qe.any(),v=typeof m=="function"?m(g):g;n.never(x)||(o[l]=v,x&&(n.nullable(x)&&(o[l]=o[l].nullable()),n.optional(x)&&(o[l]=o[l].optional())))}return qe.object(o)}const UL={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},zu=(e,t)=>{const n=FT(e);return BT(n,t??{},UL)},Jg=Vu("users",{id:Lt("id").primaryKey().default(Ei`gen_random_uuid()`),email:Lt("email",{length:255}).notNull().unique(),emailVerified:Ml("email_verified").default(!1),password:da("password").notNull(),name:Lt("name",{length:255}).notNull(),cpf:Lt("cpf",{length:14}).notNull().unique(),phone:Lt("phone",{length:20}).notNull(),birthDate:cr("birth_date").notNull(),address:da("address").notNull(),partnerCompany:Lt("partner_company",{length:255}),isAdmin:Ml("is_admin").default(!1).notNull(),createdAt:cr("created_at").defaultNow(),updatedAt:cr("updated_at").defaultNow(),emailVerificationCode:Lt("email_verification_code",{length:6}),emailVerificationCodeExpiresAt:cr("email_verification_code_expires_at")}),ex=Vu("events",{id:Lt("id").primaryKey().default(Ei`gen_random_uuid()`),title:Lt("title",{length:255}).notNull(),description:da("description").notNull(),date:cr("date").notNull(),location:Lt("location",{length:255}).notNull(),price:W4("price",{precision:10,scale:2}).notNull(),imageUrl:Lt("image_url",{length:500}),maxAttendees:jl("max_attendees"),currentAttendees:jl("current_attendees").default(0),isActive:Ml("is_active").default(!0),createdAt:cr("created_at").defaultNow(),updatedAt:cr("updated_at").defaultNow()}),VT=Vu("courtesy_links",{id:Lt("id").primaryKey().default(Ei`gen_random_uuid()`),code:Lt("code",{length:100}).notNull().unique(),eventId:Lt("event_id").notNull().references(()=>ex.id),ticketCount:jl("ticket_count").notNull().default(1),usedCount:jl("used_count").default(0),createdBy:Lt("created_by").notNull().references(()=>Jg.id),isActive:Ml("is_active").default(!0),createdAt:cr("created_at").defaultNow(),updatedAt:cr("updated_at").defaultNow()}),zL=Vu("orders",{id:Lt("id").primaryKey().default(Ei`gen_random_uuid()`),userId:Lt("user_id").notNull().references(()=>Jg.id),eventId:Lt("event_id").notNull().references(()=>ex.id),status:Lt("status",{length:50}).notNull().default("pending"),paymentMethod:Lt("payment_method",{length:50}).notNull(),amount:W4("amount",{precision:10,scale:2}).notNull(),asaasPaymentId:Lt("asaas_payment_id",{length:255}),courtesyLinkId:Lt("courtesy_link_id").references(()=>VT.id),qrCodeData:da("qr_code_data"),qrCodeUsed:Ml("qr_code_used").default(!1),qrCodeUsedAt:cr("qr_code_used_at"),createdAt:cr("created_at").defaultNow(),updatedAt:cr("updated_at").defaultNow(),qr_code_s3_url:Lt("qr_code_s3_url",{length:500})}),WL=Vu("email_queue",{id:Lt("id").primaryKey().default(Ei`gen_random_uuid()`),to:Lt("to",{length:255}).notNull(),subject:Lt("subject",{length:255}).notNull(),html:da("html"),text:da("text"),status:Lt("status",{length:50}).default("pending"),attempts:jl("attempts").default(0),createdAt:cr("created_at").defaultNow(),processedAt:cr("processed_at")}),HL=zu(Jg,{email:qe.string().email("Email inválido"),cpf:qe.string().regex(/^\d{3}\.\d{3}\.\d{3}-\d{2}$/,"CPF deve estar no formato 000.000.000-00"),phone:qe.string().regex(/^\(\d{2}\)\s\d{4,5}-\d{4}$/,"Telefone deve estar no formato (00) 00000-0000"),password:qe.string().min(6,"Senha deve ter pelo menos 6 caracteres"),name:qe.string().min(2,"Nome deve ter pelo menos 2 caracteres"),address:qe.string().min(10,"Endereço deve ter pelo menos 10 caracteres"),birthDate:qe.date({required_error:"Data de nascimento é obrigatória"})}).omit({id:!0,createdAt:!0,updatedAt:!0,emailVerified:!0,isAdmin:!0});zu(ex).omit({id:!0,createdAt:!0,updatedAt:!0,currentAttendees:!0});zu(zL).omit({id:!0,createdAt:!0,updatedAt:!0,qrCodeData:!0,qrCodeUsed:!0,qrCodeUsedAt:!0});zu(WL).omit({id:!0,createdAt:!0,processedAt:!0,status:!0,attempts:!0});zu(VT).omit({id:!0,createdAt:!0,updatedAt:!0,usedCount:!0});const GL=qe.object({email:qe.string().email("Email inválido"),password:qe.string().min(1,"Senha é obrigatória")});qe.object({name:qe.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:qe.string().email("Email inválido"),emailConfirm:qe.string().email("Email inválido"),cpf:qe.string().regex(/^\d{3}\.\d{3}\.\d{3}-\d{2}$/,"CPF deve estar no formato 000.000.000-00"),partnerCompany:qe.string().min(2,"Empresa parceira é obrigatória"),birthDate:qe.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Data deve estar no formato AAAA-MM-DD"),address:qe.string().min(10,"Endereço deve ter pelo menos 10 caracteres"),phone:qe.string().regex(/^\(\d{2}\)\s\d{4,5}-\d{4}$/,"Telefone deve estar no formato (00) 00000-0000")}).refine(e=>e.email===e.emailConfirm,{message:"Os emails não coincidem",path:["emailConfirm"]});function $L(){const[,e]=os(),{toast:t}=Rr(),[n,r]=b.useState(!1),{executeRecaptcha:o}=B5(),l=ua({resolver:Xg(GL),defaultValues:{email:"",password:""}}),d=Ar({mutationFn:async x=>(await zn("POST","/api/auth/login",x)).json(),onSuccess:x=>{localStorage.setItem("token",x.token),mi.invalidateQueries({queryKey:["/api/auth/me"]}),x.user.emailVerified?(t({title:"Login realizado com sucesso!"}),e("/")):(t({title:"Verificação necessária",description:"Por favor, verifique seu e-mail."}),e(`/verify-email?email=${x.user.email}`))},onError:x=>{t({title:"Erro no login",description:x.message||"Verifique suas credenciais",variant:"destructive"})}}),m=b.useCallback(async x=>{if(!o){t({title:"reCAPTCHA not ready",variant:"destructive"});return}const g=await o("login");d.mutate({...x,recaptchaToken:g})},[o,d,t]);return h.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs(Ot,{className:"w-full max-w-md",children:[h.jsxs(Qn,{className:"text-center",children:[h.jsx("div",{className:"text-5xl mb-6",children:"💊"}),h.jsx(Jn,{className:"text-3xl font-bold text-gray-900",children:"Entrar na sua conta"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Acesse seus ingressos e histórico de eventos"})]}),h.jsx(Pt,{children:h.jsxs("form",{onSubmit:l.handleSubmit(m),className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail"}),h.jsx(pt,{id:"email",type:"email",...l.register("email"),className:"w-full","data-testid":"input-email"}),l.formState.errors.email&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-email-error",children:l.formState.errors.email.message})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),h.jsx(pt,{id:"password",type:"password",...l.register("password"),className:"w-full","data-testid":"input-password"}),l.formState.errors.password&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-password-error",children:l.formState.errors.password.message})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Kg,{id:"remember",checked:n,onCheckedChange:x=>r(x),"data-testid":"checkbox-remember"}),h.jsx(Nt,{htmlFor:"remember",className:"text-sm text-gray-600",children:"Lembrar de mim"})]}),h.jsx("a",{href:"/forgot-password",className:"text-sm text-primary hover:text-secondary",children:"Esqueceu a senha?"})]}),h.jsx(ut,{type:"submit",className:"w-full bg-primary hover:bg-secondary",disabled:d.isPending,"data-testid":"button-login",children:d.isPending?"Entrando...":"Entrar"}),h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:"text-gray-600",children:"Não tem conta? "}),h.jsx("a",{href:"/register",className:"text-primary hover:text-secondary font-medium","data-testid":"link-register",children:"Cadastre-se"})]})]})})]})})}const tx=b.forwardRef(({className:e,...t},n)=>h.jsx("textarea",{className:Le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));tx.displayName="Textarea";const XL=HL.extend({birthDate:qe.string().regex(/^\d{2}\/\d{2}\/\d{4}$/,"Data deve estar no formato dd/mm/aaaa"),emailConfirm:qe.string().email("Email inválido"),passwordConfirm:qe.string().min(6,"Confirmação de senha é obrigatória"),acceptTerms:qe.boolean().refine(e=>e===!0,"Você deve aceitar os termos")}).refine(e=>e.email===e.emailConfirm,{message:"Os e-mails não coincidem",path:["emailConfirm"]}).refine(e=>e.password===e.passwordConfirm,{message:"As senhas não coincidem",path:["passwordConfirm"]});function ZL(){const[,e]=os(),{toast:t}=Rr(),[n,r]=b.useState(!1);b.useState(null);const o=ua({resolver:Xg(XL),defaultValues:{name:"",cpf:"",birthDate:"",email:"",emailConfirm:"",phone:"",address:"",password:"",passwordConfirm:"",acceptTerms:!1}}),l=Ar({mutationFn:async g=>{const{emailConfirm:v,passwordConfirm:C,acceptTerms:S,...R}=g;return(await zn("POST","/api/auth/register",R)).json()},onSuccess:g=>{g.email&&(t({title:"Conta criada com sucesso!",description:"Enviamos um código para o seu e-mail."}),e(`/verify-email?email=${g.email}`))},onError:g=>{t({title:"Erro no cadastro",description:g.message||"Tente novamente",variant:"destructive"})}}),d=g=>{l.mutate(g)},m=g=>{let v=g.target.value.replace(/\D/g,"");v=v.replace(/(\d{3})(\d)/,"$1.$2"),v=v.replace(/(\d{3})(\d)/,"$1.$2"),v=v.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),o.setValue("cpf",v)},x=g=>{let v=g.target.value.replace(/\D/g,"");v=v.replace(/(\d{2})(\d)/,"($1) $2"),v=v.replace(/(\d{4,5})(\d{4})$/,"$1-$2"),o.setValue("phone",v)};return h.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs(Ot,{className:"w-full max-w-md",children:[h.jsxs(Qn,{className:"text-center",children:[h.jsx("div",{className:"text-5xl mb-6",children:"💊"}),h.jsx(Jn,{className:"text-3xl font-bold text-gray-900",children:"Criar conta"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Cadastre-se para participar dos eventos CDPI"})]}),h.jsx(Pt,{children:h.jsxs("form",{onSubmit:o.handleSubmit(d),className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),h.jsx(pt,{id:"name",type:"text",...o.register("name"),className:"w-full","data-testid":"input-name"}),o.formState.errors.name&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-name-error",children:o.formState.errors.name.message})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"cpf",className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF"}),h.jsx(pt,{id:"cpf",type:"text",placeholder:"000.000.000-00",...o.register("cpf"),onChange:m,maxLength:14,className:"w-full","data-testid":"input-cpf"}),o.formState.errors.cpf&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-cpf-error",children:o.formState.errors.cpf.message})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"birthDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Nascimento"}),h.jsx(pt,{id:"birthDate",type:"text",placeholder:"dd/mm/aaaa",...o.register("birthDate"),onChange:g=>{let v=g.target.value.replace(/\D/g,"");v=v.replace(/(\d{2})(\d)/,"$1/$2"),v=v.replace(/(\d{2})(\d)/,"$1/$2"),o.setValue("birthDate",v)},maxLength:10,className:"w-full","data-testid":"input-birth-date"}),o.formState.errors.birthDate&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-birth-date-error",children:o.formState.errors.birthDate.message})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail"}),h.jsx(pt,{id:"email",type:"email",...o.register("email"),className:"w-full","data-testid":"input-email"}),o.formState.errors.email&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-email-error",children:o.formState.errors.email.message})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"emailConfirm",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar E-mail"}),h.jsx(pt,{id:"emailConfirm",type:"email",...o.register("emailConfirm"),className:"w-full","data-testid":"input-email-confirm"}),o.formState.errors.emailConfirm&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-email-confirm-error",children:o.formState.errors.emailConfirm.message})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),h.jsx(pt,{id:"phone",type:"tel",placeholder:"(11) 99999-9999",...o.register("phone"),onChange:x,maxLength:15,className:"w-full","data-testid":"input-phone"}),o.formState.errors.phone&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-phone-error",children:o.formState.errors.phone.message})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço Completo"}),h.jsx(tx,{id:"address",...o.register("address"),rows:3,className:"w-full","data-testid":"input-address"}),o.formState.errors.address&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-address-error",children:o.formState.errors.address.message})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),h.jsx(pt,{id:"password",type:"password",...o.register("password"),className:"w-full","data-testid":"input-password"}),o.formState.errors.password&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-password-error",children:o.formState.errors.password.message})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"passwordConfirm",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha"}),h.jsx(pt,{id:"passwordConfirm",type:"password",...o.register("passwordConfirm"),className:"w-full","data-testid":"input-password-confirm"}),o.formState.errors.passwordConfirm&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-password-confirm-error",children:o.formState.errors.passwordConfirm.message})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Kg,{id:"acceptTerms",checked:n,onCheckedChange:g=>{r(g),o.setValue("acceptTerms",g)},"data-testid":"checkbox-terms"}),h.jsxs(Nt,{htmlFor:"acceptTerms",className:"text-sm text-gray-600",children:["Concordo com os"," ",h.jsx("a",{href:"#",className:"text-primary hover:text-secondary",children:"Termos de Uso"})," ","e"," ",h.jsx("a",{href:"#",className:"text-primary hover:text-secondary",children:"Política de Privacidade"})]})]}),o.formState.errors.acceptTerms&&h.jsx("p",{className:"text-red-600 text-sm","data-testid":"text-terms-error",children:o.formState.errors.acceptTerms.message}),h.jsx(ut,{type:"submit",className:"w-full bg-primary hover:bg-secondary",disabled:l.isPending,"data-testid":"button-register",children:l.isPending?"Criando conta...":"Criar Conta"}),h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:"text-gray-600",children:"Já tem conta? "}),h.jsx("a",{href:"/login",className:"text-primary hover:text-secondary font-medium","data-testid":"link-login",children:"Entrar"})]})]})})]})})}function KL(){const{toast:e}=Rr(),{register:t,handleSubmit:n}=ua(),r=Ar({mutationFn:l=>zn("POST","/api/auth/forgot-password",l),onSuccess:()=>{e({title:"Verifique seu e-mail",description:"Se sua conta existir, enviaremos um link para redefinir sua senha."})},onError:l=>{e({title:"Erro",description:l.message,variant:"destructive"})}}),o=l=>{r.mutate(l)};return h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs(Ot,{className:"w-full max-w-md",children:[h.jsx(Qn,{children:h.jsx(Jn,{children:"Redefinir Senha"})}),h.jsx(Pt,{children:h.jsxs("form",{onSubmit:n(o),className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"email",children:"E-mail"}),h.jsx(pt,{id:"email",type:"email",...t("email",{required:!0})})]}),h.jsx(ut,{type:"submit",className:"w-full",disabled:r.isPending,children:r.isPending?"Enviando...":"Enviar Link de Redefinição"})]})})]})})}function qL(){const{toast:e}=Rr(),[,t]=os(),n=K3(),r=new URLSearchParams(n).get("token"),{register:o,handleSubmit:l,watch:d}=ua(),m=Ar({mutationFn:g=>zn("POST","/api/auth/reset-password",{...g,token:r}),onSuccess:()=>{e({title:"Senha redefinida com sucesso!"}),t("/login")},onError:g=>{e({title:"Erro",description:g.message,variant:"destructive"})}}),x=g=>{if(g.newPassword!==g.confirmPassword)return e({title:"Erro",description:"As senhas não coincidem.",variant:"destructive"});m.mutate(g)};return r?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs(Ot,{className:"w-full max-w-md",children:[h.jsx(Qn,{children:h.jsx(Jn,{children:"Crie uma Nova Senha"})}),h.jsx(Pt,{children:h.jsxs("form",{onSubmit:l(x),className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"newPassword",children:"Nova Senha"}),h.jsx(pt,{id:"newPassword",type:"password",...o("newPassword",{required:!0,minLength:6})})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha"}),h.jsx(pt,{id:"confirmPassword",type:"password",...o("confirmPassword",{required:!0})})]}),h.jsx(ut,{type:"submit",className:"w-full",disabled:m.isPending,children:m.isPending?"Redefinindo...":"Redefinir Senha"})]})})]})}):h.jsx("div",{children:"Token inválido ou ausente."})}var nx="Avatar",[YL,rU]=Gr(nx),[QL,UT]=YL(nx),zT=b.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,l]=b.useState("idle");return h.jsx(QL,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:h.jsx(ze.span,{...r,ref:t})})});zT.displayName=nx;var WT="AvatarImage",HT=b.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...l}=e,d=UT(WT,n),m=JL(r,l),x=Gn(g=>{o(g),d.onImageLoadingStatusChange(g)});return Tn(()=>{m!=="idle"&&x(m)},[m,x]),m==="loaded"?h.jsx(ze.img,{...l,ref:t,src:r}):null});HT.displayName=WT;var GT="AvatarFallback",$T=b.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,l=UT(GT,n),[d,m]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const x=window.setTimeout(()=>m(!0),r);return()=>window.clearTimeout(x)}},[r]),d&&l.imageLoadingStatus!=="loaded"?h.jsx(ze.span,{...o,ref:t}):null});$T.displayName=GT;function tv(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function JL(e,{referrerPolicy:t,crossOrigin:n}){const r=tF(),o=b.useRef(null),l=r?(o.current||(o.current=new window.Image),o.current):null,[d,m]=b.useState(()=>tv(l,e));return Tn(()=>{m(tv(l,e))},[l,e]),Tn(()=>{const x=C=>()=>{m(C)};if(!l)return;const g=x("loaded"),v=x("error");return l.addEventListener("load",g),l.addEventListener("error",v),t&&(l.referrerPolicy=t),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",g),l.removeEventListener("error",v)}},[l,n,t]),d}function eF(){return()=>{}}function tF(){return b.useSyncExternalStore(eF,()=>!0,()=>!1)}var XT=zT,ZT=HT,KT=$T;const qf=b.forwardRef(({className:e,...t},n)=>h.jsx(XT,{ref:n,className:Le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));qf.displayName=XT.displayName;const nF=b.forwardRef(({className:e,...t},n)=>h.jsx(ZT,{ref:n,className:Le("aspect-square h-full w-full",e),...t}));nF.displayName=ZT.displayName;const Yf=b.forwardRef(({className:e,...t},n)=>h.jsx(KT,{ref:n,className:Le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Yf.displayName=KT.displayName;const rF=Nh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function wc({className:e,variant:t,...n}){return h.jsx("div",{className:Le(rF({variant:t}),e),...n})}var qT="AlertDialog",[sF,sU]=Gr(qT,[_N]),Ni=_N(),YT=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ni(t);return h.jsx(WN,{...r,...n,modal:!0})};YT.displayName=qT;var iF="AlertDialogTrigger",oF=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ni(n);return h.jsx(H7,{...o,...r,ref:t})});oF.displayName=iF;var aF="AlertDialogPortal",QT=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ni(t);return h.jsx(HN,{...r,...n})};QT.displayName=aF;var lF="AlertDialogOverlay",JT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ni(n);return h.jsx(Mg,{...o,...r,ref:t})});JT.displayName=lF;var cl="AlertDialogContent",[cF,uF]=sF(cl),dF=tA("AlertDialogContent"),eI=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,l=Ni(n),d=b.useRef(null),m=vt(t,d),x=b.useRef(null);return h.jsx(V7,{contentName:cl,titleName:tI,docsSlug:"alert-dialog",children:h.jsx(cF,{scope:n,cancelRef:x,children:h.jsxs(jg,{role:"alertdialog",...l,...o,ref:m,onOpenAutoFocus:Ce(o.onOpenAutoFocus,g=>{var v;g.preventDefault(),(v=x.current)==null||v.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[h.jsx(dF,{children:r}),h.jsx(hF,{contentRef:d})]})})})});eI.displayName=cl;var tI="AlertDialogTitle",nI=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ni(n);return h.jsx(Lg,{...o,...r,ref:t})});nI.displayName=tI;var rI="AlertDialogDescription",sI=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ni(n);return h.jsx(Fg,{...o,...r,ref:t})});sI.displayName=rI;var fF="AlertDialogAction",iI=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ni(n);return h.jsx(Bg,{...o,...r,ref:t})});iI.displayName=fF;var oI="AlertDialogCancel",aI=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=uF(oI,n),l=Ni(n),d=vt(t,o);return h.jsx(Bg,{...l,...r,ref:d})});aI.displayName=oI;var hF=({contentRef:e})=>{const t=`\`${cl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${cl}\` by passing a \`${rI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${cl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},mF=YT,pF=QT,lI=JT,cI=eI,uI=iI,dI=aI,fI=nI,hI=sI;const nv=mF,gF=pF,mI=b.forwardRef(({className:e,...t},n)=>h.jsx(lI,{className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));mI.displayName=lI.displayName;const Hm=b.forwardRef(({className:e,...t},n)=>h.jsxs(gF,{children:[h.jsx(mI,{}),h.jsx(cI,{ref:n,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Hm.displayName=cI.displayName;const Gm=({className:e,...t})=>h.jsx("div",{className:Le("flex flex-col space-y-2 text-center sm:text-left",e),...t});Gm.displayName="AlertDialogHeader";const $m=({className:e,...t})=>h.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$m.displayName="AlertDialogFooter";const Xm=b.forwardRef(({className:e,...t},n)=>h.jsx(fI,{ref:n,className:Le("text-lg font-semibold",e),...t}));Xm.displayName=fI.displayName;const Zm=b.forwardRef(({className:e,...t},n)=>h.jsx(hI,{ref:n,className:Le("text-sm text-muted-foreground",e),...t}));Zm.displayName=hI.displayName;const pI=b.forwardRef(({className:e,...t},n)=>h.jsx(uI,{ref:n,className:Le(Tg(),e),...t}));pI.displayName=uI.displayName;const Km=b.forwardRef(({className:e,...t},n)=>h.jsx(dI,{ref:n,className:Le(Tg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Km.displayName=dI.displayName;function xF(){const[,e]=os(),{toast:t}=Rr(),{user:n,isAuthenticated:r}=No(),[o,l]=b.useState(!1),[d,m]=b.useState(!1),[x,g]=b.useState(""),[v,C]=b.useState(""),[S,R]=b.useState(!1),[P,N]=b.useState(0);b.useEffect(()=>{r||e("/login")},[r,e]),b.useEffect(()=>{if(P>0){const V=setTimeout(()=>{N(ce=>ce-1)},1e3);return()=>clearTimeout(V)}},[P]);const{data:k,isLoading:O,refetch:A}=mo({queryKey:["/api/orders"],enabled:r,refetchInterval:5e3}),I=ua({defaultValues:n||{}});b.useEffect(()=>{n&&I.reset(n)},[n]);const M=ua({defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),F=Ar({mutationFn:async V=>{const ce=S?{...V,currentPassword:v}:V;return(await zn("PUT","/api/profile",ce)).json()},onSuccess:()=>{t({title:"Perfil atualizado",description:"Suas informações foram salvas com sucesso."}),mi.invalidateQueries({queryKey:["/api/auth/me"]}),C(""),R(!1)},onError:V=>{t({title:"Erro ao atualizar perfil",description:V.message,variant:"destructive"}),C("")}}),X=Ar({mutationFn:async V=>(await zn("PUT","/api/profile/password",V)).json(),onSuccess:()=>{t({title:"Senha alterada",description:"Sua senha foi alterada com sucesso."}),M.reset()},onError:V=>{t({title:"Erro ao alterar senha",description:V.message,variant:"destructive"})}}),B=Ar({mutationFn:async()=>{await zn("POST","/api/auth/resend-verification")},onSuccess:()=>{t({title:"Email enviado!",description:"Verifique sua caixa de entrada para confirmar seu email."}),N(30),mi.invalidateQueries({queryKey:["/api/auth/me"]})},onError:V=>{t({title:"Erro ao enviar email",description:V.message,variant:"destructive"})}}),K=Ar({mutationFn:async V=>(await zn("DELETE","/api/profile",{password:V})).json(),onSuccess:()=>{t({title:"Conta excluída",description:"Sua conta foi permanentemente excluída."}),localStorage.removeItem("token"),mi.clear(),e("/")},onError:V=>{t({title:"Erro ao excluir conta",description:V.message,variant:"destructive"}),g("")}}),G=V=>{if(S&&!v){t({title:"Senha necessária",description:"Digite sua senha para confirmar alterações em informações sensíveis.",variant:"destructive"});return}F.mutate(V)},oe=()=>{const V=I.getValues(),Ie=["name","email","phone"].some(Me=>{const rt=V[Me],Ye=n==null?void 0:n[Me];return rt!==void 0&&rt!==Ye});R(Ie)},ye=V=>{if(V.newPassword!==V.confirmPassword){t({title:"Erro",description:"As senhas não coincidem.",variant:"destructive"});return}X.mutate({currentPassword:V.currentPassword,newPassword:V.newPassword})},Q=()=>{if(!x){t({title:"Erro",description:"Digite sua senha para confirmar a exclusão.",variant:"destructive"});return}K.mutate(x),m(!1),l(!1)},ie=V=>{switch(V){case"paid":return h.jsx(wc,{className:"bg-green-500 text-white",children:"Confirmado"});case"pending":return h.jsx(wc,{className:"bg-yellow-500 text-white",children:"Aguardando Pagamento"});case"cancelled":return h.jsx(wc,{variant:"destructive",children:"Cancelado"});default:return h.jsx(wc,{variant:"secondary",children:V})}},se=V=>(typeof V=="string"?parseFloat(V):V).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),$=V=>new Date(V).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),fe=V=>V.split(" ").slice(0,2).map(ce=>ce[0]).join("").toUpperCase();if(!r||!n)return null;const ue=Ar({mutationFn:V=>zn("DELETE",`/api/orders/${V}/cancel`),onSuccess:()=>{t({title:"Pedido cancelado",description:"Seu pedido foi cancelado com sucesso."}),mi.invalidateQueries({queryKey:["/api/orders"]})},onError:V=>{t({title:"Erro ao cancelar",description:V.message,variant:"destructive"})}}),ne=V=>{ue.mutate(V)};return h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsx(Ot,{children:h.jsxs(Pt,{className:"p-6 text-center",children:[h.jsx(qf,{className:"w-20 h-20 mx-auto mb-4",children:h.jsx(Yf,{className:"bg-primary text-white text-2xl font-bold",children:fe(n.name)})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1","data-testid":"text-user-name",children:n.name}),h.jsx("p",{className:"text-gray-600 mb-4","data-testid":"text-user-email",children:n.email}),!n.emailVerified&&h.jsxs("div",{className:"space-y-3",children:[h.jsx(wc,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Email não verificado"}),h.jsxs(ut,{variant:"outline",size:"sm",onClick:()=>B.mutate(),disabled:P>0||B.isPending,className:"w-full","data-testid":"button-resend-verification",children:[h.jsx(_D,{className:"h-4 w-4 mr-2"}),P>0?`Aguarde ${P}s`:B.isPending?"Enviando...":"Reenviar Email"]})]})]})})}),h.jsx("div",{className:"lg:col-span-3",children:h.jsxs(g_,{defaultValue:"orders",className:"w-full",children:[h.jsxs(zg,{className:"grid w-full grid-cols-3",children:[h.jsxs(Yo,{value:"orders",className:"flex items-center gap-2","data-testid":"tab-orders",children:[h.jsx(Ol,{className:"h-4 w-4"}),"Meus Ingressos"]}),h.jsxs(Yo,{value:"profile",className:"flex items-center gap-2","data-testid":"tab-profile",children:[h.jsx(Im,{className:"h-4 w-4"}),"Informações Pessoais"]}),h.jsxs(Yo,{value:"security",className:"flex items-center gap-2","data-testid":"tab-security",children:[h.jsx(RD,{className:"h-4 w-4"}),"Segurança"]})]}),h.jsx(Qo,{value:"orders",children:h.jsxs(Ot,{children:[h.jsx(Qn,{children:h.jsx(Jn,{children:"Histórico de Ingressos"})}),h.jsx(Pt,{children:O?h.jsx("div",{className:"space-y-4",children:[...Array(3)].map((V,ce)=>h.jsxs("div",{className:"animate-pulse border border-gray-200 rounded-lg p-4",children:[h.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),h.jsx("div",{className:"h-3 bg-gray-300 rounded w-3/4 mb-2"}),h.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]},ce))}):(k==null?void 0:k.length)===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Ol,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600","data-testid":"text-no-orders",children:"Você ainda não possui ingressos."})]}):h.jsx("div",{className:"space-y-4",children:k==null?void 0:k.map(V=>{var ce,Ie,Me;return h.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors","data-testid":`order-${V.id}`,children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-semibold text-gray-900 mb-2","data-testid":`text-event-title-${V.id}`,children:((ce=V.event)==null?void 0:ce.title)||"Evento"}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[h.jsx(au,{className:"h-4 w-4 mr-2"}),h.jsx("span",{"data-testid":`text-event-date-${V.id}`,children:(Ie=V.event)!=null&&Ie.date?$(V.event.date):"Data não disponível"}),h.jsx(lu,{className:"h-4 w-4 ml-4 mr-2"}),h.jsx("span",{"data-testid":`text-event-location-${V.id}`,children:((Me=V.event)==null?void 0:Me.location)||"Local não disponível"})]}),h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Status:"}),ie(V.status)]})]}),h.jsxs("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-lg font-semibold text-primary","data-testid":`text-order-price-${V.id}`,children:se(V.amount)}),h.jsxs("div",{className:"text-xs text-gray-500","data-testid":`text-order-date-${V.id}`,children:["Comprado em ",new Date(V.createdAt).toLocaleDateString("pt-BR")]})]}),V.status==="paid"&&V.qrCodeData?h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(ut,{className:"bg-primary hover:bg-secondary",size:"sm",onClick:()=>{const rt=document.createElement("a");rt.href=V.qrCodeData,rt.download=`ingresso-${V.id}.png`,rt.click()},"data-testid":`button-download-${V.id}`,children:[h.jsx(bD,{className:"h-4 w-4 mr-2"}),"Baixar QR Code"]}),V.qrCodeUsed&&(n==null?void 0:n.isAdmin)&&h.jsx(ut,{variant:"outline",size:"sm",onClick:async()=>{try{await zn("POST",`/api/reset-ticket/${V.id}`),t({title:"Ticket resetado",description:"Ingresso pode ser verificado novamente"}),A()}catch{t({title:"Erro",description:"Erro ao resetar ticket",variant:"destructive"})}},"data-testid":`button-reset-${V.id}`,children:"Resetar Ingresso"})]}):V.status==="pending"&&V.asaasPaymentId?h.jsxs("div",{className:"flex gap-2",children:[V.status==="pending"&&h.jsx(ut,{variant:"destructive",size:"sm",onClick:()=>ne(V.id),disabled:ue.isPending,children:"Cancelar Pedido"}),h.jsx(ut,{variant:"outline",size:"sm",onClick:async()=>{try{const Ye=await(await zn("POST",`/api/orders/${V.id}/check-status`)).json();t({title:"Status verificado",description:Ye.message}),A()}catch{t({title:"Erro",description:"Erro ao verificar status do pagamento",variant:"destructive"})}},"data-testid":`button-check-status-${V.id}`,children:h.jsx(ID,{className:"h-4 w-4"})})]}):null]})]})},V.id)})})})]})}),h.jsx(Qo,{value:"profile",children:h.jsxs(Ot,{children:[h.jsx(Qn,{children:h.jsx(Jn,{children:"Informações Pessoais"})}),h.jsx(Pt,{children:h.jsxs("form",{onSubmit:I.handleSubmit(G),className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),h.jsx(pt,{id:"name",...I.register("name"),onChange:V=>{I.register("name").onChange(V),oe()},"data-testid":"input-profile-name"})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"cpf",className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF"}),h.jsx(pt,{id:"cpf",...I.register("cpf"),readOnly:!0,className:"bg-gray-50","data-testid":"input-profile-cpf"})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail"}),h.jsx(pt,{id:"email",...I.register("email"),onChange:V=>{I.register("email").onChange(V),oe()},"data-testid":"input-profile-email"})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),h.jsx(pt,{id:"phone",...I.register("phone"),onChange:V=>{I.register("phone").onChange(V),oe()},"data-testid":"input-profile-phone"})]})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço Completo"}),h.jsx(tx,{id:"address",...I.register("address"),rows:3,"data-testid":"input-profile-address"})]}),S&&h.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[h.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:"Você está alterando informações sensíveis. Digite sua senha para confirmar:"}),h.jsx(Nt,{htmlFor:"profile-password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha Atual"}),h.jsx(pt,{id:"profile-password",type:"password",value:v,onChange:V=>C(V.target.value),placeholder:"Digite sua senha para confirmar","data-testid":"input-profile-password"})]}),h.jsx(ut,{type:"submit",className:"bg-primary hover:bg-secondary",disabled:F.isPending,"data-testid":"button-update-profile",children:F.isPending?"Salvando...":"Salvar Alterações"})]})})]})}),h.jsx(Qo,{value:"security",children:h.jsxs(Ot,{children:[h.jsx(Qn,{children:h.jsx(Jn,{children:"Segurança da Conta"})}),h.jsxs(Pt,{children:[h.jsxs("form",{onSubmit:M.handleSubmit(ye),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha Atual"}),h.jsx(pt,{id:"currentPassword",type:"password",...M.register("currentPassword",{required:!0}),"data-testid":"input-current-password"})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova Senha"}),h.jsx(pt,{id:"newPassword",type:"password",...M.register("newPassword",{required:!0,minLength:6}),"data-testid":"input-new-password"})]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Nova Senha"}),h.jsx(pt,{id:"confirmPassword",type:"password",...M.register("confirmPassword",{required:!0}),"data-testid":"input-confirm-password"})]}),h.jsx(ut,{type:"submit",className:"bg-primary hover:bg-secondary",disabled:X.isPending,"data-testid":"button-change-password",children:X.isPending?"Alterando...":"Alterar Senha"})]}),h.jsxs("div",{className:"mt-8 p-4 bg-red-50 border border-red-200 rounded-lg",children:[h.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Excluir Conta"}),h.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Esta ação não pode ser desfeita. Todos os seus dados serão permanentemente removidos."}),h.jsx(ut,{variant:"destructive",size:"sm",onClick:()=>l(!0),"data-testid":"button-delete-account",children:"Excluir Conta"})]})]})]})})]})})]}),h.jsx(nv,{open:o,onOpenChange:l,children:h.jsxs(Hm,{children:[h.jsxs(Gm,{children:[h.jsxs(Xm,{className:"flex items-center gap-2",children:[h.jsx(OD,{className:"h-5 w-5 text-red-600"}),"Tem certeza que deseja excluir sua conta?"]}),h.jsxs(Zm,{className:"space-y-2",children:[h.jsxs("p",{children:["Esta ação é ",h.jsx("strong",{children:"irreversível"})," e resultará em:"]}),h.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[h.jsx("li",{children:"Exclusão permanente de todos os seus dados pessoais"}),h.jsx("li",{children:"Cancelamento de todos os ingressos não utilizados"}),h.jsx("li",{children:"Perda de acesso ao histórico de eventos"}),h.jsx("li",{children:"Impossibilidade de recuperar a conta no futuro"})]})]})]}),h.jsxs($m,{children:[h.jsx(Km,{children:"Cancelar"}),h.jsx(pI,{className:"bg-red-600 hover:bg-red-700",onClick:()=>{l(!1),m(!0)},children:"Continuar com a exclusão"})]})]})}),h.jsx(nv,{open:d,onOpenChange:m,children:h.jsxs(Hm,{children:[h.jsxs(Gm,{children:[h.jsx(Xm,{className:"text-red-600",children:"Confirmação Final - Exclusão de Conta"}),h.jsxs(Zm,{className:"space-y-4",children:[h.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:h.jsx("p",{className:"text-sm font-medium text-red-800",children:"⚠️ ÚLTIMA CHANCE: Após confirmar, sua conta será excluída IMEDIATAMENTE e não poderá ser recuperada."})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Nt,{htmlFor:"delete-password",children:"Digite sua senha para confirmar a exclusão:"}),h.jsx(pt,{id:"delete-password",type:"password",value:x,onChange:V=>g(V.target.value),placeholder:"Sua senha atual","data-testid":"input-delete-password"})]})]})]}),h.jsxs($m,{children:[h.jsx(Km,{onClick:()=>{g(""),m(!1)},children:"Cancelar"}),h.jsx(ut,{variant:"destructive",onClick:Q,disabled:!x||K.isPending,"data-testid":"button-confirm-delete",children:K.isPending?"Excluindo...":"Excluir minha conta permanentemente"})]})]})})]})}function yF(){const[e,t]=os(),[n]=b.useState(new URLSearchParams(window.location.search).get("email")||""),[r,o]=b.useState(""),{toast:l}=Rr(),[d,m]=b.useState(30);b.useEffect(()=>{const v=d>0&&setInterval(()=>m(d-1),1e3);return()=>{v&&clearInterval(v)}},[d]);const x=Ar({mutationFn:()=>zn("POST","/api/auth/verify-code",{email:n,code:r}),onSuccess:v=>{localStorage.setItem("token",v.token),mi.invalidateQueries({queryKey:["/api/auth/me"]}),l({title:"E-mail verificado com sucesso!"}),t("/")},onError:v=>l({title:"Erro",description:v.message,variant:"destructive"})}),g=Ar({mutationFn:()=>zn("POST","/api/auth/resend-code",{email:n}),onSuccess:()=>{l({title:"Um novo código foi enviado."}),m(30)},onError:v=>l({title:"Erro",description:v.message,variant:"destructive"})});return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs(Ot,{className:"w-full max-w-md",children:[h.jsx(Qn,{children:h.jsx(Jn,{children:"Verifique seu E-mail"})}),h.jsxs(Pt,{className:"space-y-4",children:[h.jsxs("p",{children:["Enviamos um código de 6 dígitos para ",h.jsx("strong",{children:n}),". Por favor, insira-o abaixo."]}),h.jsxs("div",{children:[h.jsx(Nt,{htmlFor:"code",children:"Código de Verificação"}),h.jsx(pt,{id:"code",value:r,onChange:v=>o(v.target.value),maxLength:6})]}),h.jsx(ut,{onClick:()=>x.mutate(),className:"w-full",disabled:x.isPending,children:x.isPending?"Verificando...":"Verificar"}),h.jsx(ut,{variant:"outline",className:"w-full",onClick:()=>g.mutate(),disabled:d>0||g.isPending,children:d>0?`Reenviar em ${d}s`:"Reenviar Código"})]})]})}):h.jsx("div",{children:"E-mail não encontrado. Por favor, registre-se novamente."})}function vF(){const{id:e}=Z3(),[,t]=os(),{isAuthenticated:n}=No(),{toast:r}=Rr(),[o,l]=b.useState(!1),{data:d,isLoading:m,error:x}=mo({queryKey:[`/api/events/${e}`],enabled:!!e}),g=()=>{if(!n){r({title:"Login necessário",description:"Faça login ou cadastre-se para comprar ingressos",variant:"destructive"}),t("/login");return}l(!0)},v=P=>new Date(P).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),C=P=>new Date(P).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),S=P=>{const N=typeof P=="string"?parseFloat(P):P;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(N)};if(m)return h.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:h.jsxs(Ot,{className:"animate-pulse",children:[h.jsx("div",{className:"h-64 bg-gray-300 rounded-t-lg"}),h.jsxs(Pt,{className:"p-8",children:[h.jsx("div",{className:"h-8 bg-gray-300 rounded mb-4"}),h.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),h.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),h.jsx("div",{className:"h-4 bg-gray-300 rounded"})]})]})});if(x||!d)return h.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:h.jsx(Ot,{children:h.jsxs(Pt,{className:"p-8 text-center",children:[h.jsx("p",{className:"text-red-600 text-lg mb-4",children:"Evento não encontrado"}),h.jsxs(ut,{onClick:()=>t("/"),variant:"outline",children:[h.jsx(c2,{className:"h-4 w-4 mr-2"}),"Voltar aos eventos"]})]})})});const R=d.maxAttendees?Math.max(0,d.maxAttendees-(d.currentAttendees||0)):null;return h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[h.jsxs(ut,{onClick:()=>t("/"),variant:"ghost",className:"mb-6","data-testid":"button-back",children:[h.jsx(c2,{className:"h-4 w-4 mr-2"}),"Voltar aos eventos"]}),h.jsxs(Ot,{className:"overflow-hidden",children:[d.imageUrl&&h.jsx("div",{className:"h-64 md:h-96 overflow-hidden",children:h.jsx("img",{src:d.imageUrl,alt:d.title,className:"w-full h-full object-cover"})}),h.jsxs(Pt,{className:"p-8",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"mb-4",children:h.jsx("h1",{className:"text-3xl font-bold text-gray-900","data-testid":"text-event-title",children:d.title})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-600",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(au,{className:"h-5 w-5 mr-3 text-primary"}),h.jsx("span",{"data-testid":"text-event-date",children:v(d.date)})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(_A,{className:"h-5 w-5 mr-3 text-primary"}),h.jsx("span",{"data-testid":"text-event-time",children:C(d.date)})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(lu,{className:"h-5 w-5 mr-3 text-primary"}),h.jsx("span",{"data-testid":"text-event-location",children:d.location})]}),R!==null&&h.jsxs("div",{className:"flex items-center",children:[h.jsx(PD,{className:"h-5 w-5 mr-3 text-primary"}),h.jsx("span",{"data-testid":"text-spots-left",children:R>0?`${R} vagas restantes`:"Esgotado"})]})]})]}),h.jsxs("div",{className:"mb-8",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sobre o evento"}),h.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed","data-testid":"text-event-description",children:d.description})]}),h.jsx("div",{className:"border-t pt-6",children:h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Valor do ingresso"}),h.jsx("p",{className:"text-3xl font-bold text-primary","data-testid":"text-event-price",children:S(d.price)}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"+ taxa de conveniência de R$ 5,00"})]}),h.jsx(ut,{onClick:g,className:"bg-primary hover:bg-secondary text-white px-8 py-6 text-lg",disabled:R===0,"data-testid":"button-buy-ticket",children:R===0?"Evento Esgotado":"Comprar Ingresso"})]})})]})]}),d&&h.jsx(x_,{event:d,isOpen:o,onClose:()=>l(!1),onSuccess:()=>{r({title:"Pagamento iniciado!",description:"Acompanhe o status do seu pedido na página de perfil."}),l(!1),t("/profile")}})]})}var Oe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Oe||(Oe={}));var rv=new Map([[Oe.QR_CODE,"QR_CODE"],[Oe.AZTEC,"AZTEC"],[Oe.CODABAR,"CODABAR"],[Oe.CODE_39,"CODE_39"],[Oe.CODE_93,"CODE_93"],[Oe.CODE_128,"CODE_128"],[Oe.DATA_MATRIX,"DATA_MATRIX"],[Oe.MAXICODE,"MAXICODE"],[Oe.ITF,"ITF"],[Oe.EAN_13,"EAN_13"],[Oe.EAN_8,"EAN_8"],[Oe.PDF_417,"PDF_417"],[Oe.RSS_14,"RSS_14"],[Oe.RSS_EXPANDED,"RSS_EXPANDED"],[Oe.UPC_A,"UPC_A"],[Oe.UPC_E,"UPC_E"],[Oe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),sv;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(sv||(sv={}));function wF(e){return Object.values(Oe).includes(e)}var Qf;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Qf||(Qf={}));var CF=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Qf.SCAN_TYPE_CAMERA,Qf.SCAN_TYPE_FILE],e}(),gI=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!rv.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,rv.get(t))},e}(),iv=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),qm;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(qm||(qm={}));var bF=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:qm.UNKWOWN_ERROR}},e}(),EF=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ni(e){return typeof e>"u"||e===null}var Ka=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),xI=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(o),d=Object.keys(t),m=0,x=d;m<x.length;m++){var g=x[m];if(l.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),Ym={exports:{}};(function(e,t){(function(n,r){r(t)})(ac,function(n){function r(_){return _==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,s){_.__proto__=s}||function(_,s){for(var i in s)s.hasOwnProperty(i)&&(_[i]=s[i])};function l(_,s){o(_,s);function i(){this.constructor=_}_.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}function d(_,s){var i=Object.setPrototypeOf;i?i(_,s):_.__proto__=s}function m(_,s){s===void 0&&(s=_.constructor);var i=Error.captureStackTrace;i&&i(_,s)}var x=function(_){l(s,_);function s(i){var a=this.constructor,c=_.call(this,i)||this;return Object.defineProperty(c,"name",{value:a.name,enumerable:!1}),d(c,a.prototype),m(c),c}return s}(Error);class g extends x{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}g.kind="Exception";class v extends g{}v.kind="ArgumentException";class C extends g{}C.kind="IllegalArgumentException";class S{constructor(s){if(this.binarizer=s,s===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,i){return this.binarizer.getBlackRow(s,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,i,a,c){const u=this.binarizer.getLuminanceSource().crop(s,i,a,c);return new S(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends g{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class P{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class N{static arraycopy(s,i,a,c,u){for(;u--;)a[c++]=s[i++]}static currentTimeMillis(){return Date.now()}}class k extends g{}k.kind="IndexOutOfBoundsException";class O extends k{constructor(s=void 0,i=void 0){super(i),this.index=s,this.message=i}}O.kind="ArrayIndexOutOfBoundsException";class A{static fill(s,i){for(let a=0,c=s.length;a<c;a++)s[a]=i}static fillWithin(s,i,a,c){A.rangeCheck(s.length,i,a);for(let u=i;u<a;u++)s[u]=c}static rangeCheck(s,i,a){if(i>a)throw new C("fromIndex("+i+") > toIndex("+a+")");if(i<0)throw new O(i);if(a>s)throw new O(a)}static asList(...s){return s}static create(s,i,a){return Array.from({length:s}).map(u=>Array.from({length:i}).fill(a))}static createInt32Array(s,i,a){return Array.from({length:s}).map(u=>Int32Array.from({length:i}).fill(a))}static equals(s,i){if(!s||!i||!s.length||!i.length||s.length!==i.length)return!1;for(let a=0,c=s.length;a<c;a++)if(s[a]!==i[a])return!1;return!0}static hashCode(s){if(s===null)return 0;let i=1;for(const a of s)i=31*i+a;return i}static fillUint8Array(s,i){for(let a=0;a!==s.length;a++)s[a]=i}static copyOf(s,i){return s.slice(0,i)}static copyOfUint8Array(s,i){if(s.length<=i){const a=new Uint8Array(i);return a.set(s),a}return s.slice(0,i)}static copyOfRange(s,i,a){const c=a-i,u=new Int32Array(c);return N.arraycopy(s,i,u,0,c),u}static binarySearch(s,i,a){a===void 0&&(a=A.numberComparator);let c=0,u=s.length-1;for(;c<=u;){const f=u+c>>1,p=a(i,s[f]);if(p>0)c=f+1;else if(p<0)u=f-1;else return f}return-c-1}static numberComparator(s,i){return s-i}}class I{static numberOfTrailingZeros(s){let i;if(s===0)return 32;let a=31;return i=s<<16,i!==0&&(a-=16,s=i),i=s<<8,i!==0&&(a-=8,s=i),i=s<<4,i!==0&&(a-=4,s=i),i=s<<2,i!==0&&(a-=2,s=i),a-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let i=1;return s>>>16||(i+=16,s<<=16),s>>>24||(i+=8,s<<=8),s>>>28||(i+=4,s<<=4),s>>>30||(i+=2,s<<=2),i-=s>>>31,i}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,i){return Math.trunc(s/i)}static parseInt(s,i=void 0){return parseInt(s,i)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(s,i){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,i==null?this.bits=M.makeArray(s):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const i=M.makeArray(s);N.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const i=this.size;if(s>=i)return i;const a=this.bits;let c=Math.floor(s/32),u=a[c];u&=~((1<<(s&31))-1);const f=a.length;for(;u===0;){if(++c===f)return i;u=a[c]}const p=c*32+I.numberOfTrailingZeros(u);return p>i?i:p}getNextUnset(s){const i=this.size;if(s>=i)return i;const a=this.bits;let c=Math.floor(s/32),u=~a[c];u&=~((1<<(s&31))-1);const f=a.length;for(;u===0;){if(++c===f)return i;u=~a[c]}const p=c*32+I.numberOfTrailingZeros(u);return p>i?i:p}setBulk(s,i){this.bits[Math.floor(s/32)]=i}setRange(s,i){if(i<s||s<0||i>this.size)throw new C;if(i===s)return;i--;const a=Math.floor(s/32),c=Math.floor(i/32),u=this.bits;for(let f=a;f<=c;f++){const p=f>a?0:s&31,w=(2<<(f<c?31:i&31))-(1<<p);u[f]|=w}}clear(){const s=this.bits.length,i=this.bits;for(let a=0;a<s;a++)i[a]=0}isRange(s,i,a){if(i<s||s<0||i>this.size)throw new C;if(i===s)return!0;i--;const c=Math.floor(s/32),u=Math.floor(i/32),f=this.bits;for(let p=c;p<=u;p++){const y=p>c?0:s&31,E=(2<<(p<u?31:i&31))-(1<<y)&4294967295;if((f[p]&E)!==(a?E:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,i){if(i<0||i>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let a=i;a>0;a--)this.appendBit((s>>a-1&1)===1)}appendBitArray(s){const i=s.size;this.ensureCapacity(this.size+i);for(let a=0;a<i;a++)this.appendBit(s.get(a))}xor(s){if(this.size!==s.size)throw new C("Sizes don't match");const i=this.bits;for(let a=0,c=i.length;a<c;a++)i[a]^=s.bits[a]}toBytes(s,i,a,c){for(let u=0;u<c;u++){let f=0;for(let p=0;p<8;p++)this.get(s)&&(f|=1<<7-p),s++;i[a+u]=f}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),a=i+1,c=this.bits;for(let u=0;u<a;u++){let f=c[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,s[i-u]=f}if(this.size!==a*32){const u=a*32-this.size;let f=s[0]>>>u;for(let p=1;p<a;p++){const y=s[p];f|=y<<32-u,s[p-1]=f,f=y>>>u}s[a-1]=f}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof M))return!1;const i=s;return this.size===i.size&&A.equals(this.bits,i.bits)}hashCode(){return 31*this.size+A.hashCode(this.bits)}toString(){let s="";for(let i=0,a=this.size;i<a;i++)i&7||(s+=" "),s+=this.get(i)?"X":".";return s}clone(){return new M(this.size,this.bits.slice())}}var F;(function(_){_[_.OTHER=0]="OTHER",_[_.PURE_BARCODE=1]="PURE_BARCODE",_[_.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",_[_.TRY_HARDER=3]="TRY_HARDER",_[_.CHARACTER_SET=4]="CHARACTER_SET",_[_.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",_[_.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",_[_.ASSUME_GS1=7]="ASSUME_GS1",_[_.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",_[_.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",_[_.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(F||(F={}));var X=F;class B extends g{static getFormatInstance(){return new B}}B.kind="FormatException";var K;(function(_){_[_.Cp437=0]="Cp437",_[_.ISO8859_1=1]="ISO8859_1",_[_.ISO8859_2=2]="ISO8859_2",_[_.ISO8859_3=3]="ISO8859_3",_[_.ISO8859_4=4]="ISO8859_4",_[_.ISO8859_5=5]="ISO8859_5",_[_.ISO8859_6=6]="ISO8859_6",_[_.ISO8859_7=7]="ISO8859_7",_[_.ISO8859_8=8]="ISO8859_8",_[_.ISO8859_9=9]="ISO8859_9",_[_.ISO8859_10=10]="ISO8859_10",_[_.ISO8859_11=11]="ISO8859_11",_[_.ISO8859_13=12]="ISO8859_13",_[_.ISO8859_14=13]="ISO8859_14",_[_.ISO8859_15=14]="ISO8859_15",_[_.ISO8859_16=15]="ISO8859_16",_[_.SJIS=16]="SJIS",_[_.Cp1250=17]="Cp1250",_[_.Cp1251=18]="Cp1251",_[_.Cp1252=19]="Cp1252",_[_.Cp1256=20]="Cp1256",_[_.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",_[_.UTF8=22]="UTF8",_[_.ASCII=23]="ASCII",_[_.Big5=24]="Big5",_[_.GB18030=25]="GB18030",_[_.EUC_KR=26]="EUC_KR"})(K||(K={}));class G{constructor(s,i,a,...c){this.valueIdentifier=s,this.name=a,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=c,G.VALUE_IDENTIFIER_TO_ECI.set(s,this),G.NAME_TO_ECI.set(a,this);const u=this.values;for(let f=0,p=u.length;f!==p;f++){const y=u[f];G.VALUES_TO_ECI.set(y,this)}for(const f of c)G.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new B("incorect value");const i=G.VALUES_TO_ECI.get(s);if(i===void 0)throw new B("incorect value");return i}static getCharacterSetECIByName(s){const i=G.NAME_TO_ECI.get(s);if(i===void 0)throw new B("incorect value");return i}equals(s){if(!(s instanceof G))return!1;const i=s;return this.getName()===i.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(K.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(K.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(K.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(K.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(K.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(K.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(K.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(K.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(K.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(K.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(K.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(K.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(K.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(K.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(K.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(K.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(K.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(K.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(K.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(K.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(K.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(K.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(K.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(K.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(K.Big5,28,"Big5"),G.GB18030=new G(K.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(K.EUC_KR,30,"EUC_KR","EUC-KR");class oe extends g{}oe.kind="UnsupportedOperationException";class ye{static decode(s,i){const a=this.encodingName(i);return this.customDecoder?this.customDecoder(s,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(s,a):new TextDecoder(a).decode(s)}static shouldDecodeOnFallback(s){return!ye.isBrowser()&&s==="ISO-8859-1"}static encode(s,i){const a=this.encodingName(i);return this.customEncoder?this.customEncoder(s,a):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof G?s:G.getCharacterSetECIByName(s)}static decodeFallback(s,i){const a=this.encodingCharacterSet(i);if(ye.isDecodeFallbackSupported(a)){let c="";for(let u=0,f=s.length;u<f;u++){let p=s[u].toString(16);p.length<2&&(p="0"+p),c+="%"+p}return decodeURIComponent(c)}if(a.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new oe(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(G.UTF8)||s.equals(G.ISO8859_1)||s.equals(G.ASCII)}static encodeFallback(s){const a=btoa(unescape(encodeURIComponent(s))).split(""),c=[];for(let u=0;u<a.length;u++)c.push(a[u].charCodeAt(0));return new Uint8Array(c)}}class Q{static castAsNonUtf8Char(s,i=null){const a=i?i.getName():this.ISO88591;return ye.decode(new Uint8Array([s]),a)}static guessEncoding(s,i){if(i!=null&&i.get(X.CHARACTER_SET)!==void 0)return i.get(X.CHARACTER_SET).toString();const a=s.length;let c=!0,u=!0,f=!0,p=0,y=0,w=0,E=0,T=0,D=0,L=0,U=0,H=0,q=0,te=0;const pe=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ge=0;ge<a&&(c||u||f);ge++){const de=s[ge]&255;f&&(p>0?de&128?p--:f=!1:de&128&&(de&64?(p++,de&32?(p++,de&16?(p++,de&8?f=!1:E++):w++):y++):f=!1)),c&&(de>127&&de<160?c=!1:de>159&&(de<192||de===215||de===247)&&te++),u&&(T>0?de<64||de===127||de>252?u=!1:T--:de===128||de===160||de>239?u=!1:de>160&&de<224?(D++,U=0,L++,L>H&&(H=L)):de>127?(T++,L=0,U++,U>q&&(q=U)):(L=0,U=0))}return f&&p>0&&(f=!1),u&&T>0&&(u=!1),f&&(pe||y+w+E>0)?Q.UTF8:u&&(Q.ASSUME_SHIFT_JIS||H>=3||q>=3)?Q.SHIFT_JIS:c&&u?H===2&&D===2||te*10>=a?Q.SHIFT_JIS:Q.ISO88591:c?Q.ISO88591:u?Q.SHIFT_JIS:f?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(s,...i){let a=-1;function c(f,p,y,w,E,T){if(f==="%%")return"%";if(i[++a]===void 0)return;f=w?parseInt(w.substr(1)):void 0;let D=E?parseInt(E.substr(1)):void 0,L;switch(T){case"s":L=i[a];break;case"c":L=i[a][0];break;case"f":L=parseFloat(i[a]).toFixed(f);break;case"p":L=parseFloat(i[a]).toPrecision(f);break;case"e":L=parseFloat(i[a]).toExponential(f);break;case"x":L=parseInt(i[a]).toString(D||16);break;case"d":L=parseFloat(parseInt(i[a],D||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(D);let U=parseInt(y),H=y&&y[0]+""=="0"?"0":" ";for(;L.length<U;)L=p!==void 0?L+H:H+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(u,c)}static getBytes(s,i){return ye.encode(s,i)}static getCharCode(s,i=0){return s.charCodeAt(i)}static getCharAt(s){return String.fromCharCode(s)}}Q.SHIFT_JIS=G.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=G.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=G.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class ie{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,i,a){for(let c=i;i<i+a;c++)this.append(s[c]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,i){this.value=this.value.substr(0,s)+i+this.value.substr(s+1)}substring(s,i){return this.value.substring(s,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,i){this.value=this.value.substr(0,s)+i+this.value.substr(s+i.length)}}class se{constructor(s,i,a,c){if(this.width=s,this.height=i,this.rowSize=a,this.bits=c,i==null&&(i=s),this.height=i,s<1||i<1)throw new C("Both dimensions must be greater than 0");a==null&&(a=Math.floor((s+31)/32)),this.rowSize=a,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const i=s.length,a=s[0].length,c=new se(a,i);for(let u=0;u<i;u++){const f=s[u];for(let p=0;p<a;p++)f[p]&&c.set(p,u)}return c}static parseFromString(s,i,a){if(s===null)throw new C("stringRepresentation cannot be null");const c=new Array(s.length);let u=0,f=0,p=-1,y=0,w=0;for(;w<s.length;)if(s.charAt(w)===`
`||s.charAt(w)==="\r"){if(u>f){if(p===-1)p=u-f;else if(u-f!==p)throw new C("row lengths do not match");f=u,y++}w++}else if(s.substring(w,w+i.length)===i)w+=i.length,c[u]=!0,u++;else if(s.substring(w,w+a.length)===a)w+=a.length,c[u]=!1,u++;else throw new C("illegal character encountered: "+s.substring(w));if(u>f){if(p===-1)p=u-f;else if(u-f!==p)throw new C("row lengths do not match");y++}const E=new se(p,y);for(let T=0;T<u;T++)c[T]&&E.set(Math.floor(T%p),Math.floor(T/p));return E}get(s,i){const a=i*this.rowSize+Math.floor(s/32);return(this.bits[a]>>>(s&31)&1)!==0}set(s,i){const a=i*this.rowSize+Math.floor(s/32);this.bits[a]|=1<<(s&31)&4294967295}unset(s,i){const a=i*this.rowSize+Math.floor(s/32);this.bits[a]&=~(1<<(s&31)&4294967295)}flip(s,i){const a=i*this.rowSize+Math.floor(s/32);this.bits[a]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new C("input matrix dimensions do not match");const i=new M(Math.floor(this.width/32)+1),a=this.rowSize,c=this.bits;for(let u=0,f=this.height;u<f;u++){const p=u*a,y=s.getRow(u,i).getBitArray();for(let w=0;w<a;w++)c[p+w]^=y[w]}}clear(){const s=this.bits,i=s.length;for(let a=0;a<i;a++)s[a]=0}setRegion(s,i,a,c){if(i<0||s<0)throw new C("Left and top must be nonnegative");if(c<1||a<1)throw new C("Height and width must be at least 1");const u=s+a,f=i+c;if(f>this.height||u>this.width)throw new C("The region must fit inside the matrix");const p=this.rowSize,y=this.bits;for(let w=i;w<f;w++){const E=w*p;for(let T=s;T<u;T++)y[E+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(s,i){i==null||i.getSize()<this.width?i=new M(this.width):i.clear();const a=this.rowSize,c=this.bits,u=s*a;for(let f=0;f<a;f++)i.setBulk(f*32,c[u+f]);return i}setRow(s,i){N.arraycopy(i.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),i=this.getHeight();let a=new M(s),c=new M(s);for(let u=0,f=Math.floor((i+1)/2);u<f;u++)a=this.getRow(u,a),c=this.getRow(i-1-u,c),a.reverse(),c.reverse(),this.setRow(u,c),this.setRow(i-1-u,a)}getEnclosingRectangle(){const s=this.width,i=this.height,a=this.rowSize,c=this.bits;let u=s,f=i,p=-1,y=-1;for(let w=0;w<i;w++)for(let E=0;E<a;E++){const T=c[w*a+E];if(T!==0){if(w<f&&(f=w),w>y&&(y=w),E*32<u){let D=0;for(;!(T<<31-D&4294967295);)D++;E*32+D<u&&(u=E*32+D)}if(E*32+31>p){let D=31;for(;!(T>>>D);)D--;E*32+D>p&&(p=E*32+D)}}}return p<u||y<f?null:Int32Array.from([u,f,p-u+1,y-f+1])}getTopLeftOnBit(){const s=this.rowSize,i=this.bits;let a=0;for(;a<i.length&&i[a]===0;)a++;if(a===i.length)return null;const c=a/s;let u=a%s*32;const f=i[a];let p=0;for(;!(f<<31-p&4294967295);)p++;return u+=p,Int32Array.from([u,c])}getBottomRightOnBit(){const s=this.rowSize,i=this.bits;let a=i.length-1;for(;a>=0&&i[a]===0;)a--;if(a<0)return null;const c=Math.floor(a/s);let u=Math.floor(a%s)*32;const f=i[a];let p=31;for(;!(f>>>p);)p--;return u+=p,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof se))return!1;const i=s;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&A.equals(this.bits,i.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+A.hashCode(this.bits),s}toString(s="X ",i="  ",a=`
`){return this.buildToString(s,i,a)}buildToString(s,i,a){let c=new ie;for(let u=0,f=this.height;u<f;u++){for(let p=0,y=this.width;p<y;p++)c.append(this.get(p,u)?s:i);c.append(a)}return c.toString()}clone(){return new se(this.width,this.height,this.rowSize,this.bits.slice())}}class $ extends g{static getNotFoundInstance(){return new $}}$.kind="NotFoundException";class fe extends P{constructor(s){super(s),this.luminances=fe.EMPTY,this.buckets=new Int32Array(fe.LUMINANCE_BUCKETS)}getBlackRow(s,i){const a=this.getLuminanceSource(),c=a.getWidth();i==null||i.getSize()<c?i=new M(c):i.clear(),this.initArrays(c);const u=a.getRow(s,this.luminances),f=this.buckets;for(let y=0;y<c;y++)f[(u[y]&255)>>fe.LUMINANCE_SHIFT]++;const p=fe.estimateBlackPoint(f);if(c<3)for(let y=0;y<c;y++)(u[y]&255)<p&&i.set(y);else{let y=u[0]&255,w=u[1]&255;for(let E=1;E<c-1;E++){const T=u[E+1]&255;(w*4-y-T)/2<p&&i.set(E),y=w,w=T}}return i}getBlackMatrix(){const s=this.getLuminanceSource(),i=s.getWidth(),a=s.getHeight(),c=new se(i,a);this.initArrays(i);const u=this.buckets;for(let y=1;y<5;y++){const w=Math.floor(a*y/5),E=s.getRow(w,this.luminances),T=Math.floor(i*4/5);for(let D=Math.floor(i/5);D<T;D++){const L=E[D]&255;u[L>>fe.LUMINANCE_SHIFT]++}}const f=fe.estimateBlackPoint(u),p=s.getMatrix();for(let y=0;y<a;y++){const w=y*i;for(let E=0;E<i;E++)(p[w+E]&255)<f&&c.set(E,y)}return c}createBinarizer(s){return new fe(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const i=this.buckets;for(let a=0;a<fe.LUMINANCE_BUCKETS;a++)i[a]=0}static estimateBlackPoint(s){const i=s.length;let a=0,c=0,u=0;for(let E=0;E<i;E++)s[E]>u&&(c=E,u=s[E]),s[E]>a&&(a=s[E]);let f=0,p=0;for(let E=0;E<i;E++){const T=E-c,D=s[E]*T*T;D>p&&(f=E,p=D)}if(c>f){const E=c;c=f,f=E}if(f-c<=i/16)throw new $;let y=f-1,w=-1;for(let E=f-1;E>c;E--){const T=E-c,D=T*T*(f-E)*(a-s[E]);D>w&&(y=E,w=D)}return y<<fe.LUMINANCE_SHIFT}}fe.LUMINANCE_BITS=5,fe.LUMINANCE_SHIFT=8-fe.LUMINANCE_BITS,fe.LUMINANCE_BUCKETS=1<<fe.LUMINANCE_BITS,fe.EMPTY=Uint8ClampedArray.from([0]);class ue extends fe{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),i=s.getWidth(),a=s.getHeight();if(i>=ue.MINIMUM_DIMENSION&&a>=ue.MINIMUM_DIMENSION){const c=s.getMatrix();let u=i>>ue.BLOCK_SIZE_POWER;i&ue.BLOCK_SIZE_MASK&&u++;let f=a>>ue.BLOCK_SIZE_POWER;a&ue.BLOCK_SIZE_MASK&&f++;const p=ue.calculateBlackPoints(c,u,f,i,a),y=new se(i,a);ue.calculateThresholdForBlock(c,u,f,i,a,p,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ue(s)}static calculateThresholdForBlock(s,i,a,c,u,f,p){const y=u-ue.BLOCK_SIZE,w=c-ue.BLOCK_SIZE;for(let E=0;E<a;E++){let T=E<<ue.BLOCK_SIZE_POWER;T>y&&(T=y);const D=ue.cap(E,2,a-3);for(let L=0;L<i;L++){let U=L<<ue.BLOCK_SIZE_POWER;U>w&&(U=w);const H=ue.cap(L,2,i-3);let q=0;for(let pe=-2;pe<=2;pe++){const ge=f[D+pe];q+=ge[H-2]+ge[H-1]+ge[H]+ge[H+1]+ge[H+2]}const te=q/25;ue.thresholdBlock(s,U,T,te,c,p)}}}static cap(s,i,a){return s<i?i:s>a?a:s}static thresholdBlock(s,i,a,c,u,f){for(let p=0,y=a*u+i;p<ue.BLOCK_SIZE;p++,y+=u)for(let w=0;w<ue.BLOCK_SIZE;w++)(s[y+w]&255)<=c&&f.set(i+w,a+p)}static calculateBlackPoints(s,i,a,c,u){const f=u-ue.BLOCK_SIZE,p=c-ue.BLOCK_SIZE,y=new Array(a);for(let w=0;w<a;w++){y[w]=new Int32Array(i);let E=w<<ue.BLOCK_SIZE_POWER;E>f&&(E=f);for(let T=0;T<i;T++){let D=T<<ue.BLOCK_SIZE_POWER;D>p&&(D=p);let L=0,U=255,H=0;for(let te=0,pe=E*c+D;te<ue.BLOCK_SIZE;te++,pe+=c){for(let ge=0;ge<ue.BLOCK_SIZE;ge++){const de=s[pe+ge]&255;L+=de,de<U&&(U=de),de>H&&(H=de)}if(H-U>ue.MIN_DYNAMIC_RANGE)for(te++,pe+=c;te<ue.BLOCK_SIZE;te++,pe+=c)for(let ge=0;ge<ue.BLOCK_SIZE;ge++)L+=s[pe+ge]&255}let q=L>>ue.BLOCK_SIZE_POWER*2;if(H-U<=ue.MIN_DYNAMIC_RANGE&&(q=U/2,w>0&&T>0)){const te=(y[w-1][T]+2*y[w][T-1]+y[w-1][T-1])/4;U<te&&(q=te)}y[w][T]=q}}return y}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class ne{constructor(s,i){this.width=s,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,i,a,c){throw new oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new oe("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let i=new ie;for(let a=0;a<this.height;a++){const c=this.getRow(a,s);for(let u=0;u<this.width;u++){const f=c[u]&255;let p;f<64?p="#":f<128?p="+":f<192?p=".":p=" ",i.append(p)}i.append(`
`)}return i.toString()}}class V extends ne{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,i){const a=this.delegate.getRow(s,i),c=this.getWidth();for(let u=0;u<c;u++)a[u]=255-(a[u]&255);return a}getMatrix(){const s=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(i);for(let c=0;c<i;c++)a[c]=255-(s[c]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(s,i,a,c){return new V(this.delegate.crop(s,i,a,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new V(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new V(this.delegate.rotateCounterClockwise45())}}class ce extends ne{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=ce.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const i=s.getContext("2d").getImageData(0,0,s.width,s.height);return ce.toGrayscaleBuffer(i.data,s.width,s.height)}static toGrayscaleBuffer(s,i,a){const c=new Uint8ClampedArray(i*a);for(let u=0,f=0,p=s.length;u<p;u+=4,f++){let y;if(s[u+3]===0)y=255;else{const E=s[u],T=s[u+1],D=s[u+2];y=306*E+601*T+117*D+512>>10}c[f]=y}return c}getRow(s,i){if(s<0||s>=this.getHeight())throw new C("Requested row is outside the image: "+s);const a=this.getWidth(),c=s*a;return i===null?i=this.buffer.slice(c,c+a):(i.length<a&&(i=new Uint8ClampedArray(a)),i.set(this.buffer.slice(c,c+a))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,i,a,c){return super.crop(s,i,a,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const i=this.getTempCanvasElement(),a=i.getContext("2d"),c=s*ce.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*f),y=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*f);return i.width=p,i.height=y,a.translate(p/2,y/2),a.rotate(c),a.drawImage(this.canvas,u/-2,f/-2),this.buffer=ce.makeBufferFromCanvasImageData(i),this}invert(){return new V(this)}}ce.DEGREE_TO_RADIANS=Math.PI/180;class Ie{constructor(s,i,a){this.deviceId=s,this.label=i,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Me=(globalThis||ac||self||window||void 0)&&(globalThis||ac||self||window||void 0).__awaiter||function(_,s,i,a){function c(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(E){try{w(a.next(E))}catch(T){f(T)}}function y(E){try{w(a.throw(E))}catch(T){f(T)}}function w(E){E.done?u(E.value):c(E.value).then(p,y)}w((a=a.apply(_,s||[])).next())})};class rt{constructor(s,i=500,a){this.reader=s,this.timeBetweenScansMillis=i,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return Me(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const a of s){const c=a.kind==="video"?"videoinput":a.kind;if(c!=="videoinput")continue;const u=a.deviceId||a.id,f=a.label||`Video device ${i.length+1}`,p=a.groupId,y={deviceId:u,label:f,kind:c,groupId:p};i.push(y)}return i})}getVideoInputDevices(){return Me(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Ie(i.deviceId,i.label))})}findDeviceById(s){return Me(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(a=>a.deviceId===s):null})}decodeFromInputVideoDevice(s,i){return Me(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,i)})}decodeOnceFromVideoDevice(s,i){return Me(this,void 0,void 0,function*(){this.reset();let a;s?a={deviceId:{exact:s}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeOnceFromConstraints(c,i)})}decodeOnceFromConstraints(s,i){return Me(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(a,i)})}decodeOnceFromStream(s,i){return Me(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(s,i);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(s,i,a){return Me(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,i,a)})}decodeFromVideoDevice(s,i,a){return Me(this,void 0,void 0,function*(){let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,i,a)})}decodeFromConstraints(s,i,a){return Me(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(c,i,a)})}decodeFromStream(s,i,a){return Me(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,i);return yield this.decodeContinuously(c,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,i){return Me(this,void 0,void 0,function*(){const a=this.prepareVideoElement(i);return this.addVideoSource(a,s),this.videoElement=a,this.stream=s,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(s){return new Promise((i,a)=>this.playVideoOnLoad(s,()=>i()))}playVideoOnLoad(s,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",i),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return Me(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,i){const a=document.getElementById(s);if(!a)throw new v(`element with id '${s}' not found`);if(a.nodeName.toLowerCase()!==i.toLowerCase())throw new v(`element with id '${s}' must be an ${i} element`);return a}decodeFromImage(s,i){if(!s&&!i)throw new v("either imageElement with a src set or an url must be provided");return i&&!s?this.decodeFromImageUrl(i):this.decodeFromImageElement(s)}decodeFromVideo(s,i){if(!s&&!i)throw new v("Either an element with a src set or an URL must be provided");return i&&!s?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,i,a){if(s===void 0&&i===void 0)throw new v("Either an element with a src set or an URL must be provided");return i&&!s?this.decodeFromVideoUrlContinuously(i,a):this.decodeFromVideoElementContinuously(s,a)}decodeFromImageElement(s){if(!s)throw new v("An image element must be provided.");this.reset();const i=this.prepareImageElement(s);this.imageElement=i;let a;return this.isImageLoaded(i)?a=this.decodeOnce(i,!1,!0):a=this._decodeOnLoadImage(i),a}decodeFromVideoElement(s){const i=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(s,i){const a=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(a,i)}_decodeFromVideoElementSetup(s){if(!s)throw new v("A video element must be provided.");this.reset();const i=this.prepareVideoElement(s);return this.videoElement=i,i}decodeFromImageUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const a=this._decodeOnLoadImage(i);return i.src=s,a}decodeFromVideoUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),a=this.decodeFromVideoElement(i);return i.src=s,a}decodeFromVideoUrlContinuously(s,i){if(!s)throw new v("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(a,i);return a.src=s,c}_decodeOnLoadImage(s){return new Promise((i,a)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(i,a),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return Me(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,i){return Me(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,i)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let i;return typeof s>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof s=="string"&&(i=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(i=s),i}prepareVideoElement(s){let i;return!s&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof s=="string"&&(i=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(i=s),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(s,i=!0,a=!0){this._stopAsyncDecode=!1;const c=(u,f)=>{if(this._stopAsyncDecode){f(new $("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(s);u(p)}catch(p){const y=i&&p instanceof $,E=(p instanceof R||p instanceof B)&&a;if(y||E)return setTimeout(c,this._timeBetweenDecodingAttempts,u,f);f(p)}};return new Promise((u,f)=>c(u,f))}decodeContinuously(s,i){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(s);i(c,null),setTimeout(a,this.timeBetweenScansMillis)}catch(c){i(null,c);const u=c instanceof R||c instanceof B,f=c instanceof $;(u||f)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(s){const i=this.createBinaryBitmap(s);return this.decodeBitmap(i)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,i,a){i||(i={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(s,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(s,i,a=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(s,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const i=this.getCaptureCanvas(s),a=new ce(i),c=new ue(a);return new S(c)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const i=this.createCaptureCanvas(s);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let a,c;return typeof s<"u"&&(s instanceof HTMLVideoElement?(a=s.videoWidth,c=s.videoHeight):s instanceof HTMLImageElement&&(a=s.naturalWidth||s.width,c=s.naturalHeight||s.height)),i.style.width=a+"px",i.style.height=c+"px",i.width=a,i.height=c,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,i){try{s.srcObject=i}catch{s.src=URL.createObjectURL(i)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Ye{constructor(s,i,a=i==null?0:8*i.length,c,u,f=N.currentTimeMillis()){this.text=s,this.rawBytes=i,this.numBits=a,this.resultPoints=c,this.format=u,this.timestamp=f,this.text=s,this.rawBytes=i,a==null?this.numBits=i==null?0:8*i.length:this.numBits=a,this.resultPoints=c,this.format=u,this.resultMetadata=null,f==null?this.timestamp=N.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,i)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const i=this.resultPoints;if(i===null)this.resultPoints=s;else if(s!==null&&s.length>0){const a=new Array(i.length+s.length);N.arraycopy(i,0,a,0,i.length),N.arraycopy(s,0,a,i.length,s.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var yn;(function(_){_[_.AZTEC=0]="AZTEC",_[_.CODABAR=1]="CODABAR",_[_.CODE_39=2]="CODE_39",_[_.CODE_93=3]="CODE_93",_[_.CODE_128=4]="CODE_128",_[_.DATA_MATRIX=5]="DATA_MATRIX",_[_.EAN_8=6]="EAN_8",_[_.EAN_13=7]="EAN_13",_[_.ITF=8]="ITF",_[_.MAXICODE=9]="MAXICODE",_[_.PDF_417=10]="PDF_417",_[_.QR_CODE=11]="QR_CODE",_[_.RSS_14=12]="RSS_14",_[_.RSS_EXPANDED=13]="RSS_EXPANDED",_[_.UPC_A=14]="UPC_A",_[_.UPC_E=15]="UPC_E",_[_.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(yn||(yn={}));var Ee=yn,ke;(function(_){_[_.OTHER=0]="OTHER",_[_.ORIENTATION=1]="ORIENTATION",_[_.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",_[_.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",_[_.ISSUE_NUMBER=4]="ISSUE_NUMBER",_[_.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",_[_.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",_[_.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",_[_.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",_[_.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",_[_.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ke||(ke={}));var We=ke;class ft{constructor(s,i,a,c,u=-1,f=-1){this.rawBytes=s,this.text=i,this.byteSegments=a,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ct{exp(s){return this.expTable[s]}log(s){if(s===0)throw new C;return this.logTable[s]}static addOrSubtract(s,i){return s^i}}class Ze{constructor(s,i){if(i.length===0)throw new C;this.field=s;const a=i.length;if(a>1&&i[0]===0){let c=1;for(;c<a&&i[c]===0;)c++;c===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-c),N.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const i=this.coefficients;let a;if(s===1){a=0;for(let f=0,p=i.length;f!==p;f++){const y=i[f];a=ct.addOrSubtract(a,y)}return a}a=i[0];const c=i.length,u=this.field;for(let f=1;f<c;f++)a=ct.addOrSubtract(u.multiply(s,a),i[f]);return a}addOrSubtract(s){if(!this.field.equals(s.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let i=this.coefficients,a=s.coefficients;if(i.length>a.length){const f=i;i=a,a=f}let c=new Int32Array(a.length);const u=a.length-i.length;N.arraycopy(a,0,c,0,u);for(let f=u;f<a.length;f++)c[f]=ct.addOrSubtract(i[f-u],a[f]);return new Ze(this.field,c)}multiply(s){if(!this.field.equals(s.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const i=this.coefficients,a=i.length,c=s.coefficients,u=c.length,f=new Int32Array(a+u-1),p=this.field;for(let y=0;y<a;y++){const w=i[y];for(let E=0;E<u;E++)f[y+E]=ct.addOrSubtract(f[y+E],p.multiply(w,c[E]))}return new Ze(p,f)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const i=this.coefficients.length,a=this.field,c=new Int32Array(i),u=this.coefficients;for(let f=0;f<i;f++)c[f]=a.multiply(u[f],s);return new Ze(a,c)}multiplyByMonomial(s,i){if(s<0)throw new C;if(i===0)return this.field.getZero();const a=this.coefficients,c=a.length,u=new Int32Array(c+s),f=this.field;for(let p=0;p<c;p++)u[p]=f.multiply(a[p],i);return new Ze(f,u)}divide(s){if(!this.field.equals(s.field))throw new C("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new C("Divide by 0");const i=this.field;let a=i.getZero(),c=this;const u=s.getCoefficient(s.getDegree()),f=i.inverse(u);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const p=c.getDegree()-s.getDegree(),y=i.multiply(c.getCoefficient(c.getDegree()),f),w=s.multiplyByMonomial(p,y),E=i.buildMonomial(p,y);a=a.addOrSubtract(E),c=c.addOrSubtract(w)}return[a,c]}toString(){let s="";for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);if(a!==0){if(a<0?(s+=" - ",a=-a):s.length>0&&(s+=" + "),i===0||a!==1){const c=this.field.log(a);c===0?s+="1":c===1?s+="a":(s+="a^",s+=c)}i!==0&&(i===1?s+="x":(s+="x^",s+=i))}}return s}}class ht extends g{}ht.kind="ArithmeticException";class Ke extends ct{constructor(s,i,a){super(),this.primitive=s,this.size=i,this.generatorBase=a;const c=new Int32Array(i);let u=1;for(let p=0;p<i;p++)c[p]=u,u*=2,u>=i&&(u^=s,u&=i-1);this.expTable=c;const f=new Int32Array(i);for(let p=0;p<i-1;p++)f[c[p]]=p;this.logTable=f,this.zero=new Ze(this,Int32Array.from([0])),this.one=new Ze(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,i){if(s<0)throw new C;if(i===0)return this.zero;const a=new Int32Array(s+1);return a[0]=i,new Ze(this,a)}inverse(s){if(s===0)throw new ht;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,i){return s===0||i===0?0:this.expTable[(this.logTable[s]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Ke.AZTEC_DATA_12=new Ke(4201,4096,1),Ke.AZTEC_DATA_10=new Ke(1033,1024,1),Ke.AZTEC_DATA_6=new Ke(67,64,1),Ke.AZTEC_PARAM=new Ke(19,16,1),Ke.QR_CODE_FIELD_256=new Ke(285,256,0),Ke.DATA_MATRIX_FIELD_256=new Ke(301,256,1),Ke.AZTEC_DATA_8=Ke.DATA_MATRIX_FIELD_256,Ke.MAXICODE_FIELD_64=Ke.AZTEC_DATA_6;class vn extends g{}vn.kind="ReedSolomonException";class In extends g{}In.kind="IllegalStateException";class pr{constructor(s){this.field=s}decode(s,i){const a=this.field,c=new Ze(a,s),u=new Int32Array(i);let f=!0;for(let L=0;L<i;L++){const U=c.evaluateAt(a.exp(L+a.getGeneratorBase()));u[u.length-1-L]=U,U!==0&&(f=!1)}if(f)return;const p=new Ze(a,u),y=this.runEuclideanAlgorithm(a.buildMonomial(i,1),p,i),w=y[0],E=y[1],T=this.findErrorLocations(w),D=this.findErrorMagnitudes(E,T);for(let L=0;L<T.length;L++){const U=s.length-1-a.log(T[L]);if(U<0)throw new vn("Bad error location");s[U]=Ke.addOrSubtract(s[U],D[L])}}runEuclideanAlgorithm(s,i,a){if(s.getDegree()<i.getDegree()){const L=s;s=i,i=L}const c=this.field;let u=s,f=i,p=c.getZero(),y=c.getOne();for(;f.getDegree()>=(a/2|0);){let L=u,U=p;if(u=f,p=y,u.isZero())throw new vn("r_{i-1} was zero");f=L;let H=c.getZero();const q=u.getCoefficient(u.getDegree()),te=c.inverse(q);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const pe=f.getDegree()-u.getDegree(),ge=c.multiply(f.getCoefficient(f.getDegree()),te);H=H.addOrSubtract(c.buildMonomial(pe,ge)),f=f.addOrSubtract(u.multiplyByMonomial(pe,ge))}if(y=H.multiply(p).addOrSubtract(U),f.getDegree()>=u.getDegree())throw new In("Division algorithm failed to reduce polynomial?")}const w=y.getCoefficient(0);if(w===0)throw new vn("sigmaTilde(0) was zero");const E=c.inverse(w),T=y.multiplyScalar(E),D=f.multiplyScalar(E);return[T,D]}findErrorLocations(s){const i=s.getDegree();if(i===1)return Int32Array.from([s.getCoefficient(1)]);const a=new Int32Array(i);let c=0;const u=this.field;for(let f=1;f<u.getSize()&&c<i;f++)s.evaluateAt(f)===0&&(a[c]=u.inverse(f),c++);if(c!==i)throw new vn("Error locator degree does not match number of roots");return a}findErrorMagnitudes(s,i){const a=i.length,c=new Int32Array(a),u=this.field;for(let f=0;f<a;f++){const p=u.inverse(i[f]);let y=1;for(let w=0;w<a;w++)if(f!==w){const E=u.multiply(i[w],p),T=E&1?E&-2:E|1;y=u.multiply(y,T)}c[f]=u.multiply(s.evaluateAt(p),u.inverse(y)),u.getGeneratorBase()!==0&&(c[f]=u.multiply(c[f],p))}return c}}var Vt;(function(_){_[_.UPPER=0]="UPPER",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.DIGIT=3]="DIGIT",_[_.PUNCT=4]="PUNCT",_[_.BINARY=5]="BINARY"})(Vt||(Vt={}));class _t{decode(s){this.ddata=s;let i=s.getBits(),a=this.extractBits(i),c=this.correctBits(a),u=_t.convertBoolArrayToByteArray(c),f=_t.getEncodedData(c),p=new ft(u,f,null,null);return p.setNumBits(c.length),p}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let i=s.length,a=Vt.UPPER,c=Vt.UPPER,u="",f=0;for(;f<i;)if(c===Vt.BINARY){if(i-f<5)break;let p=_t.readCode(s,f,5);if(f+=5,p===0){if(i-f<11)break;p=_t.readCode(s,f,11)+31,f+=11}for(let y=0;y<p;y++){if(i-f<8){f=i;break}const w=_t.readCode(s,f,8);u+=Q.castAsNonUtf8Char(w),f+=8}c=a}else{let p=c===Vt.DIGIT?4:5;if(i-f<p)break;let y=_t.readCode(s,f,p);f+=p;let w=_t.getCharacter(c,y);w.startsWith("CTRL_")?(a=c,c=_t.getTable(w.charAt(5)),w.charAt(6)==="L"&&(a=c)):(u+=w,c=a)}return u}static getTable(s){switch(s){case"L":return Vt.LOWER;case"P":return Vt.PUNCT;case"M":return Vt.MIXED;case"D":return Vt.DIGIT;case"B":return Vt.BINARY;case"U":default:return Vt.UPPER}}static getCharacter(s,i){switch(s){case Vt.UPPER:return _t.UPPER_TABLE[i];case Vt.LOWER:return _t.LOWER_TABLE[i];case Vt.MIXED:return _t.MIXED_TABLE[i];case Vt.PUNCT:return _t.PUNCT_TABLE[i];case Vt.DIGIT:return _t.DIGIT_TABLE[i];default:throw new In("Bad table")}}correctBits(s){let i,a;this.ddata.getNbLayers()<=2?(a=6,i=Ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,i=Ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,i=Ke.AZTEC_DATA_10):(a=12,i=Ke.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=s.length/a;if(u<c)throw new B;let f=s.length%a,p=new Int32Array(u);for(let D=0;D<u;D++,f+=a)p[D]=_t.readCode(s,f,a);try{new pr(i).decode(p,u-c)}catch(D){throw new B(D)}let y=(1<<a)-1,w=0;for(let D=0;D<c;D++){let L=p[D];if(L===0||L===y)throw new B;(L===1||L===y-1)&&w++}let E=new Array(c*a-w),T=0;for(let D=0;D<c;D++){let L=p[D];if(L===1||L===y-1)E.fill(L>1,T,T+a-1),T+=a-1;else for(let U=a-1;U>=0;--U)E[T++]=(L&1<<U)!==0}return E}extractBits(s){let i=this.ddata.isCompact(),a=this.ddata.getNbLayers(),c=(i?11:14)+a*4,u=new Int32Array(c),f=new Array(this.totalBitsInLayer(a,i));if(i)for(let p=0;p<u.length;p++)u[p]=p;else{let p=c+1+2*I.truncDivision(I.truncDivision(c,2)-1,15),y=c/2,w=I.truncDivision(p,2);for(let E=0;E<y;E++){let T=E+I.truncDivision(E,15);u[y-E-1]=w-T-1,u[y+E]=w+T+1}}for(let p=0,y=0;p<a;p++){let w=(a-p)*4+(i?9:12),E=p*2,T=c-1-E;for(let D=0;D<w;D++){let L=D*2;for(let U=0;U<2;U++)f[y+L+U]=s.get(u[E+U],u[E+D]),f[y+2*w+L+U]=s.get(u[E+D],u[T-U]),f[y+4*w+L+U]=s.get(u[T-U],u[T-D]),f[y+6*w+L+U]=s.get(u[T-D],u[E+U])}y+=w*8}return f}static readCode(s,i,a){let c=0;for(let u=i;u<i+a;u++)c<<=1,s[u]&&(c|=1);return c}static readByte(s,i){let a=s.length-i;return a>=8?_t.readCode(s,i,8):_t.readCode(s,i,a)<<8-a}static convertBoolArrayToByteArray(s){let i=new Uint8Array((s.length+7)/8);for(let a=0;a<i.length;a++)i[a]=_t.readByte(s,8*a);return i}totalBitsInLayer(s,i){return((i?88:112)+16*s)*s}}_t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],_t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],_t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],_t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],_t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class st{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,i,a,c){const u=s-a,f=i-c;return Math.sqrt(u*u+f*f)}static sum(s){let i=0;for(let a=0,c=s.length;a!==c;a++){const u=s[a];i+=u}return i}}class Ql{static floatToIntBits(s){return s}}Ql.MAX_VALUE=Number.MAX_SAFE_INTEGER;class De{constructor(s,i){this.x=s,this.y=i}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof De){const i=s;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Ql.floatToIntBits(this.x)+Ql.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const i=this.distance(s[0],s[1]),a=this.distance(s[1],s[2]),c=this.distance(s[0],s[2]);let u,f,p;if(a>=i&&a>=c?(f=s[0],u=s[1],p=s[2]):c>=a&&c>=i?(f=s[1],u=s[0],p=s[2]):(f=s[2],u=s[0],p=s[1]),this.crossProductZ(u,f,p)<0){const y=u;u=p,p=y}s[0]=u,s[1]=f,s[2]=p}static distance(s,i){return st.distance(s.x,s.y,i.x,i.y)}static crossProductZ(s,i,a){const c=i.x,u=i.y;return(a.x-c)*(s.y-u)-(a.y-u)*(s.x-c)}}class z{constructor(s,i){this.bits=s,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class J extends z{constructor(s,i,a,c,u){super(s,i),this.compact=a,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class re{constructor(s,i,a,c){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),i==null&&(i=re.INIT_SIZE),a==null&&(a=s.getWidth()/2|0),c==null&&(c=s.getHeight()/2|0);const u=i/2|0;if(this.leftInit=a-u,this.rightInit=a+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}detect(){let s=this.leftInit,i=this.rightInit,a=this.upInit,c=this.downInit,u=!1,f=!0,p=!1,y=!1,w=!1,E=!1,T=!1;const D=this.width,L=this.height;for(;f;){f=!1;let U=!0;for(;(U||!y)&&i<D;)U=this.containsBlackPoint(a,c,i,!1),U?(i++,f=!0,y=!0):y||i++;if(i>=D){u=!0;break}let H=!0;for(;(H||!w)&&c<L;)H=this.containsBlackPoint(s,i,c,!0),H?(c++,f=!0,w=!0):w||c++;if(c>=L){u=!0;break}let q=!0;for(;(q||!E)&&s>=0;)q=this.containsBlackPoint(a,c,s,!1),q?(s--,f=!0,E=!0):E||s--;if(s<0){u=!0;break}let te=!0;for(;(te||!T)&&a>=0;)te=this.containsBlackPoint(s,i,a,!0),te?(a--,f=!0,T=!0):T||a--;if(a<0){u=!0;break}f&&(p=!0)}if(!u&&p){const U=i-s;let H=null;for(let ge=1;H===null&&ge<U;ge++)H=this.getBlackPointOnSegment(s,c-ge,s+ge,c);if(H==null)throw new $;let q=null;for(let ge=1;q===null&&ge<U;ge++)q=this.getBlackPointOnSegment(s,a+ge,s+ge,a);if(q==null)throw new $;let te=null;for(let ge=1;te===null&&ge<U;ge++)te=this.getBlackPointOnSegment(i,a+ge,i-ge,a);if(te==null)throw new $;let pe=null;for(let ge=1;pe===null&&ge<U;ge++)pe=this.getBlackPointOnSegment(i,c-ge,i-ge,c);if(pe==null)throw new $;return this.centerEdges(pe,H,te,q)}else throw new $}getBlackPointOnSegment(s,i,a,c){const u=st.round(st.distance(s,i,a,c)),f=(a-s)/u,p=(c-i)/u,y=this.image;for(let w=0;w<u;w++){const E=st.round(s+w*f),T=st.round(i+w*p);if(y.get(E,T))return new De(E,T)}return null}centerEdges(s,i,a,c){const u=s.getX(),f=s.getY(),p=i.getX(),y=i.getY(),w=a.getX(),E=a.getY(),T=c.getX(),D=c.getY(),L=re.CORR;return u<this.width/2?[new De(T-L,D+L),new De(p+L,y+L),new De(w-L,E-L),new De(u+L,f-L)]:[new De(T+L,D+L),new De(p+L,y-L),new De(w-L,E+L),new De(u-L,f-L)]}containsBlackPoint(s,i,a,c){const u=this.image;if(c){for(let f=s;f<=i;f++)if(u.get(f,a))return!0}else for(let f=s;f<=i;f++)if(u.get(a,f))return!0;return!1}}re.INIT_SIZE=10,re.CORR=1;class Ae{static checkAndNudgePoints(s,i){const a=s.getWidth(),c=s.getHeight();let u=!0;for(let f=0;f<i.length&&u;f+=2){const p=Math.floor(i[f]),y=Math.floor(i[f+1]);if(p<-1||p>a||y<-1||y>c)throw new $;u=!1,p===-1?(i[f]=0,u=!0):p===a&&(i[f]=a-1,u=!0),y===-1?(i[f+1]=0,u=!0):y===c&&(i[f+1]=c-1,u=!0)}u=!0;for(let f=i.length-2;f>=0&&u;f-=2){const p=Math.floor(i[f]),y=Math.floor(i[f+1]);if(p<-1||p>a||y<-1||y>c)throw new $;u=!1,p===-1?(i[f]=0,u=!0):p===a&&(i[f]=a-1,u=!0),y===-1?(i[f+1]=0,u=!0):y===c&&(i[f+1]=c-1,u=!0)}}}class ve{constructor(s,i,a,c,u,f,p,y,w){this.a11=s,this.a21=i,this.a31=a,this.a12=c,this.a22=u,this.a32=f,this.a13=p,this.a23=y,this.a33=w}static quadrilateralToQuadrilateral(s,i,a,c,u,f,p,y,w,E,T,D,L,U,H,q){const te=ve.quadrilateralToSquare(s,i,a,c,u,f,p,y);return ve.squareToQuadrilateral(w,E,T,D,L,U,H,q).times(te)}transformPoints(s){const i=s.length,a=this.a11,c=this.a12,u=this.a13,f=this.a21,p=this.a22,y=this.a23,w=this.a31,E=this.a32,T=this.a33;for(let D=0;D<i;D+=2){const L=s[D],U=s[D+1],H=u*L+y*U+T;s[D]=(a*L+f*U+w)/H,s[D+1]=(c*L+p*U+E)/H}}transformPointsWithValues(s,i){const a=this.a11,c=this.a12,u=this.a13,f=this.a21,p=this.a22,y=this.a23,w=this.a31,E=this.a32,T=this.a33,D=s.length;for(let L=0;L<D;L++){const U=s[L],H=i[L],q=u*U+y*H+T;s[L]=(a*U+f*H+w)/q,i[L]=(c*U+p*H+E)/q}}static squareToQuadrilateral(s,i,a,c,u,f,p,y){const w=s-a+u-p,E=i-c+f-y;if(w===0&&E===0)return new ve(a-s,u-a,s,c-i,f-c,i,0,0,1);{const T=a-u,D=p-u,L=c-f,U=y-f,H=T*U-D*L,q=(w*U-D*E)/H,te=(T*E-w*L)/H;return new ve(a-s+q*a,p-s+te*p,s,c-i+q*c,y-i+te*y,i,q,te,1)}}static quadrilateralToSquare(s,i,a,c,u,f,p,y){return ve.squareToQuadrilateral(s,i,a,c,u,f,p,y).buildAdjoint()}buildAdjoint(){return new ve(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new ve(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class xe extends Ae{sampleGrid(s,i,a,c,u,f,p,y,w,E,T,D,L,U,H,q,te,pe,ge){const de=ve.quadrilateralToQuadrilateral(c,u,f,p,y,w,E,T,D,L,U,H,q,te,pe,ge);return this.sampleGridWithTransform(s,i,a,de)}sampleGridWithTransform(s,i,a,c){if(i<=0||a<=0)throw new $;const u=new se(i,a),f=new Float32Array(2*i);for(let p=0;p<a;p++){const y=f.length,w=p+.5;for(let E=0;E<y;E+=2)f[E]=E/2+.5,f[E+1]=w;c.transformPoints(f),Ae.checkAndNudgePoints(s,f);try{for(let E=0;E<y;E+=2)s.get(Math.floor(f[E]),Math.floor(f[E+1]))&&u.set(E/2,p)}catch{throw new $}}return u}}class Ne{static setGridSampler(s){Ne.gridSampler=s}static getInstance(){return Ne.gridSampler}}Ne.gridSampler=new xe;class $e{constructor(s,i){this.x=s,this.y=i}toResultPoint(){return new De(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Qt{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let i=this.getMatrixCenter(),a=this.getBullsEyeCorners(i);if(s){let f=a[0];a[0]=a[2],a[2]=f}this.extractParameters(a);let c=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),u=this.getMatrixCornerPoints(a);return new J(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new $;let i=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(s[0],s[1],i),this.sampleLine(s[1],s[2],i),this.sampleLine(s[2],s[3],i),this.sampleLine(s[3],s[0],i)]);this.shift=this.getRotation(a,i);let c=0;for(let f=0;f<4;f++){let p=a[(this.shift+f)%4];this.compact?(c<<=7,c+=p>>1&127):(c<<=10,c+=(p>>2&992)+(p>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(s,i){let a=0;s.forEach((c,u,f)=>{let p=(c>>i-2<<1)+(c&1);a=(a<<3)+p}),a=((a&1)<<11)+(a>>1);for(let c=0;c<4;c++)if(I.bitCount(a^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new $}getCorrectedParameterData(s,i){let a,c;i?(a=7,c=2):(a=10,c=4);let u=a-c,f=new Int32Array(a);for(let y=a-1;y>=0;--y)f[y]=s&15,s>>=4;try{new pr(Ke.AZTEC_PARAM).decode(f,u)}catch{throw new $}let p=0;for(let y=0;y<c;y++)p=(p<<4)+f[y];return p}getBullsEyeCorners(s){let i=s,a=s,c=s,u=s,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(i,f,1,-1),D=this.getFirstDifferent(a,f,1,1),L=this.getFirstDifferent(c,f,-1,1),U=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let H=this.distancePoint(U,T)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(H<.75||H>1.25||!this.isWhiteOrBlackRectangle(T,D,L,U))break}i=T,a=D,c=L,u=U,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;let p=new De(i.getX()+.5,i.getY()-.5),y=new De(a.getX()+.5,a.getY()+.5),w=new De(c.getX()-.5,c.getY()+.5),E=new De(u.getX()-.5,u.getY()-.5);return this.expandSquare([p,y,w,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,i,a,c;try{let p=new re(this.image).detect();s=p[0],i=p[1],a=p[2],c=p[3]}catch{let y=this.image.getWidth()/2,w=this.image.getHeight()/2;s=this.getFirstDifferent(new $e(y+7,w-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new $e(y+7,w+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new $e(y-7,w+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new $e(y-7,w-7),!1,-1,-1).toResultPoint()}let u=st.round((s.getX()+c.getX()+i.getX()+a.getX())/4),f=st.round((s.getY()+c.getY()+i.getY()+a.getY())/4);try{let p=new re(this.image,15,u,f).detect();s=p[0],i=p[1],a=p[2],c=p[3]}catch{s=this.getFirstDifferent(new $e(u+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new $e(u+7,f+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new $e(u-7,f+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new $e(u-7,f-7),!1,-1,-1).toResultPoint()}return u=st.round((s.getX()+c.getX()+i.getX()+a.getX())/4),f=st.round((s.getY()+c.getY()+i.getY()+a.getY())/4),new $e(u,f)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,i,a,c,u){let f=Ne.getInstance(),p=this.getDimension(),y=p/2-this.nbCenterLayers,w=p/2+this.nbCenterLayers;return f.sampleGrid(s,p,p,y,y,w,y,w,w,y,w,i.getX(),i.getY(),a.getX(),a.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(s,i,a){let c=0,u=this.distanceResultPoint(s,i),f=u/a,p=s.getX(),y=s.getY(),w=f*(i.getX()-s.getX())/u,E=f*(i.getY()-s.getY())/u;for(let T=0;T<a;T++)this.image.get(st.round(p+T*w),st.round(y+T*E))&&(c|=1<<a-T-1);return c}isWhiteOrBlackRectangle(s,i,a,c){let u=3;s=new $e(s.getX()-u,s.getY()+u),i=new $e(i.getX()-u,i.getY()-u),a=new $e(a.getX()+u,a.getY()-u),c=new $e(c.getX()+u,c.getY()+u);let f=this.getColor(c,s);if(f===0)return!1;let p=this.getColor(s,i);return p!==f||(p=this.getColor(i,a),p!==f)?!1:(p=this.getColor(a,c),p===f)}getColor(s,i){let a=this.distancePoint(s,i),c=(i.getX()-s.getX())/a,u=(i.getY()-s.getY())/a,f=0,p=s.getX(),y=s.getY(),w=this.image.get(s.getX(),s.getY()),E=Math.ceil(a);for(let D=0;D<E;D++)p+=c,y+=u,this.image.get(st.round(p),st.round(y))!==w&&f++;let T=f/a;return T>.1&&T<.9?0:T<=.1===w?1:-1}getFirstDifferent(s,i,a,c){let u=s.getX()+a,f=s.getY()+c;for(;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=a,f+=c;for(u-=a,f-=c;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=a;for(u-=a;this.isValid(u,f)&&this.image.get(u,f)===i;)f+=c;return f-=c,new $e(u,f)}expandSquare(s,i,a){let c=a/(2*i),u=s[0].getX()-s[2].getX(),f=s[0].getY()-s[2].getY(),p=(s[0].getX()+s[2].getX())/2,y=(s[0].getY()+s[2].getY())/2,w=new De(p+c*u,y+c*f),E=new De(p-c*u,y-c*f);u=s[1].getX()-s[3].getX(),f=s[1].getY()-s[3].getY(),p=(s[1].getX()+s[3].getX())/2,y=(s[1].getY()+s[3].getY())/2;let T=new De(p+c*u,y+c*f),D=new De(p-c*u,y-c*f);return[w,T,E,D]}isValid(s,i){return s>=0&&s<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(s){let i=st.round(s.getX()),a=st.round(s.getY());return this.isValid(i,a)}distancePoint(s,i){return st.distance(s.getX(),s.getY(),i.getX(),i.getY())}distanceResultPoint(s,i){return st.distance(s.getX(),s.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class dn{decode(s,i=null){let a=null,c=new Qt(s.getBlackMatrix()),u=null,f=null;try{let E=c.detectMirror(!1);u=E.getPoints(),this.reportFoundResultPoints(i,u),f=new _t().decode(E)}catch(E){a=E}if(f==null)try{let E=c.detectMirror(!0);u=E.getPoints(),this.reportFoundResultPoints(i,u),f=new _t().decode(E)}catch(E){throw a??E}let p=new Ye(f.getText(),f.getRawBytes(),f.getNumBits(),u,Ee.AZTEC,N.currentTimeMillis()),y=f.getByteSegments();y!=null&&p.putMetadata(We.BYTE_SEGMENTS,y);let w=f.getECLevel();return w!=null&&p.putMetadata(We.ERROR_CORRECTION_LEVEL,w),p}reportFoundResultPoints(s,i){if(s!=null){let a=s.get(X.NEED_RESULT_POINT_CALLBACK);a!=null&&i.forEach((c,u,f)=>{a.foundPossibleResultPoint(c)})}}reset(){}}class Zh extends rt{constructor(s=500){super(new dn,s)}}class Zt{decode(s,i){try{return this.doDecode(s,i)}catch{if(i&&i.get(X.TRY_HARDER)===!0&&s.isRotateSupported()){const u=s.rotateCounterClockwise(),f=this.doDecode(u,i),p=f.getResultMetadata();let y=270;p!==null&&p.get(We.ORIENTATION)===!0&&(y=y+p.get(We.ORIENTATION)%360),f.putMetadata(We.ORIENTATION,y);const w=f.getResultPoints();if(w!==null){const E=u.getHeight();for(let T=0;T<w.length;T++)w[T]=new De(E-w[T].getY()-1,w[T].getX())}return f}else throw new $}}reset(){}doDecode(s,i){const a=s.getWidth(),c=s.getHeight();let u=new M(a);const f=i&&i.get(X.TRY_HARDER)===!0,p=Math.max(1,c>>(f?8:5));let y;f?y=c:y=15;const w=Math.trunc(c/2);for(let E=0;E<y;E++){const T=Math.trunc((E+1)/2),D=(E&1)===0,L=w+p*(D?T:-T);if(L<0||L>=c)break;try{u=s.getBlackRow(L,u)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(u.reverse(),i&&i.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const H=new Map;i.forEach((q,te)=>H.set(te,q)),H.delete(X.NEED_RESULT_POINT_CALLBACK),i=H}try{const H=this.decodeRow(L,u,i);if(U===1){H.putMetadata(We.ORIENTATION,180);const q=H.getResultPoints();q!==null&&(q[0]=new De(a-q[0].getX()-1,q[0].getY()),q[1]=new De(a-q[1].getX()-1,q[1].getY()))}return H}catch{}}}throw new $}static recordPattern(s,i,a){const c=a.length;for(let w=0;w<c;w++)a[w]=0;const u=s.getSize();if(i>=u)throw new $;let f=!s.get(i),p=0,y=i;for(;y<u;){if(s.get(y)!==f)a[p]++;else{if(++p===c)break;a[p]=1,f=!f}y++}if(!(p===c||p===c-1&&y===u))throw new $}static recordPatternInReverse(s,i,a){let c=a.length,u=s.get(i);for(;i>0&&c>=0;)s.get(--i)!==u&&(c--,u=!u);if(c>=0)throw new $;Zt.recordPattern(s,i+1,a)}static patternMatchVariance(s,i,a){const c=s.length;let u=0,f=0;for(let w=0;w<c;w++)u+=s[w],f+=i[w];if(u<f)return Number.POSITIVE_INFINITY;const p=u/f;a*=p;let y=0;for(let w=0;w<c;w++){const E=s[w],T=i[w]*p,D=E>T?E-T:T-E;if(D>a)return Number.POSITIVE_INFINITY;y+=D}return y/u}}class we extends Zt{static findStartPattern(s){const i=s.getSize(),a=s.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),f=a,p=!1;const y=6;for(let w=a;w<i;w++)if(s.get(w)!==p)u[c]++;else{if(c===y-1){let E=we.MAX_AVG_VARIANCE,T=-1;for(let D=we.CODE_START_A;D<=we.CODE_START_C;D++){const L=Zt.patternMatchVariance(u,we.CODE_PATTERNS[D],we.MAX_INDIVIDUAL_VARIANCE);L<E&&(E=L,T=D)}if(T>=0&&s.isRange(Math.max(0,f-(w-f)/2),f,!1))return Int32Array.from([f,w,T]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,p=!p}throw new $}static decodeCode(s,i,a){Zt.recordPattern(s,a,i);let c=we.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<we.CODE_PATTERNS.length;f++){const p=we.CODE_PATTERNS[f],y=this.patternMatchVariance(i,p,we.MAX_INDIVIDUAL_VARIANCE);y<c&&(c=y,u=f)}if(u>=0)return u;throw new $}decodeRow(s,i,a){const c=a&&a.get(X.ASSUME_GS1)===!0,u=we.findStartPattern(i),f=u[2];let p=0;const y=new Uint8Array(20);y[p++]=f;let w;switch(f){case we.CODE_START_A:w=we.CODE_CODE_A;break;case we.CODE_START_B:w=we.CODE_CODE_B;break;case we.CODE_START_C:w=we.CODE_CODE_C;break;default:throw new B}let E=!1,T=!1,D="",L=u[0],U=u[1];const H=Int32Array.from([0,0,0,0,0,0]);let q=0,te=0,pe=f,ge=0,de=!0,mt=!1,Je=!1;for(;!E;){const Ia=T;switch(T=!1,q=te,te=we.decodeCode(i,H,U),y[p++]=te,te!==we.CODE_STOP&&(de=!0),te!==we.CODE_STOP&&(ge++,pe+=ge*te),L=U,U+=H.reduce((T6,I6)=>T6+I6,0),te){case we.CODE_START_A:case we.CODE_START_B:case we.CODE_START_C:throw new B}switch(w){case we.CODE_CODE_A:if(te<64)Je===mt?D+=String.fromCharCode(32+te):D+=String.fromCharCode(32+te+128),Je=!1;else if(te<96)Je===mt?D+=String.fromCharCode(te-64):D+=String.fromCharCode(te+64),Je=!1;else switch(te!==we.CODE_STOP&&(de=!1),te){case we.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case we.CODE_FNC_2:case we.CODE_FNC_3:break;case we.CODE_FNC_4_A:!mt&&Je?(mt=!0,Je=!1):mt&&Je?(mt=!1,Je=!1):Je=!0;break;case we.CODE_SHIFT:T=!0,w=we.CODE_CODE_B;break;case we.CODE_CODE_B:w=we.CODE_CODE_B;break;case we.CODE_CODE_C:w=we.CODE_CODE_C;break;case we.CODE_STOP:E=!0;break}break;case we.CODE_CODE_B:if(te<96)Je===mt?D+=String.fromCharCode(32+te):D+=String.fromCharCode(32+te+128),Je=!1;else switch(te!==we.CODE_STOP&&(de=!1),te){case we.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case we.CODE_FNC_2:case we.CODE_FNC_3:break;case we.CODE_FNC_4_B:!mt&&Je?(mt=!0,Je=!1):mt&&Je?(mt=!1,Je=!1):Je=!0;break;case we.CODE_SHIFT:T=!0,w=we.CODE_CODE_A;break;case we.CODE_CODE_A:w=we.CODE_CODE_A;break;case we.CODE_CODE_C:w=we.CODE_CODE_C;break;case we.CODE_STOP:E=!0;break}break;case we.CODE_CODE_C:if(te<100)te<10&&(D+="0"),D+=te;else switch(te!==we.CODE_STOP&&(de=!1),te){case we.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case we.CODE_CODE_A:w=we.CODE_CODE_A;break;case we.CODE_CODE_B:w=we.CODE_CODE_B;break;case we.CODE_STOP:E=!0;break}break}Ia&&(w=w===we.CODE_CODE_A?we.CODE_CODE_B:we.CODE_CODE_A)}const vr=U-L;if(U=i.getNextUnset(U),!i.isRange(U,Math.min(i.getSize(),U+(U-L)/2),!1))throw new $;if(pe-=ge*q,pe%103!==q)throw new R;const cs=D.length;if(cs===0)throw new $;cs>0&&de&&(w===we.CODE_CODE_C?D=D.substring(0,cs-2):D=D.substring(0,cs-1));const wr=(u[1]+u[0])/2,Bt=L+vr/2,Fn=y.length,Or=new Uint8Array(Fn);for(let Ia=0;Ia<Fn;Ia++)Or[Ia]=y[Ia];const Ta=[new De(wr,s),new De(Bt,s)];return new Ye(D,Or,0,Ta,Ee.CODE_128,new Date().getTime())}}we.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],we.MAX_AVG_VARIANCE=.25,we.MAX_INDIVIDUAL_VARIANCE=.7,we.CODE_SHIFT=98,we.CODE_CODE_C=99,we.CODE_CODE_B=100,we.CODE_CODE_A=101,we.CODE_FNC_1=102,we.CODE_FNC_2=97,we.CODE_FNC_3=96,we.CODE_FNC_4_A=101,we.CODE_FNC_4_B=100,we.CODE_START_A=103,we.CODE_START_B=104,we.CODE_START_C=105,we.CODE_STOP=106;class fn extends Zt{constructor(s=!1,i=!1){super(),this.usingCheckDigit=s,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,i,a){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=fn.findAsteriskPattern(i,c),f=i.getNextSet(u[1]),p=i.getSize(),y,w;do{fn.recordPattern(i,f,c);let H=fn.toNarrowWidePattern(c);if(H<0)throw new $;y=fn.patternToChar(H),this.decodeRowResult+=y,w=f;for(let q of c)f+=q;f=i.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let H of c)E+=H;let T=f-w-E;if(f!==p&&T*2<E)throw new $;if(this.usingCheckDigit){let H=this.decodeRowResult.length-1,q=0;for(let te=0;te<H;te++)q+=fn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt(H)!==fn.ALPHABET_STRING.charAt(q%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,H)}if(this.decodeRowResult.length===0)throw new $;let D;this.extendedMode?D=fn.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let L=(u[1]+u[0])/2,U=w+E/2;return new Ye(D,null,0,[new De(L,s),new De(U,s)],Ee.CODE_39,new Date().getTime())}static findAsteriskPattern(s,i){let a=s.getSize(),c=s.getNextSet(0),u=0,f=c,p=!1,y=i.length;for(let w=c;w<a;w++)if(s.get(w)!==p)i[u]++;else{if(u===y-1){if(this.toNarrowWidePattern(i)===fn.ASTERISK_ENCODING&&s.isRange(Math.max(0,f-Math.floor((w-f)/2)),f,!1))return[f,w];f+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,p=!p}throw new $}static toNarrowWidePattern(s){let i=s.length,a=0,c;do{let u=2147483647;for(let y of s)y<u&&y>a&&(u=y);a=u,c=0;let f=0,p=0;for(let y=0;y<i;y++){let w=s[y];w>a&&(p|=1<<i-1-y,c++,f+=w)}if(c===3){for(let y=0;y<i&&c>0;y++){let w=s[y];if(w>a&&(c--,w*2>=f))return-1}return p}}while(c>3);return-1}static patternToChar(s){for(let i=0;i<fn.CHARACTER_ENCODINGS.length;i++)if(fn.CHARACTER_ENCODINGS[i]===s)return fn.ALPHABET_STRING.charAt(i);if(s===fn.ASTERISK_ENCODING)return"*";throw new $}static decodeExtended(s){let i=s.length,a="";for(let c=0;c<i;c++){let u=s.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=s.charAt(c+1),p="\0";switch(u){case"+":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)+32);else throw new B;break;case"$":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)-64);else throw new B;break;case"%":if(f>="A"&&f<="E")p=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")p=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")p=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")p="\0";else if(f==="V")p="@";else if(f==="W")p="`";else if(f==="X"||f==="Y"||f==="Z")p="";else throw new B;break;case"/":if(f>="A"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")p=":";else throw new B;break}a+=p,c++}else a+=u}return a}}fn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",fn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],fn.ASTERISK_ENCODING=148;class Tt extends Zt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,i,a){let c=this.decodeStart(i),u=this.decodeEnd(i),f=new ie;Tt.decodeMiddle(i,c[1],u[0],f);let p=f.toString(),y=null;a!=null&&(y=a.get(X.ALLOWED_LENGTHS)),y==null&&(y=Tt.DEFAULT_ALLOWED_LENGTHS);let w=p.length,E=!1,T=0;for(let U of y){if(w===U){E=!0;break}U>T&&(T=U)}if(!E&&w>T&&(E=!0),!E)throw new B;const D=[new De(c[1],s),new De(u[0],s)];return new Ye(p,null,0,D,Ee.ITF,new Date().getTime())}static decodeMiddle(s,i,a,c){let u=new Int32Array(10),f=new Int32Array(5),p=new Int32Array(5);for(u.fill(0),f.fill(0),p.fill(0);i<a;){Zt.recordPattern(s,i,u);for(let w=0;w<5;w++){let E=2*w;f[w]=u[E],p[w]=u[E+1]}let y=Tt.decodeDigit(f);c.append(y.toString()),y=this.decodeDigit(p),c.append(y.toString()),u.forEach(function(w){i+=w})}}decodeStart(s){let i=Tt.skipWhiteSpace(s),a=Tt.findGuardPattern(s,i,Tt.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(s,a[0]),a}validateQuietZone(s,i){let a=this.narrowLineWidth*10;a=a<i?a:i;for(let c=i-1;a>0&&c>=0&&!s.get(c);c--)a--;if(a!==0)throw new $}static skipWhiteSpace(s){const i=s.getSize(),a=s.getNextSet(0);if(a===i)throw new $;return a}decodeEnd(s){s.reverse();try{let i=Tt.skipWhiteSpace(s),a;try{a=Tt.findGuardPattern(s,i,Tt.END_PATTERN_REVERSED[0])}catch(u){u instanceof $&&(a=Tt.findGuardPattern(s,i,Tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,a[0]);let c=a[0];return a[0]=s.getSize()-a[1],a[1]=s.getSize()-c,a}finally{s.reverse()}}static findGuardPattern(s,i,a){let c=a.length,u=new Int32Array(c),f=s.getSize(),p=!1,y=0,w=i;u.fill(0);for(let E=i;E<f;E++)if(s.get(E)!==p)u[y]++;else{if(y===c-1){if(Zt.patternMatchVariance(u,a,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return[w,E];w+=u[0]+u[1],N.arraycopy(u,2,u,0,y-1),u[y-1]=0,u[y]=0,y--}else y++;u[y]=1,p=!p}throw new $}static decodeDigit(s){let i=Tt.MAX_AVG_VARIANCE,a=-1,c=Tt.PATTERNS.length;for(let u=0;u<c;u++){let f=Tt.PATTERNS[u],p=Zt.patternMatchVariance(s,f,Tt.MAX_INDIVIDUAL_VARIANCE);p<i?(i=p,a=u):p===i&&(a=-1)}if(a>=0)return a%10;throw new $}}Tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Tt.MAX_AVG_VARIANCE=.38,Tt.MAX_INDIVIDUAL_VARIANCE=.5,Tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Tt.START_PATTERN=Int32Array.from([1,1,1,1]),Tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Kt extends Zt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let i=!1,a,c=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),a=Kt.findGuardPattern(s,c,!1,this.START_END_PATTERN,u);let f=a[0];c=a[1];let p=f-(c-f);p>=0&&(i=s.isRange(p,f,!1))}return a}static checkChecksum(s){return Kt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let i=s.length;if(i===0)return!1;let a=parseInt(s.charAt(i-1),10);return Kt.getStandardUPCEANChecksum(s.substring(0,i-1))===a}static getStandardUPCEANChecksum(s){let i=s.length,a=0;for(let c=i-1;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;a+=u}a*=3;for(let c=i-2;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;a+=u}return(1e3-a)%10}static decodeEnd(s,i){return Kt.findGuardPattern(s,i,!1,Kt.START_END_PATTERN,new Int32Array(Kt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,i,a,c){return this.findGuardPattern(s,i,a,c,new Int32Array(c.length))}static findGuardPattern(s,i,a,c,u){let f=s.getSize();i=a?s.getNextUnset(i):s.getNextSet(i);let p=0,y=i,w=c.length,E=a;for(let T=i;T<f;T++)if(s.get(T)!==E)u[p]++;else{if(p===w-1){if(Zt.patternMatchVariance(u,c,Kt.MAX_INDIVIDUAL_VARIANCE)<Kt.MAX_AVG_VARIANCE)return Int32Array.from([y,T]);y+=u[0]+u[1];let D=u.slice(2,u.length-1);for(let L=0;L<p-1;L++)u[L]=D[L];u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,E=!E}throw new $}static decodeDigit(s,i,a,c){this.recordPattern(s,a,i);let u=this.MAX_AVG_VARIANCE,f=-1,p=c.length;for(let y=0;y<p;y++){let w=c[y],E=Zt.patternMatchVariance(i,w,Kt.MAX_INDIVIDUAL_VARIANCE);E<u&&(u=E,f=y)}if(f>=0)return f;throw new $}}Kt.MAX_AVG_VARIANCE=.48,Kt.MAX_INDIVIDUAL_VARIANCE=.7,Kt.START_END_PATTERN=Int32Array.from([1,1,1]),Kt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Kt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class _i{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,i,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,a,c),f=c.toString(),p=_i.parseExtensionString(f),y=[new De((a[0]+a[1])/2,s),new De(u,s)],w=new Ye(f,null,0,y,Ee.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&w.putAllMetadata(p),w}decodeMiddle(s,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f=i[1],p=0;for(let w=0;w<5&&f<u;w++){let E=Kt.decodeDigit(s,c,f,Kt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+E%10);for(let T of c)f+=T;E>=10&&(p|=1<<4-w),w!==4&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(a.length!==5)throw new $;let y=this.determineCheckDigit(p);if(_i.extensionChecksum(a.toString())!==y)throw new $;return f}static extensionChecksum(s){let i=s.length,a=0;for(let c=i-2;c>=0;c-=2)a+=s.charAt(c).charCodeAt(0)-48;a*=3;for(let c=i-1;c>=0;c-=2)a+=s.charAt(c).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(s){for(let i=0;i<10;i++)if(s===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new $}static parseExtensionString(s){if(s.length!==5)return null;let i=_i.parseExtension5String(s);return i==null?null:new Map([[We.SUGGESTED_PRICE,i]])}static parseExtension5String(s){let i;switch(s.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let a=parseInt(s.substring(1)),c=(a/100).toString(),u=a%100,f=u<10?"0"+u:u.toString();return i+c+"."+f}}class Kh{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,i,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,a,c),f=c.toString(),p=Kh.parseExtensionString(f),y=[new De((a[0]+a[1])/2,s),new De(u,s)],w=new Ye(f,null,0,y,Ee.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&w.putAllMetadata(p),w}decodeMiddle(s,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f=i[1],p=0;for(let y=0;y<2&&f<u;y++){let w=Kt.decodeDigit(s,c,f,Kt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+w%10);for(let E of c)f+=E;w>=10&&(p|=1<<1-y),y!==1&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(a.length!==2)throw new $;if(parseInt(a.toString())%4!==p)throw new $;return f}static parseExtensionString(s){return s.length!==2?null:new Map([[We.ISSUE_NUMBER,parseInt(s)]])}}class hx{static decodeRow(s,i,a){let c=Kt.findGuardPattern(i,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new _i().decodeRow(s,i,c)}catch{return new Kh().decodeRow(s,i,c)}}}hx.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class St extends Kt{constructor(){super(),this.decodeRowStringBuffer="",St.L_AND_G_PATTERNS=St.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let i=St.L_PATTERNS[s-10],a=new Int32Array(i.length);for(let c=0;c<i.length;c++)a[c]=i[i.length-c-1];St.L_AND_G_PATTERNS[s]=a}}decodeRow(s,i,a){let c=St.findStartGuardPattern(i),u=a==null?null:a.get(X.NEED_RESULT_POINT_CALLBACK);if(u!=null){const de=new De((c[0]+c[1])/2,s);u.foundPossibleResultPoint(de)}let f=this.decodeMiddle(i,c,this.decodeRowStringBuffer),p=f.rowOffset,y=f.resultString;if(u!=null){const de=new De(p,s);u.foundPossibleResultPoint(de)}let w=this.decodeEnd(i,p);if(u!=null){const de=new De((w[0]+w[1])/2,s);u.foundPossibleResultPoint(de)}let E=w[1],T=E+(E-w[0]);if(T>=i.getSize()||!i.isRange(E,T,!1))throw new $;let D=y.toString();if(D.length<8)throw new B;if(!St.checkChecksum(D))throw new R;let L=(c[1]+c[0])/2,U=(w[1]+w[0])/2,H=this.getBarcodeFormat(),q=[new De(L,s),new De(U,s)],te=new Ye(D,null,0,q,H,new Date().getTime()),pe=0;try{let de=hx.decodeRow(s,i,w[1]);te.putMetadata(We.UPC_EAN_EXTENSION,de.getText()),te.putAllMetadata(de.getResultMetadata()),te.addResultPoints(de.getResultPoints()),pe=de.getText().length}catch{}let ge=a==null?null:a.get(X.ALLOWED_EAN_EXTENSIONS);if(ge!=null){let de=!1;for(let mt in ge)if(pe.toString()===mt){de=!0;break}if(!de)throw new $}return te}decodeEnd(s,i){return St.findGuardPattern(s,i,!1,St.START_END_PATTERN,new Int32Array(St.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return St.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let i=s.length;if(i===0)return!1;let a=parseInt(s.charAt(i-1),10);return St.getStandardUPCEANChecksum(s.substring(0,i-1))===a}static getStandardUPCEANChecksum(s){let i=s.length,a=0;for(let c=i-1;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;a+=u}a*=3;for(let c=i-2;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;a+=u}return(1e3-a)%10}}class Io extends St{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f=i[1],p=0;for(let w=0;w<6&&f<u;w++){let E=St.decodeDigit(s,c,f,St.L_AND_G_PATTERNS);a+=String.fromCharCode(48+E%10);for(let T of c)f+=T;E>=10&&(p|=1<<5-w)}a=Io.determineFirstDigit(a,p),f=St.findGuardPattern(s,f,!0,St.MIDDLE_PATTERN,new Int32Array(St.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&f<u;w++){let E=St.decodeDigit(s,c,f,St.L_PATTERNS);a+=String.fromCharCode(48+E);for(let T of c)f+=T}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return Ee.EAN_13}static determineFirstDigit(s,i){for(let a=0;a<10;a++)if(i===this.FIRST_DIGIT_ENCODINGS[a])return s=String.fromCharCode(48+a)+s,s;throw new $}}Io.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class mx extends St{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,i,a){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f=i[1];for(let y=0;y<4&&f<u;y++){let w=St.decodeDigit(s,c,f,St.L_PATTERNS);a+=String.fromCharCode(48+w);for(let E of c)f+=E}f=St.findGuardPattern(s,f,!0,St.MIDDLE_PATTERN,new Int32Array(St.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<u;y++){let w=St.decodeDigit(s,c,f,St.L_PATTERNS);a+=String.fromCharCode(48+w);for(let E of c)f+=E}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return Ee.EAN_8}}class px extends St{constructor(){super(...arguments),this.ean13Reader=new Io}getBarcodeFormat(){return Ee.UPC_A}decode(s,i){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,i,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,i,a))}decodeMiddle(s,i,a){return this.ean13Reader.decodeMiddle(s,i,a)}maybeReturnResult(s){let i=s.getText();if(i.charAt(0)==="0"){let a=new Ye(i.substring(1),null,null,s.getResultPoints(),Ee.UPC_A);return s.getResultMetadata()!=null&&a.putAllMetadata(s.getResultMetadata()),a}else throw new $}reset(){this.ean13Reader.reset()}}class ls extends St{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,i,a){const c=this.decodeMiddleCounters.map(w=>w);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=s.getSize();let f=i[1],p=0;for(let w=0;w<6&&f<u;w++){const E=ls.decodeDigit(s,c,f,ls.L_AND_G_PATTERNS);a+=String.fromCharCode(48+E%10);for(let T of c)f+=T;E>=10&&(p|=1<<5-w)}let y=ls.determineNumSysAndCheckDigit(a,p);return{rowOffset:f,resultString:y}}decodeEnd(s,i){return ls.findGuardPatternWithoutCounters(s,i,!0,ls.MIDDLE_END_PATTERN)}checkChecksum(s){return St.checkChecksum(ls.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,i){for(let a=0;a<=1;a++)for(let c=0;c<10;c++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][c]){let u=String.fromCharCode(48+a),f=String.fromCharCode(48+c);return u+s+f}throw $.getNotFoundInstance()}getBarcodeFormat(){return Ee.UPC_E}static convertUPCEtoUPCA(s){const i=s.slice(1,7).split("").map(u=>u.charCodeAt(0)),a=new ie;a.append(s.charAt(0));let c=i[5];switch(c){case 0:case 1:case 2:a.appendChars(i,0,2),a.append(c),a.append("0000"),a.appendChars(i,2,3);break;case 3:a.appendChars(i,0,3),a.append("00000"),a.appendChars(i,3,2);break;case 4:a.appendChars(i,0,4),a.append("00000"),a.append(i[4]);break;default:a.appendChars(i,0,5),a.append("0000"),a.append(c);break}return s.length>=8&&a.append(s.charAt(7)),a.toString()}}ls.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ls.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class qh extends Zt{constructor(s){super();let i=s==null?null:s.get(X.POSSIBLE_FORMATS),a=[];r(i)?(a.push(new Io),a.push(new px),a.push(new mx),a.push(new ls)):(i.indexOf(Ee.EAN_13)>-1&&a.push(new Io),i.indexOf(Ee.UPC_A)>-1&&a.push(new px),i.indexOf(Ee.EAN_8)>-1&&a.push(new mx),i.indexOf(Ee.UPC_E)>-1&&a.push(new ls)),this.readers=a}decodeRow(s,i,a){for(let c of this.readers)try{const u=c.decodeRow(s,i,a),f=u.getBarcodeFormat()===Ee.EAN_13&&u.getText().charAt(0)==="0",p=a==null?null:a.get(X.POSSIBLE_FORMATS),y=p==null||p.includes(Ee.UPC_A);if(f&&y){const w=u.getRawBytes(),E=new Ye(u.getText().substring(1),w,w?w.length:null,u.getResultPoints(),Ee.UPC_A);return E.putAllMetadata(u.getResultMetadata()),E}return u}catch{}throw new $}reset(){for(let s of this.readers)s.reset()}}class $n extends Zt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,i){for(let a=0;a<i.length;a++)if(Zt.patternMatchVariance(s,i[a],$n.MAX_INDIVIDUAL_VARIANCE)<$n.MAX_AVG_VARIANCE)return a;throw new $}static count(s){return st.sum(new Int32Array(s))}static increment(s,i){let a=0,c=i[0];for(let u=1;u<s.length;u++)i[u]>c&&(c=i[u],a=u);s[a]++}static decrement(s,i){let a=0,c=i[0];for(let u=1;u<s.length;u++)i[u]<c&&(c=i[u],a=u);s[a]--}static isFinderPattern(s){let i=s[0]+s[1],a=i+s[2]+s[3],c=i/a;if(c>=$n.MIN_FINDER_PATTERN_RATIO&&c<=$n.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let p of s)p>f&&(f=p),p<u&&(u=p);return f<10*u}return!1}}$n.MAX_AVG_VARIANCE=.2,$n.MAX_INDIVIDUAL_VARIANCE=.45,$n.MIN_FINDER_PATTERN_RATIO=9.5/12,$n.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ca{constructor(s,i){this.value=s,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Ca))return!1;const i=s;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class $u{constructor(s,i,a,c,u){this.value=s,this.startEnd=i,this.value=s,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new De(a,u)),this.resultPoints.push(new De(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof $u))return!1;const i=s;return this.value===i.value}hashCode(){return this.value}}class Ts{constructor(){}static getRSSvalue(s,i,a){let c=0;for(let y of s)c+=y;let u=0,f=0,p=s.length;for(let y=0;y<p-1;y++){let w;for(w=1,f|=1<<y;w<s[y];w++,f&=~(1<<y)){let E=Ts.combins(c-w-1,p-y-2);if(a&&f===0&&c-w-(p-y-1)>=p-y-1&&(E-=Ts.combins(c-w-(p-y),p-y-2)),p-y-1>1){let T=0;for(let D=c-w-(p-y-2);D>i;D--)T+=Ts.combins(c-w-D-1,p-y-3);E-=T*(p-1-y)}else c-w>i&&E--;u+=E}c-=w}return u}static combins(s,i){let a,c;s-i>i?(c=i,a=s-i):(c=s-i,a=i);let u=1,f=1;for(let p=s;p>a;p--)u*=p,f<=c&&(u/=f,f++);for(;f<=c;)u/=f,f++;return u}}class e6{static buildBitArray(s){let i=s.length*2-1;s[s.length-1].getRightChar()==null&&(i-=1);let a=12*i,c=new M(a),u=0,p=s[0].getRightChar().getValue();for(let y=11;y>=0;--y)p&1<<y&&c.set(u),u++;for(let y=1;y<s.length;++y){let w=s[y],E=w.getLeftChar().getValue();for(let T=11;T>=0;--T)E&1<<T&&c.set(u),u++;if(w.getRightChar()!=null){let T=w.getRightChar().getValue();for(let D=11;D>=0;--D)T&1<<D&&c.set(u),u++}}return c}}class Ro{constructor(s,i){i?this.decodedInformation=null:(this.finished=s,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Yh{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class gr extends Yh{constructor(s,i){super(s),this.value=i}getValue(){return this.value}isFNC1(){return this.value===gr.FNC1}}gr.FNC1="$";class Oo extends Yh{constructor(s,i,a){super(s),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class $r extends Yh{constructor(s,i,a){if(super(s),i<0||i>10||a<0||a>10)throw new B;this.firstDigit=i,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===$r.FNC1}isSecondDigitFNC1(){return this.secondDigit===$r.FNC1}isAnyFNC1(){return this.firstDigit===$r.FNC1||this.secondDigit===$r.FNC1}}$r.FNC1=10;class Re{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new $;let i=s.substring(0,2);for(let u of Re.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Re.VARIABLE_LENGTH?Re.processVariableAI(2,u[2],s):Re.processFixedAI(2,u[1],s);if(s.length<3)throw new $;let a=s.substring(0,3);for(let u of Re.THREE_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===Re.VARIABLE_LENGTH?Re.processVariableAI(3,u[2],s):Re.processFixedAI(3,u[1],s);for(let u of Re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===Re.VARIABLE_LENGTH?Re.processVariableAI(4,u[2],s):Re.processFixedAI(4,u[1],s);if(s.length<4)throw new $;let c=s.substring(0,4);for(let u of Re.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===Re.VARIABLE_LENGTH?Re.processVariableAI(4,u[2],s):Re.processFixedAI(4,u[1],s);throw new $}static processFixedAI(s,i,a){if(a.length<s)throw new $;let c=a.substring(0,s);if(a.length<s+i)throw new $;let u=a.substring(s,s+i),f=a.substring(s+i),p="("+c+")"+u,y=Re.parseFieldsInGeneralPurpose(f);return y==null?p:p+y}static processVariableAI(s,i,a){let c=a.substring(0,s),u;a.length<s+i?u=a.length:u=s+i;let f=a.substring(s,u),p=a.substring(u),y="("+c+")"+f,w=Re.parseFieldsInGeneralPurpose(p);return w==null?y:y+w}}Re.VARIABLE_LENGTH=[],Re.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Re.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Re.VARIABLE_LENGTH,20],["22",Re.VARIABLE_LENGTH,29],["30",Re.VARIABLE_LENGTH,8],["37",Re.VARIABLE_LENGTH,8],["90",Re.VARIABLE_LENGTH,30],["91",Re.VARIABLE_LENGTH,30],["92",Re.VARIABLE_LENGTH,30],["93",Re.VARIABLE_LENGTH,30],["94",Re.VARIABLE_LENGTH,30],["95",Re.VARIABLE_LENGTH,30],["96",Re.VARIABLE_LENGTH,30],["97",Re.VARIABLE_LENGTH,3],["98",Re.VARIABLE_LENGTH,30],["99",Re.VARIABLE_LENGTH,30]],Re.THREE_DIGIT_DATA_LENGTH=[["240",Re.VARIABLE_LENGTH,30],["241",Re.VARIABLE_LENGTH,30],["242",Re.VARIABLE_LENGTH,6],["250",Re.VARIABLE_LENGTH,30],["251",Re.VARIABLE_LENGTH,30],["253",Re.VARIABLE_LENGTH,17],["254",Re.VARIABLE_LENGTH,20],["400",Re.VARIABLE_LENGTH,30],["401",Re.VARIABLE_LENGTH,30],["402",17],["403",Re.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Re.VARIABLE_LENGTH,20],["421",Re.VARIABLE_LENGTH,15],["422",3],["423",Re.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Re.VARIABLE_LENGTH,15],["391",Re.VARIABLE_LENGTH,18],["392",Re.VARIABLE_LENGTH,15],["393",Re.VARIABLE_LENGTH,18],["703",Re.VARIABLE_LENGTH,30]],Re.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Re.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Re.VARIABLE_LENGTH,20],["8003",Re.VARIABLE_LENGTH,30],["8004",Re.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Re.VARIABLE_LENGTH,30],["8008",Re.VARIABLE_LENGTH,12],["8018",18],["8020",Re.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Re.VARIABLE_LENGTH,70],["8200",Re.VARIABLE_LENGTH,70]];class ba{constructor(s){this.buffer=new ie,this.information=s}decodeAllCodes(s,i){let a=i,c=null;do{let u=this.decodeGeneralPurposeField(a,c),f=Re.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&s.append(f),u.isRemaining()?c=""+u.getRemainingValue():c=null,a===u.getNewPosition())break;a=u.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let i=s;i<s+3;++i)if(this.information.get(i))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(s,4);return u===0?new $r(this.information.getSize(),$r.FNC1,$r.FNC1):new $r(this.information.getSize(),u-1,$r.FNC1)}let i=this.extractNumericValueFromBitArray(s,7),a=(i-8)/11,c=(i-8)%11;return new $r(s+7,a,c)}extractNumericValueFromBitArray(s,i){return ba.extractNumericValueFromBitArray(this.information,s,i)}static extractNumericValueFromBitArray(s,i,a){let c=0;for(let u=0;u<a;++u)s.get(i+u)&&(c|=1<<a-u-1);return c}decodeGeneralPurposeField(s,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(s);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Oo(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Oo(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,i;do{let a=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),s=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),s=i.isFinished()):(i=this.parseNumericBlock(),s=i.isFinished()),!(a!==this.current.getPosition())&&!s)break}while(!s);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let i;return s.isSecondDigitFNC1()?i=new Oo(this.current.getPosition(),this.buffer.toString()):i=new Oo(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Ro(!0,i)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let i=new Oo(this.current.getPosition(),this.buffer.toString());return new Ro(!0,i)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ro(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let i=new Oo(this.current.getPosition(),this.buffer.toString());return new Ro(!0,i)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ro(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let i=new Oo(this.current.getPosition(),this.buffer.toString());return new Ro(!0,i)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ro(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(s,5);if(i>=5&&i<16)return!0;if(s+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,7);if(a>=64&&a<116)return!0;if(s+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,8);return c>=232&&c<253}decodeIsoIec646(s){let i=this.extractNumericValueFromBitArray(s,5);if(i===15)return new gr(s+5,gr.FNC1);if(i>=5&&i<15)return new gr(s+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(s,7);if(a>=64&&a<90)return new gr(s+7,""+(a+1));if(a>=90&&a<116)return new gr(s+7,""+(a+7));let c=this.extractNumericValueFromBitArray(s,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new B}return new gr(s+8,u)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(s,5);if(i>=5&&i<16)return!0;if(s+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,6);return a>=16&&a<63}decodeAlphanumeric(s){let i=this.extractNumericValueFromBitArray(s,5);if(i===15)return new gr(s+5,gr.FNC1);if(i>=5&&i<15)return new gr(s+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(s,6);if(a>=32&&a<58)return new gr(s+6,""+(a+33));let c;switch(a){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new In("Decoding invalid alphanumeric value: "+a)}return new gr(s+6,c)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let i=0;i<5&&i+s<this.information.getSize();++i)if(i===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+i))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let i=s;i<s+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let i=0;i<4&&i+s<this.information.getSize();++i)if(this.information.get(s+i))return!1;return!0}}class Qh{constructor(s){this.information=s,this.generalDecoder=new ba(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class xr extends Qh{constructor(s){super(s)}encodeCompressedGtin(s,i){s.append("(01)");let a=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,i,a)}encodeCompressedGtinWithoutAI(s,i,a){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*c,10);u/100===0&&s.append("0"),u/10===0&&s.append("0"),s.append(u)}xr.appendCheckDigit(s,a)}static appendCheckDigit(s,i){let a=0;for(let c=0;c<13;c++){let u=s.charAt(c+i).charCodeAt(0)-48;a+=c&1?u:3*u}a=10-a%10,a===10&&(a=0),s.append(a)}}xr.GTIN_SIZE=40;class Ea extends xr{constructor(s){super(s)}parseInformation(){let s=new ie;s.append("(01)");let i=s.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Ea.HEADER_SIZE,4);return s.append(a),this.encodeCompressedGtinWithoutAI(s,Ea.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(s,Ea.HEADER_SIZE+44)}}Ea.HEADER_SIZE=4;class Xu extends Qh{constructor(s){super(s)}parseInformation(){let s=new ie;return this.getGeneralDecoder().decodeAllCodes(s,Xu.HEADER_SIZE)}}Xu.HEADER_SIZE=5;class Zu extends xr{constructor(s){super(s)}encodeCompressedWeight(s,i,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i,a);this.addWeightCode(s,c);let u=this.checkWeight(c),f=1e5;for(let p=0;p<5;++p)u/f===0&&s.append("0"),f/=10;s.append(u)}}class Is extends Zu{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Is.HEADER_SIZE+Zu.GTIN_SIZE+Is.WEIGHT_SIZE)throw new $;let s=new ie;return this.encodeCompressedGtin(s,Is.HEADER_SIZE),this.encodeCompressedWeight(s,Is.HEADER_SIZE+Zu.GTIN_SIZE,Is.WEIGHT_SIZE),s.toString()}}Is.HEADER_SIZE=5,Is.WEIGHT_SIZE=15;class t6 extends Is{constructor(s){super(s)}addWeightCode(s,i){s.append("(3103)")}checkWeight(s){return s}}class n6 extends Is{constructor(s){super(s)}addWeightCode(s,i){i<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Rs extends xr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Rs.HEADER_SIZE+xr.GTIN_SIZE)throw new $;let s=new ie;this.encodeCompressedGtin(s,Rs.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Rs.HEADER_SIZE+xr.GTIN_SIZE,Rs.LAST_DIGIT_SIZE);s.append("(392"),s.append(i),s.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Rs.HEADER_SIZE+xr.GTIN_SIZE+Rs.LAST_DIGIT_SIZE,null);return s.append(a.getNewString()),s.toString()}}Rs.HEADER_SIZE=8,Rs.LAST_DIGIT_SIZE=2;class nr extends xr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<nr.HEADER_SIZE+xr.GTIN_SIZE)throw new $;let s=new ie;this.encodeCompressedGtin(s,nr.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(nr.HEADER_SIZE+xr.GTIN_SIZE,nr.LAST_DIGIT_SIZE);s.append("(393"),s.append(i),s.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(nr.HEADER_SIZE+xr.GTIN_SIZE+nr.LAST_DIGIT_SIZE,nr.FIRST_THREE_DIGITS_SIZE);a/100==0&&s.append("0"),a/10==0&&s.append("0"),s.append(a);let c=this.getGeneralDecoder().decodeGeneralPurposeField(nr.HEADER_SIZE+xr.GTIN_SIZE+nr.LAST_DIGIT_SIZE+nr.FIRST_THREE_DIGITS_SIZE,null);return s.append(c.getNewString()),s.toString()}}nr.HEADER_SIZE=8,nr.LAST_DIGIT_SIZE=2,nr.FIRST_THREE_DIGITS_SIZE=10;class qt extends Zu{constructor(s,i,a){super(s),this.dateCode=a,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=qt.HEADER_SIZE+qt.GTIN_SIZE+qt.WEIGHT_SIZE+qt.DATE_SIZE)throw new $;let s=new ie;return this.encodeCompressedGtin(s,qt.HEADER_SIZE),this.encodeCompressedWeight(s,qt.HEADER_SIZE+qt.GTIN_SIZE,qt.WEIGHT_SIZE),this.encodeCompressedDate(s,qt.HEADER_SIZE+qt.GTIN_SIZE+qt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,i){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,qt.DATE_SIZE);if(a==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let c=a%32;a/=32;let u=a%12+1;a/=12;let f=a;f/10==0&&s.append("0"),s.append(f),u/10==0&&s.append("0"),s.append(u),c/10==0&&s.append("0"),s.append(c)}addWeightCode(s,i){s.append("("),s.append(this.firstAIdigits),s.append(i/1e5),s.append(")")}checkWeight(s){return s%1e5}}qt.HEADER_SIZE=8,qt.WEIGHT_SIZE=20,qt.DATE_SIZE=16;function gx(_){try{if(_.get(1))return new Ea(_);if(!_.get(2))return new Xu(_);switch(ba.extractNumericValueFromBitArray(_,1,4)){case 4:return new t6(_);case 5:return new n6(_)}switch(ba.extractNumericValueFromBitArray(_,1,5)){case 12:return new Rs(_);case 13:return new nr(_)}switch(ba.extractNumericValueFromBitArray(_,1,7)){case 56:return new qt(_,"310","11");case 57:return new qt(_,"320","11");case 58:return new qt(_,"310","13");case 59:return new qt(_,"320","13");case 60:return new qt(_,"310","15");case 61:return new qt(_,"320","15");case 62:return new qt(_,"310","17");case 63:return new qt(_,"320","17")}}catch(s){throw console.log(s),new In("unknown decoder: "+_)}}class Ti{constructor(s,i,a,c){this.leftchar=s,this.rightchar=i,this.finderpattern=a,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,i){return s instanceof Ti?Ti.equalsOrNull(s.leftchar,i.leftchar)&&Ti.equalsOrNull(s.rightchar,i.rightchar)&&Ti.equalsOrNull(s.finderpattern,i.finderpattern):!1}static equalsOrNull(s,i){return s===null?i===null:Ti.equals(s,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Jh{constructor(s,i,a){this.pairs=s,this.rowNumber=i,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,i){return s instanceof Jh?this.checkEqualitity(s,i)&&s.wasReversed===i.wasReversed:!1}checkEqualitity(s,i){if(!s||!i)return;let a;return s.forEach((c,u)=>{i.forEach(f=>{c.getLeftChar().getValue()===f.getLeftChar().getValue()&&c.getRightChar().getValue()===f.getRightChar().getValue()&&c.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(a=!0)})}),a}}class ae extends $n{constructor(s){super(...arguments),this.pairs=new Array(ae.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,i,a){this.pairs.length=0,this.startFromEven=!1;try{return ae.constructResult(this.decodeRow2pairs(s,i))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,ae.constructResult(this.decodeRow2pairs(s,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,i){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,s))}catch(u){if(u instanceof $){if(!this.pairs.length)throw new $;a=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(s,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new $}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return s&&(this.rows=this.rows.reverse()),i}checkRows(s,i){for(let a=i;a<this.rows.length;a++){let c=this.rows[a];this.pairs.length=0;for(let f of s)this.pairs.push(f.getPairs());if(this.pairs.push(c.getPairs()),!ae.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(s);u.push(c);try{return this.checkRows(u,a+1)}catch(f){this.verbose&&console.log(f)}}throw new $}static isValidSequence(s){for(let i of ae.FINDER_PATTERN_SEQUENCES){if(s.length>i.length)continue;let a=!0;for(let c=0;c<s.length;c++)if(s[c].getFinderPattern().getValue()!=i[c]){a=!1;break}if(a)return!0}return!1}storeRow(s,i){let a=0,c=!1,u=!1;for(;a<this.rows.length;){let f=this.rows[a];if(f.getRowNumber()>s){u=f.isEquivalent(this.pairs);break}c=f.isEquivalent(this.pairs),a++}u||c||ae.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Jh(this.pairs,s,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,i){for(let a of i)if(a.getPairs().length!==s.length){for(let c of a.getPairs())for(let u of s)if(Ti.equals(c,u))break}}static isPartialRow(s,i){for(let a of i){let c=!0;for(let u of s){let f=!1;for(let p of a.getPairs())if(u.equals(p)){f=!0;break}if(!f){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(s){let i=e6.buildBitArray(s),c=gx(i).parseInformation(),u=s[0].getFinderPattern().getResultPoints(),f=s[s.length-1].getFinderPattern().getResultPoints(),p=[u[0],u[1],f[0],f[1]];return new Ye(c,null,null,p,Ee.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),i=s.getLeftChar(),a=s.getRightChar();if(a==null)return!1;let c=a.getChecksumPortion(),u=2;for(let p=1;p<this.pairs.size();++p){let y=this.pairs.get(p);c+=y.getLeftChar().getChecksumPortion(),u++;let w=y.getRightChar();w!=null&&(c+=w.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==i.getValue()}static getNextSecondBar(s,i){let a;return s.get(i)?(a=s.getNextUnset(i),a=s.getNextSet(a)):(a=s.getNextSet(i),a=s.getNextUnset(a)),a}retrieveNextPair(s,i,a){let c=i.length%2==0;this.startFromEven&&(c=!c);let u,f=!0,p=-1;do this.findNextPair(s,i,p),u=this.parseFoundFinderPattern(s,a,c),u==null?p=ae.getNextSecondBar(s,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(s,u,c,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new $;let w;try{w=this.decodeDataCharacter(s,u,c,!1)}catch(E){w=null,this.verbose&&console.log(E)}return new Ti(y,w,u,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,i,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f;a>=0?f=a:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let p=i.length%2!=0;this.startFromEven&&(p=!p);let y=!1;for(;f<u&&(y=!s.get(f),!!y);)f++;let w=0,E=f;for(let T=f;T<u;T++)if(s.get(T)!=y)c[w]++;else{if(w==3){if(p&&ae.reverseCounters(c),ae.isFinderPattern(c)){this.startEnd[0]=E,this.startEnd[1]=T;return}p&&ae.reverseCounters(c),E+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,w--}else w++;c[w]=1,y=!y}throw new $}static reverseCounters(s){let i=s.length;for(let a=0;a<i/2;++a){let c=s[a];s[a]=s[i-a-1],s[i-a-1]=c}}parseFoundFinderPattern(s,i,a){let c,u,f;if(a){let w=this.startEnd[0]-1;for(;w>=0&&!s.get(w);)w--;w++,c=this.startEnd[0]-w,u=w,f=this.startEnd[1]}else u=this.startEnd[0],f=s.getNextUnset(this.startEnd[1]+1),c=f-this.startEnd[1];let p=this.getDecodeFinderCounters();N.arraycopy(p,0,p,1,p.length-1),p[0]=c;let y;try{y=this.parseFinderValue(p,ae.FINDER_PATTERNS)}catch{return null}return new $u(y,[u,f],u,f,i)}decodeDataCharacter(s,i,a,c){let u=this.getDataCharacterCounters();for(let Bt=0;Bt<u.length;Bt++)u[Bt]=0;if(c)ae.recordPatternInReverse(s,i.getStartEnd()[0],u);else{ae.recordPattern(s,i.getStartEnd()[1],u);for(let Bt=0,Fn=u.length-1;Bt<Fn;Bt++,Fn--){let Or=u[Bt];u[Bt]=u[Fn],u[Fn]=Or}}let f=17,p=st.sum(new Int32Array(u))/f,y=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(p-y)/y>.3)throw new $;let w=this.getOddCounts(),E=this.getEvenCounts(),T=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let Bt=0;Bt<u.length;Bt++){let Fn=1*u[Bt]/p,Or=Fn+.5;if(Or<1){if(Fn<.3)throw new $;Or=1}else if(Or>8){if(Fn>8.7)throw new $;Or=8}let Ta=Bt/2;Bt&1?(E[Ta]=Or,D[Ta]=Fn-Or):(w[Ta]=Or,T[Ta]=Fn-Or)}this.adjustOddEvenCounts(f);let L=4*i.getValue()+(a?0:2)+(c?0:1)-1,U=0,H=0;for(let Bt=w.length-1;Bt>=0;Bt--){if(ae.isNotA1left(i,a,c)){let Fn=ae.WEIGHTS[L][2*Bt];H+=w[Bt]*Fn}U+=w[Bt]}let q=0;for(let Bt=E.length-1;Bt>=0;Bt--)if(ae.isNotA1left(i,a,c)){let Fn=ae.WEIGHTS[L][2*Bt+1];q+=E[Bt]*Fn}let te=H+q;if(U&1||U>13||U<4)throw new $;let pe=(13-U)/2,ge=ae.SYMBOL_WIDEST[pe],de=9-ge,mt=Ts.getRSSvalue(w,ge,!0),Je=Ts.getRSSvalue(E,de,!1),vr=ae.EVEN_TOTAL_SUBSET[pe],cs=ae.GSUM[pe],wr=mt*vr+Je+cs;return new Ca(wr,te)}static isNotA1left(s,i,a){return!(s.getValue()==0&&i&&a)}adjustOddEvenCounts(s){let i=st.sum(new Int32Array(this.getOddCounts())),a=st.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;i>13?u=!0:i<4&&(c=!0);let f=!1,p=!1;a>13?p=!0:a<4&&(f=!0);let y=i+a-s,w=(i&1)==1,E=(a&1)==0;if(y==1)if(w){if(E)throw new $;u=!0}else{if(!E)throw new $;p=!0}else if(y==-1)if(w){if(E)throw new $;c=!0}else{if(!E)throw new $;f=!0}else if(y==0){if(w){if(!E)throw new $;i<a?(c=!0,p=!0):(u=!0,f=!0)}else if(E)throw new $}else throw new $;if(c){if(u)throw new $;ae.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ae.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new $;ae.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&ae.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ae.SYMBOL_WIDEST=[7,5,4,3,1],ae.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ae.GSUM=[0,348,1388,2948,3988],ae.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ae.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ae.FINDER_PAT_A=0,ae.FINDER_PAT_B=1,ae.FINDER_PAT_C=2,ae.FINDER_PAT_D=3,ae.FINDER_PAT_E=4,ae.FINDER_PAT_F=5,ae.FINDER_PATTERN_SEQUENCES=[[ae.FINDER_PAT_A,ae.FINDER_PAT_A],[ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B],[ae.FINDER_PAT_A,ae.FINDER_PAT_C,ae.FINDER_PAT_B,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_C],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F]],ae.MAX_PAIRS=11;class r6 extends Ca{constructor(s,i,a){super(s,i),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class on extends $n{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,i,a){const c=this.decodePair(i,!1,s,a);on.addOrTally(this.possibleLeftPairs,c),i.reverse();let u=this.decodePair(i,!0,s,a);on.addOrTally(this.possibleRightPairs,u),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&on.checkChecksum(f,p))return on.constructResult(f,p)}throw new $}static addOrTally(s,i){if(i==null)return;let a=!1;for(let c of s)if(c.getValue()===i.getValue()){c.incrementCount(),a=!0;break}a||s.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,i){let a=4537077*s.getValue()+i.getValue(),c=new String(a).toString(),u=new ie;for(let w=13-c.length;w>0;w--)u.append("0");u.append(c);let f=0;for(let w=0;w<13;w++){let E=u.charAt(w).charCodeAt(0)-48;f+=w&1?E:3*E}f=10-f%10,f===10&&(f=0),u.append(f.toString());let p=s.getFinderPattern().getResultPoints(),y=i.getFinderPattern().getResultPoints();return new Ye(u.toString(),null,0,[p[0],p[1],y[0],y[1]],Ee.RSS_14,new Date().getTime())}static checkChecksum(s,i){let a=(s.getChecksumPortion()+16*i.getChecksumPortion())%79,c=9*s.getFinderPattern().getValue()+i.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,a===c}decodePair(s,i,a,c){try{let u=this.findFinderPattern(s,i),f=this.parseFoundFinderPattern(s,a,i,u),p=c==null?null:c.get(X.NEED_RESULT_POINT_CALLBACK);if(p!=null){let E=(u[0]+u[1])/2;i&&(E=s.getSize()-1-E),p.foundPossibleResultPoint(new De(E,a))}let y=this.decodeDataCharacter(s,f,!0),w=this.decodeDataCharacter(s,f,!1);return new r6(1597*y.getValue()+w.getValue(),y.getChecksumPortion()+4*w.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(s,i,a){let c=this.getDataCharacterCounters();for(let q=0;q<c.length;q++)c[q]=0;if(a)Zt.recordPatternInReverse(s,i.getStartEnd()[0],c);else{Zt.recordPattern(s,i.getStartEnd()[1]+1,c);for(let q=0,te=c.length-1;q<te;q++,te--){let pe=c[q];c[q]=c[te],c[te]=pe}}let u=a?16:15,f=st.sum(new Int32Array(c))/u,p=this.getOddCounts(),y=this.getEvenCounts(),w=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let q=0;q<c.length;q++){let te=c[q]/f,pe=Math.floor(te+.5);pe<1?pe=1:pe>8&&(pe=8);let ge=Math.floor(q/2);q&1?(y[ge]=pe,E[ge]=te-pe):(p[ge]=pe,w[ge]=te-pe)}this.adjustOddEvenCounts(a,u);let T=0,D=0;for(let q=p.length-1;q>=0;q--)D*=9,D+=p[q],T+=p[q];let L=0,U=0;for(let q=y.length-1;q>=0;q--)L*=9,L+=y[q],U+=y[q];let H=D+3*L;if(a){if(T&1||T>12||T<4)throw new $;let q=(12-T)/2,te=on.OUTSIDE_ODD_WIDEST[q],pe=9-te,ge=Ts.getRSSvalue(p,te,!1),de=Ts.getRSSvalue(y,pe,!0),mt=on.OUTSIDE_EVEN_TOTAL_SUBSET[q],Je=on.OUTSIDE_GSUM[q];return new Ca(ge*mt+de+Je,H)}else{if(U&1||U>10||U<4)throw new $;let q=(10-U)/2,te=on.INSIDE_ODD_WIDEST[q],pe=9-te,ge=Ts.getRSSvalue(p,te,!0),de=Ts.getRSSvalue(y,pe,!1),mt=on.INSIDE_ODD_TOTAL_SUBSET[q],Je=on.INSIDE_GSUM[q];return new Ca(de*mt+ge+Je,H)}}findFinderPattern(s,i){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=s.getSize(),u=!1,f=0;for(;f<c&&(u=!s.get(f),i!==u);)f++;let p=0,y=f;for(let w=f;w<c;w++)if(s.get(w)!==u)a[p]++;else{if(p===3){if($n.isFinderPattern(a))return[y,w];y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,u=!u}throw new $}parseFoundFinderPattern(s,i,a,c){let u=s.get(c[0]),f=c[0]-1;for(;f>=0&&u!==s.get(f);)f--;f++;const p=c[0]-f,y=this.getDecodeFinderCounters(),w=new Int32Array(y.length);N.arraycopy(y,0,w,1,y.length-1),w[0]=p;const E=this.parseFinderValue(w,on.FINDER_PATTERNS);let T=f,D=c[1];return a&&(T=s.getSize()-1-T,D=s.getSize()-1-D),new $u(E,[f,c[1]],T,D,i)}adjustOddEvenCounts(s,i){let a=st.sum(new Int32Array(this.getOddCounts())),c=st.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,p=!1,y=!1;s?(a>12?f=!0:a<4&&(u=!0),c>12?y=!0:c<4&&(p=!0)):(a>11?f=!0:a<5&&(u=!0),c>10?y=!0:c<4&&(p=!0));let w=a+c-i,E=(a&1)===(s?1:0),T=(c&1)===1;if(w===1)if(E){if(T)throw new $;f=!0}else{if(!T)throw new $;y=!0}else if(w===-1)if(E){if(T)throw new $;u=!0}else{if(!T)throw new $;p=!0}else if(w===0){if(E){if(!T)throw new $;a<c?(u=!0,y=!0):(f=!0,p=!0)}else if(T)throw new $}else throw new $;if(u){if(f)throw new $;$n.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&$n.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(y)throw new $;$n.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&$n.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}on.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],on.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],on.OUTSIDE_GSUM=[0,161,961,2015,2715],on.INSIDE_GSUM=[0,336,1036,1516],on.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],on.INSIDE_ODD_WIDEST=[2,4,6,8],on.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Sa extends Zt{constructor(s,i){super(),this.readers=[],this.verbose=i===!0;const a=s?s.get(X.POSSIBLE_FORMATS):null,c=s&&s.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(Ee.EAN_13)||a.includes(Ee.UPC_A)||a.includes(Ee.EAN_8)||a.includes(Ee.UPC_E))&&this.readers.push(new qh(s)),a.includes(Ee.CODE_39)&&this.readers.push(new fn(c)),a.includes(Ee.CODE_128)&&this.readers.push(new we),a.includes(Ee.ITF)&&this.readers.push(new Tt),a.includes(Ee.RSS_14)&&this.readers.push(new on),a.includes(Ee.RSS_EXPANDED)&&this.readers.push(new ae(this.verbose))):(this.readers.push(new qh(s)),this.readers.push(new fn),this.readers.push(new qh(s)),this.readers.push(new we),this.readers.push(new Tt),this.readers.push(new on),this.readers.push(new ae(this.verbose)))}decodeRow(s,i,a){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(s,i,a)}catch{}throw new $}reset(){this.readers.forEach(s=>s.reset())}}class s6 extends rt{constructor(s=500,i){super(new Sa(i),s,i)}}class It{constructor(s,i,a){this.ecCodewords=s,this.ecBlocks=[i],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class At{constructor(s,i){this.count=s,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class gt{constructor(s,i,a,c,u,f){this.versionNumber=s,this.symbolSizeRows=i,this.symbolSizeColumns=a,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=f;let p=0;const y=f.getECCodewords(),w=f.getECBlocks();for(let E of w)p+=E.getCount()*(E.getDataCodewords()+y);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,i){if(s&1||i&1)throw new B;for(let a of gt.VERSIONS)if(a.symbolSizeRows===s&&a.symbolSizeColumns===i)return a;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new gt(1,10,10,8,8,new It(5,new At(1,3))),new gt(2,12,12,10,10,new It(7,new At(1,5))),new gt(3,14,14,12,12,new It(10,new At(1,8))),new gt(4,16,16,14,14,new It(12,new At(1,12))),new gt(5,18,18,16,16,new It(14,new At(1,18))),new gt(6,20,20,18,18,new It(18,new At(1,22))),new gt(7,22,22,20,20,new It(20,new At(1,30))),new gt(8,24,24,22,22,new It(24,new At(1,36))),new gt(9,26,26,24,24,new It(28,new At(1,44))),new gt(10,32,32,14,14,new It(36,new At(1,62))),new gt(11,36,36,16,16,new It(42,new At(1,86))),new gt(12,40,40,18,18,new It(48,new At(1,114))),new gt(13,44,44,20,20,new It(56,new At(1,144))),new gt(14,48,48,22,22,new It(68,new At(1,174))),new gt(15,52,52,24,24,new It(42,new At(2,102))),new gt(16,64,64,14,14,new It(56,new At(2,140))),new gt(17,72,72,16,16,new It(36,new At(4,92))),new gt(18,80,80,18,18,new It(48,new At(4,114))),new gt(19,88,88,20,20,new It(56,new At(4,144))),new gt(20,96,96,22,22,new It(68,new At(4,174))),new gt(21,104,104,24,24,new It(56,new At(6,136))),new gt(22,120,120,18,18,new It(68,new At(6,175))),new gt(23,132,132,20,20,new It(62,new At(8,163))),new gt(24,144,144,22,22,new It(62,new At(8,156),new At(2,155))),new gt(25,8,18,6,16,new It(7,new At(1,5))),new gt(26,8,32,6,14,new It(11,new At(1,10))),new gt(27,12,26,10,24,new It(14,new At(1,16))),new gt(28,12,36,10,16,new It(18,new At(1,22))),new gt(29,16,36,14,16,new It(24,new At(1,32))),new gt(30,16,48,14,22,new It(28,new At(1,49)))]}}gt.VERSIONS=gt.buildVersions();class e0{constructor(s){const i=s.getHeight();if(i<8||i>144||i&1)throw new B;this.version=e0.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const i=s.getHeight(),a=s.getWidth();return gt.getVersionForDimensions(i,a)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let i=0,a=4,c=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let p=!1,y=!1,w=!1,E=!1;do if(a===u&&c===0&&!p)s[i++]=this.readCorner1(u,f)&255,a-=2,c+=2,p=!0;else if(a===u-2&&c===0&&f&3&&!y)s[i++]=this.readCorner2(u,f)&255,a-=2,c+=2,y=!0;else if(a===u+4&&c===2&&!(f&7)&&!w)s[i++]=this.readCorner3(u,f)&255,a-=2,c+=2,w=!0;else if(a===u-2&&c===0&&(f&7)===4&&!E)s[i++]=this.readCorner4(u,f)&255,a-=2,c+=2,E=!0;else{do a<u&&c>=0&&!this.readMappingMatrix.get(c,a)&&(s[i++]=this.readUtah(a,c,u,f)&255),a-=2,c+=2;while(a>=0&&c<f);a+=1,c+=3;do a>=0&&c<f&&!this.readMappingMatrix.get(c,a)&&(s[i++]=this.readUtah(a,c,u,f)&255),a+=2,c-=2;while(a<u&&c>=0);a+=3,c+=1}while(a<u||c<f);if(i!==this.version.getTotalCodewords())throw new B;return s}readModule(s,i,a,c){return s<0&&(s+=a,i+=4-(a+4&7)),i<0&&(i+=c,s+=4-(c+4&7)),this.readMappingMatrix.set(i,s),this.mappingBitMatrix.get(i,s)}readUtah(s,i,a,c){let u=0;return this.readModule(s-2,i-2,a,c)&&(u|=1),u<<=1,this.readModule(s-2,i-1,a,c)&&(u|=1),u<<=1,this.readModule(s-1,i-2,a,c)&&(u|=1),u<<=1,this.readModule(s-1,i-1,a,c)&&(u|=1),u<<=1,this.readModule(s-1,i,a,c)&&(u|=1),u<<=1,this.readModule(s,i-2,a,c)&&(u|=1),u<<=1,this.readModule(s,i-1,a,c)&&(u|=1),u<<=1,this.readModule(s,i,a,c)&&(u|=1),u}readCorner1(s,i){let a=0;return this.readModule(s-1,0,s,i)&&(a|=1),a<<=1,this.readModule(s-1,1,s,i)&&(a|=1),a<<=1,this.readModule(s-1,2,s,i)&&(a|=1),a<<=1,this.readModule(0,i-2,s,i)&&(a|=1),a<<=1,this.readModule(0,i-1,s,i)&&(a|=1),a<<=1,this.readModule(1,i-1,s,i)&&(a|=1),a<<=1,this.readModule(2,i-1,s,i)&&(a|=1),a<<=1,this.readModule(3,i-1,s,i)&&(a|=1),a}readCorner2(s,i){let a=0;return this.readModule(s-3,0,s,i)&&(a|=1),a<<=1,this.readModule(s-2,0,s,i)&&(a|=1),a<<=1,this.readModule(s-1,0,s,i)&&(a|=1),a<<=1,this.readModule(0,i-4,s,i)&&(a|=1),a<<=1,this.readModule(0,i-3,s,i)&&(a|=1),a<<=1,this.readModule(0,i-2,s,i)&&(a|=1),a<<=1,this.readModule(0,i-1,s,i)&&(a|=1),a<<=1,this.readModule(1,i-1,s,i)&&(a|=1),a}readCorner3(s,i){let a=0;return this.readModule(s-1,0,s,i)&&(a|=1),a<<=1,this.readModule(s-1,i-1,s,i)&&(a|=1),a<<=1,this.readModule(0,i-3,s,i)&&(a|=1),a<<=1,this.readModule(0,i-2,s,i)&&(a|=1),a<<=1,this.readModule(0,i-1,s,i)&&(a|=1),a<<=1,this.readModule(1,i-3,s,i)&&(a|=1),a<<=1,this.readModule(1,i-2,s,i)&&(a|=1),a<<=1,this.readModule(1,i-1,s,i)&&(a|=1),a}readCorner4(s,i){let a=0;return this.readModule(s-3,0,s,i)&&(a|=1),a<<=1,this.readModule(s-2,0,s,i)&&(a|=1),a<<=1,this.readModule(s-1,0,s,i)&&(a|=1),a<<=1,this.readModule(0,i-2,s,i)&&(a|=1),a<<=1,this.readModule(0,i-1,s,i)&&(a|=1),a<<=1,this.readModule(1,i-1,s,i)&&(a|=1),a<<=1,this.readModule(2,i-1,s,i)&&(a|=1),a<<=1,this.readModule(3,i-1,s,i)&&(a|=1),a}extractDataRegion(s){const i=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(s.getHeight()!==i)throw new C("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=i/c|0,p=a/u|0,y=f*c,w=p*u,E=new se(w,y);for(let T=0;T<f;++T){const D=T*c;for(let L=0;L<p;++L){const U=L*u;for(let H=0;H<c;++H){const q=T*(c+2)+1+H,te=D+H;for(let pe=0;pe<u;++pe){const ge=L*(u+2)+1+pe;if(s.get(ge,q)){const de=U+pe;E.set(de,te)}}}}}return E}}class t0{constructor(s,i){this.numDataCodewords=s,this.codewords=i}static getDataBlocks(s,i){const a=i.getECBlocks();let c=0;const u=a.getECBlocks();for(let H of u)c+=H.getCount();const f=new Array(c);let p=0;for(let H of u)for(let q=0;q<H.getCount();q++){const te=H.getDataCodewords(),pe=a.getECCodewords()+te;f[p++]=new t0(te,new Uint8Array(pe))}const w=f[0].codewords.length-a.getECCodewords(),E=w-1;let T=0;for(let H=0;H<E;H++)for(let q=0;q<p;q++)f[q].codewords[H]=s[T++];const D=i.getVersionNumber()===24,L=D?8:p;for(let H=0;H<L;H++)f[H].codewords[w-1]=s[T++];const U=f[0].codewords.length;for(let H=w;H<U;H++)for(let q=0;q<p;q++){const te=D?(q+8)%p:q,pe=D&&te>7?H-1:H;f[te].codewords[pe]=s[T++]}if(T!==s.length)throw new C;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class n0{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new C(""+s);let i=0,a=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(a>0){const f=8-a,p=s<f?s:f,y=f-p,w=255>>8-p<<y;i=(u[c]&w)>>y,s-=p,a+=p,a===8&&(a=0,c++)}if(s>0){for(;s>=8;)i=i<<8|u[c]&255,c++,s-=8;if(s>0){const f=8-s,p=255>>f<<f;i=i<<s|(u[c]&p)>>f,a+=s}}return this.bitOffset=a,this.byteOffset=c,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Cn;(function(_){_[_.PAD_ENCODE=0]="PAD_ENCODE",_[_.ASCII_ENCODE=1]="ASCII_ENCODE",_[_.C40_ENCODE=2]="C40_ENCODE",_[_.TEXT_ENCODE=3]="TEXT_ENCODE",_[_.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",_[_.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",_[_.BASE256_ENCODE=6]="BASE256_ENCODE"})(Cn||(Cn={}));class Ii{static decode(s){const i=new n0(s),a=new ie,c=new ie,u=new Array;let f=Cn.ASCII_ENCODE;do if(f===Cn.ASCII_ENCODE)f=this.decodeAsciiSegment(i,a,c);else{switch(f){case Cn.C40_ENCODE:this.decodeC40Segment(i,a);break;case Cn.TEXT_ENCODE:this.decodeTextSegment(i,a);break;case Cn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,a);break;case Cn.EDIFACT_ENCODE:this.decodeEdifactSegment(i,a);break;case Cn.BASE256_ENCODE:this.decodeBase256Segment(i,a,u);break;default:throw new B}f=Cn.ASCII_ENCODE}while(f!==Cn.PAD_ENCODE&&i.available()>0);return c.length()>0&&a.append(c.toString()),new ft(s,a.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(s,i,a){let c=!1;do{let u=s.readBits(8);if(u===0)throw new B;if(u<=128)return c&&(u+=128),i.append(String.fromCharCode(u-1)),Cn.ASCII_ENCODE;if(u===129)return Cn.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&i.append("0"),i.append(""+f)}else switch(u){case 230:return Cn.C40_ENCODE;case 231:return Cn.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:i.append("[)>05"),a.insert(0,"");break;case 237:i.append("[)>06"),a.insert(0,"");break;case 238:return Cn.ANSIX12_ENCODE;case 239:return Cn.TEXT_ENCODE;case 240:return Cn.EDIFACT_ENCODE;case 241:break;default:if(u!==254||s.available()!==0)throw new B;break}}while(s.available()>0);return Cn.ASCII_ENCODE}static decodeC40Segment(s,i){let a=!1;const c=[];let u=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let p=0;p<3;p++){const y=c[p];switch(u){case 0:if(y<3)u=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[y];a?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):i.append(w)}else throw new B;break;case 1:a?(i.append(String.fromCharCode(y+128)),a=!1):i.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[y];a?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):i.append(w)}else switch(y){case 27:i.append("");break;case 30:a=!0;break;default:throw new B}u=0;break;case 3:a?(i.append(String.fromCharCode(y+224)),a=!1):i.append(String.fromCharCode(y+96)),u=0;break;default:throw new B}}}while(s.available()>0)}static decodeTextSegment(s,i){let a=!1,c=[],u=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let p=0;p<3;p++){const y=c[p];switch(u){case 0:if(y<3)u=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[y];a?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):i.append(w)}else throw new B;break;case 1:a?(i.append(String.fromCharCode(y+128)),a=!1):i.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[y];a?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):i.append(w)}else switch(y){case 27:i.append("");break;case 30:a=!0;break;default:throw new B}u=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[y];a?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):i.append(w),u=0}else throw new B;break;default:throw new B}}}while(s.available()>0)}static decodeAnsiX12Segment(s,i){const a=[];do{if(s.available()===8)return;const c=s.readBits(8);if(c===254)return;this.parseTwoBytes(c,s.readBits(8),a);for(let u=0;u<3;u++){const f=a[u];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new B;break}}}while(s.available()>0)}static parseTwoBytes(s,i,a){let c=(s<<8)+i-1,u=Math.floor(c/1600);a[0]=u,c-=u*1600,u=Math.floor(c/40),a[1]=u,a[2]=c-u*40}static decodeEdifactSegment(s,i){do{if(s.available()<=16)return;for(let a=0;a<4;a++){let c=s.readBits(6);if(c===31){const u=8-s.getBitOffset();u!==8&&s.readBits(u);return}c&32||(c|=64),i.append(String.fromCharCode(c))}}while(s.available()>0)}static decodeBase256Segment(s,i,a){let c=1+s.getByteOffset();const u=this.unrandomize255State(s.readBits(8),c++);let f;if(u===0?f=s.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(s.readBits(8),c++),f<0)throw new B;const p=new Uint8Array(f);for(let y=0;y<f;y++){if(s.available()<8)throw new B;p[y]=this.unrandomize255State(s.readBits(8),c++)}a.push(p);try{i.append(ye.decode(p,Q.ISO88591))}catch(y){throw new In("Platform does not support required encoding: "+y.message)}}static unrandomize255State(s,i){const a=149*i%255+1,c=s-a;return c>=0?c:c+256}}Ii.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ii.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ii.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ii.TEXT_SHIFT2_SET_CHARS=Ii.C40_SHIFT2_SET_CHARS,Ii.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class i6{constructor(){this.rsDecoder=new pr(Ke.DATA_MATRIX_FIELD_256)}decode(s){const i=new e0(s),a=i.getVersion(),c=i.readCodewords(),u=t0.getDataBlocks(c,a);let f=0;for(let w of u)f+=w.getNumDataCodewords();const p=new Uint8Array(f),y=u.length;for(let w=0;w<y;w++){const E=u[w],T=E.getCodewords(),D=E.getNumDataCodewords();this.correctErrors(T,D);for(let L=0;L<D;L++)p[L*y+w]=T[L]}return Ii.decode(p)}correctErrors(s,i){const a=new Int32Array(s);try{this.rsDecoder.decode(a,s.length-i)}catch{throw new R}for(let c=0;c<i;c++)s[c]=a[c]}}class hn{constructor(s){this.image=s,this.rectangleDetector=new re(this.image)}detect(){const s=this.rectangleDetector.detect();let i=this.detectSolid1(s);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new $;i=this.shiftToModuleCenter(i);const a=i[0],c=i[1],u=i[2],f=i[3];let p=this.transitionsBetween(a,f)+1,y=this.transitionsBetween(u,f)+1;(p&1)===1&&(p+=1),(y&1)===1&&(y+=1),4*p<7*y&&4*y<7*p&&(p=y=Math.max(p,y));let w=hn.sampleGrid(this.image,a,c,u,f,p,y);return new z(w,[a,c,u,f])}static shiftPoint(s,i,a){let c=(i.getX()-s.getX())/(a+1),u=(i.getY()-s.getY())/(a+1);return new De(s.getX()+c,s.getY()+u)}static moveAway(s,i,a){let c=s.getX(),u=s.getY();return c<i?c-=1:c+=1,u<a?u-=1:u+=1,new De(c,u)}detectSolid1(s){let i=s[0],a=s[1],c=s[3],u=s[2],f=this.transitionsBetween(i,a),p=this.transitionsBetween(a,c),y=this.transitionsBetween(c,u),w=this.transitionsBetween(u,i),E=f,T=[u,i,a,c];return E>p&&(E=p,T[0]=i,T[1]=a,T[2]=c,T[3]=u),E>y&&(E=y,T[0]=a,T[1]=c,T[2]=u,T[3]=i),E>w&&(T[0]=c,T[1]=u,T[2]=i,T[3]=a),T}detectSolid2(s){let i=s[0],a=s[1],c=s[2],u=s[3],f=this.transitionsBetween(i,u),p=hn.shiftPoint(a,c,(f+1)*4),y=hn.shiftPoint(c,a,(f+1)*4),w=this.transitionsBetween(p,i),E=this.transitionsBetween(y,u);return w<E?(s[0]=i,s[1]=a,s[2]=c,s[3]=u):(s[0]=a,s[1]=c,s[2]=u,s[3]=i),s}correctTopRight(s){let i=s[0],a=s[1],c=s[2],u=s[3],f=this.transitionsBetween(i,u),p=this.transitionsBetween(a,u),y=hn.shiftPoint(i,a,(p+1)*4),w=hn.shiftPoint(c,a,(f+1)*4);f=this.transitionsBetween(y,u),p=this.transitionsBetween(w,u);let E=new De(u.getX()+(c.getX()-a.getX())/(f+1),u.getY()+(c.getY()-a.getY())/(f+1)),T=new De(u.getX()+(i.getX()-a.getX())/(p+1),u.getY()+(i.getY()-a.getY())/(p+1));if(!this.isValid(E))return this.isValid(T)?T:null;if(!this.isValid(T))return E;let D=this.transitionsBetween(y,E)+this.transitionsBetween(w,E),L=this.transitionsBetween(y,T)+this.transitionsBetween(w,T);return D>L?E:T}shiftToModuleCenter(s){let i=s[0],a=s[1],c=s[2],u=s[3],f=this.transitionsBetween(i,u)+1,p=this.transitionsBetween(c,u)+1,y=hn.shiftPoint(i,a,p*4),w=hn.shiftPoint(c,a,f*4);f=this.transitionsBetween(y,u)+1,p=this.transitionsBetween(w,u)+1,(f&1)===1&&(f+=1),(p&1)===1&&(p+=1);let E=(i.getX()+a.getX()+c.getX()+u.getX())/4,T=(i.getY()+a.getY()+c.getY()+u.getY())/4;i=hn.moveAway(i,E,T),a=hn.moveAway(a,E,T),c=hn.moveAway(c,E,T),u=hn.moveAway(u,E,T);let D,L;return y=hn.shiftPoint(i,a,p*4),y=hn.shiftPoint(y,u,f*4),D=hn.shiftPoint(a,i,p*4),D=hn.shiftPoint(D,c,f*4),w=hn.shiftPoint(c,u,p*4),w=hn.shiftPoint(w,a,f*4),L=hn.shiftPoint(u,c,p*4),L=hn.shiftPoint(L,i,f*4),[y,D,w,L]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,i,a,c,u,f,p){return Ne.getInstance().sampleGrid(s,f,p,.5,.5,f-.5,.5,f-.5,p-.5,.5,p-.5,i.getX(),i.getY(),u.getX(),u.getY(),c.getX(),c.getY(),a.getX(),a.getY())}transitionsBetween(s,i){let a=Math.trunc(s.getX()),c=Math.trunc(s.getY()),u=Math.trunc(i.getX()),f=Math.trunc(i.getY()),p=Math.abs(f-c)>Math.abs(u-a);if(p){let H=a;a=c,c=H,H=u,u=f,f=H}let y=Math.abs(u-a),w=Math.abs(f-c),E=-y/2,T=c<f?1:-1,D=a<u?1:-1,L=0,U=this.image.get(p?c:a,p?a:c);for(let H=a,q=c;H!==u;H+=D){let te=this.image.get(p?q:H,p?H:q);if(te!==U&&(L++,U=te),E+=w,E>0){if(q===f)break;q+=T,E-=y}}return L}}class Ri{constructor(){this.decoder=new i6}decode(s,i=null){let a,c;if(i!=null&&i.has(X.PURE_BARCODE)){const w=Ri.extractPureBits(s.getBlackMatrix());a=this.decoder.decode(w),c=Ri.NO_POINTS}else{const w=new hn(s.getBlackMatrix()).detect();a=this.decoder.decode(w.getBits()),c=w.getPoints()}const u=a.getRawBytes(),f=new Ye(a.getText(),u,8*u.length,c,Ee.DATA_MATRIX,N.currentTimeMillis()),p=a.getByteSegments();p!=null&&f.putMetadata(We.BYTE_SEGMENTS,p);const y=a.getECLevel();return y!=null&&f.putMetadata(We.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(s){const i=s.getTopLeftOnBit(),a=s.getBottomRightOnBit();if(i==null||a==null)throw new $;const c=this.moduleSize(i,s);let u=i[1];const f=a[1];let p=i[0];const w=(a[0]-p+1)/c,E=(f-u+1)/c;if(w<=0||E<=0)throw new $;const T=c/2;u+=T,p+=T;const D=new se(w,E);for(let L=0;L<E;L++){const U=u+L*c;for(let H=0;H<w;H++)s.get(p+H*c,U)&&D.set(H,L)}return D}static moduleSize(s,i){const a=i.getWidth();let c=s[0];const u=s[1];for(;c<a&&i.get(c,u);)c++;if(c===a)throw new $;const f=c-s[0];if(f===0)throw new $;return f}}Ri.NO_POINTS=[];class o6 extends rt{constructor(s=500){super(new Ri,s)}}var Aa;(function(_){_[_.L=0]="L",_[_.M=1]="M",_[_.Q=2]="Q",_[_.H=3]="H"})(Aa||(Aa={}));class Ut{constructor(s,i,a){this.value=s,this.stringValue=i,this.bits=a,Ut.FOR_BITS.set(a,this),Ut.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Ut.L;case"M":return Ut.M;case"Q":return Ut.Q;case"H":return Ut.H;default:throw new v(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Ut))return!1;const i=s;return this.value===i.value}static forBits(s){if(s<0||s>=Ut.FOR_BITS.size)throw new C;return Ut.FOR_BITS.get(s)}}Ut.FOR_BITS=new Map,Ut.FOR_VALUE=new Map,Ut.L=new Ut(Aa.L,"L",1),Ut.M=new Ut(Aa.M,"M",0),Ut.Q=new Ut(Aa.Q,"Q",3),Ut.H=new Ut(Aa.H,"H",2);class Xn{constructor(s){this.errorCorrectionLevel=Ut.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,i){return I.bitCount(s^i)}static decodeFormatInformation(s,i){const a=Xn.doDecodeFormatInformation(s,i);return a!==null?a:Xn.doDecodeFormatInformation(s^Xn.FORMAT_INFO_MASK_QR,i^Xn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,i){let a=Number.MAX_SAFE_INTEGER,c=0;for(const u of Xn.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===s||f===i)return new Xn(u[1]);let p=Xn.numBitsDiffering(s,f);p<a&&(c=u[1],a=p),s!==i&&(p=Xn.numBitsDiffering(i,f),p<a&&(c=u[1],a=p))}return a<=3?new Xn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof Xn))return!1;const i=s;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Xn.FORMAT_INFO_MASK_QR=21522,Xn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Y{constructor(s,...i){this.ecCodewordsPerBlock=s,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const i=this.ecBlocks;for(const a of i)s+=a.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class j{constructor(s,i){this.count=s,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Fe{constructor(s,i,...a){this.versionNumber=s,this.alignmentPatternCenters=i,this.ecBlocks=a;let c=0;const u=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();for(const p of f)c+=p.getCount()*(p.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new B;try{return this.getVersionForNumber((s-17)/4)}catch{throw new B}}static getVersionForNumber(s){if(s<1||s>40)throw new C;return Fe.VERSIONS[s-1]}static decodeVersionInformation(s){let i=Number.MAX_SAFE_INTEGER,a=0;for(let c=0;c<Fe.VERSION_DECODE_INFO.length;c++){const u=Fe.VERSION_DECODE_INFO[c];if(u===s)return Fe.getVersionForNumber(c+7);const f=Xn.numBitsDiffering(s,u);f<i&&(a=c+7,i=f)}return i<=3?Fe.getVersionForNumber(a):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),i=new se(s);i.setRegion(0,0,9,9),i.setRegion(s-8,0,8,9),i.setRegion(0,s-8,9,8);const a=this.alignmentPatternCenters.length;for(let c=0;c<a;c++){const u=this.alignmentPatternCenters[c]-2;for(let f=0;f<a;f++)c===0&&(f===0||f===a-1)||c===a-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return i.setRegion(6,9,1,s-17),i.setRegion(9,6,s-17,1),this.versionNumber>6&&(i.setRegion(s-11,0,3,6),i.setRegion(0,s-11,6,3)),i}toString(){return""+this.versionNumber}}Fe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Fe.VERSIONS=[new Fe(1,new Int32Array(0),new Y(7,new j(1,19)),new Y(10,new j(1,16)),new Y(13,new j(1,13)),new Y(17,new j(1,9))),new Fe(2,Int32Array.from([6,18]),new Y(10,new j(1,34)),new Y(16,new j(1,28)),new Y(22,new j(1,22)),new Y(28,new j(1,16))),new Fe(3,Int32Array.from([6,22]),new Y(15,new j(1,55)),new Y(26,new j(1,44)),new Y(18,new j(2,17)),new Y(22,new j(2,13))),new Fe(4,Int32Array.from([6,26]),new Y(20,new j(1,80)),new Y(18,new j(2,32)),new Y(26,new j(2,24)),new Y(16,new j(4,9))),new Fe(5,Int32Array.from([6,30]),new Y(26,new j(1,108)),new Y(24,new j(2,43)),new Y(18,new j(2,15),new j(2,16)),new Y(22,new j(2,11),new j(2,12))),new Fe(6,Int32Array.from([6,34]),new Y(18,new j(2,68)),new Y(16,new j(4,27)),new Y(24,new j(4,19)),new Y(28,new j(4,15))),new Fe(7,Int32Array.from([6,22,38]),new Y(20,new j(2,78)),new Y(18,new j(4,31)),new Y(18,new j(2,14),new j(4,15)),new Y(26,new j(4,13),new j(1,14))),new Fe(8,Int32Array.from([6,24,42]),new Y(24,new j(2,97)),new Y(22,new j(2,38),new j(2,39)),new Y(22,new j(4,18),new j(2,19)),new Y(26,new j(4,14),new j(2,15))),new Fe(9,Int32Array.from([6,26,46]),new Y(30,new j(2,116)),new Y(22,new j(3,36),new j(2,37)),new Y(20,new j(4,16),new j(4,17)),new Y(24,new j(4,12),new j(4,13))),new Fe(10,Int32Array.from([6,28,50]),new Y(18,new j(2,68),new j(2,69)),new Y(26,new j(4,43),new j(1,44)),new Y(24,new j(6,19),new j(2,20)),new Y(28,new j(6,15),new j(2,16))),new Fe(11,Int32Array.from([6,30,54]),new Y(20,new j(4,81)),new Y(30,new j(1,50),new j(4,51)),new Y(28,new j(4,22),new j(4,23)),new Y(24,new j(3,12),new j(8,13))),new Fe(12,Int32Array.from([6,32,58]),new Y(24,new j(2,92),new j(2,93)),new Y(22,new j(6,36),new j(2,37)),new Y(26,new j(4,20),new j(6,21)),new Y(28,new j(7,14),new j(4,15))),new Fe(13,Int32Array.from([6,34,62]),new Y(26,new j(4,107)),new Y(22,new j(8,37),new j(1,38)),new Y(24,new j(8,20),new j(4,21)),new Y(22,new j(12,11),new j(4,12))),new Fe(14,Int32Array.from([6,26,46,66]),new Y(30,new j(3,115),new j(1,116)),new Y(24,new j(4,40),new j(5,41)),new Y(20,new j(11,16),new j(5,17)),new Y(24,new j(11,12),new j(5,13))),new Fe(15,Int32Array.from([6,26,48,70]),new Y(22,new j(5,87),new j(1,88)),new Y(24,new j(5,41),new j(5,42)),new Y(30,new j(5,24),new j(7,25)),new Y(24,new j(11,12),new j(7,13))),new Fe(16,Int32Array.from([6,26,50,74]),new Y(24,new j(5,98),new j(1,99)),new Y(28,new j(7,45),new j(3,46)),new Y(24,new j(15,19),new j(2,20)),new Y(30,new j(3,15),new j(13,16))),new Fe(17,Int32Array.from([6,30,54,78]),new Y(28,new j(1,107),new j(5,108)),new Y(28,new j(10,46),new j(1,47)),new Y(28,new j(1,22),new j(15,23)),new Y(28,new j(2,14),new j(17,15))),new Fe(18,Int32Array.from([6,30,56,82]),new Y(30,new j(5,120),new j(1,121)),new Y(26,new j(9,43),new j(4,44)),new Y(28,new j(17,22),new j(1,23)),new Y(28,new j(2,14),new j(19,15))),new Fe(19,Int32Array.from([6,30,58,86]),new Y(28,new j(3,113),new j(4,114)),new Y(26,new j(3,44),new j(11,45)),new Y(26,new j(17,21),new j(4,22)),new Y(26,new j(9,13),new j(16,14))),new Fe(20,Int32Array.from([6,34,62,90]),new Y(28,new j(3,107),new j(5,108)),new Y(26,new j(3,41),new j(13,42)),new Y(30,new j(15,24),new j(5,25)),new Y(28,new j(15,15),new j(10,16))),new Fe(21,Int32Array.from([6,28,50,72,94]),new Y(28,new j(4,116),new j(4,117)),new Y(26,new j(17,42)),new Y(28,new j(17,22),new j(6,23)),new Y(30,new j(19,16),new j(6,17))),new Fe(22,Int32Array.from([6,26,50,74,98]),new Y(28,new j(2,111),new j(7,112)),new Y(28,new j(17,46)),new Y(30,new j(7,24),new j(16,25)),new Y(24,new j(34,13))),new Fe(23,Int32Array.from([6,30,54,78,102]),new Y(30,new j(4,121),new j(5,122)),new Y(28,new j(4,47),new j(14,48)),new Y(30,new j(11,24),new j(14,25)),new Y(30,new j(16,15),new j(14,16))),new Fe(24,Int32Array.from([6,28,54,80,106]),new Y(30,new j(6,117),new j(4,118)),new Y(28,new j(6,45),new j(14,46)),new Y(30,new j(11,24),new j(16,25)),new Y(30,new j(30,16),new j(2,17))),new Fe(25,Int32Array.from([6,32,58,84,110]),new Y(26,new j(8,106),new j(4,107)),new Y(28,new j(8,47),new j(13,48)),new Y(30,new j(7,24),new j(22,25)),new Y(30,new j(22,15),new j(13,16))),new Fe(26,Int32Array.from([6,30,58,86,114]),new Y(28,new j(10,114),new j(2,115)),new Y(28,new j(19,46),new j(4,47)),new Y(28,new j(28,22),new j(6,23)),new Y(30,new j(33,16),new j(4,17))),new Fe(27,Int32Array.from([6,34,62,90,118]),new Y(30,new j(8,122),new j(4,123)),new Y(28,new j(22,45),new j(3,46)),new Y(30,new j(8,23),new j(26,24)),new Y(30,new j(12,15),new j(28,16))),new Fe(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new j(3,117),new j(10,118)),new Y(28,new j(3,45),new j(23,46)),new Y(30,new j(4,24),new j(31,25)),new Y(30,new j(11,15),new j(31,16))),new Fe(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new j(7,116),new j(7,117)),new Y(28,new j(21,45),new j(7,46)),new Y(30,new j(1,23),new j(37,24)),new Y(30,new j(19,15),new j(26,16))),new Fe(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new j(5,115),new j(10,116)),new Y(28,new j(19,47),new j(10,48)),new Y(30,new j(15,24),new j(25,25)),new Y(30,new j(23,15),new j(25,16))),new Fe(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new j(13,115),new j(3,116)),new Y(28,new j(2,46),new j(29,47)),new Y(30,new j(42,24),new j(1,25)),new Y(30,new j(23,15),new j(28,16))),new Fe(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new j(17,115)),new Y(28,new j(10,46),new j(23,47)),new Y(30,new j(10,24),new j(35,25)),new Y(30,new j(19,15),new j(35,16))),new Fe(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new j(17,115),new j(1,116)),new Y(28,new j(14,46),new j(21,47)),new Y(30,new j(29,24),new j(19,25)),new Y(30,new j(11,15),new j(46,16))),new Fe(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new j(13,115),new j(6,116)),new Y(28,new j(14,46),new j(23,47)),new Y(30,new j(44,24),new j(7,25)),new Y(30,new j(59,16),new j(1,17))),new Fe(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new j(12,121),new j(7,122)),new Y(28,new j(12,47),new j(26,48)),new Y(30,new j(39,24),new j(14,25)),new Y(30,new j(22,15),new j(41,16))),new Fe(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new j(6,121),new j(14,122)),new Y(28,new j(6,47),new j(34,48)),new Y(30,new j(46,24),new j(10,25)),new Y(30,new j(2,15),new j(64,16))),new Fe(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new j(17,122),new j(4,123)),new Y(28,new j(29,46),new j(14,47)),new Y(30,new j(49,24),new j(10,25)),new Y(30,new j(24,15),new j(46,16))),new Fe(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new j(4,122),new j(18,123)),new Y(28,new j(13,46),new j(32,47)),new Y(30,new j(48,24),new j(14,25)),new Y(30,new j(42,15),new j(32,16))),new Fe(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new j(20,117),new j(4,118)),new Y(28,new j(40,47),new j(7,48)),new Y(30,new j(43,24),new j(22,25)),new Y(30,new j(10,15),new j(67,16))),new Fe(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new j(19,118),new j(6,119)),new Y(28,new j(18,47),new j(31,48)),new Y(30,new j(34,24),new j(34,25)),new Y(30,new j(20,15),new j(61,16)))];var Rn;(function(_){_[_.DATA_MASK_000=0]="DATA_MASK_000",_[_.DATA_MASK_001=1]="DATA_MASK_001",_[_.DATA_MASK_010=2]="DATA_MASK_010",_[_.DATA_MASK_011=3]="DATA_MASK_011",_[_.DATA_MASK_100=4]="DATA_MASK_100",_[_.DATA_MASK_101=5]="DATA_MASK_101",_[_.DATA_MASK_110=6]="DATA_MASK_110",_[_.DATA_MASK_111=7]="DATA_MASK_111"})(Rn||(Rn={}));class Xr{constructor(s,i){this.value=s,this.isMasked=i}unmaskBitMatrix(s,i){for(let a=0;a<i;a++)for(let c=0;c<i;c++)this.isMasked(a,c)&&s.flip(c,a)}}Xr.values=new Map([[Rn.DATA_MASK_000,new Xr(Rn.DATA_MASK_000,(_,s)=>(_+s&1)===0)],[Rn.DATA_MASK_001,new Xr(Rn.DATA_MASK_001,(_,s)=>(_&1)===0)],[Rn.DATA_MASK_010,new Xr(Rn.DATA_MASK_010,(_,s)=>s%3===0)],[Rn.DATA_MASK_011,new Xr(Rn.DATA_MASK_011,(_,s)=>(_+s)%3===0)],[Rn.DATA_MASK_100,new Xr(Rn.DATA_MASK_100,(_,s)=>(Math.floor(_/2)+Math.floor(s/3)&1)===0)],[Rn.DATA_MASK_101,new Xr(Rn.DATA_MASK_101,(_,s)=>_*s%6===0)],[Rn.DATA_MASK_110,new Xr(Rn.DATA_MASK_110,(_,s)=>_*s%6<3)],[Rn.DATA_MASK_111,new Xr(Rn.DATA_MASK_111,(_,s)=>(_+s+_*s%3&1)===0)]]);class a6{constructor(s){const i=s.getHeight();if(i<21||(i&3)!==1)throw new B;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let u=0;u<6;u++)s=this.copyBit(u,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let u=5;u>=0;u--)s=this.copyBit(8,u,s);const i=this.bitMatrix.getHeight();let a=0;const c=i-7;for(let u=i-1;u>=c;u--)a=this.copyBit(8,u,a);for(let u=i-8;u<i;u++)a=this.copyBit(u,8,a);if(this.parsedFormatInfo=Xn.decodeFormatInformation(s,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),i=Math.floor((s-17)/4);if(i<=6)return Fe.getVersionForNumber(i);let a=0;const c=s-11;for(let f=5;f>=0;f--)for(let p=s-9;p>=c;p--)a=this.copyBit(p,f,a);let u=Fe.decodeVersionInformation(a);if(u!==null&&u.getDimensionForVersion()===s)return this.parsedVersion=u,u;a=0;for(let f=5;f>=0;f--)for(let p=s-9;p>=c;p--)a=this.copyBit(f,p,a);if(u=Fe.decodeVersionInformation(a),u!==null&&u.getDimensionForVersion()===s)return this.parsedVersion=u,u;throw new B}copyBit(s,i,a){return(this.isMirror?this.bitMatrix.get(i,s):this.bitMatrix.get(s,i))?a<<1|1:a<<1}readCodewords(){const s=this.readFormatInformation(),i=this.readVersion(),a=Xr.values.get(s.getDataMask()),c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c);const u=i.buildFunctionPattern();let f=!0;const p=new Uint8Array(i.getTotalCodewords());let y=0,w=0,E=0;for(let T=c-1;T>0;T-=2){T===6&&T--;for(let D=0;D<c;D++){const L=f?c-1-D:D;for(let U=0;U<2;U++)u.get(T-U,L)||(E++,w<<=1,this.bitMatrix.get(T-U,L)&&(w|=1),E===8&&(p[y++]=w,E=0,w=0))}f=!f}if(y!==i.getTotalCodewords())throw new B;return p}remask(){if(this.parsedFormatInfo===null)return;const s=Xr.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,i)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let i=0,a=s.getWidth();i<a;i++)for(let c=i+1,u=s.getHeight();c<u;c++)s.get(i,c)!==s.get(c,i)&&(s.flip(c,i),s.flip(i,c))}}class r0{constructor(s,i){this.numDataCodewords=s,this.codewords=i}static getDataBlocks(s,i,a){if(s.length!==i.getTotalCodewords())throw new C;const c=i.getECBlocksForLevel(a);let u=0;const f=c.getECBlocks();for(const U of f)u+=U.getCount();const p=new Array(u);let y=0;for(const U of f)for(let H=0;H<U.getCount();H++){const q=U.getDataCodewords(),te=c.getECCodewordsPerBlock()+q;p[y++]=new r0(q,new Uint8Array(te))}const w=p[0].codewords.length;let E=p.length-1;for(;E>=0&&p[E].codewords.length!==w;)E--;E++;const T=w-c.getECCodewordsPerBlock();let D=0;for(let U=0;U<T;U++)for(let H=0;H<y;H++)p[H].codewords[U]=s[D++];for(let U=E;U<y;U++)p[U].codewords[T]=s[D++];const L=p[0].codewords.length;for(let U=T;U<L;U++)for(let H=0;H<y;H++){const q=H<E?U:U+1;p[H].codewords[q]=s[D++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Zr;(function(_){_[_.TERMINATOR=0]="TERMINATOR",_[_.NUMERIC=1]="NUMERIC",_[_.ALPHANUMERIC=2]="ALPHANUMERIC",_[_.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",_[_.BYTE=4]="BYTE",_[_.ECI=5]="ECI",_[_.KANJI=6]="KANJI",_[_.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",_[_.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",_[_.HANZI=9]="HANZI"})(Zr||(Zr={}));class Be{constructor(s,i,a,c){this.value=s,this.stringValue=i,this.characterCountBitsForVersions=a,this.bits=c,Be.FOR_BITS.set(c,this),Be.FOR_VALUE.set(s,this)}static forBits(s){const i=Be.FOR_BITS.get(s);if(i===void 0)throw new C;return i}getCharacterCountBits(s){const i=s.getVersionNumber();let a;return i<=9?a=0:i<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Be))return!1;const i=s;return this.value===i.value}toString(){return this.stringValue}}Be.FOR_BITS=new Map,Be.FOR_VALUE=new Map,Be.TERMINATOR=new Be(Zr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Be.NUMERIC=new Be(Zr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Be.ALPHANUMERIC=new Be(Zr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Be.STRUCTURED_APPEND=new Be(Zr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Be.BYTE=new Be(Zr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Be.ECI=new Be(Zr.ECI,"ECI",Int32Array.from([0,0,0]),7),Be.KANJI=new Be(Zr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Be.FNC1_FIRST_POSITION=new Be(Zr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Be.FNC1_SECOND_POSITION=new Be(Zr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Be.HANZI=new Be(Zr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Jt{static decode(s,i,a,c){const u=new n0(s);let f=new ie;const p=new Array;let y=-1,w=-1;try{let E=null,T=!1,D;do{if(u.available()<4)D=Be.TERMINATOR;else{const L=u.readBits(4);D=Be.forBits(L)}switch(D){case Be.TERMINATOR:break;case Be.FNC1_FIRST_POSITION:case Be.FNC1_SECOND_POSITION:T=!0;break;case Be.STRUCTURED_APPEND:if(u.available()<16)throw new B;y=u.readBits(8),w=u.readBits(8);break;case Be.ECI:const L=Jt.parseECIValue(u);if(E=G.getCharacterSetECIByValue(L),E===null)throw new B;break;case Be.HANZI:const U=u.readBits(4),H=u.readBits(D.getCharacterCountBits(i));U===Jt.GB2312_SUBSET&&Jt.decodeHanziSegment(u,f,H);break;default:const q=u.readBits(D.getCharacterCountBits(i));switch(D){case Be.NUMERIC:Jt.decodeNumericSegment(u,f,q);break;case Be.ALPHANUMERIC:Jt.decodeAlphanumericSegment(u,f,q,T);break;case Be.BYTE:Jt.decodeByteSegment(u,f,q,E,p,c);break;case Be.KANJI:Jt.decodeKanjiSegment(u,f,q);break;default:throw new B}break}}while(D!==Be.TERMINATOR)}catch{throw new B}return new ft(s,f.toString(),p.length===0?null:p,a===null?null:a.toString(),y,w)}static decodeHanziSegment(s,i,a){if(a*13>s.available())throw new B;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const f=s.readBits(13);let p=f/96<<8&4294967295|f%96;p<959?p+=41377:p+=42657,c[u]=p>>8&255,c[u+1]=p&255,u+=2,a--}try{i.append(ye.decode(c,Q.GB2312))}catch(f){throw new B(f)}}static decodeKanjiSegment(s,i,a){if(a*13>s.available())throw new B;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const f=s.readBits(13);let p=f/192<<8&4294967295|f%192;p<7936?p+=33088:p+=49472,c[u]=p>>8,c[u+1]=p,u+=2,a--}try{i.append(ye.decode(c,Q.SHIFT_JIS))}catch(f){throw new B(f)}}static decodeByteSegment(s,i,a,c,u,f){if(8*a>s.available())throw new B;const p=new Uint8Array(a);for(let w=0;w<a;w++)p[w]=s.readBits(8);let y;c===null?y=Q.guessEncoding(p,f):y=c.getName();try{i.append(ye.decode(p,y))}catch(w){throw new B(w)}u.push(p)}static toAlphaNumericChar(s){if(s>=Jt.ALPHANUMERIC_CHARS.length)throw new B;return Jt.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,i,a,c){const u=i.length();for(;a>1;){if(s.available()<11)throw new B;const f=s.readBits(11);i.append(Jt.toAlphaNumericChar(Math.floor(f/45))),i.append(Jt.toAlphaNumericChar(f%45)),a-=2}if(a===1){if(s.available()<6)throw new B;i.append(Jt.toAlphaNumericChar(s.readBits(6)))}if(c)for(let f=u;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,""))}static decodeNumericSegment(s,i,a){for(;a>=3;){if(s.available()<10)throw new B;const c=s.readBits(10);if(c>=1e3)throw new B;i.append(Jt.toAlphaNumericChar(Math.floor(c/100))),i.append(Jt.toAlphaNumericChar(Math.floor(c/10)%10)),i.append(Jt.toAlphaNumericChar(c%10)),a-=3}if(a===2){if(s.available()<7)throw new B;const c=s.readBits(7);if(c>=100)throw new B;i.append(Jt.toAlphaNumericChar(Math.floor(c/10))),i.append(Jt.toAlphaNumericChar(c%10))}else if(a===1){if(s.available()<4)throw new B;const c=s.readBits(4);if(c>=10)throw new B;i.append(Jt.toAlphaNumericChar(c))}}static parseECIValue(s){const i=s.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const a=s.readBits(8);return(i&63)<<8&4294967295|a}if((i&224)===192){const a=s.readBits(16);return(i&31)<<16&4294967295|a}throw new B}}Jt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Jt.GB2312_SUBSET=1;class xx{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const i=s[0];s[0]=s[2],s[2]=i}}class l6{constructor(){this.rsDecoder=new pr(Ke.QR_CODE_FIELD_256)}decodeBooleanArray(s,i){return this.decodeBitMatrix(se.parseFromBooleanArray(s),i)}decodeBitMatrix(s,i){const a=new a6(s);let c=null;try{return this.decodeBitMatrixParser(a,i)}catch(u){c=u}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const u=this.decodeBitMatrixParser(a,i);return u.setOther(new xx(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(s,i){const a=s.readVersion(),c=s.readFormatInformation().getErrorCorrectionLevel(),u=s.readCodewords(),f=r0.getDataBlocks(u,a,c);let p=0;for(const E of f)p+=E.getNumDataCodewords();const y=new Uint8Array(p);let w=0;for(const E of f){const T=E.getCodewords(),D=E.getNumDataCodewords();this.correctErrors(T,D);for(let L=0;L<D;L++)y[w++]=T[L]}return Jt.decode(y,a,c,i)}correctErrors(s,i){const a=new Int32Array(s);try{this.rsDecoder.decode(a,s.length-i)}catch{throw new R}for(let c=0;c<i;c++)s[c]=a[c]}}class s0 extends De{constructor(s,i,a){super(s,i),this.estimatedModuleSize=a}aboutEquals(s,i,a){if(Math.abs(i-this.getY())<=s&&Math.abs(a-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,i,a){const c=(this.getX()+i)/2,u=(this.getY()+s)/2,f=(this.estimatedModuleSize+a)/2;return new s0(c,u,f)}}class Ku{constructor(s,i,a,c,u,f,p){this.image=s,this.startX=i,this.startY=a,this.width=c,this.height=u,this.moduleSize=f,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,i=this.height,a=this.width,c=s+a,u=this.startY+i/2,f=new Int32Array(3),p=this.image;for(let y=0;y<i;y++){const w=u+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let E=s;for(;E<c&&!p.get(E,w);)E++;let T=0;for(;E<c;){if(p.get(E,w))if(T===1)f[1]++;else if(T===2){if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,w,E);if(D!==null)return D}f[0]=f[2],f[1]=1,f[2]=0,T=1}else f[++T]++;else T===1&&T++,f[T]++;E++}if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,w,c);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $}static centerFromEnd(s,i){return i-s[2]-s[1]/2}foundPatternCross(s){const i=this.moduleSize,a=i/2;for(let c=0;c<3;c++)if(Math.abs(i-s[c])>=a)return!1;return!0}crossCheckVertical(s,i,a,c){const u=this.image,f=u.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let y=s;for(;y>=0&&u.get(i,y)&&p[1]<=a;)p[1]++,y--;if(y<0||p[1]>a)return NaN;for(;y>=0&&!u.get(i,y)&&p[0]<=a;)p[0]++,y--;if(p[0]>a)return NaN;for(y=s+1;y<f&&u.get(i,y)&&p[1]<=a;)p[1]++,y++;if(y===f||p[1]>a)return NaN;for(;y<f&&!u.get(i,y)&&p[2]<=a;)p[2]++,y++;if(p[2]>a)return NaN;const w=p[0]+p[1]+p[2];return 5*Math.abs(w-c)>=2*c?NaN:this.foundPatternCross(p)?Ku.centerFromEnd(p,y):NaN}handlePossibleCenter(s,i,a){const c=s[0]+s[1]+s[2],u=Ku.centerFromEnd(s,a),f=this.crossCheckVertical(i,u,2*s[1],c);if(!isNaN(f)){const p=(s[0]+s[1]+s[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(p,f,u))return w.combineEstimate(f,u,p);const y=new s0(u,f,p);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class i0 extends De{constructor(s,i,a,c){super(s,i),this.estimatedModuleSize=a,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,i,a){if(Math.abs(i-this.getY())<=s&&Math.abs(a-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,i,a){const c=this.count+1,u=(this.count*this.getX()+i)/c,f=(this.count*this.getY()+s)/c,p=(this.count*this.estimatedModuleSize+a)/c;return new i0(u,f,p,c)}}class c6{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class On{constructor(s,i){this.image=s,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const i=s!=null&&s.get(X.TRY_HARDER)!==void 0,a=s!=null&&s.get(X.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),f=c.getWidth();let p=Math.floor(3*u/(4*On.MAX_MODULES));(p<On.MIN_SKIP||i)&&(p=On.MIN_SKIP);let y=!1;const w=new Int32Array(5);for(let T=p-1;T<u&&!y;T+=p){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let D=0;for(let L=0;L<f;L++)if(c.get(L,T))(D&1)===1&&D++,w[D]++;else if(D&1)w[D]++;else if(D===4)if(On.foundPatternCross(w)){if(this.handlePossibleCenter(w,T,L,a)===!0)if(p=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const H=this.findRowSkip();H>w[2]&&(T+=H-w[2]-p,L=f-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,D=3;continue}D=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,D=3;else w[++D]++;On.foundPatternCross(w)&&this.handlePossibleCenter(w,T,f,a)===!0&&(p=w[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return De.orderBestPatterns(E),new c6(E)}static centerFromEnd(s,i){return i-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let i=0;for(let u=0;u<5;u++){const f=s[u];if(f===0)return!1;i+=f}if(i<7)return!1;const a=i/7,c=a/2;return Math.abs(a-s[0])<c&&Math.abs(a-s[1])<c&&Math.abs(3*a-s[2])<3*c&&Math.abs(a-s[3])<c&&Math.abs(a-s[4])<c}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,i,a,c){const u=this.getCrossCheckStateCount();let f=0;const p=this.image;for(;s>=f&&i>=f&&p.get(i-f,s-f);)u[2]++,f++;if(s<f||i<f)return!1;for(;s>=f&&i>=f&&!p.get(i-f,s-f)&&u[1]<=a;)u[1]++,f++;if(s<f||i<f||u[1]>a)return!1;for(;s>=f&&i>=f&&p.get(i-f,s-f)&&u[0]<=a;)u[0]++,f++;if(u[0]>a)return!1;const y=p.getHeight(),w=p.getWidth();for(f=1;s+f<y&&i+f<w&&p.get(i+f,s+f);)u[2]++,f++;if(s+f>=y||i+f>=w)return!1;for(;s+f<y&&i+f<w&&!p.get(i+f,s+f)&&u[3]<a;)u[3]++,f++;if(s+f>=y||i+f>=w||u[3]>=a)return!1;for(;s+f<y&&i+f<w&&p.get(i+f,s+f)&&u[4]<a;)u[4]++,f++;if(u[4]>=a)return!1;const E=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(E-c)<2*c&&On.foundPatternCross(u)}crossCheckVertical(s,i,a,c){const u=this.image,f=u.getHeight(),p=this.getCrossCheckStateCount();let y=s;for(;y>=0&&u.get(i,y);)p[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(i,y)&&p[1]<=a;)p[1]++,y--;if(y<0||p[1]>a)return NaN;for(;y>=0&&u.get(i,y)&&p[0]<=a;)p[0]++,y--;if(p[0]>a)return NaN;for(y=s+1;y<f&&u.get(i,y);)p[2]++,y++;if(y===f)return NaN;for(;y<f&&!u.get(i,y)&&p[3]<a;)p[3]++,y++;if(y===f||p[3]>=a)return NaN;for(;y<f&&u.get(i,y)&&p[4]<a;)p[4]++,y++;if(p[4]>=a)return NaN;const w=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(w-c)>=2*c?NaN:On.foundPatternCross(p)?On.centerFromEnd(p,y):NaN}crossCheckHorizontal(s,i,a,c){const u=this.image,f=u.getWidth(),p=this.getCrossCheckStateCount();let y=s;for(;y>=0&&u.get(y,i);)p[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(y,i)&&p[1]<=a;)p[1]++,y--;if(y<0||p[1]>a)return NaN;for(;y>=0&&u.get(y,i)&&p[0]<=a;)p[0]++,y--;if(p[0]>a)return NaN;for(y=s+1;y<f&&u.get(y,i);)p[2]++,y++;if(y===f)return NaN;for(;y<f&&!u.get(y,i)&&p[3]<a;)p[3]++,y++;if(y===f||p[3]>=a)return NaN;for(;y<f&&u.get(y,i)&&p[4]<a;)p[4]++,y++;if(p[4]>=a)return NaN;const w=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(w-c)>=c?NaN:On.foundPatternCross(p)?On.centerFromEnd(p,y):NaN}handlePossibleCenter(s,i,a,c){const u=s[0]+s[1]+s[2]+s[3]+s[4];let f=On.centerFromEnd(s,a),p=this.crossCheckVertical(i,Math.floor(f),s[2],u);if(!isNaN(p)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(p),s[2],u),!isNaN(f)&&(!c||this.crossCheckDiagonal(Math.floor(p),Math.floor(f),s[2],u)))){const y=u/7;let w=!1;const E=this.possibleCenters;for(let T=0,D=E.length;T<D;T++){const L=E[T];if(L.aboutEquals(y,p,f)){E[T]=L.combineEstimate(p,f,y),w=!0;break}}if(!w){const T=new i0(f,p,y);E.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const a of this.possibleCenters)if(a.getCount()>=On.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,i=0;const a=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=On.CENTER_QUORUM&&(s++,i+=f.getEstimatedModuleSize());if(s<3)return!1;const c=i/a;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-c);return u<=.05*i}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new $;const i=this.possibleCenters;let a;if(s>3){let c=0,u=0;for(const y of this.possibleCenters){const w=y.getEstimatedModuleSize();c+=w,u+=w*w}a=c/s;let f=Math.sqrt(u/s-a*a);i.sort((y,w)=>{const E=Math.abs(w.getEstimatedModuleSize()-a),T=Math.abs(y.getEstimatedModuleSize()-a);return E<T?-1:E>T?1:0});const p=Math.max(.2*a,f);for(let y=0;y<i.length&&i.length>3;y++){const w=i[y];Math.abs(w.getEstimatedModuleSize()-a)>p&&(i.splice(y,1),y--)}}if(i.length>3){let c=0;for(const u of i)c+=u.getEstimatedModuleSize();a=c/i.length,i.sort((u,f)=>{if(f.getCount()===u.getCount()){const p=Math.abs(f.getEstimatedModuleSize()-a),y=Math.abs(u.getEstimatedModuleSize()-a);return p<y?1:p>y?-1:0}else return f.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}On.CENTER_QUORUM=2,On.MIN_SKIP=3,On.MAX_MODULES=57;class Jl{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(X.NEED_RESULT_POINT_CALLBACK);const a=new On(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(a)}processFinderPatternInfo(s){const i=s.getTopLeft(),a=s.getTopRight(),c=s.getBottomLeft(),u=this.calculateModuleSize(i,a,c);if(u<1)throw new $("No pattern found in proccess finder.");const f=Jl.computeDimension(i,a,c,u),p=Fe.getProvisionalVersionForDimension(f),y=p.getDimensionForVersion()-7;let w=null;if(p.getAlignmentPatternCenters().length>0){const L=a.getX()-i.getX()+c.getX(),U=a.getY()-i.getY()+c.getY(),H=1-3/y,q=Math.floor(i.getX()+H*(L-i.getX())),te=Math.floor(i.getY()+H*(U-i.getY()));for(let pe=4;pe<=16;pe<<=1)try{w=this.findAlignmentInRegion(u,q,te,pe);break}catch(ge){if(!(ge instanceof $))throw ge}}const E=Jl.createTransform(i,a,c,w,f),T=Jl.sampleGrid(this.image,E,f);let D;return w===null?D=[c,i,a]:D=[c,i,a,w],new z(T,D)}static createTransform(s,i,a,c,u){const f=u-3.5;let p,y,w,E;return c!==null?(p=c.getX(),y=c.getY(),w=f-3,E=w):(p=i.getX()-s.getX()+a.getX(),y=i.getY()-s.getY()+a.getY(),w=f,E=f),ve.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,w,E,3.5,f,s.getX(),s.getY(),i.getX(),i.getY(),p,y,a.getX(),a.getY())}static sampleGrid(s,i,a){return Ne.getInstance().sampleGridWithTransform(s,a,a,i)}static computeDimension(s,i,a,c){const u=st.round(De.distance(s,i)/c),f=st.round(De.distance(s,a)/c);let p=Math.floor((u+f)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new $("Dimensions could be not found.")}return p}calculateModuleSize(s,i,a){return(this.calculateModuleSizeOneWay(s,i)+this.calculateModuleSizeOneWay(s,a))/2}calculateModuleSizeOneWay(s,i){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(i.getX()),Math.floor(i.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(a)?c/7:isNaN(c)?a/7:(a+c)/14}sizeOfBlackWhiteBlackRunBothWays(s,i,a,c){let u=this.sizeOfBlackWhiteBlackRun(s,i,a,c),f=1,p=s-(a-s);p<0?(f=s/(s-p),p=0):p>=this.image.getWidth()&&(f=(this.image.getWidth()-1-s)/(p-s),p=this.image.getWidth()-1);let y=Math.floor(i-(c-i)*f);return f=1,y<0?(f=i/(i-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(y-i),y=this.image.getHeight()-1),p=Math.floor(s+(p-s)*f),u+=this.sizeOfBlackWhiteBlackRun(s,i,p,y),u-1}sizeOfBlackWhiteBlackRun(s,i,a,c){const u=Math.abs(c-i)>Math.abs(a-s);if(u){let L=s;s=i,i=L,L=a,a=c,c=L}const f=Math.abs(a-s),p=Math.abs(c-i);let y=-f/2;const w=s<a?1:-1,E=i<c?1:-1;let T=0;const D=a+w;for(let L=s,U=i;L!==D;L+=w){const H=u?U:L,q=u?L:U;if(T===1===this.image.get(H,q)){if(T===2)return st.distance(L,U,s,i);T++}if(y+=p,y>0){if(U===c)break;U+=E,y-=f}}return T===2?st.distance(a+w,c,s,i):NaN}findAlignmentInRegion(s,i,a,c){const u=Math.floor(c*s),f=Math.max(0,i-u),p=Math.min(this.image.getWidth()-1,i+u);if(p-f<s*3)throw new $("Alignment top exceeds estimated module size.");const y=Math.max(0,a-u),w=Math.min(this.image.getHeight()-1,a+u);if(w-y<s*3)throw new $("Alignment bottom exceeds estimated module size.");return new Ku(this.image,f,y,p-f,w-y,s,this.resultPointCallback).find()}}class Oi{constructor(){this.decoder=new l6}getDecoder(){return this.decoder}decode(s,i){let a,c;if(i!=null&&i.get(X.PURE_BARCODE)!==void 0){const y=Oi.extractPureBits(s.getBlackMatrix());a=this.decoder.decodeBitMatrix(y,i),c=Oi.NO_POINTS}else{const y=new Jl(s.getBlackMatrix()).detect(i);a=this.decoder.decodeBitMatrix(y.getBits(),i),c=y.getPoints()}a.getOther()instanceof xx&&a.getOther().applyMirroredCorrection(c);const u=new Ye(a.getText(),a.getRawBytes(),void 0,c,Ee.QR_CODE,void 0),f=a.getByteSegments();f!==null&&u.putMetadata(We.BYTE_SEGMENTS,f);const p=a.getECLevel();return p!==null&&u.putMetadata(We.ERROR_CORRECTION_LEVEL,p),a.hasStructuredAppend()&&(u.putMetadata(We.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),u.putMetadata(We.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),u}reset(){}static extractPureBits(s){const i=s.getTopLeftOnBit(),a=s.getBottomRightOnBit();if(i===null||a===null)throw new $;const c=this.moduleSize(i,s);let u=i[1],f=a[1],p=i[0],y=a[0];if(p>=y||u>=f)throw new $;if(f-u!==y-p&&(y=p+(f-u),y>=s.getWidth()))throw new $;const w=Math.round((y-p+1)/c),E=Math.round((f-u+1)/c);if(w<=0||E<=0)throw new $;if(E!==w)throw new $;const T=Math.floor(c/2);u+=T,p+=T;const D=p+Math.floor((w-1)*c)-y;if(D>0){if(D>T)throw new $;p-=D}const L=u+Math.floor((E-1)*c)-f;if(L>0){if(L>T)throw new $;u-=L}const U=new se(w,E);for(let H=0;H<E;H++){const q=u+Math.floor(H*c);for(let te=0;te<w;te++)s.get(p+Math.floor(te*c),q)&&U.set(te,H)}return U}static moduleSize(s,i){const a=i.getHeight(),c=i.getWidth();let u=s[0],f=s[1],p=!0,y=0;for(;u<c&&f<a;){if(p!==i.get(u,f)){if(++y===5)break;p=!p}u++,f++}if(u===c||f===a)throw new $;return(u-s[0])/7}}Oi.NO_POINTS=new Array;class He{PDF417Common(){}static getBitCountSum(s){return st.sum(s)}static toIntArray(s){if(s==null||!s.length)return He.EMPTY_INT_ARRAY;const i=new Int32Array(s.length);let a=0;for(const c of s)i[a++]=c;return i}static getCodeword(s){const i=A.binarySearch(He.SYMBOL_TABLE,s&262143);return i<0?-1:(He.CODEWORD_TABLE[i]-1)%He.NUMBER_OF_CODEWORDS}}He.NUMBER_OF_CODEWORDS=929,He.MAX_CODEWORDS_IN_BARCODE=He.NUMBER_OF_CODEWORDS-1,He.MIN_ROWS_IN_BARCODE=3,He.MAX_ROWS_IN_BARCODE=90,He.MODULES_IN_CODEWORD=17,He.MODULES_IN_STOP_PATTERN=18,He.BARS_IN_MODULE=8,He.EMPTY_INT_ARRAY=new Int32Array([]),He.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),He.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class u6{constructor(s,i){this.bits=s,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class it{static detectMultiple(s,i,a){let c=s.getBlackMatrix(),u=it.detect(a,c);return u.length||(c=c.clone(),c.rotate180(),u=it.detect(a,c)),new u6(c,u)}static detect(s,i){const a=new Array;let c=0,u=0,f=!1;for(;c<i.getHeight();){const p=it.findVertices(i,c,u);if(p[0]==null&&p[3]==null){if(!f)break;f=!1,u=0;for(const y of a)y[1]!=null&&(c=Math.trunc(Math.max(c,y[1].getY()))),y[3]!=null&&(c=Math.max(c,Math.trunc(y[3].getY())));c+=it.ROW_STEP;continue}if(f=!0,a.push(p),!s)break;p[2]!=null?(u=Math.trunc(p[2].getX()),c=Math.trunc(p[2].getY())):(u=Math.trunc(p[4].getX()),c=Math.trunc(p[4].getY()))}return a}static findVertices(s,i,a){const c=s.getHeight(),u=s.getWidth(),f=new Array(8);return it.copyToResult(f,it.findRowsWithPattern(s,c,u,i,a,it.START_PATTERN),it.INDEXES_START_PATTERN),f[4]!=null&&(a=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),it.copyToResult(f,it.findRowsWithPattern(s,c,u,i,a,it.STOP_PATTERN),it.INDEXES_STOP_PATTERN),f}static copyToResult(s,i,a){for(let c=0;c<a.length;c++)s[a[c]]=i[c]}static findRowsWithPattern(s,i,a,c,u,f){const p=new Array(4);let y=!1;const w=new Int32Array(f.length);for(;c<i;c+=it.ROW_STEP){let T=it.findGuardPattern(s,u,c,a,!1,f,w);if(T!=null){for(;c>0;){const D=it.findGuardPattern(s,u,--c,a,!1,f,w);if(D!=null)T=D;else{c++;break}}p[0]=new De(T[0],c),p[1]=new De(T[1],c),y=!0;break}}let E=c+1;if(y){let T=0,D=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;E<i;E++){const L=it.findGuardPattern(s,D[0],E,a,!1,f,w);if(L!=null&&Math.abs(D[0]-L[0])<it.MAX_PATTERN_DRIFT&&Math.abs(D[1]-L[1])<it.MAX_PATTERN_DRIFT)D=L,T=0;else{if(T>it.SKIPPED_ROW_COUNT_MAX)break;T++}}E-=T+1,p[2]=new De(D[0],E),p[3]=new De(D[1],E)}return E-c<it.BARCODE_MIN_HEIGHT&&A.fill(p,null),p}static findGuardPattern(s,i,a,c,u,f,p){A.fillWithin(p,0,p.length,0);let y=i,w=0;for(;s.get(y,a)&&y>0&&w++<it.MAX_PIXEL_DRIFT;)y--;let E=y,T=0,D=f.length;for(let L=u;E<c;E++)if(s.get(E,a)!==L)p[T]++;else{if(T===D-1){if(it.patternMatchVariance(p,f,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return new Int32Array([y,E]);y+=p[0]+p[1],N.arraycopy(p,2,p,0,T-1),p[T-1]=0,p[T]=0,T--}else T++;p[T]=1,L=!L}return T===D-1&&it.patternMatchVariance(p,f,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE?new Int32Array([y,E-1]):null}static patternMatchVariance(s,i,a){let c=s.length,u=0,f=0;for(let w=0;w<c;w++)u+=s[w],f+=i[w];if(u<f)return 1/0;let p=u/f;a*=p;let y=0;for(let w=0;w<c;w++){let E=s[w],T=i[w]*p,D=E>T?E-T:T-E;if(D>a)return 1/0;y+=D}return y/u}}it.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),it.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),it.MAX_AVG_VARIANCE=.42,it.MAX_INDIVIDUAL_VARIANCE=.8,it.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),it.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),it.MAX_PIXEL_DRIFT=3,it.MAX_PATTERN_DRIFT=5,it.SKIPPED_ROW_COUNT_MAX=25,it.ROW_STEP=5,it.BARCODE_MIN_HEIGHT=10;class jn{constructor(s,i){if(i.length===0)throw new C;this.field=s;let a=i.length;if(a>1&&i[0]===0){let c=1;for(;c<a&&i[c]===0;)c++;c===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-c),N.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let i=this.coefficients[0],a=this.coefficients.length;for(let c=1;c<a;c++)i=this.field.add(this.field.multiply(s,i),this.coefficients[c]);return i}add(s){if(!this.field.equals(s.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let i=this.coefficients,a=s.coefficients;if(i.length>a.length){let f=i;i=a,a=f}let c=new Int32Array(a.length),u=a.length-i.length;N.arraycopy(a,0,c,0,u);for(let f=u;f<a.length;f++)c[f]=this.field.add(i[f-u],a[f]);return new jn(this.field,c)}subtract(s){if(!this.field.equals(s.field))throw new C("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof jn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new jn(this.field,new Int32Array([0]));let i=this.coefficients,a=i.length,c=s.coefficients,u=c.length,f=new Int32Array(a+u-1);for(let p=0;p<a;p++){let y=i[p];for(let w=0;w<u;w++)f[p+w]=this.field.add(f[p+w],this.field.multiply(y,c[w]))}return new jn(this.field,f)}negative(){let s=this.coefficients.length,i=new Int32Array(s);for(let a=0;a<s;a++)i[a]=this.field.subtract(0,this.coefficients[a]);return new jn(this.field,i)}multiplyScalar(s){if(s===0)return new jn(this.field,new Int32Array([0]));if(s===1)return this;let i=this.coefficients.length,a=new Int32Array(i);for(let c=0;c<i;c++)a[c]=this.field.multiply(this.coefficients[c],s);return new jn(this.field,a)}multiplyByMonomial(s,i){if(s<0)throw new C;if(i===0)return new jn(this.field,new Int32Array([0]));let a=this.coefficients.length,c=new Int32Array(a+s);for(let u=0;u<a;u++)c[u]=this.field.multiply(this.coefficients[u],i);return new jn(this.field,c)}toString(){let s=new ie;for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);a!==0&&(a<0?(s.append(" - "),a=-a):s.length()>0&&s.append(" + "),(i===0||a!==1)&&s.append(a),i!==0&&(i===1?s.append("x"):(s.append("x^"),s.append(i))))}return s.toString()}}class d6{add(s,i){return(s+i)%this.modulus}subtract(s,i){return(this.modulus+s-i)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new C;return this.logTable[s]}inverse(s){if(s===0)throw new ht;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,i){return s===0||i===0?0:this.expTable[(this.logTable[s]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class o0 extends d6{constructor(s,i){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let a=1;for(let c=0;c<s;c++)this.expTable[c]=a,a=a*i%s;for(let c=0;c<s-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new jn(this,new Int32Array([0])),this.one=new jn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,i){if(s<0)throw new C;if(i===0)return this.zero;let a=new Int32Array(s+1);return a[0]=i,new jn(this,a)}}o0.PDF417_GF=new o0(He.NUMBER_OF_CODEWORDS,3);class yx{constructor(){this.field=o0.PDF417_GF}decode(s,i,a){let c=new jn(this.field,s),u=new Int32Array(i),f=!1;for(let U=i;U>0;U--){let H=c.evaluateAt(this.field.exp(U));u[i-U]=H,H!==0&&(f=!0)}if(!f)return 0;let p=this.field.getOne();if(a!=null)for(const U of a){let H=this.field.exp(s.length-1-U),q=new jn(this.field,new Int32Array([this.field.subtract(0,H),1]));p=p.multiply(q)}let y=new jn(this.field,u),w=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),y,i),E=w[0],T=w[1],D=this.findErrorLocations(E),L=this.findErrorMagnitudes(T,E,D);for(let U=0;U<D.length;U++){let H=s.length-1-this.field.log(D[U]);if(H<0)throw R.getChecksumInstance();s[H]=this.field.subtract(s[H],L[U])}return D.length}runEuclideanAlgorithm(s,i,a){if(s.getDegree()<i.getDegree()){let D=s;s=i,i=D}let c=s,u=i,f=this.field.getZero(),p=this.field.getOne();for(;u.getDegree()>=Math.round(a/2);){let D=c,L=f;if(c=u,f=p,c.isZero())throw R.getChecksumInstance();u=D;let U=this.field.getZero(),H=c.getCoefficient(c.getDegree()),q=this.field.inverse(H);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let te=u.getDegree()-c.getDegree(),pe=this.field.multiply(u.getCoefficient(u.getDegree()),q);U=U.add(this.field.buildMonomial(te,pe)),u=u.subtract(c.multiplyByMonomial(te,pe))}p=U.multiply(f).subtract(L).negative()}let y=p.getCoefficient(0);if(y===0)throw R.getChecksumInstance();let w=this.field.inverse(y),E=p.multiply(w),T=u.multiply(w);return[E,T]}findErrorLocations(s){let i=s.getDegree(),a=new Int32Array(i),c=0;for(let u=1;u<this.field.getSize()&&c<i;u++)s.evaluateAt(u)===0&&(a[c]=this.field.inverse(u),c++);if(c!==i)throw R.getChecksumInstance();return a}findErrorMagnitudes(s,i,a){let c=i.getDegree(),u=new Int32Array(c);for(let w=1;w<=c;w++)u[c-w]=this.field.multiply(w,i.getCoefficient(w));let f=new jn(this.field,u),p=a.length,y=new Int32Array(p);for(let w=0;w<p;w++){let E=this.field.inverse(a[w]),T=this.field.subtract(0,s.evaluateAt(E)),D=this.field.inverse(f.evaluateAt(E));y[w]=this.field.multiply(T,D)}return y}}class Po{constructor(s,i,a,c,u){s instanceof Po?this.constructor_2(s):this.constructor_1(s,i,a,c,u)}constructor_1(s,i,a,c,u){const f=i==null||a==null,p=c==null||u==null;if(f&&p)throw new $;f?(i=new De(0,c.getY()),a=new De(0,u.getY())):p&&(c=new De(s.getWidth()-1,i.getY()),u=new De(s.getWidth()-1,a.getY())),this.image=s,this.topLeft=i,this.bottomLeft=a,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),a.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),c.getY())),this.maxY=Math.trunc(Math.max(a.getY(),u.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,i){return s==null?i:i==null?s:new Po(s.image,s.topLeft,s.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(s,i,a){let c=this.topLeft,u=this.bottomLeft,f=this.topRight,p=this.bottomRight;if(s>0){let y=a?this.topLeft:this.topRight,w=Math.trunc(y.getY()-s);w<0&&(w=0);let E=new De(y.getX(),w);a?c=E:f=E}if(i>0){let y=a?this.bottomLeft:this.bottomRight,w=Math.trunc(y.getY()+i);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let E=new De(y.getX(),w);a?u=E:p=E}return new Po(this.image,c,u,f,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class f6{constructor(s,i,a,c){this.columnCount=s,this.errorCorrectionLevel=c,this.rowCountUpperPart=i,this.rowCountLowerPart=a,this.rowCount=i+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ec{constructor(){this.buffer=""}static form(s,i){let a=-1;function c(f,p,y,w,E,T){if(f==="%%")return"%";if(i[++a]===void 0)return;f=w?parseInt(w.substr(1)):void 0;let D=E?parseInt(E.substr(1)):void 0,L;switch(T){case"s":L=i[a];break;case"c":L=i[a][0];break;case"f":L=parseFloat(i[a]).toFixed(f);break;case"p":L=parseFloat(i[a]).toPrecision(f);break;case"e":L=parseFloat(i[a]).toExponential(f);break;case"x":L=parseInt(i[a]).toString(D||16);break;case"d":L=parseFloat(parseInt(i[a],D||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(D);let U=parseInt(y),H=y&&y[0]+""=="0"?"0":" ";for(;L.length<U;)L=p!==void 0?L+H:H+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(u,c)}format(s,...i){this.buffer+=ec.form(s,i)}toString(){return this.buffer}}class tc{constructor(s){this.boundingBox=new Po(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let i=this.getCodeword(s);if(i!=null)return i;for(let a=1;a<tc.MAX_NEARBY_DISTANCE;a++){let c=this.imageRowToCodewordIndex(s)-a;if(c>=0&&(i=this.codewords[c],i!=null)||(c=this.imageRowToCodewordIndex(s)+a,c<this.codewords.length&&(i=this.codewords[c],i!=null)))return i}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,i){this.codewords[this.imageRowToCodewordIndex(s)]=i}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new ec;let i=0;for(const a of this.codewords){if(a==null){s.format("%3d:    |   %n",i++);continue}s.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}return s.toString()}}tc.MAX_NEARBY_DISTANCE=5;class nc{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let i=this.values.get(s);i==null&&(i=0),i++,this.values.set(s,i)}getValue(){let s=-1,i=new Array;for(const[a,c]of this.values.entries()){const u={getKey:()=>a,getValue:()=>c};u.getValue()>s?(s=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===s&&i.push(u.getKey())}return He.toIntArray(i)}getConfidence(s){return this.values.get(s)}}class vx extends tc{constructor(s,i){super(s),this._isLeft=i}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,s);let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=-1,w=1,E=0;for(let T=f;T<p;T++){if(i[T]==null)continue;let D=i[T],L=D.getRowNumber()-y;if(L===0)E++;else if(L===1)w=Math.max(w,E),E=1,y=D.getRowNumber();else if(L<0||D.getRowNumber()>=s.getRowCount()||L>T)i[T]=null;else{let U;w>2?U=(w-2)*L:U=L;let H=U>=T;for(let q=1;q<=U&&!H;q++)H=i[T-q]!=null;H?i[T]=null:(y=D.getRowNumber(),E=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let i=new Int32Array(s.getRowCount());for(let a of this.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=i.length)continue;i[c]++}return i}adjustIncompleteIndicatorColumnRowNumbers(s){let i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=this.getCodewords(),y=-1;for(let w=u;w<f;w++){if(p[w]==null)continue;let E=p[w];E.setRowNumberAsRowIndicatorColumn();let T=E.getRowNumber()-y;T===0||(T===1?y=E.getRowNumber():E.getRowNumber()>=s.getRowCount()?p[w]=null:y=E.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),i=new nc,a=new nc,c=new nc,u=new nc;for(let p of s){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let y=p.getValue()%30,w=p.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:a.setValue(y*3+1);break;case 1:u.setValue(y/3),c.setValue(y%3);break;case 2:i.setValue(y+1);break}}if(i.getValue().length===0||a.getValue().length===0||c.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+c.getValue()[0]<He.MIN_ROWS_IN_BARCODE||a.getValue()[0]+c.getValue()[0]>He.MAX_ROWS_IN_BARCODE)return null;let f=new f6(i.getValue()[0],a.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(s,f),f}removeIncorrectCodewords(s,i){for(let a=0;a<s.length;a++){let c=s[a];if(s[a]==null)continue;let u=c.getValue()%30,f=c.getRowNumber();if(f>i.getRowCount()){s[a]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(s[a]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(s[a]=null);break;case 2:u+1!==i.getColumnCount()&&(s[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class rc{constructor(s,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=He.MAX_CODEWORDS_IN_BARCODE,i;do i=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let a=this.detectionResultColumns[i].getCodewords();for(let c=0;c<a.length;c++)a[c]!=null&&(a[c].hasValidRowNumber()||this.adjustRowNumbers(i,c,a))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<s.length;a++)if(s[a]!=null&&i[a]!=null&&s[a].getRowNumber()===i[a].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[a];u!=null&&(u.setRowNumber(s[a].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let c=i[a].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let p=this.detectionResultColumns[f].getCodewords()[a];p!=null&&(u=rc.adjustRowNumberIfValid(c,u,p),p.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,i=this.detectionResultColumns[0].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let c=i[a].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let p=this.detectionResultColumns[f].getCodewords()[a];p!=null&&(u=rc.adjustRowNumberIfValid(c,u,p),p.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,i,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(s)?(a.setRowNumber(s),i=0):++i),i}adjustRowNumbers(s,i,a){if(!this.detectionResultColumns[s-1])return;let c=a[i],u=this.detectionResultColumns[s-1].getCodewords(),f=u;this.detectionResultColumns[s+1]!=null&&(f=this.detectionResultColumns[s+1].getCodewords());let p=new Array(14);p[2]=u[i],p[3]=f[i],i>0&&(p[0]=a[i-1],p[4]=u[i-1],p[5]=f[i-1]),i>1&&(p[8]=a[i-2],p[10]=u[i-2],p[11]=f[i-2]),i<a.length-1&&(p[1]=a[i+1],p[6]=u[i+1],p[7]=f[i+1]),i<a.length-2&&(p[9]=a[i+2],p[12]=u[i+2],p[13]=f[i+2]);for(let y of p)if(rc.adjustRowNumber(c,y))return}static adjustRowNumber(s,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===s.getBucket()?(s.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,i){this.detectionResultColumns[s]=i}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new ec;for(let a=0;a<s.getCodewords().length;a++){i.format("CW %3d:",a);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[a];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class sc{constructor(s,i,a,c){this.rowNumber=sc.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(i),this.bucket=Math.trunc(a),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==sc.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}sc.BARCODE_ROW_UNKNOWN=-1;class yr{static initialize(){for(let s=0;s<He.SYMBOL_TABLE.length;s++){let i=He.SYMBOL_TABLE[s],a=i&1;for(let c=0;c<He.BARS_IN_MODULE;c++){let u=0;for(;(i&1)===a;)u+=1,i>>=1;a=i&1,yr.RATIOS_TABLE[s]||(yr.RATIOS_TABLE[s]=new Array(He.BARS_IN_MODULE)),yr.RATIOS_TABLE[s][He.BARS_IN_MODULE-c-1]=Math.fround(u/He.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let i=yr.getDecodedCodewordValue(yr.sampleBitCounts(s));return i!==-1?i:yr.getClosestDecodedValue(s)}static sampleBitCounts(s){let i=st.sum(s),a=new Int32Array(He.BARS_IN_MODULE),c=0,u=0;for(let f=0;f<He.MODULES_IN_CODEWORD;f++){let p=i/(2*He.MODULES_IN_CODEWORD)+f*i/He.MODULES_IN_CODEWORD;u+s[c]<=p&&(u+=s[c],c++),a[c]++}return a}static getDecodedCodewordValue(s){let i=yr.getBitValue(s);return He.getCodeword(i)===-1?-1:i}static getBitValue(s){let i=0;for(let a=0;a<s.length;a++)for(let c=0;c<s[a];c++)i=i<<1|(a%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(s){let i=st.sum(s),a=new Array(He.BARS_IN_MODULE);if(i>1)for(let f=0;f<a.length;f++)a[f]=Math.fround(s[f]/i);let c=Ql.MAX_VALUE,u=-1;this.bSymbolTableReady||yr.initialize();for(let f=0;f<yr.RATIOS_TABLE.length;f++){let p=0,y=yr.RATIOS_TABLE[f];for(let w=0;w<He.BARS_IN_MODULE;w++){let E=Math.fround(y[w]-a[w]);if(p+=Math.fround(E*E),p>=c)break}p<c&&(c=p,u=He.SYMBOL_TABLE[f])}return u}}yr.bSymbolTableReady=!1,yr.RATIOS_TABLE=new Array(He.SYMBOL_TABLE.length).map(_=>new Array(He.BARS_IN_MODULE));class wx{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Cx{static parseLong(s,i=void 0){return parseInt(s,i)}}class bx extends g{}bx.kind="NullPointerException";class h6{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,i,a){if(s==null)throw new bx;if(i<0||i>s.length||a<0||i+a>s.length||i+a<0)throw new k;if(a===0)return;for(let c=0;c<a;c++)this.write(s[i+c])}flush(){}close(){}}class m6 extends g{}class p6 extends h6{constructor(s=32){if(super(),this.count=0,s<0)throw new C("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let a=this.buf.length<<1;if(a-s<0&&(a=s),a<0){if(s<0)throw new m6;a=I.MAX_VALUE}this.buf=A.copyOfUint8Array(this.buf,a)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,i,a){if(i<0||i>s.length||a<0||i+a-s.length>0)throw new k;this.ensureCapacity(this.count+a),N.arraycopy(s,i,this.buf,this.count,a),this.count+=a}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return A.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Mt;(function(_){_[_.ALPHA=0]="ALPHA",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.PUNCT=3]="PUNCT",_[_.ALPHA_SHIFT=4]="ALPHA_SHIFT",_[_.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Mt||(Mt={}));function Ex(){if(typeof window<"u")return window.BigInt||null;if(typeof ac<"u")return ac.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let qu;function Pi(_){if(typeof qu>"u"&&(qu=Ex()),qu===null)throw new Error("BigInt is not supported!");return qu(_)}function g6(){let _=[];_[0]=Pi(1);let s=Pi(900);_[1]=s;for(let i=2;i<16;i++)_[i]=_[i-1]*s;return _}class ee{static decode(s,i){let a=new ie(""),c=G.ISO8859_1;a.enableDecoding(c);let u=1,f=s[u++],p=new wx;for(;u<s[0];){switch(f){case ee.TEXT_COMPACTION_MODE_LATCH:u=ee.textCompaction(s,u,a);break;case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:u=ee.byteCompaction(f,s,c,u,a);break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(s[u++]);break;case ee.NUMERIC_COMPACTION_MODE_LATCH:u=ee.numericCompaction(s,u,a);break;case ee.ECI_CHARSET:G.getCharacterSetECIByValue(s[u++]);break;case ee.ECI_GENERAL_PURPOSE:u+=2;break;case ee.ECI_USER_DEFINED:u++;break;case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ee.decodeMacroBlock(s,u,p);break;case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:throw new B;default:u--,u=ee.textCompaction(s,u,a);break}if(u<s.length)f=s[u++];else throw B.getFormatInstance()}if(a.length()===0)throw B.getFormatInstance();let y=new ft(null,a.toString(),null,i);return y.setOther(p),y}static decodeMacroBlock(s,i,a){if(i+ee.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw B.getFormatInstance();let c=new Int32Array(ee.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<ee.NUMBER_OF_SEQUENCE_CODEWORDS;p++,i++)c[p]=s[i];a.setSegmentIndex(I.parseInt(ee.decodeBase900toBase10(c,ee.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ie;i=ee.textCompaction(s,i,u),a.setFileId(u.toString());let f=-1;for(s[i]===ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<s[0];)switch(s[i]){case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,s[i]){case ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new ie;i=ee.textCompaction(s,i+1,p),a.setFileName(p.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new ie;i=ee.textCompaction(s,i+1,y),a.setSender(y.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new ie;i=ee.textCompaction(s,i+1,w),a.setAddressee(w.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new ie;i=ee.numericCompaction(s,i+1,E),a.setSegmentCount(I.parseInt(E.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new ie;i=ee.numericCompaction(s,i+1,T),a.setTimestamp(Cx.parseLong(T.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new ie;i=ee.numericCompaction(s,i+1,D),a.setChecksum(I.parseInt(D.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new ie;i=ee.numericCompaction(s,i+1,L),a.setFileSize(Cx.parseLong(L.toString()));break;default:throw B.getFormatInstance()}break;case ee.MACRO_PDF417_TERMINATOR:i++,a.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(f!==-1){let p=i-f;a.isLastSegment()&&p--,a.setOptionalData(A.copyOfRange(s,f,f+p))}return i}static textCompaction(s,i,a){let c=new Int32Array((s[0]-i)*2),u=new Int32Array((s[0]-i)*2),f=0,p=!1;for(;i<s[0]&&!p;){let y=s[i++];if(y<ee.TEXT_COMPACTION_MODE_LATCH)c[f]=y/30,c[f+1]=y%30,f+=2;else switch(y){case ee.TEXT_COMPACTION_MODE_LATCH:c[f++]=ee.TEXT_COMPACTION_MODE_LATCH;break;case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:i--,p=!0;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[f]=ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=s[i++],u[f]=y,f++;break}}return ee.decodeTextCompaction(c,u,f,a),i}static decodeTextCompaction(s,i,a,c){let u=Mt.ALPHA,f=Mt.ALPHA,p=0;for(;p<a;){let y=s[p],w="";switch(u){case Mt.ALPHA:if(y<26)w=String.fromCharCode(65+y);else switch(y){case 26:w=" ";break;case ee.LL:u=Mt.LOWER;break;case ee.ML:u=Mt.MIXED;break;case ee.PS:f=u,u=Mt.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[p]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.LOWER:if(y<26)w=String.fromCharCode(97+y);else switch(y){case 26:w=" ";break;case ee.AS:f=u,u=Mt.ALPHA_SHIFT;break;case ee.ML:u=Mt.MIXED;break;case ee.PS:f=u,u=Mt.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[p]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.MIXED:if(y<ee.PL)w=ee.MIXED_CHARS[y];else switch(y){case ee.PL:u=Mt.PUNCT;break;case 26:w=" ";break;case ee.LL:u=Mt.LOWER;break;case ee.AL:u=Mt.ALPHA;break;case ee.PS:f=u,u=Mt.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[p]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.PUNCT:if(y<ee.PAL)w=ee.PUNCT_CHARS[y];else switch(y){case ee.PAL:u=Mt.ALPHA;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[p]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.ALPHA_SHIFT:if(u=f,y<26)w=String.fromCharCode(65+y);else switch(y){case 26:w=" ";break;case ee.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.PUNCT_SHIFT:if(u=f,y<ee.PAL)w=ee.PUNCT_CHARS[y];else switch(y){case ee.PAL:u=Mt.ALPHA;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[p]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break}w!==""&&c.append(w),p++}}static byteCompaction(s,i,a,c,u){let f=new p6,p=0,y=0,w=!1;switch(s){case ee.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),T=i[c++];for(;c<i[0]&&!w;)switch(E[p++]=T,y=900*y+T,T=i[c++],T){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:c--,w=!0;break;default:if(p%5===0&&p>0){for(let D=0;D<6;++D)f.write(Number(Pi(y)>>Pi(8*(5-D))));y=0,p=0}break}c===i[0]&&T<ee.TEXT_COMPACTION_MODE_LATCH&&(E[p++]=T);for(let D=0;D<p;D++)f.write(E[D]);break;case ee.BYTE_COMPACTION_MODE_LATCH_6:for(;c<i[0]&&!w;){let D=i[c++];if(D<ee.TEXT_COMPACTION_MODE_LATCH)p++,y=900*y+D;else switch(D){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:c--,w=!0;break}if(p%5===0&&p>0){for(let L=0;L<6;++L)f.write(Number(Pi(y)>>Pi(8*(5-L))));y=0,p=0}}break}return u.append(ye.decode(f.toByteArray(),a)),c}static numericCompaction(s,i,a){let c=0,u=!1,f=new Int32Array(ee.MAX_NUMERIC_CODEWORDS);for(;i<s[0]&&!u;){let p=s[i++];if(i===s[0]&&(u=!0),p<ee.TEXT_COMPACTION_MODE_LATCH)f[c]=p,c++;else switch(p){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(c%ee.MAX_NUMERIC_CODEWORDS===0||p===ee.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(a.append(ee.decodeBase900toBase10(f,c)),c=0)}return i}static decodeBase900toBase10(s,i){let a=Pi(0);for(let u=0;u<i;u++)a+=ee.EXP900[i-u-1]*Pi(s[u]);let c=a.toString();if(c.charAt(0)!=="1")throw new B;return c.substring(1)}}ee.TEXT_COMPACTION_MODE_LATCH=900,ee.BYTE_COMPACTION_MODE_LATCH=901,ee.NUMERIC_COMPACTION_MODE_LATCH=902,ee.BYTE_COMPACTION_MODE_LATCH_6=924,ee.ECI_USER_DEFINED=925,ee.ECI_GENERAL_PURPOSE=926,ee.ECI_CHARSET=927,ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ee.MACRO_PDF417_TERMINATOR=922,ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ee.MAX_NUMERIC_CODEWORDS=15,ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ee.PL=25,ee.LL=27,ee.AS=27,ee.ML=28,ee.AL=28,ee.PS=29,ee.PAL=29,ee.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ee.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ee.EXP900=Ex()?g6():[],ee.NUMBER_OF_SEQUENCE_CODEWORDS=2;class lt{constructor(){}static decode(s,i,a,c,u,f,p){let y=new Po(s,i,a,c,u),w=null,E=null,T;for(let U=!0;;U=!1){if(i!=null&&(w=lt.getRowIndicatorColumn(s,y,i,!0,f,p)),c!=null&&(E=lt.getRowIndicatorColumn(s,y,c,!1,f,p)),T=lt.merge(w,E),T==null)throw $.getNotFoundInstance();let H=T.getBoundingBox();if(U&&H!=null&&(H.getMinY()<y.getMinY()||H.getMaxY()>y.getMaxY()))y=H;else break}T.setBoundingBox(y);let D=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,w),T.setDetectionResultColumn(D,E);let L=w!=null;for(let U=1;U<=D;U++){let H=L?U:D-U;if(T.getDetectionResultColumn(H)!==void 0)continue;let q;H===0||H===D?q=new vx(y,H===0):q=new tc(y),T.setDetectionResultColumn(H,q);let te=-1,pe=te;for(let ge=y.getMinY();ge<=y.getMaxY();ge++){if(te=lt.getStartColumn(T,H,ge,L),te<0||te>y.getMaxX()){if(pe===-1)continue;te=pe}let de=lt.detectCodeword(s,y.getMinX(),y.getMaxX(),L,te,ge,f,p);de!=null&&(q.setCodeword(ge,de),pe=te,f=Math.min(f,de.getWidth()),p=Math.max(p,de.getWidth()))}}return lt.createDecoderResult(T)}static merge(s,i){if(s==null&&i==null)return null;let a=lt.getBarcodeMetadata(s,i);if(a==null)return null;let c=Po.merge(lt.adjustBoundingBox(s),lt.adjustBoundingBox(i));return new rc(a,c)}static adjustBoundingBox(s){if(s==null)return null;let i=s.getRowHeights();if(i==null)return null;let a=lt.getMax(i),c=0;for(let p of i)if(c+=a-p,p>0)break;let u=s.getCodewords();for(let p=0;c>0&&u[p]==null;p++)c--;let f=0;for(let p=i.length-1;p>=0&&(f+=a-i[p],!(i[p]>0));p--);for(let p=u.length-1;f>0&&u[p]==null;p--)f--;return s.getBoundingBox().addMissingRows(c,f,s.isLeft())}static getMax(s){let i=-1;for(let a of s)i=Math.max(i,a);return i}static getBarcodeMetadata(s,i){let a;if(s==null||(a=s.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let c;return i==null||(c=i.getBarcodeMetadata())==null?a:a.getColumnCount()!==c.getColumnCount()&&a.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&a.getRowCount()!==c.getRowCount()?null:a}static getRowIndicatorColumn(s,i,a,c,u,f){let p=new vx(i,c);for(let y=0;y<2;y++){let w=y===0?1:-1,E=Math.trunc(Math.trunc(a.getX()));for(let T=Math.trunc(Math.trunc(a.getY()));T<=i.getMaxY()&&T>=i.getMinY();T+=w){let D=lt.detectCodeword(s,0,s.getWidth(),c,E,T,u,f);D!=null&&(p.setCodeword(T,D),c?E=D.getStartX():E=D.getEndX())}}return p}static adjustCodewordCount(s,i){let a=i[0][1],c=a.getValue(),u=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-lt.getNumberOfECCodeWords(s.getBarcodeECLevel());if(c.length===0){if(u<1||u>He.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();a.setValue(u)}else c[0]!==u&&a.setValue(u)}static createDecoderResult(s){let i=lt.createBarcodeMatrix(s);lt.adjustCodewordCount(s,i);let a=new Array,c=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),u=[],f=new Array;for(let y=0;y<s.getBarcodeRowCount();y++)for(let w=0;w<s.getBarcodeColumnCount();w++){let E=i[y][w+1].getValue(),T=y*s.getBarcodeColumnCount()+w;E.length===0?a.push(T):E.length===1?c[T]=E[0]:(f.push(T),u.push(E))}let p=new Array(u.length);for(let y=0;y<p.length;y++)p[y]=u[y];return lt.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),c,He.toIntArray(a),He.toIntArray(f),p)}static createDecoderResultFromAmbiguousValues(s,i,a,c,u){let f=new Int32Array(c.length),p=100;for(;p-- >0;){for(let y=0;y<f.length;y++)i[c[y]]=u[y][f[y]];try{return lt.decodeCodewords(i,s,a)}catch(y){if(!(y instanceof R))throw y}if(f.length===0)throw R.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<u[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(s){let i=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let c=0;c<i.length;c++)for(let u=0;u<i[c].length;u++)i[c][u]=new nc;let a=0;for(let c of s.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][a].setValue(u.getValue())}}}a++}return i}static isValidBarcodeColumn(s,i){return i>=0&&i<=s.getBarcodeColumnCount()+1}static getStartColumn(s,i,a,c){let u=c?1:-1,f=null;if(lt.isValidBarcodeColumn(s,i-u)&&(f=s.getDetectionResultColumn(i-u).getCodeword(a)),f!=null)return c?f.getEndX():f.getStartX();if(f=s.getDetectionResultColumn(i).getCodewordNearby(a),f!=null)return c?f.getStartX():f.getEndX();if(lt.isValidBarcodeColumn(s,i-u)&&(f=s.getDetectionResultColumn(i-u).getCodewordNearby(a)),f!=null)return c?f.getEndX():f.getStartX();let p=0;for(;lt.isValidBarcodeColumn(s,i-u);){i-=u;for(let y of s.getDetectionResultColumn(i).getCodewords())if(y!=null)return(c?y.getEndX():y.getStartX())+u*p*(y.getEndX()-y.getStartX());p++}return c?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,i,a,c,u,f,p,y){u=lt.adjustCodewordStartColumn(s,i,a,c,u,f);let w=lt.getModuleBitCount(s,i,a,c,u,f);if(w==null)return null;let E,T=st.sum(w);if(c)E=u+T;else{for(let U=0;U<w.length/2;U++){let H=w[U];w[U]=w[w.length-1-U],w[w.length-1-U]=H}E=u,u=E-T}if(!lt.checkCodewordSkew(T,p,y))return null;let D=yr.getDecodedValue(w),L=He.getCodeword(D);return L===-1?null:new sc(u,E,lt.getCodewordBucketNumber(D),L)}static getModuleBitCount(s,i,a,c,u,f){let p=u,y=new Int32Array(8),w=0,E=c?1:-1,T=c;for(;(c?p<a:p>=i)&&w<y.length;)s.get(p,f)===T?(y[w]++,p+=E):(w++,T=!T);return w===y.length||p===(c?a:i)&&w===y.length-1?y:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,i,a,c,u,f){let p=u,y=c?-1:1;for(let w=0;w<2;w++){for(;(c?p>=i:p<a)&&c===s.get(p,f);){if(Math.abs(u-p)>lt.CODEWORD_SKEW_SIZE)return u;p+=y}y=-y,c=!c}return p}static checkCodewordSkew(s,i,a){return i-lt.CODEWORD_SKEW_SIZE<=s&&s<=a+lt.CODEWORD_SKEW_SIZE}static decodeCodewords(s,i,a){if(s.length===0)throw B.getFormatInstance();let c=1<<i+1,u=lt.correctErrors(s,a,c);lt.verifyCodewordCount(s,c);let f=ee.decode(s,""+i);return f.setErrorsCorrected(u),f.setErasures(a.length),f}static correctErrors(s,i,a){if(i!=null&&i.length>a/2+lt.MAX_ERRORS||a<0||a>lt.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return lt.errorCorrection.decode(s,a,i)}static verifyCodewordCount(s,i){if(s.length<4)throw B.getFormatInstance();let a=s[0];if(a>s.length)throw B.getFormatInstance();if(a===0)if(i<s.length)s[0]=s.length-i;else throw B.getFormatInstance()}static getBitCountForCodeword(s){let i=new Int32Array(8),a=0,c=i.length-1;for(;!((s&1)!==a&&(a=s&1,c--,c<0));)i[c]++,s>>=1;return i}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return lt.getCodewordBucketNumber(lt.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let i=new ec;for(let a=0;a<s.length;a++){i.format("Row %2d: ",a);for(let c=0;c<s[a].length;c++){let u=s[a][c];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}lt.CODEWORD_SKEW_SIZE=2,lt.MAX_ERRORS=3,lt.MAX_EC_CODEWORDS=512,lt.errorCorrection=new yx;class Ln{decode(s,i=null){let a=Ln.decode(s,i,!1);if(a==null||a.length===0||a[0]==null)throw $.getNotFoundInstance();return a[0]}decodeMultiple(s,i=null){try{return Ln.decode(s,i,!0)}catch(a){throw a instanceof B||a instanceof R?$.getNotFoundInstance():a}}static decode(s,i,a){const c=new Array,u=it.detectMultiple(s,i,a);for(const f of u.getPoints()){const p=lt.decode(u.getBits(),f[4],f[5],f[6],f[7],Ln.getMinCodewordWidth(f),Ln.getMaxCodewordWidth(f)),y=new Ye(p.getText(),p.getRawBytes(),void 0,f,Ee.PDF_417);y.putMetadata(We.ERROR_CORRECTION_LEVEL,p.getECLevel());const w=p.getOther();w!=null&&y.putMetadata(We.PDF417_EXTRA_METADATA,w),c.push(y)}return c.map(f=>f)}static getMaxWidth(s,i){return s==null||i==null?0:Math.trunc(Math.abs(s.getX()-i.getX()))}static getMinWidth(s,i){return s==null||i==null?I.MAX_VALUE:Math.trunc(Math.abs(s.getX()-i.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Ln.getMaxWidth(s[0],s[4]),Ln.getMaxWidth(s[6],s[2])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN),Math.max(Ln.getMaxWidth(s[1],s[5]),Ln.getMaxWidth(s[7],s[3])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Ln.getMinWidth(s[0],s[4]),Ln.getMinWidth(s[6],s[2])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN),Math.min(Ln.getMinWidth(s[1],s[5]),Ln.getMinWidth(s[7],s[3])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN)))}reset(){}}class Yu extends g{}Yu.kind="ReaderException";class Sx{constructor(s,i){this.verbose=s===!0,i&&this.setHints(i)}decode(s,i){return i&&this.setHints(i),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const i=!r(s)&&s.get(X.TRY_HARDER)===!0,a=r(s)?null:s.get(X.POSSIBLE_FORMATS),c=new Array;if(!r(a)){const u=a.some(f=>f===Ee.UPC_A||f===Ee.UPC_E||f===Ee.EAN_13||f===Ee.EAN_8||f===Ee.CODABAR||f===Ee.CODE_39||f===Ee.CODE_93||f===Ee.CODE_128||f===Ee.ITF||f===Ee.RSS_14||f===Ee.RSS_EXPANDED);u&&!i&&c.push(new Sa(s,this.verbose)),a.includes(Ee.QR_CODE)&&c.push(new Oi),a.includes(Ee.DATA_MATRIX)&&c.push(new Ri),a.includes(Ee.AZTEC)&&c.push(new dn),a.includes(Ee.PDF_417)&&c.push(new Ln),u&&i&&c.push(new Sa(s,this.verbose))}c.length===0&&(i||c.push(new Sa(s,this.verbose)),c.push(new Oi),c.push(new Ri),c.push(new dn),c.push(new Ln),i&&c.push(new Sa(s,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Yu("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(s,this.hints)}catch(a){if(a instanceof Yu)continue}throw new $("No MultiFormat Readers were able to detect the code.")}}class x6 extends rt{constructor(s=null,i=500){const a=new Sx;a.setHints(s),super(a,i)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class y6 extends rt{constructor(s=500){super(new Ln,s)}}class v6 extends rt{constructor(s=500){super(new Oi,s)}}var a0;(function(_){_[_.ERROR_CORRECTION=0]="ERROR_CORRECTION",_[_.CHARACTER_SET=1]="CHARACTER_SET",_[_.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",_[_.MIN_SIZE=3]="MIN_SIZE",_[_.MAX_SIZE=4]="MAX_SIZE",_[_.MARGIN=5]="MARGIN",_[_.PDF417_COMPACT=6]="PDF417_COMPACT",_[_.PDF417_COMPACTION=7]="PDF417_COMPACTION",_[_.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",_[_.AZTEC_LAYERS=9]="AZTEC_LAYERS",_[_.QR_VERSION=10]="QR_VERSION"})(a0||(a0={}));var bn=a0;class l0{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Ze(s,Int32Array.from([1])))}buildGenerator(s){const i=this.cachedGenerators;if(s>=i.length){let a=i[i.length-1];const c=this.field;for(let u=i.length;u<=s;u++){const f=a.multiply(new Ze(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));i.push(f),a=f}}return i[s]}encode(s,i){if(i===0)throw new C("No error correction bytes");const a=s.length-i;if(a<=0)throw new C("No data bytes provided");const c=this.buildGenerator(i),u=new Int32Array(a);N.arraycopy(s,0,u,0,a);let f=new Ze(this.field,u);f=f.multiplyByMonomial(i,1);const y=f.divide(c)[1].getCoefficients(),w=i-y.length;for(let E=0;E<w;E++)s[a+E]=0;N.arraycopy(y,0,s,a+w,y.length)}}class an{constructor(){}static applyMaskPenaltyRule1(s){return an.applyMaskPenaltyRule1Internal(s,!0)+an.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let i=0;const a=s.getArray(),c=s.getWidth(),u=s.getHeight();for(let f=0;f<u-1;f++){const p=a[f];for(let y=0;y<c-1;y++){const w=p[y];w===p[y+1]&&w===a[f+1][y]&&w===a[f+1][y+1]&&i++}}return an.N2*i}static applyMaskPenaltyRule3(s){let i=0;const a=s.getArray(),c=s.getWidth(),u=s.getHeight();for(let f=0;f<u;f++)for(let p=0;p<c;p++){const y=a[f];p+6<c&&y[p]===1&&y[p+1]===0&&y[p+2]===1&&y[p+3]===1&&y[p+4]===1&&y[p+5]===0&&y[p+6]===1&&(an.isWhiteHorizontal(y,p-4,p)||an.isWhiteHorizontal(y,p+7,p+11))&&i++,f+6<u&&a[f][p]===1&&a[f+1][p]===0&&a[f+2][p]===1&&a[f+3][p]===1&&a[f+4][p]===1&&a[f+5][p]===0&&a[f+6][p]===1&&(an.isWhiteVertical(a,p,f-4,f)||an.isWhiteVertical(a,p,f+7,f+11))&&i++}return i*an.N3}static isWhiteHorizontal(s,i,a){i=Math.max(i,0),a=Math.min(a,s.length);for(let c=i;c<a;c++)if(s[c]===1)return!1;return!0}static isWhiteVertical(s,i,a,c){a=Math.max(a,0),c=Math.min(c,s.length);for(let u=a;u<c;u++)if(s[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let i=0;const a=s.getArray(),c=s.getWidth(),u=s.getHeight();for(let y=0;y<u;y++){const w=a[y];for(let E=0;E<c;E++)w[E]===1&&i++}const f=s.getHeight()*s.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*an.N4}static getDataMaskBit(s,i,a){let c,u;switch(s){case 0:c=a+i&1;break;case 1:c=a&1;break;case 2:c=i%3;break;case 3:c=(a+i)%3;break;case 4:c=Math.floor(a/2)+Math.floor(i/3)&1;break;case 5:u=a*i,c=(u&1)+u%3;break;case 6:u=a*i,c=(u&1)+u%3&1;break;case 7:u=a*i,c=u%3+(a+i&1)&1;break;default:throw new C("Invalid mask pattern: "+s)}return c===0}static applyMaskPenaltyRule1Internal(s,i){let a=0;const c=i?s.getHeight():s.getWidth(),u=i?s.getWidth():s.getHeight(),f=s.getArray();for(let p=0;p<c;p++){let y=0,w=-1;for(let E=0;E<u;E++){const T=i?f[p][E]:f[E][p];T===w?y++:(y>=5&&(a+=an.N1+(y-5)),y=1,w=T)}y>=5&&(a+=an.N1+(y-5))}return a}}an.N1=3,an.N2=3,an.N3=40,an.N4=10;class Qu{constructor(s,i){this.width=s,this.height=i;const a=new Array(i);for(let c=0;c!==i;c++)a[c]=new Uint8Array(s);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(s,i){return this.bytes[i][s]}getArray(){return this.bytes}setNumber(s,i,a){this.bytes[i][s]=a}setBoolean(s,i,a){this.bytes[i][s]=a?1:0}clear(s){for(const i of this.bytes)A.fill(i,s)}equals(s){if(!(s instanceof Qu))return!1;const i=s;if(this.width!==i.width||this.height!==i.height)return!1;for(let a=0,c=this.height;a<c;++a){const u=this.bytes[a],f=i.bytes[a];for(let p=0,y=this.width;p<y;++p)if(u[p]!==f[p])return!1}return!0}toString(){const s=new ie;for(let i=0,a=this.height;i<a;++i){const c=this.bytes[i];for(let u=0,f=this.width;u<f;++u)switch(c[u]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Do{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new ie;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Do.NUM_MASK_PATTERNS}}Do.NUM_MASK_PATTERNS=8;class Ft extends g{}Ft.kind="WriterException";class Ve{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,i,a,c,u){Ve.clearMatrix(u),Ve.embedBasicPatterns(a,u),Ve.embedTypeInfo(i,c,u),Ve.maybeEmbedVersionInfo(a,u),Ve.embedDataBits(s,c,u)}static embedBasicPatterns(s,i){Ve.embedPositionDetectionPatternsAndSeparators(i),Ve.embedDarkDotAtLeftBottomCorner(i),Ve.maybeEmbedPositionAdjustmentPatterns(s,i),Ve.embedTimingPatterns(i)}static embedTypeInfo(s,i,a){const c=new M;Ve.makeTypeInfoBits(s,i,c);for(let u=0,f=c.getSize();u<f;++u){const p=c.get(c.getSize()-1-u),y=Ve.TYPE_INFO_COORDINATES[u],w=y[0],E=y[1];if(a.setBoolean(w,E,p),u<8){const T=a.getWidth()-u-1;a.setBoolean(T,8,p)}else{const D=a.getHeight()-7+(u-8);a.setBoolean(8,D,p)}}}static maybeEmbedVersionInfo(s,i){if(s.getVersionNumber()<7)return;const a=new M;Ve.makeVersionInfoBits(s,a);let c=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const p=a.get(c);c--,i.setBoolean(u,i.getHeight()-11+f,p),i.setBoolean(i.getHeight()-11+f,u,p)}}static embedDataBits(s,i,a){let c=0,u=-1,f=a.getWidth()-1,p=a.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);p>=0&&p<a.getHeight();){for(let y=0;y<2;++y){const w=f-y;if(!Ve.isEmpty(a.get(w,p)))continue;let E;c<s.getSize()?(E=s.get(c),++c):E=!1,i!==255&&an.getDataMaskBit(i,w,p)&&(E=!E),a.setBoolean(w,p,E)}p+=u}u=-u,p+=u,f-=2}if(c!==s.getSize())throw new Ft("Not all bits consumed: "+c+"/"+s.getSize())}static findMSBSet(s){return 32-I.numberOfLeadingZeros(s)}static calculateBCHCode(s,i){if(i===0)throw new C("0 polynomial");const a=Ve.findMSBSet(i);for(s<<=a-1;Ve.findMSBSet(s)>=a;)s^=i<<Ve.findMSBSet(s)-a;return s}static makeTypeInfoBits(s,i,a){if(!Do.isValidMaskPattern(i))throw new Ft("Invalid mask pattern");const c=s.getBits()<<3|i;a.appendBits(c,5);const u=Ve.calculateBCHCode(c,Ve.TYPE_INFO_POLY);a.appendBits(u,10);const f=new M;if(f.appendBits(Ve.TYPE_INFO_MASK_PATTERN,15),a.xor(f),a.getSize()!==15)throw new Ft("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(s,i){i.appendBits(s.getVersionNumber(),6);const a=Ve.calculateBCHCode(s.getVersionNumber(),Ve.VERSION_INFO_POLY);if(i.appendBits(a,12),i.getSize()!==18)throw new Ft("should not happen but we got: "+i.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let i=8;i<s.getWidth()-8;++i){const a=(i+1)%2;Ve.isEmpty(s.get(i,6))&&s.setNumber(i,6,a),Ve.isEmpty(s.get(6,i))&&s.setNumber(6,i,a)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Ft;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,i,a){for(let c=0;c<8;++c){if(!Ve.isEmpty(a.get(s+c,i)))throw new Ft;a.setNumber(s+c,i,0)}}static embedVerticalSeparationPattern(s,i,a){for(let c=0;c<7;++c){if(!Ve.isEmpty(a.get(s,i+c)))throw new Ft;a.setNumber(s,i+c,0)}}static embedPositionAdjustmentPattern(s,i,a){for(let c=0;c<5;++c){const u=Ve.POSITION_ADJUSTMENT_PATTERN[c];for(let f=0;f<5;++f)a.setNumber(s+f,i+c,u[f])}}static embedPositionDetectionPattern(s,i,a){for(let c=0;c<7;++c){const u=Ve.POSITION_DETECTION_PATTERN[c];for(let f=0;f<7;++f)a.setNumber(s+f,i+c,u[f])}}static embedPositionDetectionPatternsAndSeparators(s){const i=Ve.POSITION_DETECTION_PATTERN[0].length;Ve.embedPositionDetectionPattern(0,0,s),Ve.embedPositionDetectionPattern(s.getWidth()-i,0,s),Ve.embedPositionDetectionPattern(0,s.getWidth()-i,s);const a=8;Ve.embedHorizontalSeparationPattern(0,a-1,s),Ve.embedHorizontalSeparationPattern(s.getWidth()-a,a-1,s),Ve.embedHorizontalSeparationPattern(0,s.getWidth()-a,s);const c=7;Ve.embedVerticalSeparationPattern(c,0,s),Ve.embedVerticalSeparationPattern(s.getHeight()-c-1,0,s),Ve.embedVerticalSeparationPattern(c,s.getHeight()-c,s)}static maybeEmbedPositionAdjustmentPatterns(s,i){if(s.getVersionNumber()<2)return;const a=s.getVersionNumber()-1,c=Ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let u=0,f=c.length;u!==f;u++){const p=c[u];if(p>=0)for(let y=0;y!==f;y++){const w=c[y];w>=0&&Ve.isEmpty(i.get(w,p))&&Ve.embedPositionAdjustmentPattern(w-2,p-2,i)}}}}Ve.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ve.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ve.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ve.VERSION_INFO_POLY=7973,Ve.TYPE_INFO_POLY=1335,Ve.TYPE_INFO_MASK_PATTERN=21522;class w6{constructor(s,i){this.dataBytes=s,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Wt{constructor(){}static calculateMaskPenalty(s){return an.applyMaskPenaltyRule1(s)+an.applyMaskPenaltyRule2(s)+an.applyMaskPenaltyRule3(s)+an.applyMaskPenaltyRule4(s)}static encode(s,i,a=null){let c=Wt.DEFAULT_BYTE_MODE_ENCODING;const u=a!==null&&a.get(bn.CHARACTER_SET)!==void 0;u&&(c=a.get(bn.CHARACTER_SET).toString());const f=this.chooseMode(s,c),p=new M;if(f===Be.BYTE&&(u||Wt.DEFAULT_BYTE_MODE_ENCODING!==c)){const ge=G.getCharacterSetECIByName(c);ge!==void 0&&this.appendECI(ge,p)}this.appendModeInfo(f,p);const y=new M;this.appendBytes(s,f,y,c);let w;if(a!==null&&a.get(bn.QR_VERSION)!==void 0){const ge=Number.parseInt(a.get(bn.QR_VERSION).toString(),10);w=Fe.getVersionForNumber(ge);const de=this.calculateBitsNeeded(f,p,y,w);if(!this.willFit(de,w,i))throw new Ft("Data too big for requested version")}else w=this.recommendVersion(i,f,p,y);const E=new M;E.appendBitArray(p);const T=f===Be.BYTE?y.getSizeInBytes():s.length;this.appendLengthInfo(T,w,f,E),E.appendBitArray(y);const D=w.getECBlocksForLevel(i),L=w.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(L,E);const U=this.interleaveWithECBytes(E,w.getTotalCodewords(),L,D.getNumBlocks()),H=new Do;H.setECLevel(i),H.setMode(f),H.setVersion(w);const q=w.getDimensionForVersion(),te=new Qu(q,q),pe=this.chooseMaskPattern(U,i,w,te);return H.setMaskPattern(pe),Ve.buildMatrix(U,i,w,pe,te),H.setMatrix(te),H}static recommendVersion(s,i,a,c){const u=this.calculateBitsNeeded(i,a,c,Fe.getVersionForNumber(1)),f=this.chooseVersion(u,s),p=this.calculateBitsNeeded(i,a,c,f);return this.chooseVersion(p,s)}static calculateBitsNeeded(s,i,a,c){return i.getSize()+s.getCharacterCountBits(c)+a.getSize()}static getAlphanumericCode(s){return s<Wt.ALPHANUMERIC_TABLE.length?Wt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,i=null){if(G.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(s))return Be.KANJI;let a=!1,c=!1;for(let u=0,f=s.length;u<f;++u){const p=s.charAt(u);if(Wt.isDigit(p))a=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)c=!0;else return Be.BYTE}return c?Be.ALPHANUMERIC:a?Be.NUMERIC:Be.BYTE}static isOnlyDoubleByteKanji(s){let i;try{i=ye.encode(s,G.SJIS)}catch{return!1}const a=i.length;if(a%2!==0)return!1;for(let c=0;c<a;c+=2){const u=i[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(s,i,a,c){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let p=0;p<Do.NUM_MASK_PATTERNS;p++){Ve.buildMatrix(s,i,a,p,c);let y=this.calculateMaskPenalty(c);y<u&&(u=y,f=p)}return f}static chooseVersion(s,i){for(let a=1;a<=40;a++){const c=Fe.getVersionForNumber(a);if(Wt.willFit(s,c,i))return c}throw new Ft("Data too big")}static willFit(s,i,a){const c=i.getTotalCodewords(),f=i.getECBlocksForLevel(a).getTotalECCodewords(),p=c-f,y=(s+7)/8;return p>=y}static terminateBits(s,i){const a=s*8;if(i.getSize()>a)throw new Ft("data bits cannot fit in the QR Code"+i.getSize()+" > "+a);for(let f=0;f<4&&i.getSize()<a;++f)i.appendBit(!1);const c=i.getSize()&7;if(c>0)for(let f=c;f<8;f++)i.appendBit(!1);const u=s-i.getSizeInBytes();for(let f=0;f<u;++f)i.appendBits(f&1?17:236,8);if(i.getSize()!==a)throw new Ft("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,i,a,c,u,f){if(c>=a)throw new Ft("Block ID too large");const p=s%a,y=a-p,w=Math.floor(s/a),E=w+1,T=Math.floor(i/a),D=T+1,L=w-T,U=E-D;if(L!==U)throw new Ft("EC bytes mismatch");if(a!==y+p)throw new Ft("RS blocks mismatch");if(s!==(T+L)*y+(D+U)*p)throw new Ft("Total bytes mismatch");c<y?(u[0]=T,f[0]=L):(u[0]=D,f[0]=U)}static interleaveWithECBytes(s,i,a,c){if(s.getSizeInBytes()!==a)throw new Ft("Number of bits and data bytes does not match");let u=0,f=0,p=0;const y=new Array;for(let E=0;E<c;++E){const T=new Int32Array(1),D=new Int32Array(1);Wt.getNumDataBytesAndNumECBytesForBlockID(i,a,c,E,T,D);const L=T[0],U=new Uint8Array(L);s.toBytes(8*u,U,0,L);const H=Wt.generateECBytes(U,D[0]);y.push(new w6(U,H)),f=Math.max(f,L),p=Math.max(p,H.length),u+=T[0]}if(a!==u)throw new Ft("Data bytes does not match offset");const w=new M;for(let E=0;E<f;++E)for(const T of y){const D=T.getDataBytes();E<D.length&&w.appendBits(D[E],8)}for(let E=0;E<p;++E)for(const T of y){const D=T.getErrorCorrectionBytes();E<D.length&&w.appendBits(D[E],8)}if(i!==w.getSizeInBytes())throw new Ft("Interleaving error: "+i+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(s,i){const a=s.length,c=new Int32Array(a+i);for(let f=0;f<a;f++)c[f]=s[f]&255;new l0(Ke.QR_CODE_FIELD_256).encode(c,i);const u=new Uint8Array(i);for(let f=0;f<i;f++)u[f]=c[a+f];return u}static appendModeInfo(s,i){i.appendBits(s.getBits(),4)}static appendLengthInfo(s,i,a,c){const u=a.getCharacterCountBits(i);if(s>=1<<u)throw new Ft(s+" is bigger than "+((1<<u)-1));c.appendBits(s,u)}static appendBytes(s,i,a,c){switch(i){case Be.NUMERIC:Wt.appendNumericBytes(s,a);break;case Be.ALPHANUMERIC:Wt.appendAlphanumericBytes(s,a);break;case Be.BYTE:Wt.append8BitBytes(s,a,c);break;case Be.KANJI:Wt.appendKanjiBytes(s,a);break;default:throw new Ft("Invalid mode: "+i)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const i=Wt.getDigit(s);return i>=0&&i<=9}static appendNumericBytes(s,i){const a=s.length;let c=0;for(;c<a;){const u=Wt.getDigit(s.charAt(c));if(c+2<a){const f=Wt.getDigit(s.charAt(c+1)),p=Wt.getDigit(s.charAt(c+2));i.appendBits(u*100+f*10+p,10),c+=3}else if(c+1<a){const f=Wt.getDigit(s.charAt(c+1));i.appendBits(u*10+f,7),c+=2}else i.appendBits(u,4),c++}}static appendAlphanumericBytes(s,i){const a=s.length;let c=0;for(;c<a;){const u=Wt.getAlphanumericCode(s.charCodeAt(c));if(u===-1)throw new Ft;if(c+1<a){const f=Wt.getAlphanumericCode(s.charCodeAt(c+1));if(f===-1)throw new Ft;i.appendBits(u*45+f,11),c+=2}else i.appendBits(u,6),c++}}static append8BitBytes(s,i,a){let c;try{c=ye.encode(s,a)}catch(u){throw new Ft(u)}for(let u=0,f=c.length;u!==f;u++){const p=c[u];i.appendBits(p,8)}}static appendKanjiBytes(s,i){let a;try{a=ye.encode(s,G.SJIS)}catch(u){throw new Ft(u)}const c=a.length;for(let u=0;u<c;u+=2){const f=a[u]&255,p=a[u+1]&255,y=f<<8&4294967295|p;let w=-1;if(y>=33088&&y<=40956?w=y-33088:y>=57408&&y<=60351&&(w=y-49472),w===-1)throw new Ft("Invalid byte sequence");const E=(w>>8)*192+(w&255);i.appendBits(E,13)}}static appendECI(s,i){i.appendBits(Be.ECI.getBits(),4),i.appendBits(s.getValue(),8)}}Wt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Wt.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class ko{write(s,i,a,c=null){if(s.length===0)throw new C("Found empty contents");if(i<0||a<0)throw new C("Requested dimensions are too small: "+i+"x"+a);let u=Ut.L,f=ko.QUIET_ZONE_SIZE;c!==null&&(c.get(bn.ERROR_CORRECTION)!==void 0&&(u=Ut.fromString(c.get(bn.ERROR_CORRECTION).toString())),c.get(bn.MARGIN)!==void 0&&(f=Number.parseInt(c.get(bn.MARGIN).toString(),10)));const p=Wt.encode(s,u,c);return this.renderResult(p,i,a,f)}writeToDom(s,i,a,c,u=null){typeof s=="string"&&(s=document.querySelector(s));const f=this.write(i,a,c,u);s&&s.appendChild(f)}renderResult(s,i,a,c){const u=s.getMatrix();if(u===null)throw new In;const f=u.getWidth(),p=u.getHeight(),y=f+c*2,w=p+c*2,E=Math.max(i,y),T=Math.max(a,w),D=Math.min(Math.floor(E/y),Math.floor(T/w)),L=Math.floor((E-f*D)/2),U=Math.floor((T-p*D)/2),H=this.createSVGElement(E,T);for(let q=0,te=U;q<p;q++,te+=D)for(let pe=0,ge=L;pe<f;pe++,ge+=D)if(u.get(pe,q)===1){const de=this.createSvgRectElement(ge,te,D,D);H.appendChild(de)}return H}createSVGElement(s,i){const a=document.createElementNS(ko.SVG_NS,"svg");return a.setAttributeNS(null,"height",s.toString()),a.setAttributeNS(null,"width",i.toString()),a}createSvgRectElement(s,i,a,c){const u=document.createElementNS(ko.SVG_NS,"rect");return u.setAttributeNS(null,"x",s.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}ko.QUIET_ZONE_SIZE=4,ko.SVG_NS="http://www.w3.org/2000/svg";class Na{encode(s,i,a,c,u){if(s.length===0)throw new C("Found empty contents");if(i!==Ee.QR_CODE)throw new C("Can only encode QR_CODE, but got "+i);if(a<0||c<0)throw new C(`Requested dimensions are too small: ${a}x${c}`);let f=Ut.L,p=Na.QUIET_ZONE_SIZE;u!==null&&(u.get(bn.ERROR_CORRECTION)!==void 0&&(f=Ut.fromString(u.get(bn.ERROR_CORRECTION).toString())),u.get(bn.MARGIN)!==void 0&&(p=Number.parseInt(u.get(bn.MARGIN).toString(),10)));const y=Wt.encode(s,f,u);return Na.renderResult(y,a,c,p)}static renderResult(s,i,a,c){const u=s.getMatrix();if(u===null)throw new In;const f=u.getWidth(),p=u.getHeight(),y=f+c*2,w=p+c*2,E=Math.max(i,y),T=Math.max(a,w),D=Math.min(Math.floor(E/y),Math.floor(T/w)),L=Math.floor((E-f*D)/2),U=Math.floor((T-p*D)/2),H=new se(E,T);for(let q=0,te=U;q<p;q++,te+=D)for(let pe=0,ge=L;pe<f;pe++,ge+=D)u.get(pe,q)===1&&H.setRegion(ge,te,D,D);return H}}Na.QUIET_ZONE_SIZE=4;class C6{encode(s,i,a,c,u){let f;switch(i){case Ee.QR_CODE:f=new Na;break;default:throw new C("No encoder available for format "+i)}return f.encode(s,i,a,c,u)}}class Os extends ne{constructor(s,i,a,c,u,f,p,y){if(super(f,p),this.yuvData=s,this.dataWidth=i,this.dataHeight=a,this.left=c,this.top=u,c+f>i||u+p>a)throw new C("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,p)}getRow(s,i){if(s<0||s>=this.getHeight())throw new C("Requested row is outside the image: "+s);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const c=(s+this.top)*this.dataWidth+this.left;return N.arraycopy(this.yuvData,c,i,0,a),i}getMatrix(){const s=this.getWidth(),i=this.getHeight();if(s===this.dataWidth&&i===this.dataHeight)return this.yuvData;const a=s*i,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return N.arraycopy(this.yuvData,u,c,0,a),c;for(let f=0;f<i;f++){const p=f*s;N.arraycopy(this.yuvData,u,c,p,s),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,i,a,c){return new Os(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+i,a,c,!1)}renderThumbnail(){const s=this.getWidth()/Os.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Os.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(s*i),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const p=f*s;for(let y=0;y<s;y++){const w=c[u+y*Os.THUMBNAIL_SCALE_FACTOR]&255;a[p+y]=4278190080|w*65793}u+=this.dataWidth*Os.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Os.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Os.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,i){const a=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<i;c++,u+=this.dataWidth){const f=u+s/2;for(let p=u,y=u+s-1;p<f;p++,y--){const w=a[p];a[p]=a[y],a[y]=w}}}invert(){return new V(this)}}Os.THUMBNAIL_SCALE_FACTOR=2;class c0 extends ne{constructor(s,i,a,c,u,f,p){if(super(i,a),this.dataWidth=c,this.dataHeight=u,this.left=f,this.top=p,s.BYTES_PER_ELEMENT===4){const y=i*a,w=new Uint8ClampedArray(y);for(let E=0;E<y;E++){const T=s[E],D=T>>16&255,L=T>>7&510,U=T&255;w[E]=(D+L+U)/4&255}this.luminances=w}else this.luminances=s;if(c===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=a),f===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+a>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(s,i){if(s<0||s>=this.getHeight())throw new C("Requested row is outside the image: "+s);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const c=(s+this.top)*this.dataWidth+this.left;return N.arraycopy(this.luminances,c,i,0,a),i}getMatrix(){const s=this.getWidth(),i=this.getHeight();if(s===this.dataWidth&&i===this.dataHeight)return this.luminances;const a=s*i,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return N.arraycopy(this.luminances,u,c,0,a),c;for(let f=0;f<i;f++){const p=f*s;N.arraycopy(this.luminances,u,c,p,s),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,i,a,c){return new c0(this.luminances,a,c,this.dataWidth,this.dataHeight,this.left+s,this.top+i)}invert(){return new V(this)}}class Ax extends G{static forName(s){return this.getCharacterSetECIByName(s)}}class u0{}u0.ISO_8859_1=G.ISO8859_1;class Nx{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class _x{static singletonList(s){return[s]}static min(s,i){return s.sort(i)[0]}}class b6{constructor(s){this.previous=s}getPrevious(){return this.previous}}class _a extends b6{constructor(s,i,a){super(s),this.value=i,this.bitCount=a}appendTo(s,i){s.appendBits(this.value,this.bitCount)}add(s,i){return new _a(this,s,i)}addBinaryShift(s,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new _a(this,s,i)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+I.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class d0 extends _a{constructor(s,i,a){super(s,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=a}appendTo(s,i){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):a===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(i[this.binaryShiftStart+a],8)}addBinaryShift(s,i){return new d0(this,s,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function E6(_,s,i){return new d0(_,s,i)}function ic(_,s,i){return new _a(_,s,i)}const S6=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Di=0,Ju=1,Kr=2,Tx=3,Ps=4,A6=new _a(null,0,0),f0=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function N6(_){for(let s of _)A.fill(s,-1);return _[Di][Ps]=0,_[Ju][Ps]=0,_[Ju][Di]=28,_[Tx][Ps]=0,_[Kr][Ps]=0,_[Kr][Di]=15,_}const Ix=N6(A.createInt32Array(6,6));class Ds{constructor(s,i,a,c){this.token=s,this.mode=i,this.binaryShiftByteCount=a,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,i){let a=this.bitCount,c=this.token;if(s!==this.mode){let f=f0[this.mode][s];c=ic(c,f&65535,f>>16),a+=f>>16}let u=s===Kr?4:5;return c=ic(c,i,u),new Ds(c,s,0,a+u)}shiftAndAppend(s,i){let a=this.token,c=this.mode===Kr?4:5;return a=ic(a,Ix[this.mode][s],c),a=ic(a,i,5),new Ds(a,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(s){let i=this.token,a=this.mode,c=this.bitCount;if(this.mode===Ps||this.mode===Kr){let p=f0[a][Di];i=ic(i,p&65535,p>>16),c+=p>>16,a=Di}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Ds(i,a,this.binaryShiftByteCount+1,c+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(s+1)),f}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=E6(i,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ds(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let i=this.bitCount+(f0[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?i+=Ds.calculateBinaryShiftCost(s)-Ds.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(i+=10),i<=s.bitCount}toBitArray(s){let i=[];for(let c=this.endBinaryShift(s.length).token;c!==null;c=c.getPrevious())i.unshift(c);let a=new M;for(const c of i)c.appendTo(a,s);return a}toString(){return Q.format("%s bits=%d bytes=%d",S6[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Ds.INITIAL_STATE=new Ds(A6,Di,0,0);function _6(_){const s=Q.getCharCode(" "),i=Q.getCharCode("."),a=Q.getCharCode(",");_[Di][s]=1;const c=Q.getCharCode("Z"),u=Q.getCharCode("A");for(let D=u;D<=c;D++)_[Di][D]=D-u+2;_[Ju][s]=1;const f=Q.getCharCode("z"),p=Q.getCharCode("a");for(let D=p;D<=f;D++)_[Ju][D]=D-p+2;_[Kr][s]=1;const y=Q.getCharCode("9"),w=Q.getCharCode("0");for(let D=w;D<=y;D++)_[Kr][D]=D-w+2;_[Kr][a]=12,_[Kr][i]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<E.length;D++)_[Tx][Q.getCharCode(E[D])]=D;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<T.length;D++)Q.getCharCode(T[D])>0&&(_[Ps][Q.getCharCode(T[D])]=D);return _}const h0=_6(A.createInt32Array(5,256));class oc{constructor(s){this.text=s}encode(){const s=Q.getCharCode(" "),i=Q.getCharCode(`
`);let a=_x.singletonList(Ds.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,p=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Q.getCharCode("\r"):f=p===i?2:0;break;case Q.getCharCode("."):f=p===s?3:0;break;case Q.getCharCode(","):f=p===s?4:0;break;case Q.getCharCode(":"):f=p===s?5:0;break;default:f=0}f>0?(a=oc.updateStateListForPair(a,u,f),u++):a=this.updateStateListForChar(a,u)}return _x.min(a,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,i){const a=[];for(let c of s)this.updateStateForChar(c,i,a);return oc.simplifyStates(a)}updateStateForChar(s,i,a){let c=this.text[i]&255,u=h0[s.getMode()][c]>0,f=null;for(let p=0;p<=Ps;p++){let y=h0[p][c];if(y>0){if(f==null&&(f=s.endBinaryShift(i)),!u||p===s.getMode()||p===Kr){const w=f.latchAndAppend(p,y);a.push(w)}if(!u&&Ix[s.getMode()][p]>=0){const w=f.shiftAndAppend(p,y);a.push(w)}}}if(s.getBinaryShiftByteCount()>0||h0[s.getMode()][c]===0){let p=s.addBinaryShiftChar(i);a.push(p)}}static updateStateListForPair(s,i,a){const c=[];for(let u of s)this.updateStateForPair(u,i,a,c);return this.simplifyStates(c)}static updateStateForPair(s,i,a,c){let u=s.endBinaryShift(i);if(c.push(u.latchAndAppend(Ps,a)),s.getMode()!==Ps&&c.push(u.shiftAndAppend(Ps,a)),a===3||a===4){let f=u.latchAndAppend(Kr,16-a).latchAndAppend(Kr,1);c.push(f)}if(s.getBinaryShiftByteCount()>0){let f=s.addBinaryShiftChar(i).addBinaryShiftChar(i+1);c.push(f)}}static simplifyStates(s){let i=[];for(const a of s){let c=!0;for(const u of i){if(u.isBetterThanOrEqualTo(a)){c=!1;break}a.isBetterThanOrEqualTo(u)&&(i=i.filter(f=>f!==u))}c&&i.push(a)}return i}}class Ct{constructor(){}static encodeBytes(s){return Ct.encode(s,Ct.DEFAULT_EC_PERCENT,Ct.DEFAULT_AZTEC_LAYERS)}static encode(s,i,a){let c=new oc(s).encode(),u=I.truncDivision(c.getSize()*i,100)+11,f=c.getSize()+u,p,y,w,E,T;if(a!==Ct.DEFAULT_AZTEC_LAYERS){if(p=a<0,y=Math.abs(a),y>(p?Ct.MAX_NB_BITS_COMPACT:Ct.MAX_NB_BITS))throw new C(Q.format("Illegal value %s for layers",a));w=Ct.totalBitsInLayer(y,p),E=Ct.WORD_SIZE[y];let de=w-w%E;if(T=Ct.stuffBits(c,E),T.getSize()+u>de)throw new C("Data to large for user specified layer");if(p&&T.getSize()>E*64)throw new C("Data to large for user specified layer")}else{E=0,T=null;for(let de=0;;de++){if(de>Ct.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(p=de<=3,y=p?de+1:de,w=Ct.totalBitsInLayer(y,p),f>w)continue;(T==null||E!==Ct.WORD_SIZE[y])&&(E=Ct.WORD_SIZE[y],T=Ct.stuffBits(c,E));let mt=w-w%E;if(!(p&&T.getSize()>E*64)&&T.getSize()+u<=mt)break}}let D=Ct.generateCheckWords(T,w,E),L=T.getSize()/E,U=Ct.generateModeMessage(p,y,L),H=(p?11:14)+y*4,q=new Int32Array(H),te;if(p){te=H;for(let de=0;de<q.length;de++)q[de]=de}else{te=H+1+2*I.truncDivision(I.truncDivision(H,2)-1,15);let de=I.truncDivision(H,2),mt=I.truncDivision(te,2);for(let Je=0;Je<de;Je++){let vr=Je+I.truncDivision(Je,15);q[de-Je-1]=mt-vr-1,q[de+Je]=mt+vr+1}}let pe=new se(te);for(let de=0,mt=0;de<y;de++){let Je=(y-de)*4+(p?9:12);for(let vr=0;vr<Je;vr++){let cs=vr*2;for(let wr=0;wr<2;wr++)D.get(mt+cs+wr)&&pe.set(q[de*2+wr],q[de*2+vr]),D.get(mt+Je*2+cs+wr)&&pe.set(q[de*2+vr],q[H-1-de*2-wr]),D.get(mt+Je*4+cs+wr)&&pe.set(q[H-1-de*2-wr],q[H-1-de*2-vr]),D.get(mt+Je*6+cs+wr)&&pe.set(q[H-1-de*2-vr],q[de*2+wr])}mt+=Je*8}if(Ct.drawModeMessage(pe,p,te,U),p)Ct.drawBullsEye(pe,I.truncDivision(te,2),5);else{Ct.drawBullsEye(pe,I.truncDivision(te,2),7);for(let de=0,mt=0;de<I.truncDivision(H,2)-1;de+=15,mt+=16)for(let Je=I.truncDivision(te,2)&1;Je<te;Je+=2)pe.set(I.truncDivision(te,2)-mt,Je),pe.set(I.truncDivision(te,2)+mt,Je),pe.set(Je,I.truncDivision(te,2)-mt),pe.set(Je,I.truncDivision(te,2)+mt)}let ge=new Nx;return ge.setCompact(p),ge.setSize(te),ge.setLayers(y),ge.setCodeWords(L),ge.setMatrix(pe),ge}static drawBullsEye(s,i,a){for(let c=0;c<a;c+=2)for(let u=i-c;u<=i+c;u++)s.set(u,i-c),s.set(u,i+c),s.set(i-c,u),s.set(i+c,u);s.set(i-a,i-a),s.set(i-a+1,i-a),s.set(i-a,i-a+1),s.set(i+a,i-a),s.set(i+a,i-a+1),s.set(i+a,i+a-1)}static generateModeMessage(s,i,a){let c=new M;return s?(c.appendBits(i-1,2),c.appendBits(a-1,6),c=Ct.generateCheckWords(c,28,4)):(c.appendBits(i-1,5),c.appendBits(a-1,11),c=Ct.generateCheckWords(c,40,4)),c}static drawModeMessage(s,i,a,c){let u=I.truncDivision(a,2);if(i)for(let f=0;f<7;f++){let p=u-3+f;c.get(f)&&s.set(p,u-5),c.get(f+7)&&s.set(u+5,p),c.get(20-f)&&s.set(p,u+5),c.get(27-f)&&s.set(u-5,p)}else for(let f=0;f<10;f++){let p=u-5+f+I.truncDivision(f,5);c.get(f)&&s.set(p,u-7),c.get(f+10)&&s.set(u+7,p),c.get(29-f)&&s.set(p,u+7),c.get(39-f)&&s.set(u-7,p)}}static generateCheckWords(s,i,a){let c=s.getSize()/a,u=new l0(Ct.getGF(a)),f=I.truncDivision(i,a),p=Ct.bitsToWords(s,a,f);u.encode(p,f-c);let y=i%a,w=new M;w.appendBits(0,y);for(const E of Array.from(p))w.appendBits(E,a);return w}static bitsToWords(s,i,a){let c=new Int32Array(a),u,f;for(u=0,f=s.getSize()/i;u<f;u++){let p=0;for(let y=0;y<i;y++)p|=s.get(u*i+y)?1<<i-y-1:0;c[u]=p}return c}static getGF(s){switch(s){case 4:return Ke.AZTEC_PARAM;case 6:return Ke.AZTEC_DATA_6;case 8:return Ke.AZTEC_DATA_8;case 10:return Ke.AZTEC_DATA_10;case 12:return Ke.AZTEC_DATA_12;default:throw new C("Unsupported word size "+s)}}static stuffBits(s,i){let a=new M,c=s.getSize(),u=(1<<i)-2;for(let f=0;f<c;f+=i){let p=0;for(let y=0;y<i;y++)(f+y>=c||s.get(f+y))&&(p|=1<<i-1-y);(p&u)===u?(a.appendBits(p&u,i),f--):p&u?a.appendBits(p,i):(a.appendBits(p|1,i),f--)}return a}static totalBitsInLayer(s,i){return((i?88:112)+16*s)*s}}Ct.DEFAULT_EC_PERCENT=33,Ct.DEFAULT_AZTEC_LAYERS=0,Ct.MAX_NB_BITS=32,Ct.MAX_NB_BITS_COMPACT=4,Ct.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ed{encode(s,i,a,c){return this.encodeWithHints(s,i,a,c,null)}encodeWithHints(s,i,a,c,u){let f=u0.ISO_8859_1,p=Ct.DEFAULT_EC_PERCENT,y=Ct.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(bn.CHARACTER_SET)&&(f=Ax.forName(u.get(bn.CHARACTER_SET).toString())),u.has(bn.ERROR_CORRECTION)&&(p=I.parseInt(u.get(bn.ERROR_CORRECTION).toString())),u.has(bn.AZTEC_LAYERS)&&(y=I.parseInt(u.get(bn.AZTEC_LAYERS).toString()))),ed.encodeLayers(s,i,a,c,f,p,y)}static encodeLayers(s,i,a,c,u,f,p){if(i!==Ee.AZTEC)throw new C("Can only encode AZTEC, but got "+i);let y=Ct.encode(Q.getBytes(s,u),f,p);return ed.renderResult(y,a,c)}static renderResult(s,i,a){let c=s.getMatrix();if(c==null)throw new In;let u=c.getWidth(),f=c.getHeight(),p=Math.max(i,u),y=Math.max(a,f),w=Math.min(p/u,y/f),E=(p-u*w)/2,T=(y-f*w)/2,D=new se(p,y);for(let L=0,U=T;L<f;L++,U+=w)for(let H=0,q=E;H<u;H++,q+=w)c.get(H,L)&&D.setRegion(q,U,w,w);return D}}n.AbstractExpandedDecoder=Qh,n.ArgumentException=v,n.ArithmeticException=ht,n.AztecCode=Nx,n.AztecCodeReader=dn,n.AztecCodeWriter=ed,n.AztecDecoder=_t,n.AztecDetector=Qt,n.AztecDetectorResult=J,n.AztecEncoder=Ct,n.AztecHighLevelEncoder=oc,n.AztecPoint=$e,n.BarcodeFormat=Ee,n.Binarizer=P,n.BinaryBitmap=S,n.BitArray=M,n.BitMatrix=se,n.BitSource=n0,n.BrowserAztecCodeReader=Zh,n.BrowserBarcodeReader=s6,n.BrowserCodeReader=rt,n.BrowserDatamatrixCodeReader=o6,n.BrowserMultiFormatReader=x6,n.BrowserPDF417Reader=y6,n.BrowserQRCodeReader=v6,n.BrowserQRCodeSvgWriter=ko,n.CharacterSetECI=G,n.ChecksumException=R,n.Code128Reader=we,n.Code39Reader=fn,n.DataMatrixDecodedBitStreamParser=Ii,n.DataMatrixReader=Ri,n.DecodeHintType=X,n.DecoderResult=ft,n.DefaultGridSampler=xe,n.DetectorResult=z,n.EAN13Reader=Io,n.EncodeHintType=bn,n.Exception=g,n.FormatException=B,n.GenericGF=Ke,n.GenericGFPoly=Ze,n.GlobalHistogramBinarizer=fe,n.GridSampler=Ae,n.GridSamplerInstance=Ne,n.HTMLCanvasElementLuminanceSource=ce,n.HybridBinarizer=ue,n.ITFReader=Tt,n.IllegalArgumentException=C,n.IllegalStateException=In,n.InvertedLuminanceSource=V,n.LuminanceSource=ne,n.MathUtils=st,n.MultiFormatOneDReader=Sa,n.MultiFormatReader=Sx,n.MultiFormatWriter=C6,n.NotFoundException=$,n.OneDReader=Zt,n.PDF417DecodedBitStreamParser=ee,n.PDF417DecoderErrorCorrection=yx,n.PDF417Reader=Ln,n.PDF417ResultMetadata=wx,n.PerspectiveTransform=ve,n.PlanarYUVLuminanceSource=Os,n.QRCodeByteMatrix=Qu,n.QRCodeDataMask=Xr,n.QRCodeDecodedBitStreamParser=Jt,n.QRCodeDecoderErrorCorrectionLevel=Ut,n.QRCodeDecoderFormatInformation=Xn,n.QRCodeEncoder=Wt,n.QRCodeEncoderQRCode=Do,n.QRCodeMaskUtil=an,n.QRCodeMatrixUtil=Ve,n.QRCodeMode=Be,n.QRCodeReader=Oi,n.QRCodeVersion=Fe,n.QRCodeWriter=Na,n.RGBLuminanceSource=c0,n.RSS14Reader=on,n.RSSExpandedReader=ae,n.ReaderException=Yu,n.ReedSolomonDecoder=pr,n.ReedSolomonEncoder=l0,n.ReedSolomonException=vn,n.Result=Ye,n.ResultMetadataType=We,n.ResultPoint=De,n.StringUtils=Q,n.UnsupportedOperationException=oe,n.VideoInputDevice=Ie,n.WhiteRectangleDetector=re,n.WriterException=Ft,n.ZXingArrays=A,n.ZXingCharset=Ax,n.ZXingInteger=I,n.ZXingStandardCharsets=u0,n.ZXingStringBuilder=ie,n.ZXingStringEncoding=ye,n.ZXingSystem=N,n.createAbstractExpandedDecoder=gx,Object.defineProperty(n,"__esModule",{value:!0})})})(Ym,Ym.exports);var $t=Ym.exports;const SF=ip($t),AF=uE({__proto__:null,default:SF},[$t]);var ov=function(){function e(t,n,r){if(this.formatMap=new Map([[Oe.QR_CODE,$t.BarcodeFormat.QR_CODE],[Oe.AZTEC,$t.BarcodeFormat.AZTEC],[Oe.CODABAR,$t.BarcodeFormat.CODABAR],[Oe.CODE_39,$t.BarcodeFormat.CODE_39],[Oe.CODE_93,$t.BarcodeFormat.CODE_93],[Oe.CODE_128,$t.BarcodeFormat.CODE_128],[Oe.DATA_MATRIX,$t.BarcodeFormat.DATA_MATRIX],[Oe.MAXICODE,$t.BarcodeFormat.MAXICODE],[Oe.ITF,$t.BarcodeFormat.ITF],[Oe.EAN_13,$t.BarcodeFormat.EAN_13],[Oe.EAN_8,$t.BarcodeFormat.EAN_8],[Oe.PDF_417,$t.BarcodeFormat.PDF_417],[Oe.RSS_14,$t.BarcodeFormat.RSS_14],[Oe.RSS_EXPANDED,$t.BarcodeFormat.RSS_EXPANDED],[Oe.UPC_A,$t.BarcodeFormat.UPC_A],[Oe.UPC_E,$t.BarcodeFormat.UPC_E],[Oe.UPC_EAN_EXTENSION,$t.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!AF)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var o=this.createZXingFormats(t),l=new Map;l.set($t.DecodeHintType.POSSIBLE_FORMATS,o),l.set($t.DecodeHintType.TRY_HARDER,!1),this.hints=l}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,o){try{r(n.decode(t))}catch(l){o(l)}})},e.prototype.decode=function(t){var n=new $t.MultiFormatReader(this.verbose,this.hints),r=new $t.HTMLCanvasElementLuminanceSource(t),o=new $t.BinaryBitmap(new $t.HybridBinarizer(r)),l=n.decode(o);return{text:l.text,format:gI.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var l=o[r];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),NF=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(v){try{g(r.next(v))}catch(C){d(C)}}function x(v){try{g(r.throw(v))}catch(C){d(C)}}function g(v){v.done?l(v.value):o(v.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},_F=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(v){return x([g,v])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},av=function(){function e(t,n,r){if(this.formatMap=new Map([[Oe.QR_CODE,"qr_code"],[Oe.AZTEC,"aztec"],[Oe.CODABAR,"codabar"],[Oe.CODE_39,"code_39"],[Oe.CODE_93,"code_93"],[Oe.CODE_128,"code_128"],[Oe.DATA_MATRIX,"data_matrix"],[Oe.ITF,"itf"],[Oe.EAN_13,"ean_13"],[Oe.EAN_8,"ean_8"],[Oe.PDF_417,"pdf417"],[Oe.UPC_A,"upc_a"],[Oe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var o=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return NF(this,void 0,void 0,function(){var n,r;return _F(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:gI.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,o=0,l=t;o<l.length;o++){var d=l[o],m=d.boundingBox.width*d.boundingBox.height;m>r&&(r=m,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var l=o[r];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),lv=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(v){try{g(r.next(v))}catch(C){d(C)}}function x(v){try{g(r.throw(v))}catch(C){d(C)}}function g(v){v.done?l(v.value):o(v.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},cv=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(v){return x([g,v])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},TF=function(){function e(t,n,r,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&av.isSupported()?(this.primaryDecoder=new av(t,r,o),this.secondaryDecoder=new ov(t,r,o)):this.primaryDecoder=new ov(t,r,o)}return e.prototype.decodeAsync=function(t){return lv(this,void 0,void 0,function(){var n;return cv(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return lv(this,void 0,void 0,function(){var n,r;return cv(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,o.sent()];case 3:if(r=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var o=r[n];t+=o}var l=t/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),rx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jf=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(v){try{g(r.next(v))}catch(C){d(C)}}function x(v){try{g(r.throw(v))}catch(C){d(C)}}function g(v){v.done?l(v.value):o(v.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},eh=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(v){return x([g,v])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},yI=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),IF=function(e){rx(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var o={advanced:[r]};return this.track.applyConstraints(o)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(yI),RF=function(e){rx(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(IF),OF=function(e){rx(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(yI),PF=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new RF(this.track)},e.prototype.torchFeature=function(){return new OF(this.track)},e}(),DF=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,o=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,o),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,o){return Jf(this,void 0,void 0,function(){var l,d;return eh(this,function(m){switch(m.label){case 0:return l=new e(t,n,o),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:m.sent(),m.label=2;case 2:return l.setupSurface(),[2,l]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Jf(this,void 0,void 0,function(){return eh(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var o=t.mediaStream.getVideoTracks(),l=o.length,d=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++d,d>=l&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new PF(this.getFirstTrackOrFail())},e}(),kF=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Jf(this,void 0,void 0,function(){return eh(this,function(o){return[2,DF.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Jf(this,void 0,void 0,function(){var n,r;return eh(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=o.sent(),[2,new e(r)]}})})},e}(),uv=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(v){try{g(r.next(v))}catch(C){d(C)}}function x(v){try{g(r.throw(v))}catch(C){d(C)}}function g(v){v.done?l(v.value):o(v.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},dv=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(v){return x([g,v])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},MF=function(){function e(){}return e.failIfNotSupported=function(){return uv(this,void 0,void 0,function(){return dv(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return uv(this,void 0,void 0,function(){return dv(this,function(n){return[2,kF.create(t)]})})},e}(),jF=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(v){try{g(r.next(v))}catch(C){d(C)}}function x(v){try{g(r.throw(v))}catch(C){d(C)}}function g(v){v.done?l(v.value):o(v.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},LF=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(v){return x([g,v])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},FF=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Ka.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Ka.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return jF(this,void 0,void 0,function(){var t,n,r,o,l,d,m;return LF(this,function(x){switch(x.label){case 0:return t=function(g){for(var v=g.getVideoTracks(),C=0,S=v;C<S.length;C++){var R=S[C];R.enabled=!1,R.stop(),g.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=x.sent(),o=[],l=0,d=r;l<d.length;l++)m=d[l],m.kind==="videoinput"&&o.push({id:m.deviceId,label:m.label});return t(n),[2,o]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(l){for(var d=[],m=0,x=l;m<x.length;m++){var g=x[m];g.kind==="video"&&d.push({id:g.id,label:g.label})}t(d)},o=MediaStreamTrack;o.getSources(r)})},e}(),cn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(cn||(cn={}));var BF=function(){function e(){this.state=cn.NOT_STARTED,this.onGoingTransactionNewState=cn.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===cn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=cn.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===cn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=cn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==cn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case cn.UNKNOWN:throw"Transition from unknown is not allowed";case cn.NOT_STARTED:this.failIfNewStateIs(t,[cn.PAUSED]);break;case cn.SCANNING:break;case cn.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,o=n;r<o.length;r++){var l=o[r];if(t===l)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),VF=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===cn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==cn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===cn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===cn.PAUSED},e}(),UF=function(){function e(){}return e.create=function(){return new VF(new BF)},e}(),zF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dr=function(e){zF(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(CF),WF=function(){function e(t,n){this.logger=n,this.fps=Dr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Dr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?xI.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ni(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),HF=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new EF(this.verbose),this.qrcode=new TF(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=UF.create()}return e.prototype.start=function(t,n,r,o){var l=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;o?d=o:d=this.verbose?this.logger.log:function(){};var m=WF.create(n,this.logger);this.clearElement();var x=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=x,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:Dr.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var C=this,S=this.stateManagerProxy.startTransition(cn.SCANNING);return new Promise(function(R,P){var N=g?m.videoConstraints:C.createVideoConstraints(t);if(!N){S.cancel(),P("videoConstraints should be defined");return}var k={};(!g||m.aspectRatio)&&(k.aspectRatio=m.aspectRatio);var O={onRenderSurfaceReady:function(A,I){C.setupUi(A,I,m),C.isScanning=!0,C.foreverScan(m,r,d)}};MF.failIfNotSupported().then(function(A){A.create(N).then(function(I){return I.render(l.element,k,O).then(function(M){C.renderedCamera=M,S.execute(),R(null)}).catch(function(M){S.cancel(),P(M)})}).catch(function(I){S.cancel(),P(Ka.errorGettingUserMedia(I))})}).catch(function(A){S.cancel(),P(Ka.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(cn.PAUSED),this.showPausedState(),(ni(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(cn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(cn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var l=document.getElementById(Dr.SHADED_REGION_ELEMENT_ID);l&&t.element.removeChild(l)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),r(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ni(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,l){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var m=d.width,x=d.height,g=document.getElementById(r.elementId),v=g.clientWidth?g.clientWidth:Dr.DEFAULT_WIDTH,C=Math.max(g.clientHeight?g.clientHeight:x,Dr.FILE_SCAN_MIN_HEIGHT),S=r.computeCanvasDrawConfig(m,x,v,C);if(n){var R=r.createCanvasElement(v,C,"qr-canvas-visible");R.style.display="inline-block",g.appendChild(R);var P=R.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=v,P.canvas.height=C,P.drawImage(d,0,0,m,x,S.x,S.y,S.width,S.height)}var N=Dr.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(d.width,S.width),O=Math.max(d.height,S.height),A=k+2*N,I=O+2*N,M=r.createCanvasElement(A,I);g.appendChild(M);var F=M.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=A,F.canvas.height=I,F.drawImage(d,0,0,m,x,N,N,k,O);try{r.qrcode.decodeRobustlyAsync(M).then(function(X){o(iv.createFromQrcodeResult(X))}).catch(l)}catch(X){l("QR code parse error, error = ".concat(X))}},d.onerror=l,d.onabort=l,d.onstalled=l,d.onsuspend=l,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return FF.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!xI.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Oe.QR_CODE,Oe.AZTEC,Oe.CODABAR,Oe.CODE_39,Oe.CODE_93,Oe.CODE_128,Oe.DATA_MATRIX,Oe.MAXICODE,Oe.ITF,Oe.EAN_13,Oe.EAN_8,Oe.PDF_417,Oe.RSS_14,Oe.RSS_EXPANDED,Oe.UPC_A,Oe.UPC_E,Oe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],o=0,l=t.formatsToSupport;o<l.length;o++){var d=l[o];wF(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ni(t))return!0;if(!ni(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ni(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ni(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var o=this,l=r.qrbox;this.validateQrboxConfig(l);var d=this.toQrdimensions(t,n,l),m=function(g){if(g<Dr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Dr.MIN_QR_BOX_SIZE,"px.")},x=function(g){return g>t&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};m(d.width),m(d.height),d.width=x(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var o=ni(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(o);var l=this.toQrdimensions(t,n,o);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&l.height<=n,m={x:0,y:0,width:t,height:n},x=d?this.getShadedRegionBounds(t,n,l):m,g=this.createCanvasElement(x.width,x.height),v={willReadFrequently:!0},C=g.getContext("2d",v);C.canvas.width=x.width,C.canvas.height=x.height,this.element.append(g),d&&this.possiblyInsertShadingElement(this.element,t,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=C,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Ka.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return t(o.text,iv.createFromQrcodeResult(o)),r.possiblyUpdateShaders(!0),!0}).catch(function(o){r.possiblyUpdateShaders(!1);var l=Ka.codeParseError(o);return n(l,bF.createFrom(l)),!1})},e.prototype.foreverScan=function(t,n,r){var o=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),d=l.videoWidth/l.clientWidth,m=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*d,g=this.qrRegion.height*m,v=this.qrRegion.x*d,C=this.qrRegion.y*m;this.context.drawImage(l,v,C,x,g,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(t,n,r)},o.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(R){!R&&t.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,r).finally(function(){S()})):S()}).catch(function(R){o.logger.logError("Error happend while scanning context",R),S()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",o={user:!0,environment:!0},l="exact",d=function(P){if(P in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var g=t.facingMode;if(typeof g=="string"){if(d(g))return{facingMode:g}}else if(typeof g=="object")if(l in g){if(d(g["".concat(l)]))return{facingMode:{exact:g["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var v=typeof g;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(l in C)return{deviceId:{exact:C["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var S=typeof C;throw"Invalid type of 'deviceId' = ".concat(S)}}}var R=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},e.prototype.computeCanvasDrawConfig=function(t,n,r,o){if(t<=r&&n<=o){var l=(r-t)/2,d=(o-n)/2;return{x:l,y:d,width:t,height:n}}else{var m=t,x=n;return t>r&&(n=r/t*n,t=r),n>o&&(t=o/n*t,n=o),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,o)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Dr.BORDER_SHADER_MATCH_COLOR:Dr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var o=t,l=n,d=document.createElement("canvas");return d.style.width="".concat(o,"px"),d.style.height="".concat(l,"px"),d.style.display="none",d.id=ni(r)?"qr-canvas":r,d},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,o){if(!(n-o.width<1||r-o.height<1)){var l=document.createElement("div");l.style.position="absolute";var d=(n-o.width)/2,m=(r-o.height)/2;if(l.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(Dr.SHADED_REGION_ELEMENT_ID),n-o.width<11||r-o.height<11)this.hasBorderShaders=!1;else{var x=5,g=40;this.insertShaderBorders(l,g,x,-x,null,0,!0),this.insertShaderBorders(l,g,x,-x,null,0,!1),this.insertShaderBorders(l,g,x,null,-x,0,!0),this.insertShaderBorders(l,g,x,null,-x,0,!1),this.insertShaderBorders(l,x,g+x,-x,null,-x,!0),this.insertShaderBorders(l,x,g+x,null,-x,-x,!0),this.insertShaderBorders(l,x,g+x,-x,null,-x,!1),this.insertShaderBorders(l,x,g+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(l)}},e.prototype.insertShaderBorders=function(t,n,r,o,l,d,m){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=Dr.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(r,"px"),o!==null&&(x.style.top="".concat(o,"px")),l!==null&&(x.style.bottom="".concat(l,"px")),m?x.style.left="".concat(d,"px"):x.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),fv;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(fv||(fv={}));function GF(){const[e,t]=b.useState("scanning"),[n,r]=b.useState(""),[o,l]=b.useState(!1),d=b.useRef(null),m=b.useRef(""),x=b.useRef(null),[g,v]=b.useState(!1);b.useEffect(()=>(C(),()=>{x.current&&clearTimeout(x.current),S()}),[]);const C=async()=>{try{const N=new HF("qr-reader");d.current=N;const k={fps:10,qrbox:{width:250,height:250}};await N.start({facingMode:"environment"},k,R,P),v(!0)}catch(N){console.error("Error starting scanner:",N),t("error"),r("Erro ao acessar câmera")}},S=async()=>{if(d.current)try{await d.current.stop(),d.current.clear()}catch(N){console.error("Error stopping scanner:",N)}},R=async N=>{if(o||m.current===N)return;l(!0),m.current=N;try{const O=localStorage.getItem("token"),I=await(await fetch("/api/verify-ticket",{method:"POST",headers:{"Content-Type":"application/json",...O&&{Authorization:`Bearer ${O}`}},body:JSON.stringify({qrCodeData:N})})).json();I.success?(t("success"),r(`✓ ${I.userName||"Verificado"}`)):(t("error"),r(I.message||"Erro"))}catch{t("error"),r("QR Code inválido")}const k=e==="error"?1500:800;x.current=setTimeout(()=>{t("scanning"),r(""),l(!1),setTimeout(()=>{m.current=""},3e3)},k)},P=N=>{};return h.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:h.jsxs("div",{className:"w-full max-w-sm",children:[h.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Verificar Ingresso"}),h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 relative min-h-[400px]",children:[h.jsx("div",{id:"qr-reader",className:"w-full",style:{display:e==="scanning"?"block":"none"}}),e==="scanning"&&!g&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Iniciando câmera..."})]})}),e==="success"&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-green-50/95",children:h.jsxs("div",{className:"text-center",children:[h.jsx(_h,{className:"h-16 w-16 text-green-500 mx-auto mb-2"}),h.jsx("h2",{className:"text-xl font-bold text-green-700",children:n})]})}),e==="error"&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-50/95",children:h.jsxs("div",{className:"text-center",children:[h.jsx(fg,{className:"h-16 w-16 text-red-500 mx-auto mb-2"}),h.jsx("p",{className:"text-red-600 font-semibold",children:n})]})}),o&&e==="scanning"&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/90",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]}),h.jsx("p",{className:"text-center text-gray-600 mt-4 text-sm",children:"Aponte a câmera para o QR Code do ingresso"})]})})}function $F(){const[e,t]=b.useState(""),{user:n}=No(),{toast:r}=Rr(),o=async()=>{if(!e){r({title:"Erro",description:"Por favor, insira o ID do usuário",variant:"destructive"});return}try{const l=await zn("POST",`/api/make-admin/${e}`);r({title:"Sucesso!",description:`Usuário ${l.user.name} agora é administrador`}),t("")}catch{r({title:"Erro",description:"Erro ao tornar usuário administrador",variant:"destructive"})}};return h.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:h.jsxs(Ot,{children:[h.jsxs(Qn,{children:[h.jsx(Jn,{children:"Teste de Administrador"}),h.jsx(KN,{children:"Use esta página para tornar um usuário administrador (apenas desenvolvimento)"})]}),h.jsxs(Pt,{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[h.jsx("p",{className:"text-sm font-medium",children:"Seu ID de usuário:"}),h.jsx("code",{className:"text-xs bg-white px-2 py-1 rounded mt-1 block",children:n==null?void 0:n.id}),h.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Status: ",n!=null&&n.isAdmin?"✅ Administrador":"❌ Usuário normal"]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Tornar usuário admin (insira o ID):"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(pt,{placeholder:"ID do usuário",value:e,onChange:l=>t(l.target.value),"data-testid":"input-user-id"}),h.jsx(ut,{onClick:o,"data-testid":"button-make-admin",children:"Tornar Admin"})]})]}),h.jsxs("div",{className:"text-xs text-gray-500 space-y-1 pt-4 border-t",children:[h.jsx("p",{children:"⚠️ Esta página está disponível apenas em desenvolvimento"}),h.jsx("p",{children:"Para testar: copie seu ID acima e cole no campo para se tornar admin"}),h.jsx("p",{children:"Depois faça logout e login novamente para ver as funcionalidades de admin"})]})]})]})})}const XF=h9,vI=b.createContext({}),Li=({...e})=>h.jsx(vI.Provider,{value:{name:e.name},children:h.jsx(x9,{...e})}),zh=()=>{const e=b.useContext(vI),t=b.useContext(wI),{getFieldState:n,formState:r}=Vh(),o=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:l}=t;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...o}},wI=b.createContext({}),ri=b.forwardRef(({className:e,...t},n)=>{const r=b.useId();return h.jsx(wI.Provider,{value:{id:r},children:h.jsx("div",{ref:n,className:Le("space-y-2",e),...t})})});ri.displayName="FormItem";const si=b.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:o}=zh();return h.jsx(Nt,{ref:n,className:Le(r&&"text-destructive",e),htmlFor:o,...t})});si.displayName="FormLabel";const ii=b.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:o,formMessageId:l}=zh();return h.jsx(J3,{ref:t,id:r,"aria-describedby":n?`${o} ${l}`:`${o}`,"aria-invalid":!!n,...e})});ii.displayName="FormControl";const ZF=b.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=zh();return h.jsx("p",{ref:n,id:r,className:Le("text-sm text-muted-foreground",e),...t})});ZF.displayName="FormDescription";const oi=b.forwardRef(({className:e,children:t,...n},r)=>{const{error:o,formMessageId:l}=zh(),d=o?String((o==null?void 0:o.message)??""):t;return d?h.jsx("p",{ref:r,id:l,className:Le("text-sm font-medium text-destructive",e),...n,children:d}):null});oi.displayName="FormMessage";const KF=qe.object({name:qe.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:qe.string().email("Email inválido"),emailConfirm:qe.string().email("Email inválido"),cpf:qe.string().regex(/^\d{3}\.\d{3}\.\d{3}-\d{2}$/,"CPF deve estar no formato 000.000.000-00"),partnerCompany:qe.string().min(2,"Empresa parceira é obrigatória"),birthDate:qe.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Data deve estar no formato AAAA-MM-DD"),address:qe.string().min(10,"Endereço deve ter pelo menos 10 caracteres"),phone:qe.string().regex(/^\(\d{2}\)\s\d{4,5}-\d{4}$/,"Telefone deve estar no formato (00) 00000-0000")}).refine(e=>e.email===e.emailConfirm,{message:"Os emails não coincidem",path:["emailConfirm"]});function qF(){var I;const[,e]=os(),t=K3(),n=new URLSearchParams(t).get("code"),[r,o]=b.useState(!1),[l,d]=b.useState(""),{isAuthenticated:m,isLoading:x,user:g}=No(),{toast:v}=Rr(),C=ua({resolver:Xg(KF),defaultValues:{name:"",email:"",emailConfirm:"",cpf:"",partnerCompany:"",birthDate:"",address:"",phone:""}});b.useEffect(()=>{if(g&&(C.setValue("email",g.email),C.setValue("emailConfirm",g.email),g.name&&C.setValue("name",g.name),g.cpf&&C.setValue("cpf",g.cpf),g.phone&&C.setValue("phone",g.phone),g.address&&C.setValue("address",g.address),g.birthDate)){const M=new Date(g.birthDate),F=`${M.getFullYear()}-${String(M.getMonth()+1).padStart(2,"0")}-${String(M.getDate()).padStart(2,"0")}`;C.setValue("birthDate",F)}},[g,C]),b.useEffect(()=>{!x&&!m&&n&&(v({title:"Login necessário",description:"Faça login para resgatar sua cortesia",variant:"destructive"}),localStorage.setItem("courtesyCode",n),e("/login"))},[x,m,n,e,v]),b.useEffect(()=>{if(m&&!n){const M=localStorage.getItem("courtesyCode");M&&(localStorage.removeItem("courtesyCode"),e(`/cortesia?code=${M}`))}},[m,n,e]);const{data:S,isLoading:R,error:P}=mo({queryKey:["/api/courtesy-links",n],queryFn:async()=>{if(!n)return null;const M=await fetch(`/api/courtesy-links/${n}`);if(!M.ok){const F=await M.json();throw new Error(F.message||"Link inválido")}return M.json()},enabled:!!n&&m}),N=Ar({mutationFn:async M=>await zn("POST","/api/courtesy/redeem",M),onSuccess:()=>{o(!0),v({title:"Cortesia resgatada com sucesso!",description:"Seu ingresso foi enviado para o email cadastrado."})},onError:M=>{v({title:"Erro ao resgatar cortesia",description:M.message,variant:"destructive"})}}),k=M=>{const F=M.replace(/\D/g,"");return F.length<=3?F:F.length<=6?`${F.slice(0,3)}.${F.slice(3)}`:F.length<=9?`${F.slice(0,3)}.${F.slice(3,6)}.${F.slice(6)}`:`${F.slice(0,3)}.${F.slice(3,6)}.${F.slice(6,9)}-${F.slice(9,11)}`},O=M=>{const F=M.replace(/\D/g,"");return F.length<=2?F:F.length<=6?`(${F.slice(0,2)}) ${F.slice(2)}`:F.length<=10?`(${F.slice(0,2)}) ${F.slice(2,6)}-${F.slice(6)}`:`(${F.slice(0,2)}) ${F.slice(2,7)}-${F.slice(7,11)}`},A=M=>{if(!n){v({title:"Código inválido",description:"Código de cortesia não encontrado",variant:"destructive"});return}N.mutate({...M,code:n})};return x?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx("p",{className:"text-gray-500",children:"Verificando autenticação..."})}):!m&&n?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx("p",{className:"text-gray-500",children:"Redirecionando para login..."})}):n?R?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx("p",{className:"text-gray-500",children:"Verificando código de cortesia..."})}):P||!S?h.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:h.jsx("div",{className:"max-w-lg mx-auto px-4",children:h.jsxs(Ot,{children:[h.jsxs(Qn,{className:"text-center",children:[h.jsx(fg,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),h.jsx(Jn,{children:"Código inválido"})]}),h.jsxs(Pt,{children:[h.jsx("p",{className:"text-center text-gray-600 mb-4",children:(P==null?void 0:P.message)||"Este código de cortesia não é válido ou já foi utilizado."}),h.jsx(ut,{className:"w-full",onClick:()=>e("/"),"data-testid":"button-home-error",children:"Voltar ao início"})]})]})})}):r?h.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:h.jsx("div",{className:"max-w-lg mx-auto px-4",children:h.jsxs(Ot,{children:[h.jsxs(Qn,{className:"text-center",children:[h.jsx(hg,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),h.jsx(Jn,{children:"Cortesia Resgatada!"})]}),h.jsxs(Pt,{className:"text-center",children:[h.jsx("p",{className:"text-gray-600 mb-4",children:"Seu ingresso foi enviado para o e-mail cadastrado."}),h.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Você pode acessar seus ingressos na página de perfil."}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ut,{className:"w-full",onClick:()=>e("/profile"),"data-testid":"button-profile",children:"Ver Meus Ingressos"}),h.jsx(ut,{variant:"outline",className:"w-full",onClick:()=>e("/"),"data-testid":"button-home-success",children:"Voltar ao Início"})]})]})]})})}):h.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:h.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[h.jsxs(Ot,{children:[h.jsxs(Qn,{children:[h.jsx("div",{className:"flex items-center justify-center mb-4",children:h.jsx(Ol,{className:"h-12 w-12 text-primary"})}),h.jsx(Jn,{className:"text-center text-2xl",children:"Resgate de Cortesia"}),S&&h.jsxs("div",{className:"mt-4 p-4 bg-primary/10 rounded-lg",children:[h.jsx("p",{className:"text-center font-semibold text-lg",children:(I=S.event)==null?void 0:I.title}),h.jsxs("p",{className:"text-center text-sm text-gray-600",children:[S.remainingTickets," ingresso(s) disponível(is)"]})]})]}),h.jsx(Pt,{children:h.jsx(XF,{...C,children:h.jsxs("form",{onSubmit:C.handleSubmit(A),className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(Li,{control:C.control,name:"name",render:({field:M})=>h.jsxs(ri,{children:[h.jsx(si,{children:"Nome Completo *"}),h.jsx(ii,{children:h.jsx(pt,{...M,"data-testid":"input-name"})}),h.jsx(oi,{})]})}),h.jsx(Li,{control:C.control,name:"cpf",render:({field:M})=>h.jsxs(ri,{children:[h.jsx(si,{children:"CPF *"}),h.jsx(ii,{children:h.jsx(pt,{...M,onChange:F=>M.onChange(k(F.target.value)),maxLength:14,"data-testid":"input-cpf"})}),h.jsx(oi,{})]})}),h.jsx(Li,{control:C.control,name:"email",render:({field:M})=>h.jsxs(ri,{children:[h.jsx(si,{children:"E-mail *"}),h.jsx(ii,{children:h.jsx(pt,{...M,type:"email","data-testid":"input-email"})}),h.jsx(oi,{})]})}),h.jsx(Li,{control:C.control,name:"emailConfirm",render:({field:M})=>h.jsxs(ri,{children:[h.jsx(si,{children:"Confirmar E-mail *"}),h.jsx(ii,{children:h.jsx(pt,{...M,type:"email","data-testid":"input-email-confirm"})}),h.jsx(oi,{})]})}),h.jsx(Li,{control:C.control,name:"phone",render:({field:M})=>h.jsxs(ri,{children:[h.jsx(si,{children:"Telefone *"}),h.jsx(ii,{children:h.jsx(pt,{...M,onChange:F=>M.onChange(O(F.target.value)),maxLength:15,"data-testid":"input-phone"})}),h.jsx(oi,{})]})}),h.jsx(Li,{control:C.control,name:"birthDate",render:({field:M})=>h.jsxs(ri,{children:[h.jsx(si,{children:"Data de Nascimento *"}),h.jsx(ii,{children:h.jsx(pt,{...M,type:"date","data-testid":"input-birth-date"})}),h.jsx(oi,{})]})}),h.jsx(Li,{control:C.control,name:"partnerCompany",render:({field:M})=>h.jsxs(ri,{className:"md:col-span-2",children:[h.jsx(si,{children:"Empresa Parceira *"}),h.jsx(ii,{children:h.jsx(pt,{...M,"data-testid":"input-partner-company"})}),h.jsx(oi,{})]})}),h.jsx(Li,{control:C.control,name:"address",render:({field:M})=>h.jsxs(ri,{className:"md:col-span-2",children:[h.jsx(si,{children:"Endereço Residencial *"}),h.jsx(ii,{children:h.jsx(pt,{...M,"data-testid":"input-address"})}),h.jsx(oi,{})]})})]}),h.jsx("div",{className:"pt-4",children:h.jsx(ut,{type:"submit",className:"w-full",disabled:N.isPending,"data-testid":"button-redeem",children:N.isPending?"Resgatando...":"Resgatar Cortesia"})})]})})})]}),h.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:h.jsxs("p",{children:["Dúvidas? Entre em contato pelo telefone: ",h.jsx("strong",{children:"0800 000 0000"})]})})]})}):h.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:h.jsx("div",{className:"max-w-lg mx-auto px-4",children:h.jsxs(Ot,{children:[h.jsxs(Qn,{className:"text-center",children:[h.jsx(Ol,{className:"h-12 w-12 text-primary mx-auto mb-4"}),h.jsx(Jn,{children:"Resgate de Cortesia"})]}),h.jsxs(Pt,{children:[h.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Insira o código de cortesia recebido:"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(pt,{type:"text",placeholder:"Digite o código (ex: CDPI12345ABC)",value:l,onChange:M=>d(M.target.value.toUpperCase()),className:"text-center font-mono text-lg","data-testid":"input-courtesy-code"}),h.jsx(ut,{className:"w-full",onClick:()=>{l.trim()?e(`/cortesia?code=${l.trim()}`):v({title:"Código inválido",description:"Por favor, insira um código válido",variant:"destructive"})},disabled:!l.trim(),"data-testid":"button-submit-code",children:"Continuar"}),h.jsx(ut,{variant:"outline",className:"w-full",onClick:()=>e("/"),"data-testid":"button-home",children:"Voltar ao início"})]})]})]})})})}function hv(e,[t,n]){return Math.min(n,Math.max(t,e))}var YF=[" ","Enter","ArrowUp","ArrowDown"],QF=[" ","Enter"],Wu="Select",[Wh,Hh,JF]=Eh(Wu),[Yl,iU]=Gr(Wu,[JF,Kl]),Gh=Kl(),[eB,_o]=Yl(Wu),[tB,nB]=Yl(Wu),CI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:l,value:d,defaultValue:m,onValueChange:x,dir:g,name:v,autoComplete:C,disabled:S,required:R,form:P}=e,N=Gh(t),[k,O]=b.useState(null),[A,I]=b.useState(null),[M,F]=b.useState(!1),X=jh(g),[B=!1,K]=po({prop:r,defaultProp:o,onChange:l}),[G,oe]=po({prop:d,defaultProp:m,onChange:x}),ye=b.useRef(null),Q=k?P||!!k.closest("form"):!0,[ie,se]=b.useState(new Set),$=Array.from(ie).map(fe=>fe.props.value).join(";");return h.jsx(lN,{...N,children:h.jsxs(eB,{required:R,scope:t,trigger:k,onTriggerChange:O,valueNode:A,onValueNodeChange:I,valueNodeHasChildren:M,onValueNodeHasChildrenChange:F,contentId:Gs(),value:G,onValueChange:oe,open:B,onOpenChange:K,dir:X,triggerPointerDownPosRef:ye,disabled:S,children:[h.jsx(Wh.Provider,{scope:t,children:h.jsx(tB,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(fe=>{se(ue=>new Set(ue).add(fe))},[]),onNativeOptionRemove:b.useCallback(fe=>{se(ue=>{const ne=new Set(ue);return ne.delete(fe),ne})},[]),children:n})}),Q?h.jsxs($I,{"aria-hidden":!0,required:R,tabIndex:-1,name:v,autoComplete:C,value:G,onChange:fe=>oe(fe.target.value),disabled:S,form:P,children:[G===void 0?h.jsx("option",{value:""}):null,Array.from(ie)]},$):null]})})};CI.displayName=Wu;var bI="SelectTrigger",EI=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,l=Gh(n),d=_o(bI,n),m=d.disabled||r,x=vt(t,d.onTriggerChange),g=Hh(n),v=b.useRef("touch"),[C,S,R]=XI(N=>{const k=g().filter(I=>!I.disabled),O=k.find(I=>I.value===d.value),A=ZI(k,N,O);A!==void 0&&d.onValueChange(A.value)}),P=N=>{m||(d.onOpenChange(!0),R()),N&&(d.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return h.jsx(Sg,{asChild:!0,...l,children:h.jsx(ze.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":GI(d.value)?"":void 0,...o,ref:x,onClick:Ce(o.onClick,N=>{N.currentTarget.focus(),v.current!=="mouse"&&P(N)}),onPointerDown:Ce(o.onPointerDown,N=>{v.current=N.pointerType;const k=N.target;k.hasPointerCapture(N.pointerId)&&k.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(P(N),N.preventDefault())}),onKeyDown:Ce(o.onKeyDown,N=>{const k=C.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&S(N.key),!(k&&N.key===" ")&&YF.includes(N.key)&&(P(),N.preventDefault())})})})});EI.displayName=bI;var SI="SelectValue",AI=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:l,placeholder:d="",...m}=e,x=_o(SI,n),{onValueNodeHasChildrenChange:g}=x,v=l!==void 0,C=vt(t,x.onValueNodeChange);return Tn(()=>{g(v)},[g,v]),h.jsx(ze.span,{...m,ref:C,style:{pointerEvents:"none"},children:GI(x.value)?h.jsx(h.Fragment,{children:d}):l})});AI.displayName=SI;var rB="SelectIcon",NI=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return h.jsx(ze.span,{"aria-hidden":!0,...o,ref:t,children:r||"▼"})});NI.displayName=rB;var sB="SelectPortal",_I=e=>h.jsx(Mu,{asChild:!0,...e});_I.displayName=sB;var pa="SelectContent",TI=b.forwardRef((e,t)=>{const n=_o(pa,e.__scopeSelect),[r,o]=b.useState();if(Tn(()=>{o(new DocumentFragment)},[]),!n.open){const l=r;return l?ya.createPortal(h.jsx(II,{scope:e.__scopeSelect,children:h.jsx(Wh.Slot,{scope:e.__scopeSelect,children:h.jsx("div",{children:e.children})})}),l):null}return h.jsx(RI,{...e,ref:t})});TI.displayName=pa;var ds=10,[II,To]=Yl(pa),iB="SelectContentImpl",oB=aa("SelectContent.RemoveScroll"),RI=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:d,side:m,sideOffset:x,align:g,alignOffset:v,arrowPadding:C,collisionBoundary:S,collisionPadding:R,sticky:P,hideWhenDetached:N,avoidCollisions:k,...O}=e,A=_o(pa,n),[I,M]=b.useState(null),[F,X]=b.useState(null),B=vt(t,ke=>M(ke)),[K,G]=b.useState(null),[oe,ye]=b.useState(null),Q=Hh(n),[ie,se]=b.useState(!1),$=b.useRef(!1);b.useEffect(()=>{if(I)return Rg(I)},[I]),Ig();const fe=b.useCallback(ke=>{const[We,...ft]=Q().map(ht=>ht.ref.current),[ct]=ft.slice(-1),Ze=document.activeElement;for(const ht of ke)if(ht===Ze||(ht==null||ht.scrollIntoView({block:"nearest"}),ht===We&&F&&(F.scrollTop=0),ht===ct&&F&&(F.scrollTop=F.scrollHeight),ht==null||ht.focus(),document.activeElement!==Ze))return},[Q,F]),ue=b.useCallback(()=>fe([K,I]),[fe,K,I]);b.useEffect(()=>{ie&&ue()},[ie,ue]);const{onOpenChange:ne,triggerPointerDownPosRef:V}=A;b.useEffect(()=>{if(I){let ke={x:0,y:0};const We=ct=>{var Ze,ht;ke={x:Math.abs(Math.round(ct.pageX)-(((Ze=V.current)==null?void 0:Ze.x)??0)),y:Math.abs(Math.round(ct.pageY)-(((ht=V.current)==null?void 0:ht.y)??0))}},ft=ct=>{ke.x<=10&&ke.y<=10?ct.preventDefault():I.contains(ct.target)||ne(!1),document.removeEventListener("pointermove",We),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",We),document.addEventListener("pointerup",ft,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",We),document.removeEventListener("pointerup",ft,{capture:!0})}}},[I,ne,V]),b.useEffect(()=>{const ke=()=>ne(!1);return window.addEventListener("blur",ke),window.addEventListener("resize",ke),()=>{window.removeEventListener("blur",ke),window.removeEventListener("resize",ke)}},[ne]);const[ce,Ie]=XI(ke=>{const We=Q().filter(Ze=>!Ze.disabled),ft=We.find(Ze=>Ze.ref.current===document.activeElement),ct=ZI(We,ke,ft);ct&&setTimeout(()=>ct.ref.current.focus())}),Me=b.useCallback((ke,We,ft)=>{const ct=!$.current&&!ft;(A.value!==void 0&&A.value===We||ct)&&(G(ke),ct&&($.current=!0))},[A.value]),rt=b.useCallback(()=>I==null?void 0:I.focus(),[I]),Ye=b.useCallback((ke,We,ft)=>{const ct=!$.current&&!ft;(A.value!==void 0&&A.value===We||ct)&&ye(ke)},[A.value]),yn=r==="popper"?Qm:OI,Ee=yn===Qm?{side:m,sideOffset:x,align:g,alignOffset:v,arrowPadding:C,collisionBoundary:S,collisionPadding:R,sticky:P,hideWhenDetached:N,avoidCollisions:k}:{};return h.jsx(II,{scope:n,content:I,viewport:F,onViewportChange:X,itemRefCallback:Me,selectedItem:K,onItemLeave:rt,itemTextRefCallback:Ye,focusSelectedItem:ue,selectedItemText:oe,position:r,isPositioned:ie,searchRef:ce,children:h.jsx(Mh,{as:oB,allowPinchZoom:!0,children:h.jsx(Dh,{asChild:!0,trapped:A.open,onMountAutoFocus:ke=>{ke.preventDefault()},onUnmountAutoFocus:Ce(o,ke=>{var We;(We=A.trigger)==null||We.focus({preventScroll:!0}),ke.preventDefault()}),children:h.jsx(Gl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:ke=>ke.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:h.jsx(yn,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:ke=>ke.preventDefault(),...O,...Ee,onPlaced:()=>se(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:Ce(O.onKeyDown,ke=>{const We=ke.ctrlKey||ke.altKey||ke.metaKey;if(ke.key==="Tab"&&ke.preventDefault(),!We&&ke.key.length===1&&Ie(ke.key),["ArrowUp","ArrowDown","Home","End"].includes(ke.key)){let ct=Q().filter(Ze=>!Ze.disabled).map(Ze=>Ze.ref.current);if(["ArrowUp","End"].includes(ke.key)&&(ct=ct.slice().reverse()),["ArrowUp","ArrowDown"].includes(ke.key)){const Ze=ke.target,ht=ct.indexOf(Ze);ct=ct.slice(ht+1)}setTimeout(()=>fe(ct)),ke.preventDefault()}})})})})})})});RI.displayName=iB;var aB="SelectItemAlignedPosition",OI=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,l=_o(pa,n),d=To(pa,n),[m,x]=b.useState(null),[g,v]=b.useState(null),C=vt(t,B=>v(B)),S=Hh(n),R=b.useRef(!1),P=b.useRef(!0),{viewport:N,selectedItem:k,selectedItemText:O,focusSelectedItem:A}=d,I=b.useCallback(()=>{if(l.trigger&&l.valueNode&&m&&g&&N&&k&&O){const B=l.trigger.getBoundingClientRect(),K=g.getBoundingClientRect(),G=l.valueNode.getBoundingClientRect(),oe=O.getBoundingClientRect();if(l.dir!=="rtl"){const Ze=oe.left-K.left,ht=G.left-Ze,Ke=B.left-ht,vn=B.width+Ke,In=Math.max(vn,K.width),pr=window.innerWidth-ds,Vt=hv(ht,[ds,Math.max(ds,pr-In)]);m.style.minWidth=vn+"px",m.style.left=Vt+"px"}else{const Ze=K.right-oe.right,ht=window.innerWidth-G.right-Ze,Ke=window.innerWidth-B.right-ht,vn=B.width+Ke,In=Math.max(vn,K.width),pr=window.innerWidth-ds,Vt=hv(ht,[ds,Math.max(ds,pr-In)]);m.style.minWidth=vn+"px",m.style.right=Vt+"px"}const ye=S(),Q=window.innerHeight-ds*2,ie=N.scrollHeight,se=window.getComputedStyle(g),$=parseInt(se.borderTopWidth,10),fe=parseInt(se.paddingTop,10),ue=parseInt(se.borderBottomWidth,10),ne=parseInt(se.paddingBottom,10),V=$+fe+ie+ne+ue,ce=Math.min(k.offsetHeight*5,V),Ie=window.getComputedStyle(N),Me=parseInt(Ie.paddingTop,10),rt=parseInt(Ie.paddingBottom,10),Ye=B.top+B.height/2-ds,yn=Q-Ye,Ee=k.offsetHeight/2,ke=k.offsetTop+Ee,We=$+fe+ke,ft=V-We;if(We<=Ye){const Ze=ye.length>0&&k===ye[ye.length-1].ref.current;m.style.bottom="0px";const ht=g.clientHeight-N.offsetTop-N.offsetHeight,Ke=Math.max(yn,Ee+(Ze?rt:0)+ht+ue),vn=We+Ke;m.style.height=vn+"px"}else{const Ze=ye.length>0&&k===ye[0].ref.current;m.style.top="0px";const Ke=Math.max(Ye,$+N.offsetTop+(Ze?Me:0)+Ee)+ft;m.style.height=Ke+"px",N.scrollTop=We-Ye+N.offsetTop}m.style.margin=`${ds}px 0`,m.style.minHeight=ce+"px",m.style.maxHeight=Q+"px",r==null||r(),requestAnimationFrame(()=>R.current=!0)}},[S,l.trigger,l.valueNode,m,g,N,k,O,l.dir,r]);Tn(()=>I(),[I]);const[M,F]=b.useState();Tn(()=>{g&&F(window.getComputedStyle(g).zIndex)},[g]);const X=b.useCallback(B=>{B&&P.current===!0&&(I(),A==null||A(),P.current=!1)},[I,A]);return h.jsx(cB,{scope:n,contentWrapper:m,shouldExpandOnScrollRef:R,onScrollButtonChange:X,children:h.jsx("div",{ref:x,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:h.jsx(ze.div,{...o,ref:C,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});OI.displayName=aB;var lB="SelectPopperPosition",Qm=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=ds,...l}=e,d=Gh(n);return h.jsx(Ag,{...d,...l,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qm.displayName=lB;var[cB,sx]=Yl(pa,{}),Jm="SelectViewport",PI=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,l=To(Jm,n),d=sx(Jm,n),m=vt(t,l.onViewportChange),x=b.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(Wh.Slot,{scope:n,children:h.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ce(o.onScroll,g=>{const v=g.currentTarget,{contentWrapper:C,shouldExpandOnScrollRef:S}=d;if(S!=null&&S.current&&C){const R=Math.abs(x.current-v.scrollTop);if(R>0){const P=window.innerHeight-ds*2,N=parseFloat(C.style.minHeight),k=parseFloat(C.style.height),O=Math.max(N,k);if(O<P){const A=O+R,I=Math.min(P,A),M=A-I;C.style.height=I+"px",C.style.bottom==="0px"&&(v.scrollTop=M>0?M:0,C.style.justifyContent="flex-end")}}}x.current=v.scrollTop})})})]})});PI.displayName=Jm;var DI="SelectGroup",[uB,dB]=Yl(DI),fB=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Gs();return h.jsx(uB,{scope:n,id:o,children:h.jsx(ze.div,{role:"group","aria-labelledby":o,...r,ref:t})})});fB.displayName=DI;var kI="SelectLabel",MI=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=dB(kI,n);return h.jsx(ze.div,{id:o.id,...r,ref:t})});MI.displayName=kI;var th="SelectItem",[hB,jI]=Yl(th),LI=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:l,...d}=e,m=_o(th,n),x=To(th,n),g=m.value===r,[v,C]=b.useState(l??""),[S,R]=b.useState(!1),P=vt(t,A=>{var I;return(I=x.itemRefCallback)==null?void 0:I.call(x,A,r,o)}),N=Gs(),k=b.useRef("touch"),O=()=>{o||(m.onValueChange(r),m.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(hB,{scope:n,value:r,disabled:o,textId:N,isSelected:g,onItemTextChange:b.useCallback(A=>{C(I=>I||((A==null?void 0:A.textContent)??"").trim())},[]),children:h.jsx(Wh.ItemSlot,{scope:n,value:r,disabled:o,textValue:v,children:h.jsx(ze.div,{role:"option","aria-labelledby":N,"data-highlighted":S?"":void 0,"aria-selected":g&&S,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:P,onFocus:Ce(d.onFocus,()=>R(!0)),onBlur:Ce(d.onBlur,()=>R(!1)),onClick:Ce(d.onClick,()=>{k.current!=="mouse"&&O()}),onPointerUp:Ce(d.onPointerUp,()=>{k.current==="mouse"&&O()}),onPointerDown:Ce(d.onPointerDown,A=>{k.current=A.pointerType}),onPointerMove:Ce(d.onPointerMove,A=>{var I;k.current=A.pointerType,o?(I=x.onItemLeave)==null||I.call(x):k.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(d.onPointerLeave,A=>{var I;A.currentTarget===document.activeElement&&((I=x.onItemLeave)==null||I.call(x))}),onKeyDown:Ce(d.onKeyDown,A=>{var M;((M=x.searchRef)==null?void 0:M.current)!==""&&A.key===" "||(QF.includes(A.key)&&O(),A.key===" "&&A.preventDefault())})})})})});LI.displayName=th;var Tc="SelectItemText",FI=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...l}=e,d=_o(Tc,n),m=To(Tc,n),x=jI(Tc,n),g=nB(Tc,n),[v,C]=b.useState(null),S=vt(t,O=>C(O),x.onItemTextChange,O=>{var A;return(A=m.itemTextRefCallback)==null?void 0:A.call(m,O,x.value,x.disabled)}),R=v==null?void 0:v.textContent,P=b.useMemo(()=>h.jsx("option",{value:x.value,disabled:x.disabled,children:R},x.value),[x.disabled,x.value,R]),{onNativeOptionAdd:N,onNativeOptionRemove:k}=g;return Tn(()=>(N(P),()=>k(P)),[N,k,P]),h.jsxs(h.Fragment,{children:[h.jsx(ze.span,{id:x.textId,...l,ref:S}),x.isSelected&&d.valueNode&&!d.valueNodeHasChildren?ya.createPortal(l.children,d.valueNode):null]})});FI.displayName=Tc;var BI="SelectItemIndicator",VI=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return jI(BI,n).isSelected?h.jsx(ze.span,{"aria-hidden":!0,...r,ref:t}):null});VI.displayName=BI;var ep="SelectScrollUpButton",UI=b.forwardRef((e,t)=>{const n=To(ep,e.__scopeSelect),r=sx(ep,e.__scopeSelect),[o,l]=b.useState(!1),d=vt(t,r.onScrollButtonChange);return Tn(()=>{if(n.viewport&&n.isPositioned){let m=function(){const g=x.scrollTop>0;l(g)};const x=n.viewport;return m(),x.addEventListener("scroll",m),()=>x.removeEventListener("scroll",m)}},[n.viewport,n.isPositioned]),o?h.jsx(WI,{...e,ref:d,onAutoScroll:()=>{const{viewport:m,selectedItem:x}=n;m&&x&&(m.scrollTop=m.scrollTop-x.offsetHeight)}}):null});UI.displayName=ep;var tp="SelectScrollDownButton",zI=b.forwardRef((e,t)=>{const n=To(tp,e.__scopeSelect),r=sx(tp,e.__scopeSelect),[o,l]=b.useState(!1),d=vt(t,r.onScrollButtonChange);return Tn(()=>{if(n.viewport&&n.isPositioned){let m=function(){const g=x.scrollHeight-x.clientHeight,v=Math.ceil(x.scrollTop)<g;l(v)};const x=n.viewport;return m(),x.addEventListener("scroll",m),()=>x.removeEventListener("scroll",m)}},[n.viewport,n.isPositioned]),o?h.jsx(WI,{...e,ref:d,onAutoScroll:()=>{const{viewport:m,selectedItem:x}=n;m&&x&&(m.scrollTop=m.scrollTop+x.offsetHeight)}}):null});zI.displayName=tp;var WI=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,l=To("SelectScrollButton",n),d=b.useRef(null),m=Hh(n),x=b.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return b.useEffect(()=>()=>x(),[x]),Tn(()=>{var v;const g=m().find(C=>C.ref.current===document.activeElement);(v=g==null?void 0:g.ref.current)==null||v.scrollIntoView({block:"nearest"})},[m]),h.jsx(ze.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Ce(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(r,50))}),onPointerMove:Ce(o.onPointerMove,()=>{var g;(g=l.onItemLeave)==null||g.call(l),d.current===null&&(d.current=window.setInterval(r,50))}),onPointerLeave:Ce(o.onPointerLeave,()=>{x()})})}),mB="SelectSeparator",HI=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return h.jsx(ze.div,{"aria-hidden":!0,...r,ref:t})});HI.displayName=mB;var np="SelectArrow",pB=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Gh(n),l=_o(np,n),d=To(np,n);return l.open&&d.position==="popper"?h.jsx(Ng,{...o,...r,ref:t}):null});pB.displayName=np;function GI(e){return e===""||e===void 0}var $I=b.forwardRef((e,t)=>{const{value:n,...r}=e,o=b.useRef(null),l=vt(t,o),d=M_(n);return b.useEffect(()=>{const m=o.current,x=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(x,"value").set;if(d!==n&&v){const C=new Event("change",{bubbles:!0});v.call(m,n),m.dispatchEvent(C)}},[d,n]),h.jsx(ju,{asChild:!0,children:h.jsx("select",{...r,ref:l,defaultValue:n})})});$I.displayName="BubbleSelect";function XI(e){const t=Gn(e),n=b.useRef(""),r=b.useRef(0),o=b.useCallback(d=>{const m=n.current+d;t(m),function x(g){n.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>x(""),1e3))}(m)},[t]),l=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,l]}function ZI(e,t,n){const o=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let d=gB(e,Math.max(l,0));o.length===1&&(d=d.filter(g=>g!==n));const x=d.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return x!==n?x:void 0}function gB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var xB=CI,KI=EI,yB=AI,vB=NI,wB=_I,qI=TI,CB=PI,YI=MI,QI=LI,bB=FI,EB=VI,JI=UI,e8=zI,t8=HI;const SB=xB,AB=yB,n8=b.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(KI,{ref:r,className:Le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,h.jsx(vB,{asChild:!0,children:h.jsx(Vc,{className:"h-4 w-4 opacity-50"})})]}));n8.displayName=KI.displayName;const r8=b.forwardRef(({className:e,...t},n)=>h.jsx(JI,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(Yd,{className:"h-4 w-4"})}));r8.displayName=JI.displayName;const s8=b.forwardRef(({className:e,...t},n)=>h.jsx(e8,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(Vc,{className:"h-4 w-4"})}));s8.displayName=e8.displayName;const i8=b.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>h.jsx(wB,{children:h.jsxs(qI,{ref:o,className:Le("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[h.jsx(r8,{}),h.jsx(CB,{className:Le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),h.jsx(s8,{})]})}));i8.displayName=qI.displayName;const NB=b.forwardRef(({className:e,...t},n)=>h.jsx(YI,{ref:n,className:Le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));NB.displayName=YI.displayName;const o8=b.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(QI,{ref:r,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(EB,{children:h.jsx(_h,{className:"h-4 w-4"})})}),h.jsx(bB,{children:t})]}));o8.displayName=QI.displayName;const _B=b.forwardRef(({className:e,...t},n)=>h.jsx(t8,{ref:n,className:Le("-mx-1 my-1 h-px bg-muted",e),...t}));_B.displayName=t8.displayName;function TB(){const[e,t]=b.useState(""),[n,r]=b.useState("1"),[o,l]=b.useState(null),{toast:d}=Rr(),m=sg(),{data:x}=mo({queryKey:["/api/events"]}),{data:g,isLoading:v}=mo({queryKey:["/api/courtesy-links"],retry:!1}),C=Ar({mutationFn:async P=>await zn("POST","/api/courtesy-links",P),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/courtesy-links"]}),d({title:"Link criado com sucesso!",description:"O link de cortesia foi gerado e está pronto para uso."}),t(""),r("1")},onError:P=>{d({title:"Erro ao criar link",description:P.message,variant:"destructive"})}}),S=()=>{if(!e){d({title:"Selecione um evento",description:"Por favor, selecione um evento para o link de cortesia",variant:"destructive"});return}C.mutate({eventId:e,ticketCount:parseInt(n)})},R=async P=>{try{await navigator.clipboard.writeText(P),l(P),d({title:"Link copiado!",description:"O link foi copiado para a área de transferência"}),setTimeout(()=>l(null),3e3)}catch{d({title:"Erro ao copiar",description:"Não foi possível copiar o link",variant:"destructive"})}};return h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[h.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Gerenciar Links de Cortesia"}),h.jsxs(Ot,{className:"mb-8",children:[h.jsx(Qn,{children:h.jsxs(Jn,{className:"flex items-center gap-2",children:[h.jsx(Ol,{className:"h-5 w-5"}),"Criar Novo Link de Cortesia"]})}),h.jsx(Pt,{children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Nt,{htmlFor:"event",children:"Evento"}),h.jsxs(SB,{value:e,onValueChange:t,children:[h.jsx(n8,{id:"event","data-testid":"select-event",children:h.jsx(AB,{placeholder:"Selecione um evento"})}),h.jsx(i8,{children:x==null?void 0:x.map(P=>h.jsx(o8,{value:P.id,children:P.title},P.id))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Nt,{htmlFor:"tickets",children:"Quantidade de Ingressos"}),h.jsx(pt,{id:"tickets",type:"number",min:"1",max:"100",value:n,onChange:P=>r(P.target.value),"data-testid":"input-ticket-count"})]}),h.jsx("div",{className:"flex items-end",children:h.jsx(ut,{onClick:S,disabled:C.isPending,className:"w-full","data-testid":"button-create-link",children:C.isPending?"Criando...":"Criar Link"})})]})})]}),h.jsxs(Ot,{children:[h.jsx(Qn,{children:h.jsxs(Jn,{className:"flex items-center gap-2",children:[h.jsx(AD,{className:"h-5 w-5"}),"Links de Cortesia Criados"]})}),h.jsx(Pt,{children:v?h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-gray-500",children:"Carregando links..."})}):g&&g.length>0?h.jsx("div",{className:"space-y-4",children:g.map(P=>{var N;return h.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:h.jsx("div",{className:"flex justify-between items-start",children:h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-lg",children:((N=P.event)==null?void 0:N.title)||"Evento"}),h.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Código: ",h.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:P.code})]}),h.jsxs("div",{className:"flex gap-4 text-sm",children:[h.jsxs("span",{className:`flex items-center gap-1 ${P.remainingTickets===0?"text-red-600":"text-green-600"}`,children:[h.jsx(Ol,{className:"h-4 w-4"}),P.remainingTickets||0," de ",P.ticketCount," disponíveis"]}),h.jsxs("span",{className:"text-gray-500",children:["Criado em: ",new Date(P.createdAt).toLocaleDateString("pt-BR")]})]}),h.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[h.jsx("input",{type:"text",value:P.redeemUrl,readOnly:!0,className:"flex-1 text-xs bg-gray-50 p-2 rounded border","data-testid":`input-link-${P.id}`}),h.jsx(ut,{size:"sm",variant:"outline",onClick:()=>R(P.redeemUrl),"data-testid":`button-copy-${P.id}`,children:o===P.redeemUrl?h.jsx(hg,{className:"h-4 w-4 text-green-600"}):h.jsx(TA,{className:"h-4 w-4"})})]})]})})},P.id)})}):h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-gray-500",children:"Nenhum link de cortesia criado ainda"})})})]})]})}function IB(){return h.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:h.jsx(Ot,{className:"w-full max-w-md mx-4",children:h.jsxs(Pt,{className:"pt-6",children:[h.jsxs("div",{className:"flex mb-4 gap-2",children:[h.jsx(fg,{className:"h-8 w-8 text-red-500"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),h.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var rp=["Enter"," "],RB=["ArrowDown","PageUp","Home"],a8=["ArrowUp","PageDown","End"],OB=[...RB,...a8],PB={ltr:[...rp,"ArrowRight"],rtl:[...rp,"ArrowLeft"]},DB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hu="Menu",[Su,kB,MB]=Eh(Hu),[va,l8]=Gr(Hu,[MB,Kl,Fh]),$h=Kl(),c8=Fh(),[jB,wa]=va(Hu),[LB,Gu]=va(Hu),u8=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:l,modal:d=!0}=e,m=$h(t),[x,g]=b.useState(null),v=b.useRef(!1),C=Gn(l),S=jh(o);return b.useEffect(()=>{const R=()=>{v.current=!0,document.addEventListener("pointerdown",P,{capture:!0,once:!0}),document.addEventListener("pointermove",P,{capture:!0,once:!0})},P=()=>v.current=!1;return document.addEventListener("keydown",R,{capture:!0}),()=>{document.removeEventListener("keydown",R,{capture:!0}),document.removeEventListener("pointerdown",P,{capture:!0}),document.removeEventListener("pointermove",P,{capture:!0})}},[]),h.jsx(lN,{...m,children:h.jsx(jB,{scope:t,open:n,onOpenChange:C,content:x,onContentChange:g,children:h.jsx(LB,{scope:t,onClose:b.useCallback(()=>C(!1),[C]),isUsingKeyboardRef:v,dir:S,modal:d,children:r})})})};u8.displayName=Hu;var FB="MenuAnchor",ix=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=$h(n);return h.jsx(Sg,{...o,...r,ref:t})});ix.displayName=FB;var ox="MenuPortal",[BB,d8]=va(ox,{forceMount:void 0}),f8=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,l=wa(ox,t);return h.jsx(BB,{scope:t,forceMount:n,children:h.jsx(as,{present:n||l.open,children:h.jsx(Mu,{asChild:!0,container:o,children:r})})})};f8.displayName=ox;var rs="MenuContent",[VB,ax]=va(rs),h8=b.forwardRef((e,t)=>{const n=d8(rs,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,l=wa(rs,e.__scopeMenu),d=Gu(rs,e.__scopeMenu);return h.jsx(Su.Provider,{scope:e.__scopeMenu,children:h.jsx(as,{present:r||l.open,children:h.jsx(Su.Slot,{scope:e.__scopeMenu,children:d.modal?h.jsx(UB,{...o,ref:t}):h.jsx(zB,{...o,ref:t})})})})}),UB=b.forwardRef((e,t)=>{const n=wa(rs,e.__scopeMenu),r=b.useRef(null),o=vt(t,r);return b.useEffect(()=>{const l=r.current;if(l)return Rg(l)},[]),h.jsx(lx,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ce(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),zB=b.forwardRef((e,t)=>{const n=wa(rs,e.__scopeMenu);return h.jsx(lx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),WB=aa("MenuContent.ScrollLock"),lx=b.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:d,disableOutsidePointerEvents:m,onEntryFocus:x,onEscapeKeyDown:g,onPointerDownOutside:v,onFocusOutside:C,onInteractOutside:S,onDismiss:R,disableOutsideScroll:P,...N}=e,k=wa(rs,n),O=Gu(rs,n),A=$h(n),I=c8(n),M=kB(n),[F,X]=b.useState(null),B=b.useRef(null),K=vt(t,B,k.onContentChange),G=b.useRef(0),oe=b.useRef(""),ye=b.useRef(0),Q=b.useRef(null),ie=b.useRef("right"),se=b.useRef(0),$=P?Mh:b.Fragment,fe=P?{as:WB,allowPinchZoom:!0}:void 0,ue=V=>{var ke,We;const ce=oe.current+V,Ie=M().filter(ft=>!ft.disabled),Me=document.activeElement,rt=(ke=Ie.find(ft=>ft.ref.current===Me))==null?void 0:ke.textValue,Ye=Ie.map(ft=>ft.textValue),yn=tV(Ye,ce,rt),Ee=(We=Ie.find(ft=>ft.textValue===yn))==null?void 0:We.ref.current;(function ft(ct){oe.current=ct,window.clearTimeout(G.current),ct!==""&&(G.current=window.setTimeout(()=>ft(""),1e3))})(ce),Ee&&setTimeout(()=>Ee.focus())};b.useEffect(()=>()=>window.clearTimeout(G.current),[]),Ig();const ne=b.useCallback(V=>{var Ie,Me;return ie.current===((Ie=Q.current)==null?void 0:Ie.side)&&rV(V,(Me=Q.current)==null?void 0:Me.area)},[]);return h.jsx(VB,{scope:n,searchRef:oe,onItemEnter:b.useCallback(V=>{ne(V)&&V.preventDefault()},[ne]),onItemLeave:b.useCallback(V=>{var ce;ne(V)||((ce=B.current)==null||ce.focus(),X(null))},[ne]),onTriggerLeave:b.useCallback(V=>{ne(V)&&V.preventDefault()},[ne]),pointerGraceTimerRef:ye,onPointerGraceIntentChange:b.useCallback(V=>{Q.current=V},[]),children:h.jsx($,{...fe,children:h.jsx(Dh,{asChild:!0,trapped:o,onMountAutoFocus:Ce(l,V=>{var ce;V.preventDefault(),(ce=B.current)==null||ce.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:h.jsx(Gl,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:g,onPointerDownOutside:v,onFocusOutside:C,onInteractOutside:S,onDismiss:R,children:h.jsx(t_,{asChild:!0,...I,dir:O.dir,orientation:"vertical",loop:r,currentTabStopId:F,onCurrentTabStopIdChange:X,onEntryFocus:Ce(x,V=>{O.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(Ag,{role:"menu","aria-orientation":"vertical","data-state":I8(k.open),"data-radix-menu-content":"",dir:O.dir,...A,...N,ref:K,style:{outline:"none",...N.style},onKeyDown:Ce(N.onKeyDown,V=>{const Ie=V.target.closest("[data-radix-menu-content]")===V.currentTarget,Me=V.ctrlKey||V.altKey||V.metaKey,rt=V.key.length===1;Ie&&(V.key==="Tab"&&V.preventDefault(),!Me&&rt&&ue(V.key));const Ye=B.current;if(V.target!==Ye||!OB.includes(V.key))return;V.preventDefault();const Ee=M().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);a8.includes(V.key)&&Ee.reverse(),JB(Ee)}),onBlur:Ce(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(G.current),oe.current="")}),onPointerMove:Ce(e.onPointerMove,Au(V=>{const ce=V.target,Ie=se.current!==V.clientX;if(V.currentTarget.contains(ce)&&Ie){const Me=V.clientX>se.current?"right":"left";ie.current=Me,se.current=V.clientX}}))})})})})})})});h8.displayName=rs;var HB="MenuGroup",cx=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return h.jsx(ze.div,{role:"group",...r,ref:t})});cx.displayName=HB;var GB="MenuLabel",m8=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return h.jsx(ze.div,{...r,ref:t})});m8.displayName=GB;var nh="MenuItem",mv="menu.itemSelect",Xh=b.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,l=b.useRef(null),d=Gu(nh,e.__scopeMenu),m=ax(nh,e.__scopeMenu),x=vt(t,l),g=b.useRef(!1),v=()=>{const C=l.current;if(!n&&C){const S=new CustomEvent(mv,{bubbles:!0,cancelable:!0});C.addEventListener(mv,R=>r==null?void 0:r(R),{once:!0}),lg(C,S),S.defaultPrevented?g.current=!1:d.onClose()}};return h.jsx(p8,{...o,ref:x,disabled:n,onClick:Ce(e.onClick,v),onPointerDown:C=>{var S;(S=e.onPointerDown)==null||S.call(e,C),g.current=!0},onPointerUp:Ce(e.onPointerUp,C=>{var S;g.current||(S=C.currentTarget)==null||S.click()}),onKeyDown:Ce(e.onKeyDown,C=>{const S=m.searchRef.current!=="";n||S&&C.key===" "||rp.includes(C.key)&&(C.currentTarget.click(),C.preventDefault())})})});Xh.displayName=nh;var p8=b.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...l}=e,d=ax(nh,n),m=c8(n),x=b.useRef(null),g=vt(t,x),[v,C]=b.useState(!1),[S,R]=b.useState("");return b.useEffect(()=>{const P=x.current;P&&R((P.textContent??"").trim())},[l.children]),h.jsx(Su.ItemSlot,{scope:n,disabled:r,textValue:o??S,children:h.jsx(n_,{asChild:!0,...m,focusable:!r,children:h.jsx(ze.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:g,onPointerMove:Ce(e.onPointerMove,Au(P=>{r?d.onItemLeave(P):(d.onItemEnter(P),P.defaultPrevented||P.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(e.onPointerLeave,Au(P=>d.onItemLeave(P))),onFocus:Ce(e.onFocus,()=>C(!0)),onBlur:Ce(e.onBlur,()=>C(!1))})})})}),$B="MenuCheckboxItem",g8=b.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return h.jsx(C8,{scope:e.__scopeMenu,checked:n,children:h.jsx(Xh,{role:"menuitemcheckbox","aria-checked":rh(n)?"mixed":n,...o,ref:t,"data-state":dx(n),onSelect:Ce(o.onSelect,()=>r==null?void 0:r(rh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});g8.displayName=$B;var x8="MenuRadioGroup",[XB,ZB]=va(x8,{value:void 0,onValueChange:()=>{}}),y8=b.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,l=Gn(r);return h.jsx(XB,{scope:e.__scopeMenu,value:n,onValueChange:l,children:h.jsx(cx,{...o,ref:t})})});y8.displayName=x8;var v8="MenuRadioItem",w8=b.forwardRef((e,t)=>{const{value:n,...r}=e,o=ZB(v8,e.__scopeMenu),l=n===o.value;return h.jsx(C8,{scope:e.__scopeMenu,checked:l,children:h.jsx(Xh,{role:"menuitemradio","aria-checked":l,...r,ref:t,"data-state":dx(l),onSelect:Ce(r.onSelect,()=>{var d;return(d=o.onValueChange)==null?void 0:d.call(o,n)},{checkForDefaultPrevented:!1})})})});w8.displayName=v8;var ux="MenuItemIndicator",[C8,KB]=va(ux,{checked:!1}),b8=b.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,l=KB(ux,n);return h.jsx(as,{present:r||rh(l.checked)||l.checked===!0,children:h.jsx(ze.span,{...o,ref:t,"data-state":dx(l.checked)})})});b8.displayName=ux;var qB="MenuSeparator",E8=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return h.jsx(ze.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});E8.displayName=qB;var YB="MenuArrow",S8=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=$h(n);return h.jsx(Ng,{...o,...r,ref:t})});S8.displayName=YB;var QB="MenuSub",[oU,A8]=va(QB),Ic="MenuSubTrigger",N8=b.forwardRef((e,t)=>{const n=wa(Ic,e.__scopeMenu),r=Gu(Ic,e.__scopeMenu),o=A8(Ic,e.__scopeMenu),l=ax(Ic,e.__scopeMenu),d=b.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:x}=l,g={__scopeMenu:e.__scopeMenu},v=b.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return b.useEffect(()=>v,[v]),b.useEffect(()=>{const C=m.current;return()=>{window.clearTimeout(C),x(null)}},[m,x]),h.jsx(ix,{asChild:!0,...g,children:h.jsx(p8,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":I8(n.open),...e,ref:bh(t,o.onTriggerChange),onClick:C=>{var S;(S=e.onClick)==null||S.call(e,C),!(e.disabled||C.defaultPrevented)&&(C.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ce(e.onPointerMove,Au(C=>{l.onItemEnter(C),!C.defaultPrevented&&!e.disabled&&!n.open&&!d.current&&(l.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:Ce(e.onPointerLeave,Au(C=>{var R,P;v();const S=(R=n.content)==null?void 0:R.getBoundingClientRect();if(S){const N=(P=n.content)==null?void 0:P.dataset.side,k=N==="right",O=k?-5:5,A=S[k?"left":"right"],I=S[k?"right":"left"];l.onPointerGraceIntentChange({area:[{x:C.clientX+O,y:C.clientY},{x:A,y:S.top},{x:I,y:S.top},{x:I,y:S.bottom},{x:A,y:S.bottom}],side:N}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(C),C.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(e.onKeyDown,C=>{var R;const S=l.searchRef.current!=="";e.disabled||S&&C.key===" "||PB[r.dir].includes(C.key)&&(n.onOpenChange(!0),(R=n.content)==null||R.focus(),C.preventDefault())})})})});N8.displayName=Ic;var _8="MenuSubContent",T8=b.forwardRef((e,t)=>{const n=d8(rs,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,l=wa(rs,e.__scopeMenu),d=Gu(rs,e.__scopeMenu),m=A8(_8,e.__scopeMenu),x=b.useRef(null),g=vt(t,x);return h.jsx(Su.Provider,{scope:e.__scopeMenu,children:h.jsx(as,{present:r||l.open,children:h.jsx(Su.Slot,{scope:e.__scopeMenu,children:h.jsx(lx,{id:m.contentId,"aria-labelledby":m.triggerId,...o,ref:g,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{var C;d.isUsingKeyboardRef.current&&((C=x.current)==null||C.focus()),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Ce(e.onFocusOutside,v=>{v.target!==m.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ce(e.onEscapeKeyDown,v=>{d.onClose(),v.preventDefault()}),onKeyDown:Ce(e.onKeyDown,v=>{var R;const C=v.currentTarget.contains(v.target),S=DB[d.dir].includes(v.key);C&&S&&(l.onOpenChange(!1),(R=m.trigger)==null||R.focus(),v.preventDefault())})})})})})});T8.displayName=_8;function I8(e){return e?"open":"closed"}function rh(e){return e==="indeterminate"}function dx(e){return rh(e)?"indeterminate":e?"checked":"unchecked"}function JB(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function eV(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function tV(e,t,n){const o=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let d=eV(e,Math.max(l,0));o.length===1&&(d=d.filter(g=>g!==n));const x=d.find(g=>g.toLowerCase().startsWith(o.toLowerCase()));return x!==n?x:void 0}function nV(e,t){const{x:n,y:r}=e;let o=!1;for(let l=0,d=t.length-1;l<t.length;d=l++){const m=t[l].x,x=t[l].y,g=t[d].x,v=t[d].y;x>r!=v>r&&n<(g-m)*(r-x)/(v-x)+m&&(o=!o)}return o}function rV(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return nV(n,t)}function Au(e){return t=>t.pointerType==="mouse"?e(t):void 0}var sV=u8,iV=ix,oV=f8,aV=h8,lV=cx,cV=m8,uV=Xh,dV=g8,fV=y8,hV=w8,mV=b8,pV=E8,gV=S8,xV=N8,yV=T8,fx="DropdownMenu",[vV,aU]=Gr(fx,[l8]),mr=l8(),[wV,R8]=vV(fx),O8=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:l,onOpenChange:d,modal:m=!0}=e,x=mr(t),g=b.useRef(null),[v=!1,C]=po({prop:o,defaultProp:l,onChange:d});return h.jsx(wV,{scope:t,triggerId:Gs(),triggerRef:g,contentId:Gs(),open:v,onOpenChange:C,onOpenToggle:b.useCallback(()=>C(S=>!S),[C]),modal:m,children:h.jsx(sV,{...x,open:v,onOpenChange:C,dir:r,modal:m,children:n})})};O8.displayName=fx;var P8="DropdownMenuTrigger",D8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,l=R8(P8,n),d=mr(n);return h.jsx(iV,{asChild:!0,...d,children:h.jsx(ze.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:bh(t,l.triggerRef),onPointerDown:Ce(e.onPointerDown,m=>{!r&&m.button===0&&m.ctrlKey===!1&&(l.onOpenToggle(),l.open||m.preventDefault())}),onKeyDown:Ce(e.onKeyDown,m=>{r||(["Enter"," "].includes(m.key)&&l.onOpenToggle(),m.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(m.key)&&m.preventDefault())})})})});D8.displayName=P8;var CV="DropdownMenuPortal",k8=e=>{const{__scopeDropdownMenu:t,...n}=e,r=mr(t);return h.jsx(oV,{...r,...n})};k8.displayName=CV;var M8="DropdownMenuContent",j8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=R8(M8,n),l=mr(n),d=b.useRef(!1);return h.jsx(aV,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...r,ref:t,onCloseAutoFocus:Ce(e.onCloseAutoFocus,m=>{var x;d.current||(x=o.triggerRef.current)==null||x.focus(),d.current=!1,m.preventDefault()}),onInteractOutside:Ce(e.onInteractOutside,m=>{const x=m.detail.originalEvent,g=x.button===0&&x.ctrlKey===!0,v=x.button===2||g;(!o.modal||v)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});j8.displayName=M8;var bV="DropdownMenuGroup",EV=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=mr(n);return h.jsx(lV,{...o,...r,ref:t})});EV.displayName=bV;var SV="DropdownMenuLabel",L8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=mr(n);return h.jsx(cV,{...o,...r,ref:t})});L8.displayName=SV;var AV="DropdownMenuItem",F8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=mr(n);return h.jsx(uV,{...o,...r,ref:t})});F8.displayName=AV;var NV="DropdownMenuCheckboxItem",B8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=mr(n);return h.jsx(dV,{...o,...r,ref:t})});B8.displayName=NV;var _V="DropdownMenuRadioGroup",TV=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=mr(n);return h.jsx(fV,{...o,...r,ref:t})});TV.displayName=_V;var IV="DropdownMenuRadioItem",V8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=mr(n);return h.jsx(hV,{...o,...r,ref:t})});V8.displayName=IV;var RV="DropdownMenuItemIndicator",U8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=mr(n);return h.jsx(mV,{...o,...r,ref:t})});U8.displayName=RV;var OV="DropdownMenuSeparator",z8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=mr(n);return h.jsx(pV,{...o,...r,ref:t})});z8.displayName=OV;var PV="DropdownMenuArrow",DV=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=mr(n);return h.jsx(gV,{...o,...r,ref:t})});DV.displayName=PV;var kV="DropdownMenuSubTrigger",W8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=mr(n);return h.jsx(xV,{...o,...r,ref:t})});W8.displayName=kV;var MV="DropdownMenuSubContent",H8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=mr(n);return h.jsx(yV,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});H8.displayName=MV;var jV=O8,LV=D8,FV=k8,G8=j8,$8=L8,X8=F8,Z8=B8,K8=V8,q8=U8,Y8=z8,Q8=W8,J8=H8;const pv=jV,gv=LV,BV=b.forwardRef(({className:e,inset:t,children:n,...r},o)=>h.jsxs(Q8,{ref:o,className:Le("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,h.jsx(wD,{className:"ml-auto"})]}));BV.displayName=Q8.displayName;const VV=b.forwardRef(({className:e,...t},n)=>h.jsx(J8,{ref:n,className:Le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));VV.displayName=J8.displayName;const sp=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>h.jsx(FV,{children:h.jsx(G8,{ref:r,sideOffset:t,className:Le("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));sp.displayName=G8.displayName;const ai=b.forwardRef(({className:e,inset:t,...n},r)=>h.jsx(X8,{ref:r,className:Le("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));ai.displayName=X8.displayName;const UV=b.forwardRef(({className:e,children:t,checked:n,...r},o)=>h.jsxs(Z8,{ref:o,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(q8,{children:h.jsx(_h,{className:"h-4 w-4"})})}),t]}));UV.displayName=Z8.displayName;const zV=b.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(K8,{ref:r,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(q8,{children:h.jsx(CD,{className:"h-2 w-2 fill-current"})})}),t]}));zV.displayName=K8.displayName;const WV=b.forwardRef(({className:e,inset:t,...n},r)=>h.jsx($8,{ref:r,className:Le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));WV.displayName=$8.displayName;const HV=b.forwardRef(({className:e,...t},n)=>h.jsx(Y8,{ref:n,className:Le("-mx-1 my-1 h-px bg-muted",e),...t}));HV.displayName=Y8.displayName;function GV(){const[,e]=os(),{user:t,isAuthenticated:n}=No(),[r,o]=b.useState(!1),l=()=>{localStorage.removeItem("token"),e("/"),window.location.reload()},d=m=>m.split(" ").slice(0,2).map(x=>x[0]).join("").toUpperCase();return h.jsx("nav",{className:"bg-primary shadow-lg sticky top-0 z-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsx("div",{className:"flex items-center",children:h.jsxs("button",{onClick:()=>e("/"),className:"flex items-center cursor-pointer","data-testid":"button-logo",children:[h.jsx("img",{src:"/Marca CDPI negativa 32x32px.svg",alt:"CDPI Faculdade Logo",className:"h-10 w-auto mr-3"}),h.jsx("span",{className:"text-xl font-bold text-white",children:(t==null?void 0:t.isAdmin)&&h.jsx("span",{className:"text-xs ml-2 bg-white/20 text-white px-2 py-1 rounded",children:"ADMIN"})})]})}),h.jsx("div",{className:"hidden md:block",children:h.jsxs("div",{className:"ml-10 flex items-baseline space-x-6",children:[h.jsx("button",{onClick:()=>e("/eventos"),className:"text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors","data-testid":"nav-events",children:"Eventos"}),h.jsx("button",{onClick:()=>e("/cortesia"),className:"text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors","data-testid":"nav-courtesy",children:"Resgate de cortesia"}),n?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>e("/profile"),className:"text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors","data-testid":"nav-profile",children:"Área de acesso"}),(t==null?void 0:t.isAdmin)&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>e("/verificar"),className:"text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium flex items-center transition-colors","data-testid":"nav-scanner",children:[h.jsx(K0,{className:"h-4 w-4 mr-1"}),"Verificar QR"]}),t.email==="caueroriz@gmail.com"&&h.jsx("button",{onClick:()=>e("/cortesia-admin"),className:"text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors","data-testid":"nav-courtesy-admin",children:"Gerenciar Cortesias"})]})]}):h.jsx("button",{onClick:()=>e("/login"),className:"text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors","data-testid":"nav-login",children:"Área de acesso"}),h.jsx("button",{onClick:()=>e("/eventos"),className:"p-2 text-white hover:bg-white/10 rounded-full transition-colors","data-testid":"nav-search",children:h.jsx(IA,{className:"h-5 w-5"})}),n&&t&&h.jsxs(pv,{children:[h.jsx(gv,{asChild:!0,children:h.jsx(ut,{variant:"ghost",className:"p-1 ml-2","data-testid":"button-user-menu",children:h.jsx(qf,{className:"h-8 w-8",children:h.jsx(Yf,{className:"bg-white text-primary text-sm",children:d(t.name)})})})}),h.jsxs(sp,{align:"end",children:[h.jsxs("div",{className:"px-2 py-1.5 text-sm font-semibold",children:[t.name,h.jsx("div",{className:"text-xs font-normal text-gray-500",children:t.email})]}),h.jsxs(ai,{onClick:()=>e("/profile"),"data-testid":"menu-profile-desktop",children:[h.jsx(Im,{className:"h-4 w-4 mr-2"}),"Meu Perfil"]}),(t==null?void 0:t.isAdmin)&&h.jsxs(h.Fragment,{children:[h.jsxs(ai,{onClick:()=>e("/verificar"),"data-testid":"menu-scanner-desktop",children:[h.jsx(K0,{className:"h-4 w-4 mr-2"}),"Verificar QR"]}),t.email==="caueroriz@gmail.com"&&h.jsx(ai,{onClick:()=>e("/cortesia-admin"),"data-testid":"menu-courtesy-admin-desktop",children:"Gerenciar Cortesias"})]}),h.jsxs(ai,{onClick:l,className:"text-red-600","data-testid":"menu-logout-desktop",children:[h.jsx(u2,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]})]})}),h.jsxs("div",{className:"flex items-center md:hidden",children:[n&&t&&h.jsxs(pv,{children:[h.jsx(gv,{asChild:!0,children:h.jsx(ut,{variant:"ghost",className:"p-1 mr-2","data-testid":"button-user-menu-mobile",children:h.jsx(qf,{className:"h-8 w-8",children:h.jsx(Yf,{className:"bg-white text-primary text-sm",children:d(t.name)})})})}),h.jsxs(sp,{align:"end",children:[h.jsxs(ai,{onClick:()=>e("/profile"),"data-testid":"menu-profile",children:[h.jsx(Im,{className:"h-4 w-4 mr-2"}),"Meu Perfil"]}),(t==null?void 0:t.isAdmin)&&h.jsxs(h.Fragment,{children:[h.jsxs(ai,{onClick:()=>e("/verificar"),"data-testid":"menu-scanner",children:[h.jsx(K0,{className:"h-4 w-4 mr-2"}),"Verificar QR"]}),t.email==="caueroriz@gmail.com"&&h.jsx(ai,{onClick:()=>e("/cortesia-admin"),"data-testid":"menu-courtesy-admin",children:"Gerenciar Cortesias"})]}),h.jsxs(ai,{onClick:l,className:"text-red-600","data-testid":"menu-logout",children:[h.jsx(u2,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]}),h.jsx("button",{onClick:()=>o(!r),className:"text-white hover:bg-white/10 p-2 rounded-md transition-colors","data-testid":"button-mobile-menu",children:h.jsx(TD,{className:"h-6 w-6"})})]})]}),r&&h.jsx("div",{className:"md:hidden",children:h.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 border-t border-white/10",children:[h.jsx("button",{onClick:()=>{e("/eventos"),o(!1)},className:"text-white hover:bg-white/10 block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-colors",children:"Eventos"}),h.jsx("button",{onClick:()=>{e("/cortesia"),o(!1)},className:"text-white hover:bg-white/10 block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-colors",children:"Resgate de cortesia"}),!n&&h.jsx("button",{onClick:()=>{e("/login"),o(!1)},className:"text-white hover:bg-white/10 block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-colors",children:"Área de acesso"})]})})]})})}function xv({children:e}){const{user:t,isAuthenticated:n,isLoading:r}=No(),[,o]=os(),{toast:l}=Rr();return b.useEffect(()=>{r||(n?t!=null&&t.isAdmin||(l({title:"Acesso negado",description:"Apenas administradores podem acessar esta página",variant:"destructive"}),o("/")):(l({title:"Acesso negado",description:"Você precisa fazer login para acessar esta página",variant:"destructive"}),o("/login")))},[n,r,t,o,l]),r?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):!n||!(t!=null&&t.isAdmin)?null:h.jsx(h.Fragment,{children:e})}function $V(){const{isAuthenticated:e,isLoading:t}=No();return t?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):h.jsxs(h.Fragment,{children:[h.jsx(GV,{}),h.jsxs(EP,{children:[h.jsx(Cr,{path:"/",component:c9}),h.jsx(Cr,{path:"/eventos",component:u9}),h.jsx(Cr,{path:"/login",component:$L}),h.jsx(Cr,{path:"/register",component:ZL}),h.jsx(Cr,{path:"/forgot-password",component:KL}),h.jsx(Cr,{path:"/reset-password",component:qL}),h.jsx(Cr,{path:"/verify-email",component:yF}),h.jsx(Cr,{path:"/profile",component:xF}),h.jsx(Cr,{path:"/event/:id",component:vF}),h.jsx(Cr,{path:"/verificar",children:h.jsx(xv,{children:h.jsx(GF,{})})}),h.jsx(Cr,{path:"/admin-test",component:$F}),h.jsx(Cr,{path:"/cortesia",component:qF}),h.jsx(Cr,{path:"/cortesia-admin",children:h.jsx(xv,{children:h.jsx(TB,{})})}),h.jsx(Cr,{component:IB})]})]})}function XV(){return h.jsx(M3,{client:mi,children:h.jsx(VM,{children:h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(pk,{}),h.jsx($V,{})]})})})}const ZV=void 0;f1.createRoot(document.getElementById("root")).render(h.jsx(Qe.StrictMode,{children:h.jsx(M3,{client:mi,children:h.jsx(F5,{reCaptchaKey:ZV,children:h.jsx(XV,{})})})}));
