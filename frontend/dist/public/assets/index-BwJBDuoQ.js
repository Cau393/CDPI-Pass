var d6=Object.defineProperty;var hx=e=>{throw TypeError(e)};var f6=(e,t,n)=>t in e?d6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Z=(e,t,n)=>f6(e,typeof t!="symbol"?t+"":t,n),n0=(e,t,n)=>t.has(e)||hx("Cannot "+n);var z=(e,t,n)=>(n0(e,t,"read from private field"),n?n.call(e):t.get(e)),We=(e,t,n)=>t.has(e)?hx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ie=(e,t,n,r)=>(n0(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),at=(e,t,n)=>(n0(e,t,"access private method"),n);var Qu=(e,t,n,r)=>({set _(o){Ie(e,t,o,n)},get _(){return z(e,t,r)}});function WE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var HE={exports:{}},Xf={},GE={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=Symbol.for("react.element"),h6=Symbol.for("react.portal"),m6=Symbol.for("react.fragment"),p6=Symbol.for("react.strict_mode"),g6=Symbol.for("react.profiler"),x6=Symbol.for("react.provider"),y6=Symbol.for("react.context"),v6=Symbol.for("react.forward_ref"),w6=Symbol.for("react.suspense"),C6=Symbol.for("react.memo"),E6=Symbol.for("react.lazy"),mx=Symbol.iterator;function b6(e){return e===null||typeof e!="object"?null:(e=mx&&e[mx]||e["@@iterator"],typeof e=="function"?e:null)}var $E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XE=Object.assign,ZE={};function jl(e,t,n){this.props=e,this.context=t,this.refs=ZE,this.updater=n||$E}jl.prototype.isReactComponent={};jl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KE(){}KE.prototype=jl.prototype;function Wm(e,t,n){this.props=e,this.context=t,this.refs=ZE,this.updater=n||$E}var Hm=Wm.prototype=new KE;Hm.constructor=Wm;XE(Hm,jl.prototype);Hm.isPureReactComponent=!0;var px=Array.isArray,qE=Object.prototype.hasOwnProperty,Gm={current:null},YE={key:!0,ref:!0,__self:!0,__source:!0};function QE(e,t,n){var r,o={},l=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(l=""+t.key),t)qE.call(t,r)&&!YE.hasOwnProperty(r)&&(o[r]=t[r]);var m=arguments.length-2;if(m===1)o.children=n;else if(1<m){for(var x=Array(m),g=0;g<m;g++)x[g]=arguments[g+2];o.children=x}if(e&&e.defaultProps)for(r in m=e.defaultProps,m)o[r]===void 0&&(o[r]=m[r]);return{$$typeof:Iu,type:e,key:l,ref:d,props:o,_owner:Gm.current}}function S6(e,t){return{$$typeof:Iu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $m(e){return typeof e=="object"&&e!==null&&e.$$typeof===Iu}function A6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gx=/\/+/g;function r0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?A6(""+e.key):t.toString(36)}function Sd(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Iu:case h6:d=!0}}if(d)return d=e,o=o(d),e=r===""?"."+r0(d,0):r,px(o)?(n="",e!=null&&(n=e.replace(gx,"$&/")+"/"),Sd(o,t,n,"",function(g){return g})):o!=null&&($m(o)&&(o=S6(o,n+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(gx,"$&/")+"/")+e)),t.push(o)),1;if(d=0,r=r===""?".":r+":",px(e))for(var m=0;m<e.length;m++){l=e[m];var x=r+r0(l,m);d+=Sd(l,t,n,x,o)}else if(x=b6(e),typeof x=="function")for(e=x.call(e),m=0;!(l=e.next()).done;)l=l.value,x=r+r0(l,m++),d+=Sd(l,t,n,x,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Ju(e,t,n){if(e==null)return e;var r=[],o=0;return Sd(e,r,"","",function(l){return t.call(n,l,o++)}),r}function N6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fr={current:null},Ad={transition:null},_6={ReactCurrentDispatcher:fr,ReactCurrentBatchConfig:Ad,ReactCurrentOwner:Gm};function JE(){throw Error("act(...) is not supported in production builds of React.")}ht.Children={map:Ju,forEach:function(e,t,n){Ju(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ju(e,function(){t++}),t},toArray:function(e){return Ju(e,function(t){return t})||[]},only:function(e){if(!$m(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ht.Component=jl;ht.Fragment=m6;ht.Profiler=g6;ht.PureComponent=Wm;ht.StrictMode=p6;ht.Suspense=w6;ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_6;ht.act=JE;ht.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=XE({},e.props),o=e.key,l=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,d=Gm.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(x in t)qE.call(t,x)&&!YE.hasOwnProperty(x)&&(r[x]=t[x]===void 0&&m!==void 0?m[x]:t[x])}var x=arguments.length-2;if(x===1)r.children=n;else if(1<x){m=Array(x);for(var g=0;g<x;g++)m[g]=arguments[g+2];r.children=m}return{$$typeof:Iu,type:e.type,key:o,ref:l,props:r,_owner:d}};ht.createContext=function(e){return e={$$typeof:y6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:x6,_context:e},e.Consumer=e};ht.createElement=QE;ht.createFactory=function(e){var t=QE.bind(null,e);return t.type=e,t};ht.createRef=function(){return{current:null}};ht.forwardRef=function(e){return{$$typeof:v6,render:e}};ht.isValidElement=$m;ht.lazy=function(e){return{$$typeof:E6,_payload:{_status:-1,_result:e},_init:N6}};ht.memo=function(e,t){return{$$typeof:C6,type:e,compare:t===void 0?null:t}};ht.startTransition=function(e){var t=Ad.transition;Ad.transition={};try{e()}finally{Ad.transition=t}};ht.unstable_act=JE;ht.useCallback=function(e,t){return fr.current.useCallback(e,t)};ht.useContext=function(e){return fr.current.useContext(e)};ht.useDebugValue=function(){};ht.useDeferredValue=function(e){return fr.current.useDeferredValue(e)};ht.useEffect=function(e,t){return fr.current.useEffect(e,t)};ht.useId=function(){return fr.current.useId()};ht.useImperativeHandle=function(e,t,n){return fr.current.useImperativeHandle(e,t,n)};ht.useInsertionEffect=function(e,t){return fr.current.useInsertionEffect(e,t)};ht.useLayoutEffect=function(e,t){return fr.current.useLayoutEffect(e,t)};ht.useMemo=function(e,t){return fr.current.useMemo(e,t)};ht.useReducer=function(e,t,n){return fr.current.useReducer(e,t,n)};ht.useRef=function(e){return fr.current.useRef(e)};ht.useState=function(e){return fr.current.useState(e)};ht.useSyncExternalStore=function(e,t,n){return fr.current.useSyncExternalStore(e,t,n)};ht.useTransition=function(){return fr.current.useTransition()};ht.version="18.3.1";GE.exports=ht;var E=GE.exports;const Je=zm(E),eb=WE({__proto__:null,default:Je},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T6=E,I6=Symbol.for("react.element"),R6=Symbol.for("react.fragment"),O6=Object.prototype.hasOwnProperty,P6=T6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D6={key:!0,ref:!0,__self:!0,__source:!0};function tb(e,t,n){var r,o={},l=null,d=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)O6.call(t,r)&&!D6.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:I6,type:e,key:l,ref:d,props:o,_owner:P6.current}}Xf.Fragment=R6;Xf.jsx=tb;Xf.jsxs=tb;HE.exports=Xf;var h=HE.exports,e1={},nb={exports:{}},Vr={},rb={exports:{}},sb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,ne){var we=te.length;te.push(ne);e:for(;0<we;){var Me=we-1>>>1,Be=te[Me];if(0<o(Be,ne))te[Me]=ne,te[we]=Be,we=Me;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ne=te[0],we=te.pop();if(we!==ne){te[0]=we;e:for(var Me=0,Be=te.length,Nt=Be>>>1;Me<Nt;){var re=2*(Me+1)-1,gt=te[re],Ee=re+1,Te=te[Ee];if(0>o(gt,we))Ee<Be&&0>o(Te,gt)?(te[Me]=Te,te[Ee]=we,Me=Ee):(te[Me]=gt,te[re]=we,Me=re);else if(Ee<Be&&0>o(Te,we))te[Me]=Te,te[Ee]=we,Me=Ee;else break e}}return ne}function o(te,ne){var we=te.sortIndex-ne.sortIndex;return we!==0?we:te.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var x=[],g=[],v=1,C=null,b=3,O=!1,k=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(te){for(var ne=n(g);ne!==null;){if(ne.callback===null)r(g);else if(ne.startTime<=te)r(g),ne.sortIndex=ne.expirationTime,t(x,ne);else break;ne=n(g)}}function M(te){if(N=!1,I(te),!k)if(n(x)!==null)k=!0,fe(j);else{var ne=n(g);ne!==null&&de(M,ne.startTime-te)}}function j(te,ne){k=!1,N&&(N=!1,R(G),G=-1),O=!0;var we=b;try{for(I(ne),C=n(x);C!==null&&(!(C.expirationTime>ne)||te&&!pe());){var Me=C.callback;if(typeof Me=="function"){C.callback=null,b=C.priorityLevel;var Be=Me(C.expirationTime<=ne);ne=e.unstable_now(),typeof Be=="function"?C.callback=Be:C===n(x)&&r(x),I(ne)}else r(x);C=n(x)}if(C!==null)var Nt=!0;else{var re=n(g);re!==null&&de(M,re.startTime-ne),Nt=!1}return Nt}finally{C=null,b=we,O=!1}}var $=!1,B=null,G=-1,W=5,ae=-1;function pe(){return!(e.unstable_now()-ae<W)}function Y(){if(B!==null){var te=e.unstable_now();ae=te;var ne=!0;try{ne=B(!0,te)}finally{ne?oe():($=!1,B=null)}}else $=!1}var oe;if(typeof A=="function")oe=function(){A(Y)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,X=ie.port2;ie.port1.onmessage=Y,oe=function(){X.postMessage(null)}}else oe=function(){P(Y,0)};function fe(te){B=te,$||($=!0,oe())}function de(te,ne){G=P(function(){te(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){k||O||(k=!0,fe(j))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(x)},e.unstable_next=function(te){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var we=b;b=ne;try{return te()}finally{b=we}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ne){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var we=b;b=te;try{return ne()}finally{b=we}},e.unstable_scheduleCallback=function(te,ne,we){var Me=e.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Me+we:Me):we=Me,te){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=we+Be,te={id:v++,callback:ne,priorityLevel:te,startTime:we,expirationTime:Be,sortIndex:-1},we>Me?(te.sortIndex=we,t(g,te),n(x)===null&&te===n(g)&&(N?(R(G),G=-1):N=!0,de(M,we-Me))):(te.sortIndex=Be,t(x,te),k||O||(k=!0,fe(j))),te},e.unstable_shouldYield=pe,e.unstable_wrapCallback=function(te){var ne=b;return function(){var we=b;b=ne;try{return te.apply(this,arguments)}finally{b=we}}}})(sb);rb.exports=sb;var k6=rb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M6=E,Br=k6;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ib=new Set,Uc={};function ma(e,t){Cl(e,t),Cl(e+"Capture",t)}function Cl(e,t){for(Uc[e]=t,e=0;e<t.length;e++)ib.add(t[e])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t1=Object.prototype.hasOwnProperty,j6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xx={},yx={};function L6(e){return t1.call(yx,e)?!0:t1.call(xx,e)?!1:j6.test(e)?yx[e]=!0:(xx[e]=!0,!1)}function F6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function B6(e,t,n,r){if(t===null||typeof t>"u"||F6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hr(e,t,n,r,o,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gn[e]=new hr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gn[t]=new hr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gn[e]=new hr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gn[e]=new hr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gn[e]=new hr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gn[e]=new hr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gn[e]=new hr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gn[e]=new hr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gn[e]=new hr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xm=/[\-:]([a-z])/g;function Zm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xm,Zm);Gn[t]=new hr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xm,Zm);Gn[t]=new hr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xm,Zm);Gn[t]=new hr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gn[e]=new hr(e,1,!1,e.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gn[e]=new hr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Km(e,t,n,r){var o=Gn.hasOwnProperty(t)?Gn[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(B6(t,n,o,r)&&(n=null),r||o===null?L6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Si=M6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ed=Symbol.for("react.element"),ka=Symbol.for("react.portal"),Ma=Symbol.for("react.fragment"),qm=Symbol.for("react.strict_mode"),n1=Symbol.for("react.profiler"),ob=Symbol.for("react.provider"),ab=Symbol.for("react.context"),Ym=Symbol.for("react.forward_ref"),r1=Symbol.for("react.suspense"),s1=Symbol.for("react.suspense_list"),Qm=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),lb=Symbol.for("react.offscreen"),vx=Symbol.iterator;function oc(e){return e===null||typeof e!="object"?null:(e=vx&&e[vx]||e["@@iterator"],typeof e=="function"?e:null)}var on=Object.assign,s0;function vc(e){if(s0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);s0=t&&t[1]||""}return`
`+s0+e}var i0=!1;function o0(e,t){if(!e||i0)return"";i0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var o=g.stack.split(`
`),l=r.stack.split(`
`),d=o.length-1,m=l.length-1;1<=d&&0<=m&&o[d]!==l[m];)m--;for(;1<=d&&0<=m;d--,m--)if(o[d]!==l[m]){if(d!==1||m!==1)do if(d--,m--,0>m||o[d]!==l[m]){var x=`
`+o[d].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=d&&0<=m);break}}}finally{i0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vc(e):""}function V6(e){switch(e.tag){case 5:return vc(e.type);case 16:return vc("Lazy");case 13:return vc("Suspense");case 19:return vc("SuspenseList");case 0:case 2:case 15:return e=o0(e.type,!1),e;case 11:return e=o0(e.type.render,!1),e;case 1:return e=o0(e.type,!0),e;default:return""}}function i1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ma:return"Fragment";case ka:return"Portal";case n1:return"Profiler";case qm:return"StrictMode";case r1:return"Suspense";case s1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ab:return(e.displayName||"Context")+".Consumer";case ob:return(e._context.displayName||"Context")+".Provider";case Ym:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qm:return t=e.displayName||null,t!==null?t:i1(e.type)||"Memo";case Vi:t=e._payload,e=e._init;try{return i1(e(t))}catch{}}return null}function U6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return i1(t);case 8:return t===qm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ho(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z6(e){var t=cb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){r=""+d,l.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function td(e){e._valueTracker||(e._valueTracker=z6(e))}function ub(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=cb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function o1(e,t){var n=t.checked;return on({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ho(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function db(e,t){t=t.checked,t!=null&&Km(e,"checked",t,!1)}function a1(e,t){db(e,t);var n=ho(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?l1(e,t.type,n):t.hasOwnProperty("defaultValue")&&l1(e,t.type,ho(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function l1(e,t,n){(t!=="number"||Gd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wc=Array.isArray;function Za(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ho(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function c1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return on({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ex(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(me(92));if(wc(n)){if(1<n.length)throw Error(me(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ho(n)}}function fb(e,t){var n=ho(t.value),r=ho(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function u1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nd,mb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nd=nd||document.createElement("div"),nd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W6=["Webkit","ms","Moz","O"];Object.keys(Tc).forEach(function(e){W6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tc[t]=Tc[e]})});function pb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Tc.hasOwnProperty(e)&&Tc[e]?(""+t).trim():t+"px"}function gb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=pb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var H6=on({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d1(e,t){if(t){if(H6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function f1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h1=null;function Jm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var m1=null,Ka=null,qa=null;function Sx(e){if(e=Pu(e)){if(typeof m1!="function")throw Error(me(280));var t=e.stateNode;t&&(t=Qf(t),m1(e.stateNode,e.type,t))}}function xb(e){Ka?qa?qa.push(e):qa=[e]:Ka=e}function yb(){if(Ka){var e=Ka,t=qa;if(qa=Ka=null,Sx(e),t)for(e=0;e<t.length;e++)Sx(t[e])}}function vb(e,t){return e(t)}function wb(){}var a0=!1;function Cb(e,t,n){if(a0)return e(t,n);a0=!0;try{return vb(e,t,n)}finally{a0=!1,(Ka!==null||qa!==null)&&(wb(),yb())}}function Wc(e,t){var n=e.stateNode;if(n===null)return null;var r=Qf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(me(231,t,typeof n));return n}var p1=!1;if(gi)try{var ac={};Object.defineProperty(ac,"passive",{get:function(){p1=!0}}),window.addEventListener("test",ac,ac),window.removeEventListener("test",ac,ac)}catch{p1=!1}function G6(e,t,n,r,o,l,d,m,x){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(v){this.onError(v)}}var Ic=!1,$d=null,Xd=!1,g1=null,$6={onError:function(e){Ic=!0,$d=e}};function X6(e,t,n,r,o,l,d,m,x){Ic=!1,$d=null,G6.apply($6,arguments)}function Z6(e,t,n,r,o,l,d,m,x){if(X6.apply(this,arguments),Ic){if(Ic){var g=$d;Ic=!1,$d=null}else throw Error(me(198));Xd||(Xd=!0,g1=g)}}function pa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Eb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ax(e){if(pa(e)!==e)throw Error(me(188))}function K6(e){var t=e.alternate;if(!t){if(t=pa(e),t===null)throw Error(me(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Ax(o),e;if(l===r)return Ax(o),t;l=l.sibling}throw Error(me(188))}if(n.return!==r.return)n=o,r=l;else{for(var d=!1,m=o.child;m;){if(m===n){d=!0,n=o,r=l;break}if(m===r){d=!0,r=o,n=l;break}m=m.sibling}if(!d){for(m=l.child;m;){if(m===n){d=!0,n=l,r=o;break}if(m===r){d=!0,r=l,n=o;break}m=m.sibling}if(!d)throw Error(me(189))}}if(n.alternate!==r)throw Error(me(190))}if(n.tag!==3)throw Error(me(188));return n.stateNode.current===n?e:t}function bb(e){return e=K6(e),e!==null?Sb(e):null}function Sb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sb(e);if(t!==null)return t;e=e.sibling}return null}var Ab=Br.unstable_scheduleCallback,Nx=Br.unstable_cancelCallback,q6=Br.unstable_shouldYield,Y6=Br.unstable_requestPaint,xn=Br.unstable_now,Q6=Br.unstable_getCurrentPriorityLevel,ep=Br.unstable_ImmediatePriority,Nb=Br.unstable_UserBlockingPriority,Zd=Br.unstable_NormalPriority,J6=Br.unstable_LowPriority,_b=Br.unstable_IdlePriority,Zf=null,Vs=null;function eR(e){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(Zf,e,void 0,(e.current.flags&128)===128)}catch{}}var xs=Math.clz32?Math.clz32:rR,tR=Math.log,nR=Math.LN2;function rR(e){return e>>>=0,e===0?32:31-(tR(e)/nR|0)|0}var rd=64,sd=4194304;function Cc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,d=n&268435455;if(d!==0){var m=d&~o;m!==0?r=Cc(m):(l&=d,l!==0&&(r=Cc(l)))}else d=n&~o,d!==0?r=Cc(d):l!==0&&(r=Cc(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xs(t),o=1<<n,r|=e[n],t&=~o;return r}function sR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iR(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-xs(l),m=1<<d,x=o[d];x===-1?(!(m&n)||m&r)&&(o[d]=sR(m,t)):x<=t&&(e.expiredLanes|=m),l&=~m}}function x1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tb(){var e=rd;return rd<<=1,!(rd&4194240)&&(rd=64),e}function l0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ru(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xs(t),e[t]=n}function oR(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-xs(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function tp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xs(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var jt=0;function Ib(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rb,np,Ob,Pb,Db,y1=!1,id=[],ro=null,so=null,io=null,Hc=new Map,Gc=new Map,zi=[],aR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _x(e,t){switch(e){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":Hc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(t.pointerId)}}function lc(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Pu(t),t!==null&&np(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function lR(e,t,n,r,o){switch(t){case"focusin":return ro=lc(ro,e,t,n,r,o),!0;case"dragenter":return so=lc(so,e,t,n,r,o),!0;case"mouseover":return io=lc(io,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return Hc.set(l,lc(Hc.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Gc.set(l,lc(Gc.get(l)||null,e,t,n,r,o)),!0}return!1}function kb(e){var t=Lo(e.target);if(t!==null){var n=pa(t);if(n!==null){if(t=n.tag,t===13){if(t=Eb(n),t!==null){e.blockedOn=t,Db(e.priority,function(){Ob(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=v1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);h1=r,n.target.dispatchEvent(r),h1=null}else return t=Pu(n),t!==null&&np(t),e.blockedOn=n,!1;t.shift()}return!0}function Tx(e,t,n){Nd(e)&&n.delete(t)}function cR(){y1=!1,ro!==null&&Nd(ro)&&(ro=null),so!==null&&Nd(so)&&(so=null),io!==null&&Nd(io)&&(io=null),Hc.forEach(Tx),Gc.forEach(Tx)}function cc(e,t){e.blockedOn===t&&(e.blockedOn=null,y1||(y1=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,cR)))}function $c(e){function t(o){return cc(o,e)}if(0<id.length){cc(id[0],e);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ro!==null&&cc(ro,e),so!==null&&cc(so,e),io!==null&&cc(io,e),Hc.forEach(t),Gc.forEach(t),n=0;n<zi.length;n++)r=zi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)kb(n),n.blockedOn===null&&zi.shift()}var Ya=Si.ReactCurrentBatchConfig,qd=!0;function uR(e,t,n,r){var o=jt,l=Ya.transition;Ya.transition=null;try{jt=1,rp(e,t,n,r)}finally{jt=o,Ya.transition=l}}function dR(e,t,n,r){var o=jt,l=Ya.transition;Ya.transition=null;try{jt=4,rp(e,t,n,r)}finally{jt=o,Ya.transition=l}}function rp(e,t,n,r){if(qd){var o=v1(e,t,n,r);if(o===null)y0(e,t,r,Yd,n),_x(e,r);else if(lR(o,e,t,n,r))r.stopPropagation();else if(_x(e,r),t&4&&-1<aR.indexOf(e)){for(;o!==null;){var l=Pu(o);if(l!==null&&Rb(l),l=v1(e,t,n,r),l===null&&y0(e,t,r,Yd,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else y0(e,t,r,null,n)}}var Yd=null;function v1(e,t,n,r){if(Yd=null,e=Jm(r),e=Lo(e),e!==null)if(t=pa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Eb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yd=e,null}function Mb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q6()){case ep:return 1;case Nb:return 4;case Zd:case J6:return 16;case _b:return 536870912;default:return 16}default:return 16}}var eo=null,sp=null,_d=null;function jb(){if(_d)return _d;var e,t=sp,n=t.length,r,o="value"in eo?eo.value:eo.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===o[l-r];r++);return _d=o.slice(e,1<r?1-r:void 0)}function Td(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function od(){return!0}function Ix(){return!1}function Ur(e){function t(n,r,o,l,d){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(l):l[m]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?od:Ix,this.isPropagationStopped=Ix,this}return on(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),t}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ip=Ur(Ll),Ou=on({},Ll,{view:0,detail:0}),fR=Ur(Ou),c0,u0,uc,Kf=on({},Ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:op,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uc&&(uc&&e.type==="mousemove"?(c0=e.screenX-uc.screenX,u0=e.screenY-uc.screenY):u0=c0=0,uc=e),c0)},movementY:function(e){return"movementY"in e?e.movementY:u0}}),Rx=Ur(Kf),hR=on({},Kf,{dataTransfer:0}),mR=Ur(hR),pR=on({},Ou,{relatedTarget:0}),d0=Ur(pR),gR=on({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),xR=Ur(gR),yR=on({},Ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vR=Ur(yR),wR=on({},Ll,{data:0}),Ox=Ur(wR),CR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ER={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bR[e])?!!t[e]:!1}function op(){return SR}var AR=on({},Ou,{key:function(e){if(e.key){var t=CR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Td(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ER[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:op,charCode:function(e){return e.type==="keypress"?Td(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Td(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NR=Ur(AR),_R=on({},Kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Px=Ur(_R),TR=on({},Ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:op}),IR=Ur(TR),RR=on({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),OR=Ur(RR),PR=on({},Kf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DR=Ur(PR),kR=[9,13,27,32],ap=gi&&"CompositionEvent"in window,Rc=null;gi&&"documentMode"in document&&(Rc=document.documentMode);var MR=gi&&"TextEvent"in window&&!Rc,Lb=gi&&(!ap||Rc&&8<Rc&&11>=Rc),Dx=" ",kx=!1;function Fb(e,t){switch(e){case"keyup":return kR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ja=!1;function jR(e,t){switch(e){case"compositionend":return Bb(t);case"keypress":return t.which!==32?null:(kx=!0,Dx);case"textInput":return e=t.data,e===Dx&&kx?null:e;default:return null}}function LR(e,t){if(ja)return e==="compositionend"||!ap&&Fb(e,t)?(e=jb(),_d=sp=eo=null,ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lb&&t.locale!=="ko"?null:t.data;default:return null}}var FR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FR[e.type]:t==="textarea"}function Vb(e,t,n,r){xb(r),t=Qd(t,"onChange"),0<t.length&&(n=new ip("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Oc=null,Xc=null;function BR(e){Yb(e,0)}function qf(e){var t=Ba(e);if(ub(t))return e}function VR(e,t){if(e==="change")return t}var Ub=!1;if(gi){var f0;if(gi){var h0="oninput"in document;if(!h0){var jx=document.createElement("div");jx.setAttribute("oninput","return;"),h0=typeof jx.oninput=="function"}f0=h0}else f0=!1;Ub=f0&&(!document.documentMode||9<document.documentMode)}function Lx(){Oc&&(Oc.detachEvent("onpropertychange",zb),Xc=Oc=null)}function zb(e){if(e.propertyName==="value"&&qf(Xc)){var t=[];Vb(t,Xc,e,Jm(e)),Cb(BR,t)}}function UR(e,t,n){e==="focusin"?(Lx(),Oc=t,Xc=n,Oc.attachEvent("onpropertychange",zb)):e==="focusout"&&Lx()}function zR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qf(Xc)}function WR(e,t){if(e==="click")return qf(t)}function HR(e,t){if(e==="input"||e==="change")return qf(t)}function GR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ws=typeof Object.is=="function"?Object.is:GR;function Zc(e,t){if(ws(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!t1.call(t,o)||!ws(e[o],t[o]))return!1}return!0}function Fx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bx(e,t){var n=Fx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fx(n)}}function Wb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hb(){for(var e=window,t=Gd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gd(e.document)}return t}function lp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $R(e){var t=Hb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wb(n.ownerDocument.documentElement,n)){if(r!==null&&lp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=Bx(n,l);var d=Bx(n,r);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XR=gi&&"documentMode"in document&&11>=document.documentMode,La=null,w1=null,Pc=null,C1=!1;function Vx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;C1||La==null||La!==Gd(r)||(r=La,"selectionStart"in r&&lp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pc&&Zc(Pc,r)||(Pc=r,r=Qd(w1,"onSelect"),0<r.length&&(t=new ip("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=La)))}function ad(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fa={animationend:ad("Animation","AnimationEnd"),animationiteration:ad("Animation","AnimationIteration"),animationstart:ad("Animation","AnimationStart"),transitionend:ad("Transition","TransitionEnd")},m0={},Gb={};gi&&(Gb=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Yf(e){if(m0[e])return m0[e];if(!Fa[e])return e;var t=Fa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gb)return m0[e]=t[n];return e}var $b=Yf("animationend"),Xb=Yf("animationiteration"),Zb=Yf("animationstart"),Kb=Yf("transitionend"),qb=new Map,Ux="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(e,t){qb.set(e,t),ma(t,[e])}for(var p0=0;p0<Ux.length;p0++){var g0=Ux[p0],ZR=g0.toLowerCase(),KR=g0[0].toUpperCase()+g0.slice(1);bo(ZR,"on"+KR)}bo($b,"onAnimationEnd");bo(Xb,"onAnimationIteration");bo(Zb,"onAnimationStart");bo("dblclick","onDoubleClick");bo("focusin","onFocus");bo("focusout","onBlur");bo(Kb,"onTransitionEnd");Cl("onMouseEnter",["mouseout","mouseover"]);Cl("onMouseLeave",["mouseout","mouseover"]);Cl("onPointerEnter",["pointerout","pointerover"]);Cl("onPointerLeave",["pointerout","pointerover"]);ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ec));function zx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Z6(r,t,void 0,e),e.currentTarget=null}function Yb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var d=r.length-1;0<=d;d--){var m=r[d],x=m.instance,g=m.currentTarget;if(m=m.listener,x!==l&&o.isPropagationStopped())break e;zx(o,m,g),l=x}else for(d=0;d<r.length;d++){if(m=r[d],x=m.instance,g=m.currentTarget,m=m.listener,x!==l&&o.isPropagationStopped())break e;zx(o,m,g),l=x}}}if(Xd)throw e=g1,Xd=!1,g1=null,e}function Gt(e,t){var n=t[N1];n===void 0&&(n=t[N1]=new Set);var r=e+"__bubble";n.has(r)||(Qb(t,e,2,!1),n.add(r))}function x0(e,t,n){var r=0;t&&(r|=4),Qb(n,e,r,t)}var ld="_reactListening"+Math.random().toString(36).slice(2);function Kc(e){if(!e[ld]){e[ld]=!0,ib.forEach(function(n){n!=="selectionchange"&&(qR.has(n)||x0(n,!1,e),x0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ld]||(t[ld]=!0,x0("selectionchange",!1,t))}}function Qb(e,t,n,r){switch(Mb(t)){case 1:var o=uR;break;case 4:o=dR;break;default:o=rp}n=o.bind(null,t,n,e),o=void 0,!p1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function y0(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var m=r.stateNode.containerInfo;if(m===o||m.nodeType===8&&m.parentNode===o)break;if(d===4)for(d=r.return;d!==null;){var x=d.tag;if((x===3||x===4)&&(x=d.stateNode.containerInfo,x===o||x.nodeType===8&&x.parentNode===o))return;d=d.return}for(;m!==null;){if(d=Lo(m),d===null)return;if(x=d.tag,x===5||x===6){r=l=d;continue e}m=m.parentNode}}r=r.return}Cb(function(){var g=l,v=Jm(n),C=[];e:{var b=qb.get(e);if(b!==void 0){var O=ip,k=e;switch(e){case"keypress":if(Td(n)===0)break e;case"keydown":case"keyup":O=NR;break;case"focusin":k="focus",O=d0;break;case"focusout":k="blur",O=d0;break;case"beforeblur":case"afterblur":O=d0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=Rx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=mR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=IR;break;case $b:case Xb:case Zb:O=xR;break;case Kb:O=OR;break;case"scroll":O=fR;break;case"wheel":O=DR;break;case"copy":case"cut":case"paste":O=vR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Px}var N=(t&4)!==0,P=!N&&e==="scroll",R=N?b!==null?b+"Capture":null:b;N=[];for(var A=g,I;A!==null;){I=A;var M=I.stateNode;if(I.tag===5&&M!==null&&(I=M,R!==null&&(M=Wc(A,R),M!=null&&N.push(qc(A,M,I)))),P)break;A=A.return}0<N.length&&(b=new O(b,k,null,n,v),C.push({event:b,listeners:N}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",b&&n!==h1&&(k=n.relatedTarget||n.fromElement)&&(Lo(k)||k[xi]))break e;if((O||b)&&(b=v.window===v?v:(b=v.ownerDocument)?b.defaultView||b.parentWindow:window,O?(k=n.relatedTarget||n.toElement,O=g,k=k?Lo(k):null,k!==null&&(P=pa(k),k!==P||k.tag!==5&&k.tag!==6)&&(k=null)):(O=null,k=g),O!==k)){if(N=Rx,M="onMouseLeave",R="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(N=Px,M="onPointerLeave",R="onPointerEnter",A="pointer"),P=O==null?b:Ba(O),I=k==null?b:Ba(k),b=new N(M,A+"leave",O,n,v),b.target=P,b.relatedTarget=I,M=null,Lo(v)===g&&(N=new N(R,A+"enter",k,n,v),N.target=I,N.relatedTarget=P,M=N),P=M,O&&k)t:{for(N=O,R=k,A=0,I=N;I;I=Ta(I))A++;for(I=0,M=R;M;M=Ta(M))I++;for(;0<A-I;)N=Ta(N),A--;for(;0<I-A;)R=Ta(R),I--;for(;A--;){if(N===R||R!==null&&N===R.alternate)break t;N=Ta(N),R=Ta(R)}N=null}else N=null;O!==null&&Wx(C,b,O,N,!1),k!==null&&P!==null&&Wx(C,P,k,N,!0)}}e:{if(b=g?Ba(g):window,O=b.nodeName&&b.nodeName.toLowerCase(),O==="select"||O==="input"&&b.type==="file")var j=VR;else if(Mx(b))if(Ub)j=HR;else{j=zR;var $=UR}else(O=b.nodeName)&&O.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(j=WR);if(j&&(j=j(e,g))){Vb(C,j,n,v);break e}$&&$(e,b,g),e==="focusout"&&($=b._wrapperState)&&$.controlled&&b.type==="number"&&l1(b,"number",b.value)}switch($=g?Ba(g):window,e){case"focusin":(Mx($)||$.contentEditable==="true")&&(La=$,w1=g,Pc=null);break;case"focusout":Pc=w1=La=null;break;case"mousedown":C1=!0;break;case"contextmenu":case"mouseup":case"dragend":C1=!1,Vx(C,n,v);break;case"selectionchange":if(XR)break;case"keydown":case"keyup":Vx(C,n,v)}var B;if(ap)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else ja?Fb(e,n)&&(G="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(Lb&&n.locale!=="ko"&&(ja||G!=="onCompositionStart"?G==="onCompositionEnd"&&ja&&(B=jb()):(eo=v,sp="value"in eo?eo.value:eo.textContent,ja=!0)),$=Qd(g,G),0<$.length&&(G=new Ox(G,e,null,n,v),C.push({event:G,listeners:$}),B?G.data=B:(B=Bb(n),B!==null&&(G.data=B)))),(B=MR?jR(e,n):LR(e,n))&&(g=Qd(g,"onBeforeInput"),0<g.length&&(v=new Ox("onBeforeInput","beforeinput",null,n,v),C.push({event:v,listeners:g}),v.data=B))}Yb(C,t)})}function qc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qd(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Wc(e,n),l!=null&&r.unshift(qc(e,l,o)),l=Wc(e,t),l!=null&&r.push(qc(e,l,o))),e=e.return}return r}function Ta(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wx(e,t,n,r,o){for(var l=t._reactName,d=[];n!==null&&n!==r;){var m=n,x=m.alternate,g=m.stateNode;if(x!==null&&x===r)break;m.tag===5&&g!==null&&(m=g,o?(x=Wc(n,l),x!=null&&d.unshift(qc(n,x,m))):o||(x=Wc(n,l),x!=null&&d.push(qc(n,x,m)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var YR=/\r\n?/g,QR=/\u0000|\uFFFD/g;function Hx(e){return(typeof e=="string"?e:""+e).replace(YR,`
`).replace(QR,"")}function cd(e,t,n){if(t=Hx(t),Hx(e)!==t&&n)throw Error(me(425))}function Jd(){}var E1=null,b1=null;function S1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var A1=typeof setTimeout=="function"?setTimeout:void 0,JR=typeof clearTimeout=="function"?clearTimeout:void 0,Gx=typeof Promise=="function"?Promise:void 0,eO=typeof queueMicrotask=="function"?queueMicrotask:typeof Gx<"u"?function(e){return Gx.resolve(null).then(e).catch(tO)}:A1;function tO(e){setTimeout(function(){throw e})}function v0(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),$c(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);$c(t)}function oo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $x(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fl=Math.random().toString(36).slice(2),Ls="__reactFiber$"+Fl,Yc="__reactProps$"+Fl,xi="__reactContainer$"+Fl,N1="__reactEvents$"+Fl,nO="__reactListeners$"+Fl,rO="__reactHandles$"+Fl;function Lo(e){var t=e[Ls];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xi]||n[Ls]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$x(e);e!==null;){if(n=e[Ls])return n;e=$x(e)}return t}e=n,n=e.parentNode}return null}function Pu(e){return e=e[Ls]||e[xi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ba(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function Qf(e){return e[Yc]||null}var _1=[],Va=-1;function So(e){return{current:e}}function Xt(e){0>Va||(e.current=_1[Va],_1[Va]=null,Va--)}function zt(e,t){Va++,_1[Va]=e.current,e.current=t}var mo={},Jn=So(mo),Nr=So(!1),Jo=mo;function El(e,t){var n=e.type.contextTypes;if(!n)return mo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function _r(e){return e=e.childContextTypes,e!=null}function ef(){Xt(Nr),Xt(Jn)}function Xx(e,t,n){if(Jn.current!==mo)throw Error(me(168));zt(Jn,t),zt(Nr,n)}function Jb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(me(108,U6(e)||"Unknown",o));return on({},n,r)}function tf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mo,Jo=Jn.current,zt(Jn,e),zt(Nr,Nr.current),!0}function Zx(e,t,n){var r=e.stateNode;if(!r)throw Error(me(169));n?(e=Jb(e,t,Jo),r.__reactInternalMemoizedMergedChildContext=e,Xt(Nr),Xt(Jn),zt(Jn,e)):Xt(Nr),zt(Nr,n)}var ai=null,Jf=!1,w0=!1;function e3(e){ai===null?ai=[e]:ai.push(e)}function sO(e){Jf=!0,e3(e)}function Ao(){if(!w0&&ai!==null){w0=!0;var e=0,t=jt;try{var n=ai;for(jt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ai=null,Jf=!1}catch(o){throw ai!==null&&(ai=ai.slice(e+1)),Ab(ep,Ao),o}finally{jt=t,w0=!1}}return null}var Ua=[],za=0,nf=null,rf=0,Yr=[],Qr=0,ea=null,ui=1,di="";function ko(e,t){Ua[za++]=rf,Ua[za++]=nf,nf=e,rf=t}function t3(e,t,n){Yr[Qr++]=ui,Yr[Qr++]=di,Yr[Qr++]=ea,ea=e;var r=ui;e=di;var o=32-xs(r)-1;r&=~(1<<o),n+=1;var l=32-xs(t)+o;if(30<l){var d=o-o%5;l=(r&(1<<d)-1).toString(32),r>>=d,o-=d,ui=1<<32-xs(t)+o|n<<o|r,di=l+e}else ui=1<<l|n<<o|r,di=e}function cp(e){e.return!==null&&(ko(e,1),t3(e,1,0))}function up(e){for(;e===nf;)nf=Ua[--za],Ua[za]=null,rf=Ua[--za],Ua[za]=null;for(;e===ea;)ea=Yr[--Qr],Yr[Qr]=null,di=Yr[--Qr],Yr[Qr]=null,ui=Yr[--Qr],Yr[Qr]=null}var jr=null,Mr=null,Qt=!1,fs=null;function n3(e,t){var n=Jr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jr=e,Mr=oo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jr=e,Mr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ea!==null?{id:ui,overflow:di}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Jr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jr=e,Mr=null,!0):!1;default:return!1}}function T1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function I1(e){if(Qt){var t=Mr;if(t){var n=t;if(!Kx(e,t)){if(T1(e))throw Error(me(418));t=oo(n.nextSibling);var r=jr;t&&Kx(e,t)?n3(r,n):(e.flags=e.flags&-4097|2,Qt=!1,jr=e)}}else{if(T1(e))throw Error(me(418));e.flags=e.flags&-4097|2,Qt=!1,jr=e}}}function qx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jr=e}function ud(e){if(e!==jr)return!1;if(!Qt)return qx(e),Qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!S1(e.type,e.memoizedProps)),t&&(t=Mr)){if(T1(e))throw r3(),Error(me(418));for(;t;)n3(e,t),t=oo(t.nextSibling)}if(qx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Mr=oo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Mr=null}}else Mr=jr?oo(e.stateNode.nextSibling):null;return!0}function r3(){for(var e=Mr;e;)e=oo(e.nextSibling)}function bl(){Mr=jr=null,Qt=!1}function dp(e){fs===null?fs=[e]:fs.push(e)}var iO=Si.ReactCurrentBatchConfig;function dc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(me(309));var r=n.stateNode}if(!r)throw Error(me(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var m=o.refs;d===null?delete m[l]:m[l]=d},t._stringRef=l,t)}if(typeof e!="string")throw Error(me(284));if(!n._owner)throw Error(me(290,e))}return e}function dd(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yx(e){var t=e._init;return t(e._payload)}function s3(e){function t(R,A){if(e){var I=R.deletions;I===null?(R.deletions=[A],R.flags|=16):I.push(A)}}function n(R,A){if(!e)return null;for(;A!==null;)t(R,A),A=A.sibling;return null}function r(R,A){for(R=new Map;A!==null;)A.key!==null?R.set(A.key,A):R.set(A.index,A),A=A.sibling;return R}function o(R,A){return R=uo(R,A),R.index=0,R.sibling=null,R}function l(R,A,I){return R.index=I,e?(I=R.alternate,I!==null?(I=I.index,I<A?(R.flags|=2,A):I):(R.flags|=2,A)):(R.flags|=1048576,A)}function d(R){return e&&R.alternate===null&&(R.flags|=2),R}function m(R,A,I,M){return A===null||A.tag!==6?(A=_0(I,R.mode,M),A.return=R,A):(A=o(A,I),A.return=R,A)}function x(R,A,I,M){var j=I.type;return j===Ma?v(R,A,I.props.children,M,I.key):A!==null&&(A.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Vi&&Yx(j)===A.type)?(M=o(A,I.props),M.ref=dc(R,A,I),M.return=R,M):(M=Md(I.type,I.key,I.props,null,R.mode,M),M.ref=dc(R,A,I),M.return=R,M)}function g(R,A,I,M){return A===null||A.tag!==4||A.stateNode.containerInfo!==I.containerInfo||A.stateNode.implementation!==I.implementation?(A=T0(I,R.mode,M),A.return=R,A):(A=o(A,I.children||[]),A.return=R,A)}function v(R,A,I,M,j){return A===null||A.tag!==7?(A=Ko(I,R.mode,M,j),A.return=R,A):(A=o(A,I),A.return=R,A)}function C(R,A,I){if(typeof A=="string"&&A!==""||typeof A=="number")return A=_0(""+A,R.mode,I),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ed:return I=Md(A.type,A.key,A.props,null,R.mode,I),I.ref=dc(R,null,A),I.return=R,I;case ka:return A=T0(A,R.mode,I),A.return=R,A;case Vi:var M=A._init;return C(R,M(A._payload),I)}if(wc(A)||oc(A))return A=Ko(A,R.mode,I,null),A.return=R,A;dd(R,A)}return null}function b(R,A,I,M){var j=A!==null?A.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return j!==null?null:m(R,A,""+I,M);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ed:return I.key===j?x(R,A,I,M):null;case ka:return I.key===j?g(R,A,I,M):null;case Vi:return j=I._init,b(R,A,j(I._payload),M)}if(wc(I)||oc(I))return j!==null?null:v(R,A,I,M,null);dd(R,I)}return null}function O(R,A,I,M,j){if(typeof M=="string"&&M!==""||typeof M=="number")return R=R.get(I)||null,m(A,R,""+M,j);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ed:return R=R.get(M.key===null?I:M.key)||null,x(A,R,M,j);case ka:return R=R.get(M.key===null?I:M.key)||null,g(A,R,M,j);case Vi:var $=M._init;return O(R,A,I,$(M._payload),j)}if(wc(M)||oc(M))return R=R.get(I)||null,v(A,R,M,j,null);dd(A,M)}return null}function k(R,A,I,M){for(var j=null,$=null,B=A,G=A=0,W=null;B!==null&&G<I.length;G++){B.index>G?(W=B,B=null):W=B.sibling;var ae=b(R,B,I[G],M);if(ae===null){B===null&&(B=W);break}e&&B&&ae.alternate===null&&t(R,B),A=l(ae,A,G),$===null?j=ae:$.sibling=ae,$=ae,B=W}if(G===I.length)return n(R,B),Qt&&ko(R,G),j;if(B===null){for(;G<I.length;G++)B=C(R,I[G],M),B!==null&&(A=l(B,A,G),$===null?j=B:$.sibling=B,$=B);return Qt&&ko(R,G),j}for(B=r(R,B);G<I.length;G++)W=O(B,R,G,I[G],M),W!==null&&(e&&W.alternate!==null&&B.delete(W.key===null?G:W.key),A=l(W,A,G),$===null?j=W:$.sibling=W,$=W);return e&&B.forEach(function(pe){return t(R,pe)}),Qt&&ko(R,G),j}function N(R,A,I,M){var j=oc(I);if(typeof j!="function")throw Error(me(150));if(I=j.call(I),I==null)throw Error(me(151));for(var $=j=null,B=A,G=A=0,W=null,ae=I.next();B!==null&&!ae.done;G++,ae=I.next()){B.index>G?(W=B,B=null):W=B.sibling;var pe=b(R,B,ae.value,M);if(pe===null){B===null&&(B=W);break}e&&B&&pe.alternate===null&&t(R,B),A=l(pe,A,G),$===null?j=pe:$.sibling=pe,$=pe,B=W}if(ae.done)return n(R,B),Qt&&ko(R,G),j;if(B===null){for(;!ae.done;G++,ae=I.next())ae=C(R,ae.value,M),ae!==null&&(A=l(ae,A,G),$===null?j=ae:$.sibling=ae,$=ae);return Qt&&ko(R,G),j}for(B=r(R,B);!ae.done;G++,ae=I.next())ae=O(B,R,G,ae.value,M),ae!==null&&(e&&ae.alternate!==null&&B.delete(ae.key===null?G:ae.key),A=l(ae,A,G),$===null?j=ae:$.sibling=ae,$=ae);return e&&B.forEach(function(Y){return t(R,Y)}),Qt&&ko(R,G),j}function P(R,A,I,M){if(typeof I=="object"&&I!==null&&I.type===Ma&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case ed:e:{for(var j=I.key,$=A;$!==null;){if($.key===j){if(j=I.type,j===Ma){if($.tag===7){n(R,$.sibling),A=o($,I.props.children),A.return=R,R=A;break e}}else if($.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Vi&&Yx(j)===$.type){n(R,$.sibling),A=o($,I.props),A.ref=dc(R,$,I),A.return=R,R=A;break e}n(R,$);break}else t(R,$);$=$.sibling}I.type===Ma?(A=Ko(I.props.children,R.mode,M,I.key),A.return=R,R=A):(M=Md(I.type,I.key,I.props,null,R.mode,M),M.ref=dc(R,A,I),M.return=R,R=M)}return d(R);case ka:e:{for($=I.key;A!==null;){if(A.key===$)if(A.tag===4&&A.stateNode.containerInfo===I.containerInfo&&A.stateNode.implementation===I.implementation){n(R,A.sibling),A=o(A,I.children||[]),A.return=R,R=A;break e}else{n(R,A);break}else t(R,A);A=A.sibling}A=T0(I,R.mode,M),A.return=R,R=A}return d(R);case Vi:return $=I._init,P(R,A,$(I._payload),M)}if(wc(I))return k(R,A,I,M);if(oc(I))return N(R,A,I,M);dd(R,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,A!==null&&A.tag===6?(n(R,A.sibling),A=o(A,I),A.return=R,R=A):(n(R,A),A=_0(I,R.mode,M),A.return=R,R=A),d(R)):n(R,A)}return P}var Sl=s3(!0),i3=s3(!1),sf=So(null),of=null,Wa=null,fp=null;function hp(){fp=Wa=of=null}function mp(e){var t=sf.current;Xt(sf),e._currentValue=t}function R1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qa(e,t){of=e,fp=Wa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ar=!0),e.firstContext=null)}function ns(e){var t=e._currentValue;if(fp!==e)if(e={context:e,memoizedValue:t,next:null},Wa===null){if(of===null)throw Error(me(308));Wa=e,of.dependencies={lanes:0,firstContext:e}}else Wa=Wa.next=e;return t}var Fo=null;function pp(e){Fo===null?Fo=[e]:Fo.push(e)}function o3(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,pp(t)):(n.next=o.next,o.next=n),t.interleaved=n,yi(e,r)}function yi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ui=!1;function gp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ao(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,At&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,yi(e,n)}return o=r.interleaved,o===null?(t.next=t,pp(r)):(t.next=o.next,o.next=t),r.interleaved=t,yi(e,n)}function Id(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tp(e,n)}}function Qx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=d:l=l.next=d,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function af(e,t,n,r){var o=e.updateQueue;Ui=!1;var l=o.firstBaseUpdate,d=o.lastBaseUpdate,m=o.shared.pending;if(m!==null){o.shared.pending=null;var x=m,g=x.next;x.next=null,d===null?l=g:d.next=g,d=x;var v=e.alternate;v!==null&&(v=v.updateQueue,m=v.lastBaseUpdate,m!==d&&(m===null?v.firstBaseUpdate=g:m.next=g,v.lastBaseUpdate=x))}if(l!==null){var C=o.baseState;d=0,v=g=x=null,m=l;do{var b=m.lane,O=m.eventTime;if((r&b)===b){v!==null&&(v=v.next={eventTime:O,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var k=e,N=m;switch(b=t,O=n,N.tag){case 1:if(k=N.payload,typeof k=="function"){C=k.call(O,C,b);break e}C=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=N.payload,b=typeof k=="function"?k.call(O,C,b):k,b==null)break e;C=on({},C,b);break e;case 2:Ui=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,b=o.effects,b===null?o.effects=[m]:b.push(m))}else O={eventTime:O,lane:b,tag:m.tag,payload:m.payload,callback:m.callback,next:null},v===null?(g=v=O,x=C):v=v.next=O,d|=b;if(m=m.next,m===null){if(m=o.shared.pending,m===null)break;b=m,m=b.next,b.next=null,o.lastBaseUpdate=b,o.shared.pending=null}}while(!0);if(v===null&&(x=C),o.baseState=x,o.firstBaseUpdate=g,o.lastBaseUpdate=v,t=o.shared.interleaved,t!==null){o=t;do d|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);na|=d,e.lanes=d,e.memoizedState=C}}function Jx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(me(191,o));o.call(r)}}}var Du={},Us=So(Du),Qc=So(Du),Jc=So(Du);function Bo(e){if(e===Du)throw Error(me(174));return e}function xp(e,t){switch(zt(Jc,t),zt(Qc,e),zt(Us,Du),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:u1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=u1(t,e)}Xt(Us),zt(Us,t)}function Al(){Xt(Us),Xt(Qc),Xt(Jc)}function l3(e){Bo(Jc.current);var t=Bo(Us.current),n=u1(t,e.type);t!==n&&(zt(Qc,e),zt(Us,n))}function yp(e){Qc.current===e&&(Xt(Us),Xt(Qc))}var rn=So(0);function lf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var C0=[];function vp(){for(var e=0;e<C0.length;e++)C0[e]._workInProgressVersionPrimary=null;C0.length=0}var Rd=Si.ReactCurrentDispatcher,E0=Si.ReactCurrentBatchConfig,ta=0,sn=null,Sn=null,Pn=null,cf=!1,Dc=!1,eu=0,oO=0;function Kn(){throw Error(me(321))}function wp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ws(e[n],t[n]))return!1;return!0}function Cp(e,t,n,r,o,l){if(ta=l,sn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rd.current=e===null||e.memoizedState===null?uO:dO,e=n(r,o),Dc){l=0;do{if(Dc=!1,eu=0,25<=l)throw Error(me(301));l+=1,Pn=Sn=null,t.updateQueue=null,Rd.current=fO,e=n(r,o)}while(Dc)}if(Rd.current=uf,t=Sn!==null&&Sn.next!==null,ta=0,Pn=Sn=sn=null,cf=!1,t)throw Error(me(300));return e}function Ep(){var e=eu!==0;return eu=0,e}function Ps(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?sn.memoizedState=Pn=e:Pn=Pn.next=e,Pn}function rs(){if(Sn===null){var e=sn.alternate;e=e!==null?e.memoizedState:null}else e=Sn.next;var t=Pn===null?sn.memoizedState:Pn.next;if(t!==null)Pn=t,Sn=e;else{if(e===null)throw Error(me(310));Sn=e,e={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Pn===null?sn.memoizedState=Pn=e:Pn=Pn.next=e}return Pn}function tu(e,t){return typeof t=="function"?t(e):t}function b0(e){var t=rs(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=Sn,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var d=o.next;o.next=l.next,l.next=d}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var m=d=null,x=null,g=l;do{var v=g.lane;if((ta&v)===v)x!==null&&(x=x.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var C={lane:v,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};x===null?(m=x=C,d=r):x=x.next=C,sn.lanes|=v,na|=v}g=g.next}while(g!==null&&g!==l);x===null?d=r:x.next=m,ws(r,t.memoizedState)||(Ar=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=x,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,sn.lanes|=l,na|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function S0(e){var t=rs(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var d=o=o.next;do l=e(l,d.action),d=d.next;while(d!==o);ws(l,t.memoizedState)||(Ar=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function c3(){}function u3(e,t){var n=sn,r=rs(),o=t(),l=!ws(r.memoizedState,o);if(l&&(r.memoizedState=o,Ar=!0),r=r.queue,bp(h3.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,nu(9,f3.bind(null,n,r,o,t),void 0,null),kn===null)throw Error(me(349));ta&30||d3(n,t,o)}return o}function d3(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function f3(e,t,n,r){t.value=n,t.getSnapshot=r,m3(t)&&p3(e)}function h3(e,t,n){return n(function(){m3(t)&&p3(e)})}function m3(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ws(e,n)}catch{return!0}}function p3(e){var t=yi(e,1);t!==null&&ys(t,e,1,-1)}function ey(e){var t=Ps();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:e},t.queue=e,e=e.dispatch=cO.bind(null,sn,e),[t.memoizedState,e]}function nu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function g3(){return rs().memoizedState}function Od(e,t,n,r){var o=Ps();sn.flags|=e,o.memoizedState=nu(1|t,n,void 0,r===void 0?null:r)}function eh(e,t,n,r){var o=rs();r=r===void 0?null:r;var l=void 0;if(Sn!==null){var d=Sn.memoizedState;if(l=d.destroy,r!==null&&wp(r,d.deps)){o.memoizedState=nu(t,n,l,r);return}}sn.flags|=e,o.memoizedState=nu(1|t,n,l,r)}function ty(e,t){return Od(8390656,8,e,t)}function bp(e,t){return eh(2048,8,e,t)}function x3(e,t){return eh(4,2,e,t)}function y3(e,t){return eh(4,4,e,t)}function v3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function w3(e,t,n){return n=n!=null?n.concat([e]):null,eh(4,4,v3.bind(null,t,e),n)}function Sp(){}function C3(e,t){var n=rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function E3(e,t){var n=rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function b3(e,t,n){return ta&21?(ws(n,t)||(n=Tb(),sn.lanes|=n,na|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ar=!0),e.memoizedState=n)}function aO(e,t){var n=jt;jt=n!==0&&4>n?n:4,e(!0);var r=E0.transition;E0.transition={};try{e(!1),t()}finally{jt=n,E0.transition=r}}function S3(){return rs().memoizedState}function lO(e,t,n){var r=co(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},A3(e))N3(t,n);else if(n=o3(e,t,n,r),n!==null){var o=ur();ys(n,e,r,o),_3(n,t,r)}}function cO(e,t,n){var r=co(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(A3(e))N3(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,m=l(d,n);if(o.hasEagerState=!0,o.eagerState=m,ws(m,d)){var x=t.interleaved;x===null?(o.next=o,pp(t)):(o.next=x.next,x.next=o),t.interleaved=o;return}}catch{}finally{}n=o3(e,t,o,r),n!==null&&(o=ur(),ys(n,e,r,o),_3(n,t,r))}}function A3(e){var t=e.alternate;return e===sn||t!==null&&t===sn}function N3(e,t){Dc=cf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _3(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tp(e,n)}}var uf={readContext:ns,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},uO={readContext:ns,useCallback:function(e,t){return Ps().memoizedState=[e,t===void 0?null:t],e},useContext:ns,useEffect:ty,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Od(4194308,4,v3.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Od(4194308,4,e,t)},useInsertionEffect:function(e,t){return Od(4,2,e,t)},useMemo:function(e,t){var n=Ps();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ps();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lO.bind(null,sn,e),[r.memoizedState,e]},useRef:function(e){var t=Ps();return e={current:e},t.memoizedState=e},useState:ey,useDebugValue:Sp,useDeferredValue:function(e){return Ps().memoizedState=e},useTransition:function(){var e=ey(!1),t=e[0];return e=aO.bind(null,e[1]),Ps().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sn,o=Ps();if(Qt){if(n===void 0)throw Error(me(407));n=n()}else{if(n=t(),kn===null)throw Error(me(349));ta&30||d3(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,ty(h3.bind(null,r,l,e),[e]),r.flags|=2048,nu(9,f3.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Ps(),t=kn.identifierPrefix;if(Qt){var n=di,r=ui;n=(r&~(1<<32-xs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=eu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oO++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dO={readContext:ns,useCallback:C3,useContext:ns,useEffect:bp,useImperativeHandle:w3,useInsertionEffect:x3,useLayoutEffect:y3,useMemo:E3,useReducer:b0,useRef:g3,useState:function(){return b0(tu)},useDebugValue:Sp,useDeferredValue:function(e){var t=rs();return b3(t,Sn.memoizedState,e)},useTransition:function(){var e=b0(tu)[0],t=rs().memoizedState;return[e,t]},useMutableSource:c3,useSyncExternalStore:u3,useId:S3,unstable_isNewReconciler:!1},fO={readContext:ns,useCallback:C3,useContext:ns,useEffect:bp,useImperativeHandle:w3,useInsertionEffect:x3,useLayoutEffect:y3,useMemo:E3,useReducer:S0,useRef:g3,useState:function(){return S0(tu)},useDebugValue:Sp,useDeferredValue:function(e){var t=rs();return Sn===null?t.memoizedState=e:b3(t,Sn.memoizedState,e)},useTransition:function(){var e=S0(tu)[0],t=rs().memoizedState;return[e,t]},useMutableSource:c3,useSyncExternalStore:u3,useId:S3,unstable_isNewReconciler:!1};function cs(e,t){if(e&&e.defaultProps){t=on({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function O1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:on({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var th={isMounted:function(e){return(e=e._reactInternals)?pa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ur(),o=co(e),l=hi(r,o);l.payload=t,n!=null&&(l.callback=n),t=ao(e,l,o),t!==null&&(ys(t,e,o,r),Id(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ur(),o=co(e),l=hi(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=ao(e,l,o),t!==null&&(ys(t,e,o,r),Id(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ur(),r=co(e),o=hi(n,r);o.tag=2,t!=null&&(o.callback=t),t=ao(e,o,r),t!==null&&(ys(t,e,r,n),Id(t,e,r))}};function ny(e,t,n,r,o,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,d):t.prototype&&t.prototype.isPureReactComponent?!Zc(n,r)||!Zc(o,l):!0}function T3(e,t,n){var r=!1,o=mo,l=t.contextType;return typeof l=="object"&&l!==null?l=ns(l):(o=_r(t)?Jo:Jn.current,r=t.contextTypes,l=(r=r!=null)?El(e,o):mo),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=th,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function ry(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&th.enqueueReplaceState(t,t.state,null)}function P1(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},gp(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=ns(l):(l=_r(t)?Jo:Jn.current,o.context=El(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(O1(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&th.enqueueReplaceState(o,o.state,null),af(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Nl(e,t){try{var n="",r=t;do n+=V6(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function A0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function D1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hO=typeof WeakMap=="function"?WeakMap:Map;function I3(e,t,n){n=hi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ff||(ff=!0,W1=r),D1(e,t)},n}function R3(e,t,n){n=hi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){D1(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){D1(e,t),typeof r!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function sy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hO;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=_O.bind(null,e,t,n),t.then(e,e))}function iy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oy(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hi(-1,1),t.tag=2,ao(n,t,1))),n.lanes|=1),e)}var mO=Si.ReactCurrentOwner,Ar=!1;function or(e,t,n,r){t.child=e===null?i3(t,null,n,r):Sl(t,e.child,n,r)}function ay(e,t,n,r,o){n=n.render;var l=t.ref;return Qa(t,o),r=Cp(e,t,n,r,l,o),n=Ep(),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vi(e,t,o)):(Qt&&n&&cp(t),t.flags|=1,or(e,t,r,o),t.child)}function ly(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!Pp(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,O3(e,t,l,r,o)):(e=Md(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var d=l.memoizedProps;if(n=n.compare,n=n!==null?n:Zc,n(d,r)&&e.ref===t.ref)return vi(e,t,o)}return t.flags|=1,e=uo(l,r),e.ref=t.ref,e.return=t,t.child=e}function O3(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(Zc(l,r)&&e.ref===t.ref)if(Ar=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(Ar=!0);else return t.lanes=e.lanes,vi(e,t,o)}return k1(e,t,n,r,o)}function P3(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Ga,Pr),Pr|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(Ga,Pr),Pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,zt(Ga,Pr),Pr|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,zt(Ga,Pr),Pr|=r;return or(e,t,o,n),t.child}function D3(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function k1(e,t,n,r,o){var l=_r(n)?Jo:Jn.current;return l=El(t,l),Qa(t,o),n=Cp(e,t,n,r,l,o),r=Ep(),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vi(e,t,o)):(Qt&&r&&cp(t),t.flags|=1,or(e,t,n,o),t.child)}function cy(e,t,n,r,o){if(_r(n)){var l=!0;tf(t)}else l=!1;if(Qa(t,o),t.stateNode===null)Pd(e,t),T3(t,n,r),P1(t,n,r,o),r=!0;else if(e===null){var d=t.stateNode,m=t.memoizedProps;d.props=m;var x=d.context,g=n.contextType;typeof g=="object"&&g!==null?g=ns(g):(g=_r(n)?Jo:Jn.current,g=El(t,g));var v=n.getDerivedStateFromProps,C=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function";C||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==r||x!==g)&&ry(t,d,r,g),Ui=!1;var b=t.memoizedState;d.state=b,af(t,r,d,o),x=t.memoizedState,m!==r||b!==x||Nr.current||Ui?(typeof v=="function"&&(O1(t,n,v,r),x=t.memoizedState),(m=Ui||ny(t,n,m,r,b,x,g))?(C||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),d.props=r,d.state=x,d.context=g,r=m):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,a3(e,t),m=t.memoizedProps,g=t.type===t.elementType?m:cs(t.type,m),d.props=g,C=t.pendingProps,b=d.context,x=n.contextType,typeof x=="object"&&x!==null?x=ns(x):(x=_r(n)?Jo:Jn.current,x=El(t,x));var O=n.getDerivedStateFromProps;(v=typeof O=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==C||b!==x)&&ry(t,d,r,x),Ui=!1,b=t.memoizedState,d.state=b,af(t,r,d,o);var k=t.memoizedState;m!==C||b!==k||Nr.current||Ui?(typeof O=="function"&&(O1(t,n,O,r),k=t.memoizedState),(g=Ui||ny(t,n,g,r,b,k,x)||!1)?(v||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,k,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,k,x)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),d.props=r,d.state=k,d.context=x,r=g):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return M1(e,t,n,r,l,o)}function M1(e,t,n,r,o,l){D3(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return o&&Zx(t,n,!1),vi(e,t,l);r=t.stateNode,mO.current=t;var m=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=Sl(t,e.child,null,l),t.child=Sl(t,null,m,l)):or(e,t,m,l),t.memoizedState=r.state,o&&Zx(t,n,!0),t.child}function k3(e){var t=e.stateNode;t.pendingContext?Xx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xx(e,t.context,!1),xp(e,t.containerInfo)}function uy(e,t,n,r,o){return bl(),dp(o),t.flags|=256,or(e,t,n,r),t.child}var j1={dehydrated:null,treeContext:null,retryLane:0};function L1(e){return{baseLanes:e,cachePool:null,transitions:null}}function M3(e,t,n){var r=t.pendingProps,o=rn.current,l=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(o&2)!==0),m?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),zt(rn,o&1),e===null)return I1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=r.children,e=r.fallback,l?(r=t.mode,l=t.child,d={mode:"hidden",children:d},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=d):l=sh(d,r,0,null),e=Ko(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=L1(n),t.memoizedState=j1,e):Ap(t,d));if(o=e.memoizedState,o!==null&&(m=o.dehydrated,m!==null))return pO(e,t,d,r,m,o,n);if(l){l=r.fallback,d=t.mode,o=e.child,m=o.sibling;var x={mode:"hidden",children:r.children};return!(d&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=x,t.deletions=null):(r=uo(o,x),r.subtreeFlags=o.subtreeFlags&14680064),m!==null?l=uo(m,l):(l=Ko(l,d,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,d=e.child.memoizedState,d=d===null?L1(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=e.childLanes&~n,t.memoizedState=j1,r}return l=e.child,e=l.sibling,r=uo(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ap(e,t){return t=sh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fd(e,t,n,r){return r!==null&&dp(r),Sl(t,e.child,null,n),e=Ap(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pO(e,t,n,r,o,l,d){if(n)return t.flags&256?(t.flags&=-257,r=A0(Error(me(422))),fd(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=sh({mode:"visible",children:r.children},o,0,null),l=Ko(l,o,d,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Sl(t,e.child,null,d),t.child.memoizedState=L1(d),t.memoizedState=j1,l);if(!(t.mode&1))return fd(e,t,d,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var m=r.dgst;return r=m,l=Error(me(419)),r=A0(l,r,void 0),fd(e,t,d,r)}if(m=(d&e.childLanes)!==0,Ar||m){if(r=kn,r!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|d)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,yi(e,o),ys(r,e,o,-1))}return Op(),r=A0(Error(me(421))),fd(e,t,d,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=TO.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Mr=oo(o.nextSibling),jr=t,Qt=!0,fs=null,e!==null&&(Yr[Qr++]=ui,Yr[Qr++]=di,Yr[Qr++]=ea,ui=e.id,di=e.overflow,ea=t),t=Ap(t,r.children),t.flags|=4096,t)}function dy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),R1(e.return,t,n)}function N0(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function j3(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(or(e,t,r.children,n),r=rn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dy(e,n,t);else if(e.tag===19)dy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(zt(rn,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&lf(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),N0(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&lf(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}N0(t,!0,n,null,l);break;case"together":N0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),na|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,n=uo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=uo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gO(e,t,n){switch(t.tag){case 3:k3(t),bl();break;case 5:l3(t);break;case 1:_r(t.type)&&tf(t);break;case 4:xp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;zt(sf,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(zt(rn,rn.current&1),t.flags|=128,null):n&t.child.childLanes?M3(e,t,n):(zt(rn,rn.current&1),e=vi(e,t,n),e!==null?e.sibling:null);zt(rn,rn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return j3(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),zt(rn,rn.current),r)break;return null;case 22:case 23:return t.lanes=0,P3(e,t,n)}return vi(e,t,n)}var L3,F1,F3,B3;L3=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};F1=function(){};F3=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Bo(Us.current);var l=null;switch(n){case"input":o=o1(e,o),r=o1(e,r),l=[];break;case"select":o=on({},o,{value:void 0}),r=on({},r,{value:void 0}),l=[];break;case"textarea":o=c1(e,o),r=c1(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jd)}d1(n,r);var d;n=null;for(g in o)if(!r.hasOwnProperty(g)&&o.hasOwnProperty(g)&&o[g]!=null)if(g==="style"){var m=o[g];for(d in m)m.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Uc.hasOwnProperty(g)?l||(l=[]):(l=l||[]).push(g,null));for(g in r){var x=r[g];if(m=o!=null?o[g]:void 0,r.hasOwnProperty(g)&&x!==m&&(x!=null||m!=null))if(g==="style")if(m){for(d in m)!m.hasOwnProperty(d)||x&&x.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in x)x.hasOwnProperty(d)&&m[d]!==x[d]&&(n||(n={}),n[d]=x[d])}else n||(l||(l=[]),l.push(g,n)),n=x;else g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,m=m?m.__html:void 0,x!=null&&m!==x&&(l=l||[]).push(g,x)):g==="children"?typeof x!="string"&&typeof x!="number"||(l=l||[]).push(g,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Uc.hasOwnProperty(g)?(x!=null&&g==="onScroll"&&Gt("scroll",e),l||m===x||(l=[])):(l=l||[]).push(g,x))}n&&(l=l||[]).push("style",n);var g=l;(t.updateQueue=g)&&(t.flags|=4)}};B3=function(e,t,n,r){n!==r&&(t.flags|=4)};function fc(e,t){if(!Qt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xO(e,t,n){var r=t.pendingProps;switch(up(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(t),null;case 1:return _r(t.type)&&ef(),qn(t),null;case 3:return r=t.stateNode,Al(),Xt(Nr),Xt(Jn),vp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ud(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fs!==null&&($1(fs),fs=null))),F1(e,t),qn(t),null;case 5:yp(t);var o=Bo(Jc.current);if(n=t.type,e!==null&&t.stateNode!=null)F3(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(me(166));return qn(t),null}if(e=Bo(Us.current),ud(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Ls]=t,r[Yc]=l,e=(t.mode&1)!==0,n){case"dialog":Gt("cancel",r),Gt("close",r);break;case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(o=0;o<Ec.length;o++)Gt(Ec[o],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"details":Gt("toggle",r);break;case"input":wx(r,l),Gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Gt("invalid",r);break;case"textarea":Ex(r,l),Gt("invalid",r)}d1(n,l),o=null;for(var d in l)if(l.hasOwnProperty(d)){var m=l[d];d==="children"?typeof m=="string"?r.textContent!==m&&(l.suppressHydrationWarning!==!0&&cd(r.textContent,m,e),o=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(l.suppressHydrationWarning!==!0&&cd(r.textContent,m,e),o=["children",""+m]):Uc.hasOwnProperty(d)&&m!=null&&d==="onScroll"&&Gt("scroll",r)}switch(n){case"input":td(r),Cx(r,l,!0);break;case"textarea":td(r),bx(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Jd)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[Ls]=t,e[Yc]=r,L3(e,t,!1,!1),t.stateNode=e;e:{switch(d=f1(n,r),n){case"dialog":Gt("cancel",e),Gt("close",e),o=r;break;case"iframe":case"object":case"embed":Gt("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ec.length;o++)Gt(Ec[o],e);o=r;break;case"source":Gt("error",e),o=r;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),o=r;break;case"details":Gt("toggle",e),o=r;break;case"input":wx(e,r),o=o1(e,r),Gt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=on({},r,{value:void 0}),Gt("invalid",e);break;case"textarea":Ex(e,r),o=c1(e,r),Gt("invalid",e);break;default:o=r}d1(n,o),m=o;for(l in m)if(m.hasOwnProperty(l)){var x=m[l];l==="style"?gb(e,x):l==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&mb(e,x)):l==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&zc(e,x):typeof x=="number"&&zc(e,""+x):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Uc.hasOwnProperty(l)?x!=null&&l==="onScroll"&&Gt("scroll",e):x!=null&&Km(e,l,x,d))}switch(n){case"input":td(e),Cx(e,r,!1);break;case"textarea":td(e),bx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ho(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Za(e,!!r.multiple,l,!1):r.defaultValue!=null&&Za(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Jd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qn(t),null;case 6:if(e&&t.stateNode!=null)B3(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(me(166));if(n=Bo(Jc.current),Bo(Us.current),ud(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ls]=t,(l=r.nodeValue!==n)&&(e=jr,e!==null))switch(e.tag){case 3:cd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cd(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ls]=t,t.stateNode=r}return qn(t),null;case 13:if(Xt(rn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qt&&Mr!==null&&t.mode&1&&!(t.flags&128))r3(),bl(),t.flags|=98560,l=!1;else if(l=ud(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(me(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(me(317));l[Ls]=t}else bl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qn(t),l=!1}else fs!==null&&($1(fs),fs=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||rn.current&1?Nn===0&&(Nn=3):Op())),t.updateQueue!==null&&(t.flags|=4),qn(t),null);case 4:return Al(),F1(e,t),e===null&&Kc(t.stateNode.containerInfo),qn(t),null;case 10:return mp(t.type._context),qn(t),null;case 17:return _r(t.type)&&ef(),qn(t),null;case 19:if(Xt(rn),l=t.memoizedState,l===null)return qn(t),null;if(r=(t.flags&128)!==0,d=l.rendering,d===null)if(r)fc(l,!1);else{if(Nn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=lf(e),d!==null){for(t.flags|=128,fc(l,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,e=d.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return zt(rn,rn.current&1|2),t.child}e=e.sibling}l.tail!==null&&xn()>_l&&(t.flags|=128,r=!0,fc(l,!1),t.lanes=4194304)}else{if(!r)if(e=lf(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fc(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Qt)return qn(t),null}else 2*xn()-l.renderingStartTime>_l&&n!==1073741824&&(t.flags|=128,r=!0,fc(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(n=l.last,n!==null?n.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=xn(),t.sibling=null,n=rn.current,zt(rn,r?n&1|2:n&1),t):(qn(t),null);case 22:case 23:return Rp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pr&1073741824&&(qn(t),t.subtreeFlags&6&&(t.flags|=8192)):qn(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function yO(e,t){switch(up(t),t.tag){case 1:return _r(t.type)&&ef(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Al(),Xt(Nr),Xt(Jn),vp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yp(t),null;case 13:if(Xt(rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));bl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xt(rn),null;case 4:return Al(),null;case 10:return mp(t.type._context),null;case 22:case 23:return Rp(),null;case 24:return null;default:return null}}var hd=!1,Qn=!1,vO=typeof WeakSet=="function"?WeakSet:Set,De=null;function Ha(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dn(e,t,r)}else n.current=null}function B1(e,t,n){try{n()}catch(r){dn(e,t,r)}}var fy=!1;function wO(e,t){if(E1=qd,e=Hb(),lp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var d=0,m=-1,x=-1,g=0,v=0,C=e,b=null;t:for(;;){for(var O;C!==n||o!==0&&C.nodeType!==3||(m=d+o),C!==l||r!==0&&C.nodeType!==3||(x=d+r),C.nodeType===3&&(d+=C.nodeValue.length),(O=C.firstChild)!==null;)b=C,C=O;for(;;){if(C===e)break t;if(b===n&&++g===o&&(m=d),b===l&&++v===r&&(x=d),(O=C.nextSibling)!==null)break;C=b,b=C.parentNode}C=O}n=m===-1||x===-1?null:{start:m,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(b1={focusedElem:e,selectionRange:n},qd=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){t=De;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var N=k.memoizedProps,P=k.memoizedState,R=t.stateNode,A=R.getSnapshotBeforeUpdate(t.elementType===t.type?N:cs(t.type,N),P);R.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(M){dn(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}return k=fy,fy=!1,k}function kc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&B1(t,n,l)}o=o.next}while(o!==r)}}function nh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function V1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function V3(e){var t=e.alternate;t!==null&&(e.alternate=null,V3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ls],delete t[Yc],delete t[N1],delete t[nO],delete t[rO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function U3(e){return e.tag===5||e.tag===3||e.tag===4}function hy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||U3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function U1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jd));else if(r!==4&&(e=e.child,e!==null))for(U1(e,t,n),e=e.sibling;e!==null;)U1(e,t,n),e=e.sibling}function z1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(z1(e,t,n),e=e.sibling;e!==null;)z1(e,t,n),e=e.sibling}var Vn=null,ds=!1;function ki(e,t,n){for(n=n.child;n!==null;)z3(e,t,n),n=n.sibling}function z3(e,t,n){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(Zf,n)}catch{}switch(n.tag){case 5:Qn||Ha(n,t);case 6:var r=Vn,o=ds;Vn=null,ki(e,t,n),Vn=r,ds=o,Vn!==null&&(ds?(e=Vn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Vn.removeChild(n.stateNode));break;case 18:Vn!==null&&(ds?(e=Vn,n=n.stateNode,e.nodeType===8?v0(e.parentNode,n):e.nodeType===1&&v0(e,n),$c(e)):v0(Vn,n.stateNode));break;case 4:r=Vn,o=ds,Vn=n.stateNode.containerInfo,ds=!0,ki(e,t,n),Vn=r,ds=o;break;case 0:case 11:case 14:case 15:if(!Qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,d=l.destroy;l=l.tag,d!==void 0&&(l&2||l&4)&&B1(n,t,d),o=o.next}while(o!==r)}ki(e,t,n);break;case 1:if(!Qn&&(Ha(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(m){dn(n,t,m)}ki(e,t,n);break;case 21:ki(e,t,n);break;case 22:n.mode&1?(Qn=(r=Qn)||n.memoizedState!==null,ki(e,t,n),Qn=r):ki(e,t,n);break;default:ki(e,t,n)}}function my(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vO),t.forEach(function(r){var o=IO.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function as(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 5:Vn=m.stateNode,ds=!1;break e;case 3:Vn=m.stateNode.containerInfo,ds=!0;break e;case 4:Vn=m.stateNode.containerInfo,ds=!0;break e}m=m.return}if(Vn===null)throw Error(me(160));z3(l,d,o),Vn=null,ds=!1;var x=o.alternate;x!==null&&(x.return=null),o.return=null}catch(g){dn(o,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)W3(t,e),t=t.sibling}function W3(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(as(t,e),Os(e),r&4){try{kc(3,e,e.return),nh(3,e)}catch(N){dn(e,e.return,N)}try{kc(5,e,e.return)}catch(N){dn(e,e.return,N)}}break;case 1:as(t,e),Os(e),r&512&&n!==null&&Ha(n,n.return);break;case 5:if(as(t,e),Os(e),r&512&&n!==null&&Ha(n,n.return),e.flags&32){var o=e.stateNode;try{zc(o,"")}catch(N){dn(e,e.return,N)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,d=n!==null?n.memoizedProps:l,m=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{m==="input"&&l.type==="radio"&&l.name!=null&&db(o,l),f1(m,d);var g=f1(m,l);for(d=0;d<x.length;d+=2){var v=x[d],C=x[d+1];v==="style"?gb(o,C):v==="dangerouslySetInnerHTML"?mb(o,C):v==="children"?zc(o,C):Km(o,v,C,g)}switch(m){case"input":a1(o,l);break;case"textarea":fb(o,l);break;case"select":var b=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var O=l.value;O!=null?Za(o,!!l.multiple,O,!1):b!==!!l.multiple&&(l.defaultValue!=null?Za(o,!!l.multiple,l.defaultValue,!0):Za(o,!!l.multiple,l.multiple?[]:"",!1))}o[Yc]=l}catch(N){dn(e,e.return,N)}}break;case 6:if(as(t,e),Os(e),r&4){if(e.stateNode===null)throw Error(me(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(N){dn(e,e.return,N)}}break;case 3:if(as(t,e),Os(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$c(t.containerInfo)}catch(N){dn(e,e.return,N)}break;case 4:as(t,e),Os(e);break;case 13:as(t,e),Os(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Tp=xn())),r&4&&my(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(Qn=(g=Qn)||v,as(t,e),Qn=g):as(t,e),Os(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!v&&e.mode&1)for(De=e,v=e.child;v!==null;){for(C=De=v;De!==null;){switch(b=De,O=b.child,b.tag){case 0:case 11:case 14:case 15:kc(4,b,b.return);break;case 1:Ha(b,b.return);var k=b.stateNode;if(typeof k.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(N){dn(r,n,N)}}break;case 5:Ha(b,b.return);break;case 22:if(b.memoizedState!==null){gy(C);continue}}O!==null?(O.return=b,De=O):gy(C)}v=v.sibling}e:for(v=null,C=e;;){if(C.tag===5){if(v===null){v=C;try{o=C.stateNode,g?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(m=C.stateNode,x=C.memoizedProps.style,d=x!=null&&x.hasOwnProperty("display")?x.display:null,m.style.display=pb("display",d))}catch(N){dn(e,e.return,N)}}}else if(C.tag===6){if(v===null)try{C.stateNode.nodeValue=g?"":C.memoizedProps}catch(N){dn(e,e.return,N)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;v===C&&(v=null),C=C.return}v===C&&(v=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:as(t,e),Os(e),r&4&&my(e);break;case 21:break;default:as(t,e),Os(e)}}function Os(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(U3(n)){var r=n;break e}n=n.return}throw Error(me(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(zc(o,""),r.flags&=-33);var l=hy(e);z1(e,l,o);break;case 3:case 4:var d=r.stateNode.containerInfo,m=hy(e);U1(e,m,d);break;default:throw Error(me(161))}}catch(x){dn(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CO(e,t,n){De=e,H3(e)}function H3(e,t,n){for(var r=(e.mode&1)!==0;De!==null;){var o=De,l=o.child;if(o.tag===22&&r){var d=o.memoizedState!==null||hd;if(!d){var m=o.alternate,x=m!==null&&m.memoizedState!==null||Qn;m=hd;var g=Qn;if(hd=d,(Qn=x)&&!g)for(De=o;De!==null;)d=De,x=d.child,d.tag===22&&d.memoizedState!==null?xy(o):x!==null?(x.return=d,De=x):xy(o);for(;l!==null;)De=l,H3(l),l=l.sibling;De=o,hd=m,Qn=g}py(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,De=l):py(e)}}function py(e){for(;De!==null;){var t=De;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qn||nh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qn)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:cs(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Jx(t,l,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jx(t,d,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var v=g.memoizedState;if(v!==null){var C=v.dehydrated;C!==null&&$c(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Qn||t.flags&512&&V1(t)}catch(b){dn(t,t.return,b)}}if(t===e){De=null;break}if(n=t.sibling,n!==null){n.return=t.return,De=n;break}De=t.return}}function gy(e){for(;De!==null;){var t=De;if(t===e){De=null;break}var n=t.sibling;if(n!==null){n.return=t.return,De=n;break}De=t.return}}function xy(e){for(;De!==null;){var t=De;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nh(4,t)}catch(x){dn(t,n,x)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(x){dn(t,o,x)}}var l=t.return;try{V1(t)}catch(x){dn(t,l,x)}break;case 5:var d=t.return;try{V1(t)}catch(x){dn(t,d,x)}}}catch(x){dn(t,t.return,x)}if(t===e){De=null;break}var m=t.sibling;if(m!==null){m.return=t.return,De=m;break}De=t.return}}var EO=Math.ceil,df=Si.ReactCurrentDispatcher,Np=Si.ReactCurrentOwner,es=Si.ReactCurrentBatchConfig,At=0,kn=null,wn=null,Hn=0,Pr=0,Ga=So(0),Nn=0,ru=null,na=0,rh=0,_p=0,Mc=null,Sr=null,Tp=0,_l=1/0,oi=null,ff=!1,W1=null,lo=null,md=!1,to=null,hf=0,jc=0,H1=null,Dd=-1,kd=0;function ur(){return At&6?xn():Dd!==-1?Dd:Dd=xn()}function co(e){return e.mode&1?At&2&&Hn!==0?Hn&-Hn:iO.transition!==null?(kd===0&&(kd=Tb()),kd):(e=jt,e!==0||(e=window.event,e=e===void 0?16:Mb(e.type)),e):1}function ys(e,t,n,r){if(50<jc)throw jc=0,H1=null,Error(me(185));Ru(e,n,r),(!(At&2)||e!==kn)&&(e===kn&&(!(At&2)&&(rh|=n),Nn===4&&Wi(e,Hn)),Tr(e,r),n===1&&At===0&&!(t.mode&1)&&(_l=xn()+500,Jf&&Ao()))}function Tr(e,t){var n=e.callbackNode;iR(e,t);var r=Kd(e,e===kn?Hn:0);if(r===0)n!==null&&Nx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Nx(n),t===1)e.tag===0?sO(yy.bind(null,e)):e3(yy.bind(null,e)),eO(function(){!(At&6)&&Ao()}),n=null;else{switch(Ib(r)){case 1:n=ep;break;case 4:n=Nb;break;case 16:n=Zd;break;case 536870912:n=_b;break;default:n=Zd}n=Q3(n,G3.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function G3(e,t){if(Dd=-1,kd=0,At&6)throw Error(me(327));var n=e.callbackNode;if(Ja()&&e.callbackNode!==n)return null;var r=Kd(e,e===kn?Hn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=mf(e,r);else{t=r;var o=At;At|=2;var l=X3();(kn!==e||Hn!==t)&&(oi=null,_l=xn()+500,Zo(e,t));do try{AO();break}catch(m){$3(e,m)}while(!0);hp(),df.current=l,At=o,wn!==null?t=0:(kn=null,Hn=0,t=Nn)}if(t!==0){if(t===2&&(o=x1(e),o!==0&&(r=o,t=G1(e,o))),t===1)throw n=ru,Zo(e,0),Wi(e,r),Tr(e,xn()),n;if(t===6)Wi(e,r);else{if(o=e.current.alternate,!(r&30)&&!bO(o)&&(t=mf(e,r),t===2&&(l=x1(e),l!==0&&(r=l,t=G1(e,l))),t===1))throw n=ru,Zo(e,0),Wi(e,r),Tr(e,xn()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(me(345));case 2:Mo(e,Sr,oi);break;case 3:if(Wi(e,r),(r&130023424)===r&&(t=Tp+500-xn(),10<t)){if(Kd(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){ur(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=A1(Mo.bind(null,e,Sr,oi),t);break}Mo(e,Sr,oi);break;case 4:if(Wi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var d=31-xs(r);l=1<<d,d=t[d],d>o&&(o=d),r&=~l}if(r=o,r=xn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EO(r/1960))-r,10<r){e.timeoutHandle=A1(Mo.bind(null,e,Sr,oi),r);break}Mo(e,Sr,oi);break;case 5:Mo(e,Sr,oi);break;default:throw Error(me(329))}}}return Tr(e,xn()),e.callbackNode===n?G3.bind(null,e):null}function G1(e,t){var n=Mc;return e.current.memoizedState.isDehydrated&&(Zo(e,t).flags|=256),e=mf(e,t),e!==2&&(t=Sr,Sr=n,t!==null&&$1(t)),e}function $1(e){Sr===null?Sr=e:Sr.push.apply(Sr,e)}function bO(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!ws(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wi(e,t){for(t&=~_p,t&=~rh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xs(t),r=1<<n;e[n]=-1,t&=~r}}function yy(e){if(At&6)throw Error(me(327));Ja();var t=Kd(e,0);if(!(t&1))return Tr(e,xn()),null;var n=mf(e,t);if(e.tag!==0&&n===2){var r=x1(e);r!==0&&(t=r,n=G1(e,r))}if(n===1)throw n=ru,Zo(e,0),Wi(e,t),Tr(e,xn()),n;if(n===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mo(e,Sr,oi),Tr(e,xn()),null}function Ip(e,t){var n=At;At|=1;try{return e(t)}finally{At=n,At===0&&(_l=xn()+500,Jf&&Ao())}}function ra(e){to!==null&&to.tag===0&&!(At&6)&&Ja();var t=At;At|=1;var n=es.transition,r=jt;try{if(es.transition=null,jt=1,e)return e()}finally{jt=r,es.transition=n,At=t,!(At&6)&&Ao()}}function Rp(){Pr=Ga.current,Xt(Ga)}function Zo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,JR(n)),wn!==null)for(n=wn.return;n!==null;){var r=n;switch(up(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ef();break;case 3:Al(),Xt(Nr),Xt(Jn),vp();break;case 5:yp(r);break;case 4:Al();break;case 13:Xt(rn);break;case 19:Xt(rn);break;case 10:mp(r.type._context);break;case 22:case 23:Rp()}n=n.return}if(kn=e,wn=e=uo(e.current,null),Hn=Pr=t,Nn=0,ru=null,_p=rh=na=0,Sr=Mc=null,Fo!==null){for(t=0;t<Fo.length;t++)if(n=Fo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var d=l.next;l.next=o,r.next=d}n.pending=r}Fo=null}return e}function $3(e,t){do{var n=wn;try{if(hp(),Rd.current=uf,cf){for(var r=sn.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}cf=!1}if(ta=0,Pn=Sn=sn=null,Dc=!1,eu=0,Np.current=null,n===null||n.return===null){Nn=1,ru=t,wn=null;break}e:{var l=e,d=n.return,m=n,x=t;if(t=Hn,m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var g=x,v=m,C=v.tag;if(!(v.mode&1)&&(C===0||C===11||C===15)){var b=v.alternate;b?(v.updateQueue=b.updateQueue,v.memoizedState=b.memoizedState,v.lanes=b.lanes):(v.updateQueue=null,v.memoizedState=null)}var O=iy(d);if(O!==null){O.flags&=-257,oy(O,d,m,l,t),O.mode&1&&sy(l,g,t),t=O,x=g;var k=t.updateQueue;if(k===null){var N=new Set;N.add(x),t.updateQueue=N}else k.add(x);break e}else{if(!(t&1)){sy(l,g,t),Op();break e}x=Error(me(426))}}else if(Qt&&m.mode&1){var P=iy(d);if(P!==null){!(P.flags&65536)&&(P.flags|=256),oy(P,d,m,l,t),dp(Nl(x,m));break e}}l=x=Nl(x,m),Nn!==4&&(Nn=2),Mc===null?Mc=[l]:Mc.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var R=I3(l,x,t);Qx(l,R);break e;case 1:m=x;var A=l.type,I=l.stateNode;if(!(l.flags&128)&&(typeof A.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(lo===null||!lo.has(I)))){l.flags|=65536,t&=-t,l.lanes|=t;var M=R3(l,m,t);Qx(l,M);break e}}l=l.return}while(l!==null)}K3(n)}catch(j){t=j,wn===n&&n!==null&&(wn=n=n.return);continue}break}while(!0)}function X3(){var e=df.current;return df.current=uf,e===null?uf:e}function Op(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),kn===null||!(na&268435455)&&!(rh&268435455)||Wi(kn,Hn)}function mf(e,t){var n=At;At|=2;var r=X3();(kn!==e||Hn!==t)&&(oi=null,Zo(e,t));do try{SO();break}catch(o){$3(e,o)}while(!0);if(hp(),At=n,df.current=r,wn!==null)throw Error(me(261));return kn=null,Hn=0,Nn}function SO(){for(;wn!==null;)Z3(wn)}function AO(){for(;wn!==null&&!q6();)Z3(wn)}function Z3(e){var t=Y3(e.alternate,e,Pr);e.memoizedProps=e.pendingProps,t===null?K3(e):wn=t,Np.current=null}function K3(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yO(n,t),n!==null){n.flags&=32767,wn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nn=6,wn=null;return}}else if(n=xO(n,t,Pr),n!==null){wn=n;return}if(t=t.sibling,t!==null){wn=t;return}wn=t=e}while(t!==null);Nn===0&&(Nn=5)}function Mo(e,t,n){var r=jt,o=es.transition;try{es.transition=null,jt=1,NO(e,t,n,r)}finally{es.transition=o,jt=r}return null}function NO(e,t,n,r){do Ja();while(to!==null);if(At&6)throw Error(me(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(oR(e,l),e===kn&&(wn=kn=null,Hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||md||(md=!0,Q3(Zd,function(){return Ja(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=es.transition,es.transition=null;var d=jt;jt=1;var m=At;At|=4,Np.current=null,wO(e,n),W3(n,e),$R(b1),qd=!!E1,b1=E1=null,e.current=n,CO(n),Y6(),At=m,jt=d,es.transition=l}else e.current=n;if(md&&(md=!1,to=e,hf=o),l=e.pendingLanes,l===0&&(lo=null),eR(n.stateNode),Tr(e,xn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ff)throw ff=!1,e=W1,W1=null,e;return hf&1&&e.tag!==0&&Ja(),l=e.pendingLanes,l&1?e===H1?jc++:(jc=0,H1=e):jc=0,Ao(),null}function Ja(){if(to!==null){var e=Ib(hf),t=es.transition,n=jt;try{if(es.transition=null,jt=16>e?16:e,to===null)var r=!1;else{if(e=to,to=null,hf=0,At&6)throw Error(me(331));var o=At;for(At|=4,De=e.current;De!==null;){var l=De,d=l.child;if(De.flags&16){var m=l.deletions;if(m!==null){for(var x=0;x<m.length;x++){var g=m[x];for(De=g;De!==null;){var v=De;switch(v.tag){case 0:case 11:case 15:kc(8,v,l)}var C=v.child;if(C!==null)C.return=v,De=C;else for(;De!==null;){v=De;var b=v.sibling,O=v.return;if(V3(v),v===g){De=null;break}if(b!==null){b.return=O,De=b;break}De=O}}}var k=l.alternate;if(k!==null){var N=k.child;if(N!==null){k.child=null;do{var P=N.sibling;N.sibling=null,N=P}while(N!==null)}}De=l}}if(l.subtreeFlags&2064&&d!==null)d.return=l,De=d;else e:for(;De!==null;){if(l=De,l.flags&2048)switch(l.tag){case 0:case 11:case 15:kc(9,l,l.return)}var R=l.sibling;if(R!==null){R.return=l.return,De=R;break e}De=l.return}}var A=e.current;for(De=A;De!==null;){d=De;var I=d.child;if(d.subtreeFlags&2064&&I!==null)I.return=d,De=I;else e:for(d=A;De!==null;){if(m=De,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:nh(9,m)}}catch(j){dn(m,m.return,j)}if(m===d){De=null;break e}var M=m.sibling;if(M!==null){M.return=m.return,De=M;break e}De=m.return}}if(At=o,Ao(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(Zf,e)}catch{}r=!0}return r}finally{jt=n,es.transition=t}}return!1}function vy(e,t,n){t=Nl(n,t),t=I3(e,t,1),e=ao(e,t,1),t=ur(),e!==null&&(Ru(e,1,t),Tr(e,t))}function dn(e,t,n){if(e.tag===3)vy(e,e,n);else for(;t!==null;){if(t.tag===3){vy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lo===null||!lo.has(r))){e=Nl(n,e),e=R3(t,e,1),t=ao(t,e,1),e=ur(),t!==null&&(Ru(t,1,e),Tr(t,e));break}}t=t.return}}function _O(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ur(),e.pingedLanes|=e.suspendedLanes&n,kn===e&&(Hn&n)===n&&(Nn===4||Nn===3&&(Hn&130023424)===Hn&&500>xn()-Tp?Zo(e,0):_p|=n),Tr(e,t)}function q3(e,t){t===0&&(e.mode&1?(t=sd,sd<<=1,!(sd&130023424)&&(sd=4194304)):t=1);var n=ur();e=yi(e,t),e!==null&&(Ru(e,t,n),Tr(e,n))}function TO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),q3(e,n)}function IO(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(me(314))}r!==null&&r.delete(t),q3(e,n)}var Y3;Y3=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nr.current)Ar=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ar=!1,gO(e,t,n);Ar=!!(e.flags&131072)}else Ar=!1,Qt&&t.flags&1048576&&t3(t,rf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pd(e,t),e=t.pendingProps;var o=El(t,Jn.current);Qa(t,n),o=Cp(null,t,r,e,o,n);var l=Ep();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_r(r)?(l=!0,tf(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,gp(t),o.updater=th,t.stateNode=o,o._reactInternals=t,P1(t,r,e,n),t=M1(null,t,r,!0,l,n)):(t.tag=0,Qt&&l&&cp(t),or(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pd(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=OO(r),e=cs(r,e),o){case 0:t=k1(null,t,r,e,n);break e;case 1:t=cy(null,t,r,e,n);break e;case 11:t=ay(null,t,r,e,n);break e;case 14:t=ly(null,t,r,cs(r.type,e),n);break e}throw Error(me(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:cs(r,o),k1(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:cs(r,o),cy(e,t,r,o,n);case 3:e:{if(k3(t),e===null)throw Error(me(387));r=t.pendingProps,l=t.memoizedState,o=l.element,a3(e,t),af(t,r,null,n);var d=t.memoizedState;if(r=d.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=Nl(Error(me(423)),t),t=uy(e,t,r,n,o);break e}else if(r!==o){o=Nl(Error(me(424)),t),t=uy(e,t,r,n,o);break e}else for(Mr=oo(t.stateNode.containerInfo.firstChild),jr=t,Qt=!0,fs=null,n=i3(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bl(),r===o){t=vi(e,t,n);break e}or(e,t,r,n)}t=t.child}return t;case 5:return l3(t),e===null&&I1(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,d=o.children,S1(r,o)?d=null:l!==null&&S1(r,l)&&(t.flags|=32),D3(e,t),or(e,t,d,n),t.child;case 6:return e===null&&I1(t),null;case 13:return M3(e,t,n);case 4:return xp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sl(t,null,r,n):or(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:cs(r,o),ay(e,t,r,o,n);case 7:return or(e,t,t.pendingProps,n),t.child;case 8:return or(e,t,t.pendingProps.children,n),t.child;case 12:return or(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,d=o.value,zt(sf,r._currentValue),r._currentValue=d,l!==null)if(ws(l.value,d)){if(l.children===o.children&&!Nr.current){t=vi(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var m=l.dependencies;if(m!==null){d=l.child;for(var x=m.firstContext;x!==null;){if(x.context===r){if(l.tag===1){x=hi(-1,n&-n),x.tag=2;var g=l.updateQueue;if(g!==null){g=g.shared;var v=g.pending;v===null?x.next=x:(x.next=v.next,v.next=x),g.pending=x}}l.lanes|=n,x=l.alternate,x!==null&&(x.lanes|=n),R1(l.return,n,t),m.lanes|=n;break}x=x.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(me(341));d.lanes|=n,m=d.alternate,m!==null&&(m.lanes|=n),R1(d,n,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}or(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Qa(t,n),o=ns(o),r=r(o),t.flags|=1,or(e,t,r,n),t.child;case 14:return r=t.type,o=cs(r,t.pendingProps),o=cs(r.type,o),ly(e,t,r,o,n);case 15:return O3(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:cs(r,o),Pd(e,t),t.tag=1,_r(r)?(e=!0,tf(t)):e=!1,Qa(t,n),T3(t,r,o),P1(t,r,o,n),M1(null,t,r,!0,e,n);case 19:return j3(e,t,n);case 22:return P3(e,t,n)}throw Error(me(156,t.tag))};function Q3(e,t){return Ab(e,t)}function RO(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(e,t,n,r){return new RO(e,t,n,r)}function Pp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OO(e){if(typeof e=="function")return Pp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ym)return 11;if(e===Qm)return 14}return 2}function uo(e,t){var n=e.alternate;return n===null?(n=Jr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Md(e,t,n,r,o,l){var d=2;if(r=e,typeof e=="function")Pp(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Ma:return Ko(n.children,o,l,t);case qm:d=8,o|=8;break;case n1:return e=Jr(12,n,t,o|2),e.elementType=n1,e.lanes=l,e;case r1:return e=Jr(13,n,t,o),e.elementType=r1,e.lanes=l,e;case s1:return e=Jr(19,n,t,o),e.elementType=s1,e.lanes=l,e;case lb:return sh(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ob:d=10;break e;case ab:d=9;break e;case Ym:d=11;break e;case Qm:d=14;break e;case Vi:d=16,r=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=Jr(d,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function Ko(e,t,n,r){return e=Jr(7,e,r,t),e.lanes=n,e}function sh(e,t,n,r){return e=Jr(22,e,r,t),e.elementType=lb,e.lanes=n,e.stateNode={isHidden:!1},e}function _0(e,t,n){return e=Jr(6,e,null,t),e.lanes=n,e}function T0(e,t,n){return t=Jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PO(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=l0(0),this.expirationTimes=l0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=l0(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Dp(e,t,n,r,o,l,d,m,x){return e=new PO(e,t,n,m,x),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Jr(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gp(l),e}function DO(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ka,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function J3(e){if(!e)return mo;e=e._reactInternals;e:{if(pa(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var n=e.type;if(_r(n))return Jb(e,n,t)}return t}function eS(e,t,n,r,o,l,d,m,x){return e=Dp(n,r,!0,e,o,l,d,m,x),e.context=J3(null),n=e.current,r=ur(),o=co(n),l=hi(r,o),l.callback=t??null,ao(n,l,o),e.current.lanes=o,Ru(e,o,r),Tr(e,r),e}function ih(e,t,n,r){var o=t.current,l=ur(),d=co(o);return n=J3(n),t.context===null?t.context=n:t.pendingContext=n,t=hi(l,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ao(o,t,d),e!==null&&(ys(e,o,d,l),Id(e,o,d)),d}function pf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kp(e,t){wy(e,t),(e=e.alternate)&&wy(e,t)}function kO(){return null}var tS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mp(e){this._internalRoot=e}oh.prototype.render=Mp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));ih(e,t,null,null)};oh.prototype.unmount=Mp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ra(function(){ih(null,e,null,null)}),t[xi]=null}};function oh(e){this._internalRoot=e}oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zi.length&&t!==0&&t<zi[n].priority;n++);zi.splice(n,0,e),n===0&&kb(e)}};function jp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ah(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cy(){}function MO(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var g=pf(d);l.call(g)}}var d=eS(t,r,e,0,null,!1,!1,"",Cy);return e._reactRootContainer=d,e[xi]=d.current,Kc(e.nodeType===8?e.parentNode:e),ra(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var m=r;r=function(){var g=pf(x);m.call(g)}}var x=Dp(e,0,!1,null,null,!1,!1,"",Cy);return e._reactRootContainer=x,e[xi]=x.current,Kc(e.nodeType===8?e.parentNode:e),ra(function(){ih(t,x,n,r)}),x}function lh(e,t,n,r,o){var l=n._reactRootContainer;if(l){var d=l;if(typeof o=="function"){var m=o;o=function(){var x=pf(d);m.call(x)}}ih(t,d,e,o)}else d=MO(n,t,e,o,r);return pf(d)}Rb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cc(t.pendingLanes);n!==0&&(tp(t,n|1),Tr(t,xn()),!(At&6)&&(_l=xn()+500,Ao()))}break;case 13:ra(function(){var r=yi(e,1);if(r!==null){var o=ur();ys(r,e,1,o)}}),kp(e,1)}};np=function(e){if(e.tag===13){var t=yi(e,134217728);if(t!==null){var n=ur();ys(t,e,134217728,n)}kp(e,134217728)}};Ob=function(e){if(e.tag===13){var t=co(e),n=yi(e,t);if(n!==null){var r=ur();ys(n,e,t,r)}kp(e,t)}};Pb=function(){return jt};Db=function(e,t){var n=jt;try{return jt=e,t()}finally{jt=n}};m1=function(e,t,n){switch(t){case"input":if(a1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Qf(r);if(!o)throw Error(me(90));ub(r),a1(r,o)}}}break;case"textarea":fb(e,n);break;case"select":t=n.value,t!=null&&Za(e,!!n.multiple,t,!1)}};vb=Ip;wb=ra;var jO={usingClientEntryPoint:!1,Events:[Pu,Ba,Qf,xb,yb,Ip]},hc={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LO={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bb(e),e===null?null:e.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||kO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Zf=pd.inject(LO),Vs=pd}catch{}}Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jO;Vr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jp(t))throw Error(me(200));return DO(e,t,null,n)};Vr.createRoot=function(e,t){if(!jp(e))throw Error(me(299));var n=!1,r="",o=tS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Dp(e,1,!1,null,null,n,!1,r,o),e[xi]=t.current,Kc(e.nodeType===8?e.parentNode:e),new Mp(t)};Vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=bb(t),e=e===null?null:e.stateNode,e};Vr.flushSync=function(e){return ra(e)};Vr.hydrate=function(e,t,n){if(!ah(t))throw Error(me(200));return lh(null,e,t,!0,n)};Vr.hydrateRoot=function(e,t,n){if(!jp(e))throw Error(me(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",d=tS;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=eS(t,null,e,1,n??null,o,!1,l,d),e[xi]=t.current,Kc(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new oh(t)};Vr.render=function(e,t,n){if(!ah(t))throw Error(me(200));return lh(null,e,t,!1,n)};Vr.unmountComponentAtNode=function(e){if(!ah(e))throw Error(me(40));return e._reactRootContainer?(ra(function(){lh(null,null,e,!1,function(){e._reactRootContainer=null,e[xi]=null})}),!0):!1};Vr.unstable_batchedUpdates=Ip;Vr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ah(n))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return lh(e,t,n,!1,r)};Vr.version="18.3.1-next-f1338f8080-20240426";function nS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nS)}catch(e){console.error(e)}}nS(),nb.exports=Vr;var ga=nb.exports;const FO=zm(ga);var Ey=ga;e1.createRoot=Ey.createRoot,e1.hydrateRoot=Ey.hydrateRoot;var Bl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sa=typeof window>"u"||"Deno"in globalThis;function Kr(){}function BO(e,t){return typeof e=="function"?e(t):e}function X1(e){return typeof e=="number"&&e>=0&&e!==1/0}function rS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function el(e,t){return typeof e=="function"?e(t):e}function hs(e,t){return typeof e=="function"?e(t):e}function by(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:l,queryKey:d,stale:m}=e;if(d){if(r){if(t.queryHash!==Lp(d,t.options))return!1}else if(!su(t.queryKey,d))return!1}if(n!=="all"){const x=t.isActive();if(n==="active"&&!x||n==="inactive"&&x)return!1}return!(typeof m=="boolean"&&t.isStale()!==m||o&&o!==t.state.fetchStatus||l&&!l(t))}function Sy(e,t){const{exact:n,status:r,predicate:o,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(ia(t.options.mutationKey)!==ia(l))return!1}else if(!su(t.options.mutationKey,l))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function Lp(e,t){return((t==null?void 0:t.queryKeyHashFn)||ia)(e)}function ia(e){return JSON.stringify(e,(t,n)=>Z1(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function su(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!su(e[n],t[n])):!1}function sS(e,t){if(e===t)return e;const n=Ay(e)&&Ay(t);if(n||Z1(e)&&Z1(t)){const r=n?e:Object.keys(e),o=r.length,l=n?t:Object.keys(t),d=l.length,m=n?[]:{};let x=0;for(let g=0;g<d;g++){const v=n?g:l[g];(!n&&r.includes(v)||n)&&e[v]===void 0&&t[v]===void 0?(m[v]=void 0,x++):(m[v]=sS(e[v],t[v]),m[v]===e[v]&&e[v]!==void 0&&x++)}return o===d&&x===o?e:m}return t}function gf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Ay(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Z1(e){if(!Ny(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ny(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ny(e){return Object.prototype.toString.call(e)==="[object Object]"}function VO(e){return new Promise(t=>{setTimeout(t,e)})}function K1(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?sS(e,t):t}function UO(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function zO(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Fp=Symbol();function iS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Fp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Uo,Gi,ll,Y2,WO=(Y2=class extends Bl{constructor(){super();We(this,Uo);We(this,Gi);We(this,ll);Ie(this,ll,t=>{if(!sa&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,Gi)||this.setEventListener(z(this,ll))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Gi))==null||t.call(this),Ie(this,Gi,void 0))}setEventListener(t){var n;Ie(this,ll,t),(n=z(this,Gi))==null||n.call(this),Ie(this,Gi,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){z(this,Uo)!==t&&(Ie(this,Uo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof z(this,Uo)=="boolean"?z(this,Uo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Uo=new WeakMap,Gi=new WeakMap,ll=new WeakMap,Y2),Bp=new WO,cl,$i,ul,Q2,HO=(Q2=class extends Bl{constructor(){super();We(this,cl,!0);We(this,$i);We(this,ul);Ie(this,ul,t=>{if(!sa&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,$i)||this.setEventListener(z(this,ul))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,$i))==null||t.call(this),Ie(this,$i,void 0))}setEventListener(t){var n;Ie(this,ul,t),(n=z(this,$i))==null||n.call(this),Ie(this,$i,t(this.setOnline.bind(this)))}setOnline(t){z(this,cl)!==t&&(Ie(this,cl,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return z(this,cl)}},cl=new WeakMap,$i=new WeakMap,ul=new WeakMap,Q2),xf=new HO;function q1(){let e,t;const n=new Promise((o,l)=>{e=o,t=l});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function GO(e){return Math.min(1e3*2**e,3e4)}function oS(e){return(e??"online")==="online"?xf.isOnline():!0}var aS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function I0(e){return e instanceof aS}function lS(e){let t=!1,n=0,r=!1,o;const l=q1(),d=N=>{var P;r||(b(new aS(N)),(P=e.abort)==null||P.call(e))},m=()=>{t=!0},x=()=>{t=!1},g=()=>Bp.isFocused()&&(e.networkMode==="always"||xf.isOnline())&&e.canRun(),v=()=>oS(e.networkMode)&&e.canRun(),C=N=>{var P;r||(r=!0,(P=e.onSuccess)==null||P.call(e,N),o==null||o(),l.resolve(N))},b=N=>{var P;r||(r=!0,(P=e.onError)==null||P.call(e,N),o==null||o(),l.reject(N))},O=()=>new Promise(N=>{var P;o=R=>{(r||g())&&N(R)},(P=e.onPause)==null||P.call(e)}).then(()=>{var N;o=void 0,r||(N=e.onContinue)==null||N.call(e)}),k=()=>{if(r)return;let N;const P=n===0?e.initialPromise:void 0;try{N=P??e.fn()}catch(R){N=Promise.reject(R)}Promise.resolve(N).then(C).catch(R=>{var $;if(r)return;const A=e.retry??(sa?0:3),I=e.retryDelay??GO,M=typeof I=="function"?I(n,R):I,j=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,R);if(t||!j){b(R);return}n++,($=e.onFail)==null||$.call(e,n,R),VO(M).then(()=>g()?void 0:O()).then(()=>{t?b(R):k()})})};return{promise:l,cancel:d,continue:()=>(o==null||o(),l),cancelRetry:m,continueRetry:x,canStart:v,start:()=>(v()?k():O().then(k),l)}}function $O(){let e=[],t=0,n=m=>{m()},r=m=>{m()},o=m=>setTimeout(m,0);const l=m=>{t?e.push(m):o(()=>{n(m)})},d=()=>{const m=e;e=[],m.length&&o(()=>{r(()=>{m.forEach(x=>{n(x)})})})};return{batch:m=>{let x;t++;try{x=m()}finally{t--,t||d()}return x},batchCalls:m=>(...x)=>{l(()=>{m(...x)})},schedule:l,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{r=m},setScheduler:m=>{o=m}}}var An=$O(),zo,J2,cS=(J2=class{constructor(){We(this,zo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),X1(this.gcTime)&&Ie(this,zo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(sa?1/0:5*60*1e3))}clearGcTimeout(){z(this,zo)&&(clearTimeout(z(this,zo)),Ie(this,zo,void 0))}},zo=new WeakMap,J2),dl,fl,Zr,Yn,Au,Wo,us,Qs,ev,XO=(ev=class extends cS{constructor(t){super();We(this,us);We(this,dl);We(this,fl);We(this,Zr);We(this,Yn);We(this,Au);We(this,Wo);Ie(this,Wo,!1),Ie(this,Au,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ie(this,Zr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ie(this,dl,ZO(this.options)),this.state=t.state??z(this,dl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,Yn))==null?void 0:t.promise}setOptions(t){this.options={...z(this,Au),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Zr).remove(this)}setData(t,n){const r=K1(this.state.data,t,this.options);return at(this,us,Qs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){at(this,us,Qs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=z(this,Yn))==null?void 0:r.promise;return(o=z(this,Yn))==null||o.cancel(t),n?n.then(Kr).catch(Kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,dl))}isActive(){return this.observers.some(t=>hs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!rS(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Yn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Yn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,Zr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(z(this,Yn)&&(z(this,Wo)?z(this,Yn).cancel({revert:!0}):z(this,Yn).cancelRetry()),this.scheduleGc()),z(this,Zr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||at(this,us,Qs).call(this,{type:"invalidate"})}fetch(t,n){var x,g,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,Yn))return z(this,Yn).continueRetry(),z(this,Yn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(b=>b.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,o=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Ie(this,Wo,!0),r.signal)})},l=()=>{const C=iS(this.options,n),b={queryKey:this.queryKey,meta:this.meta};return o(b),Ie(this,Wo,!1),this.options.persister?this.options.persister(C,b,this):C(b)},d={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};o(d),(x=this.options.behavior)==null||x.onFetch(d,this),Ie(this,fl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=d.fetchOptions)==null?void 0:g.meta))&&at(this,us,Qs).call(this,{type:"fetch",meta:(v=d.fetchOptions)==null?void 0:v.meta});const m=C=>{var b,O,k,N;I0(C)&&C.silent||at(this,us,Qs).call(this,{type:"error",error:C}),I0(C)||((O=(b=z(this,Zr).config).onError)==null||O.call(b,C,this),(N=(k=z(this,Zr).config).onSettled)==null||N.call(k,this.state.data,C,this)),this.scheduleGc()};return Ie(this,Yn,lS({initialPromise:n==null?void 0:n.initialPromise,fn:d.fetchFn,abort:r.abort.bind(r),onSuccess:C=>{var b,O,k,N;if(C===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(C)}catch(P){m(P);return}(O=(b=z(this,Zr).config).onSuccess)==null||O.call(b,C,this),(N=(k=z(this,Zr).config).onSettled)==null||N.call(k,C,this.state.error,this),this.scheduleGc()},onError:m,onFail:(C,b)=>{at(this,us,Qs).call(this,{type:"failed",failureCount:C,error:b})},onPause:()=>{at(this,us,Qs).call(this,{type:"pause"})},onContinue:()=>{at(this,us,Qs).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),z(this,Yn).start()}},dl=new WeakMap,fl=new WeakMap,Zr=new WeakMap,Yn=new WeakMap,Au=new WeakMap,Wo=new WeakMap,us=new WeakSet,Qs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...uS(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return I0(o)&&o.revert&&z(this,fl)?{...z(this,fl),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),An.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),z(this,Zr).notify({query:this,type:"updated",action:t})})},ev);function uS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ZO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ds,tv,KO=(tv=class extends Bl{constructor(t={}){super();We(this,Ds);this.config=t,Ie(this,Ds,new Map)}build(t,n,r){const o=n.queryKey,l=n.queryHash??Lp(o,n);let d=this.get(l);return d||(d=new XO({cache:this,queryKey:o,queryHash:l,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(d)),d}add(t){z(this,Ds).has(t.queryHash)||(z(this,Ds).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=z(this,Ds).get(t.queryHash);n&&(t.destroy(),n===t&&z(this,Ds).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){An.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Ds).get(t)}getAll(){return[...z(this,Ds).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>by(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>by(t,r)):n}notify(t){An.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){An.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ds=new WeakMap,tv),ks,rr,Ho,Ms,Fi,nv,qO=(nv=class extends cS{constructor(t){super();We(this,Ms);We(this,ks);We(this,rr);We(this,Ho);this.mutationId=t.mutationId,Ie(this,rr,t.mutationCache),Ie(this,ks,[]),this.state=t.state||dS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,ks).includes(t)||(z(this,ks).push(t),this.clearGcTimeout(),z(this,rr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ie(this,ks,z(this,ks).filter(n=>n!==t)),this.scheduleGc(),z(this,rr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,ks).length||(this.state.status==="pending"?this.scheduleGc():z(this,rr).remove(this))}continue(){var t;return((t=z(this,Ho))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,d,m,x,g,v,C,b,O,k,N,P,R,A,I,M,j,$,B;Ie(this,Ho,lS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(G,W)=>{at(this,Ms,Fi).call(this,{type:"failed",failureCount:G,error:W})},onPause:()=>{at(this,Ms,Fi).call(this,{type:"pause"})},onContinue:()=>{at(this,Ms,Fi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,rr).canRun(this)}));const n=this.state.status==="pending",r=!z(this,Ho).canStart();try{if(!n){at(this,Ms,Fi).call(this,{type:"pending",variables:t,isPaused:r}),await((l=(o=z(this,rr).config).onMutate)==null?void 0:l.call(o,t,this));const W=await((m=(d=this.options).onMutate)==null?void 0:m.call(d,t));W!==this.state.context&&at(this,Ms,Fi).call(this,{type:"pending",context:W,variables:t,isPaused:r})}const G=await z(this,Ho).start();return await((g=(x=z(this,rr).config).onSuccess)==null?void 0:g.call(x,G,t,this.state.context,this)),await((C=(v=this.options).onSuccess)==null?void 0:C.call(v,G,t,this.state.context)),await((O=(b=z(this,rr).config).onSettled)==null?void 0:O.call(b,G,null,this.state.variables,this.state.context,this)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,G,null,t,this.state.context)),at(this,Ms,Fi).call(this,{type:"success",data:G}),G}catch(G){try{throw await((R=(P=z(this,rr).config).onError)==null?void 0:R.call(P,G,t,this.state.context,this)),await((I=(A=this.options).onError)==null?void 0:I.call(A,G,t,this.state.context)),await((j=(M=z(this,rr).config).onSettled)==null?void 0:j.call(M,void 0,G,this.state.variables,this.state.context,this)),await((B=($=this.options).onSettled)==null?void 0:B.call($,void 0,G,t,this.state.context)),G}finally{at(this,Ms,Fi).call(this,{type:"error",error:G})}}finally{z(this,rr).runNext(this)}}},ks=new WeakMap,rr=new WeakMap,Ho=new WeakMap,Ms=new WeakSet,Fi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),An.batch(()=>{z(this,ks).forEach(r=>{r.onMutationUpdate(t)}),z(this,rr).notify({mutation:this,type:"updated",action:t})})},nv);function dS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Or,Nu,rv,YO=(rv=class extends Bl{constructor(t={}){super();We(this,Or);We(this,Nu);this.config=t,Ie(this,Or,new Map),Ie(this,Nu,Date.now())}build(t,n,r){const o=new qO({mutationCache:this,mutationId:++Qu(this,Nu)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=gd(t),r=z(this,Or).get(n)??[];r.push(t),z(this,Or).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=gd(t);if(z(this,Or).has(n)){const o=(r=z(this,Or).get(n))==null?void 0:r.filter(l=>l!==t);o&&(o.length===0?z(this,Or).delete(n):z(this,Or).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=z(this,Or).get(gd(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=z(this,Or).get(gd(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){An.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...z(this,Or).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Sy(n,r))}findAll(t={}){return this.getAll().filter(n=>Sy(t,n))}notify(t){An.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return An.batch(()=>Promise.all(t.map(n=>n.continue().catch(Kr))))}},Or=new WeakMap,Nu=new WeakMap,rv);function gd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function _y(e){return{onFetch:(t,n)=>{var v,C,b,O,k;const r=t.options,o=(b=(C=(v=t.fetchOptions)==null?void 0:v.meta)==null?void 0:C.fetchMore)==null?void 0:b.direction,l=((O=t.state.data)==null?void 0:O.pages)||[],d=((k=t.state.data)==null?void 0:k.pageParams)||[];let m={pages:[],pageParams:[]},x=0;const g=async()=>{let N=!1;const P=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?N=!0:t.signal.addEventListener("abort",()=>{N=!0}),t.signal)})},R=iS(t.options,t.fetchOptions),A=async(I,M,j)=>{if(N)return Promise.reject();if(M==null&&I.pages.length)return Promise.resolve(I);const $={queryKey:t.queryKey,pageParam:M,direction:j?"backward":"forward",meta:t.options.meta};P($);const B=await R($),{maxPages:G}=t.options,W=j?zO:UO;return{pages:W(I.pages,B,G),pageParams:W(I.pageParams,M,G)}};if(o&&l.length){const I=o==="backward",M=I?QO:Ty,j={pages:l,pageParams:d},$=M(r,j);m=await A(j,$,I)}else{const I=e??l.length;do{const M=x===0?d[0]??r.initialPageParam:Ty(r,m);if(x>0&&M==null)break;m=await A(m,M),x++}while(x<I)}return m};t.options.persister?t.fetchFn=()=>{var N,P;return(P=(N=t.options).persister)==null?void 0:P.call(N,g,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=g}}}function Ty(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function QO(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var cn,Xi,Zi,hl,ml,Ki,pl,gl,sv,JO=(sv=class{constructor(e={}){We(this,cn);We(this,Xi);We(this,Zi);We(this,hl);We(this,ml);We(this,Ki);We(this,pl);We(this,gl);Ie(this,cn,e.queryCache||new KO),Ie(this,Xi,e.mutationCache||new YO),Ie(this,Zi,e.defaultOptions||{}),Ie(this,hl,new Map),Ie(this,ml,new Map),Ie(this,Ki,0)}mount(){Qu(this,Ki)._++,z(this,Ki)===1&&(Ie(this,pl,Bp.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,cn).onFocus())})),Ie(this,gl,xf.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,cn).onOnline())})))}unmount(){var e,t;Qu(this,Ki)._--,z(this,Ki)===0&&((e=z(this,pl))==null||e.call(this),Ie(this,pl,void 0),(t=z(this,gl))==null||t.call(this),Ie(this,gl,void 0))}isFetching(e){return z(this,cn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,Xi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,cn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=z(this,cn).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(el(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return z(this,cn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=z(this,cn).get(r.queryHash),l=o==null?void 0:o.state.data,d=BO(t,l);if(d!==void 0)return z(this,cn).build(this,r).setData(d,{...n,manual:!0})}setQueriesData(e,t,n){return An.batch(()=>z(this,cn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,cn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=z(this,cn);An.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=z(this,cn),r={type:"active",...e};return An.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=An.batch(()=>z(this,cn).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Kr).catch(Kr)}invalidateQueries(e={},t={}){return An.batch(()=>{if(z(this,cn).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=An.batch(()=>z(this,cn).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let l=o.fetch(void 0,n);return n.throwOnError||(l=l.catch(Kr)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(Kr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=z(this,cn).build(this,t);return n.isStaleByTime(el(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Kr).catch(Kr)}fetchInfiniteQuery(e){return e.behavior=_y(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Kr).catch(Kr)}ensureInfiniteQueryData(e){return e.behavior=_y(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xf.isOnline()?z(this,Xi).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,cn)}getMutationCache(){return z(this,Xi)}getDefaultOptions(){return z(this,Zi)}setDefaultOptions(e){Ie(this,Zi,e)}setQueryDefaults(e,t){z(this,hl).set(ia(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,hl).values()];let n={};return t.forEach(r=>{su(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){z(this,ml).set(ia(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,ml).values()];let n={};return t.forEach(r=>{su(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,Zi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Lp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Fp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,Zi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,cn).clear(),z(this,Xi).clear()}},cn=new WeakMap,Xi=new WeakMap,Zi=new WeakMap,hl=new WeakMap,ml=new WeakMap,Ki=new WeakMap,pl=new WeakMap,gl=new WeakMap,sv),Er,yt,_u,sr,Go,xl,qi,js,Tu,yl,vl,$o,Xo,Yi,wl,Mt,bc,Y1,Q1,J1,em,tm,nm,rm,fS,iv,e5=(iv=class extends Bl{constructor(t,n){super();We(this,Mt);We(this,Er);We(this,yt);We(this,_u);We(this,sr);We(this,Go);We(this,xl);We(this,qi);We(this,js);We(this,Tu);We(this,yl);We(this,vl);We(this,$o);We(this,Xo);We(this,Yi);We(this,wl,new Set);this.options=n,Ie(this,Er,t),Ie(this,js,null),Ie(this,qi,q1()),this.options.experimental_prefetchInRender||z(this,qi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,yt).addObserver(this),Iy(z(this,yt),this.options)?at(this,Mt,bc).call(this):this.updateResult(),at(this,Mt,em).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sm(z(this,yt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sm(z(this,yt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,at(this,Mt,tm).call(this),at(this,Mt,nm).call(this),z(this,yt).removeObserver(this)}setOptions(t,n){const r=this.options,o=z(this,yt);if(this.options=z(this,Er).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hs(this.options.enabled,z(this,yt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");at(this,Mt,rm).call(this),z(this,yt).setOptions(this.options),r._defaulted&&!gf(this.options,r)&&z(this,Er).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,yt),observer:this});const l=this.hasListeners();l&&Ry(z(this,yt),o,this.options,r)&&at(this,Mt,bc).call(this),this.updateResult(n),l&&(z(this,yt)!==o||hs(this.options.enabled,z(this,yt))!==hs(r.enabled,z(this,yt))||el(this.options.staleTime,z(this,yt))!==el(r.staleTime,z(this,yt)))&&at(this,Mt,Y1).call(this);const d=at(this,Mt,Q1).call(this);l&&(z(this,yt)!==o||hs(this.options.enabled,z(this,yt))!==hs(r.enabled,z(this,yt))||d!==z(this,Yi))&&at(this,Mt,J1).call(this,d)}getOptimisticResult(t){const n=z(this,Er).getQueryCache().build(z(this,Er),t),r=this.createResult(n,t);return n5(this,r)&&(Ie(this,sr,r),Ie(this,xl,this.options),Ie(this,Go,z(this,yt).state)),r}getCurrentResult(){return z(this,sr)}trackResult(t,n){const r={};return Object.keys(t).forEach(o=>{Object.defineProperty(r,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),n==null||n(o),t[o])})}),r}trackProp(t){z(this,wl).add(t)}getCurrentQuery(){return z(this,yt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=z(this,Er).defaultQueryOptions(t),r=z(this,Er).getQueryCache().build(z(this,Er),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return at(this,Mt,bc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,sr)))}createResult(t,n){var G;const r=z(this,yt),o=this.options,l=z(this,sr),d=z(this,Go),m=z(this,xl),g=t!==r?t.state:z(this,_u),{state:v}=t;let C={...v},b=!1,O;if(n._optimisticResults){const W=this.hasListeners(),ae=!W&&Iy(t,n),pe=W&&Ry(t,r,n,o);(ae||pe)&&(C={...C,...uS(v.data,t.options)}),n._optimisticResults==="isRestoring"&&(C.fetchStatus="idle")}let{error:k,errorUpdatedAt:N,status:P}=C;if(n.select&&C.data!==void 0)if(l&&C.data===(d==null?void 0:d.data)&&n.select===z(this,Tu))O=z(this,yl);else try{Ie(this,Tu,n.select),O=n.select(C.data),O=K1(l==null?void 0:l.data,O,n),Ie(this,yl,O),Ie(this,js,null)}catch(W){Ie(this,js,W)}else O=C.data;if(n.placeholderData!==void 0&&O===void 0&&P==="pending"){let W;if(l!=null&&l.isPlaceholderData&&n.placeholderData===(m==null?void 0:m.placeholderData))W=l.data;else if(W=typeof n.placeholderData=="function"?n.placeholderData((G=z(this,vl))==null?void 0:G.state.data,z(this,vl)):n.placeholderData,n.select&&W!==void 0)try{W=n.select(W),Ie(this,js,null)}catch(ae){Ie(this,js,ae)}W!==void 0&&(P="success",O=K1(l==null?void 0:l.data,W,n),b=!0)}z(this,js)&&(k=z(this,js),O=z(this,yl),N=Date.now(),P="error");const R=C.fetchStatus==="fetching",A=P==="pending",I=P==="error",M=A&&R,j=O!==void 0,B={status:P,fetchStatus:C.fetchStatus,isPending:A,isSuccess:P==="success",isError:I,isInitialLoading:M,isLoading:M,data:O,dataUpdatedAt:C.dataUpdatedAt,error:k,errorUpdatedAt:N,failureCount:C.fetchFailureCount,failureReason:C.fetchFailureReason,errorUpdateCount:C.errorUpdateCount,isFetched:C.dataUpdateCount>0||C.errorUpdateCount>0,isFetchedAfterMount:C.dataUpdateCount>g.dataUpdateCount||C.errorUpdateCount>g.errorUpdateCount,isFetching:R,isRefetching:R&&!A,isLoadingError:I&&!j,isPaused:C.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:I&&j,isStale:Vp(t,n),refetch:this.refetch,promise:z(this,qi)};if(this.options.experimental_prefetchInRender){const W=Y=>{B.status==="error"?Y.reject(B.error):B.data!==void 0&&Y.resolve(B.data)},ae=()=>{const Y=Ie(this,qi,B.promise=q1());W(Y)},pe=z(this,qi);switch(pe.status){case"pending":t.queryHash===r.queryHash&&W(pe);break;case"fulfilled":(B.status==="error"||B.data!==pe.value)&&ae();break;case"rejected":(B.status!=="error"||B.error!==pe.reason)&&ae();break}}return B}updateResult(t){const n=z(this,sr),r=this.createResult(z(this,yt),this.options);if(Ie(this,Go,z(this,yt).state),Ie(this,xl,this.options),z(this,Go).data!==void 0&&Ie(this,vl,z(this,yt)),gf(r,n))return;Ie(this,sr,r);const o={},l=()=>{if(!n)return!0;const{notifyOnChangeProps:d}=this.options,m=typeof d=="function"?d():d;if(m==="all"||!m&&!z(this,wl).size)return!0;const x=new Set(m??z(this,wl));return this.options.throwOnError&&x.add("error"),Object.keys(z(this,sr)).some(g=>{const v=g;return z(this,sr)[v]!==n[v]&&x.has(v)})};(t==null?void 0:t.listeners)!==!1&&l()&&(o.listeners=!0),at(this,Mt,fS).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&at(this,Mt,em).call(this)}},Er=new WeakMap,yt=new WeakMap,_u=new WeakMap,sr=new WeakMap,Go=new WeakMap,xl=new WeakMap,qi=new WeakMap,js=new WeakMap,Tu=new WeakMap,yl=new WeakMap,vl=new WeakMap,$o=new WeakMap,Xo=new WeakMap,Yi=new WeakMap,wl=new WeakMap,Mt=new WeakSet,bc=function(t){at(this,Mt,rm).call(this);let n=z(this,yt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Kr)),n},Y1=function(){at(this,Mt,tm).call(this);const t=el(this.options.staleTime,z(this,yt));if(sa||z(this,sr).isStale||!X1(t))return;const r=rS(z(this,sr).dataUpdatedAt,t)+1;Ie(this,$o,setTimeout(()=>{z(this,sr).isStale||this.updateResult()},r))},Q1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,yt)):this.options.refetchInterval)??!1},J1=function(t){at(this,Mt,nm).call(this),Ie(this,Yi,t),!(sa||hs(this.options.enabled,z(this,yt))===!1||!X1(z(this,Yi))||z(this,Yi)===0)&&Ie(this,Xo,setInterval(()=>{(this.options.refetchIntervalInBackground||Bp.isFocused())&&at(this,Mt,bc).call(this)},z(this,Yi)))},em=function(){at(this,Mt,Y1).call(this),at(this,Mt,J1).call(this,at(this,Mt,Q1).call(this))},tm=function(){z(this,$o)&&(clearTimeout(z(this,$o)),Ie(this,$o,void 0))},nm=function(){z(this,Xo)&&(clearInterval(z(this,Xo)),Ie(this,Xo,void 0))},rm=function(){const t=z(this,Er).getQueryCache().build(z(this,Er),this.options);if(t===z(this,yt))return;const n=z(this,yt);Ie(this,yt,t),Ie(this,_u,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},fS=function(t){An.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(z(this,sr))}),z(this,Er).getQueryCache().notify({query:z(this,yt),type:"observerResultsUpdated"})})},iv);function t5(e,t){return hs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Iy(e,t){return t5(e,t)||e.state.data!==void 0&&sm(e,t,t.refetchOnMount)}function sm(e,t,n){if(hs(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Vp(e,t)}return!1}function Ry(e,t,n,r){return(e!==t||hs(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Vp(e,n)}function Vp(e,t){return hs(t.enabled,e)!==!1&&e.isStaleByTime(el(t.staleTime,e))}function n5(e,t){return!gf(e.getCurrentResult(),t)}var Qi,Ji,br,ci,pi,jd,im,ov,r5=(ov=class extends Bl{constructor(n,r){super();We(this,pi);We(this,Qi);We(this,Ji);We(this,br);We(this,ci);Ie(this,Qi,n),this.setOptions(r),this.bindMethods(),at(this,pi,jd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const r=this.options;this.options=z(this,Qi).defaultMutationOptions(n),gf(this.options,r)||z(this,Qi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,br),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ia(r.mutationKey)!==ia(this.options.mutationKey)?this.reset():((o=z(this,br))==null?void 0:o.state.status)==="pending"&&z(this,br).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=z(this,br))==null||n.removeObserver(this)}onMutationUpdate(n){at(this,pi,jd).call(this),at(this,pi,im).call(this,n)}getCurrentResult(){return z(this,Ji)}reset(){var n;(n=z(this,br))==null||n.removeObserver(this),Ie(this,br,void 0),at(this,pi,jd).call(this),at(this,pi,im).call(this)}mutate(n,r){var o;return Ie(this,ci,r),(o=z(this,br))==null||o.removeObserver(this),Ie(this,br,z(this,Qi).getMutationCache().build(z(this,Qi),this.options)),z(this,br).addObserver(this),z(this,br).execute(n)}},Qi=new WeakMap,Ji=new WeakMap,br=new WeakMap,ci=new WeakMap,pi=new WeakSet,jd=function(){var r;const n=((r=z(this,br))==null?void 0:r.state)??dS();Ie(this,Ji,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},im=function(n){An.batch(()=>{var r,o,l,d,m,x,g,v;if(z(this,ci)&&this.hasListeners()){const C=z(this,Ji).variables,b=z(this,Ji).context;(n==null?void 0:n.type)==="success"?((o=(r=z(this,ci)).onSuccess)==null||o.call(r,n.data,C,b),(d=(l=z(this,ci)).onSettled)==null||d.call(l,n.data,null,C,b)):(n==null?void 0:n.type)==="error"&&((x=(m=z(this,ci)).onError)==null||x.call(m,n.error,C,b),(v=(g=z(this,ci)).onSettled)==null||v.call(g,void 0,n.error,C,b))}this.listeners.forEach(C=>{C(z(this,Ji))})})},ov),hS=E.createContext(void 0),Up=e=>{const t=E.useContext(hS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},mS=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(hS.Provider,{value:e,children:t})),pS=E.createContext(!1),s5=()=>E.useContext(pS);pS.Provider;function i5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var o5=E.createContext(i5()),a5=()=>E.useContext(o5);function gS(e,t){return typeof e=="function"?e(...t):!!e}function om(){}var l5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},c5=e=>{E.useEffect(()=>{e.clearReset()},[e])},u5=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&gS(n,[e.error,r]),d5=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},f5=(e,t)=>e.isLoading&&e.isFetching&&!t,h5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Oy=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function m5(e,t,n){var v,C,b,O,k;const r=Up(),o=s5(),l=a5(),d=r.defaultQueryOptions(e);(C=(v=r.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||C.call(v,d),d._optimisticResults=o?"isRestoring":"optimistic",d5(d),l5(d,l),c5(l);const m=!r.getQueryCache().get(d.queryHash),[x]=E.useState(()=>new t(r,d)),g=x.getOptimisticResult(d);if(E.useSyncExternalStore(E.useCallback(N=>{const P=o?om:x.subscribe(An.batchCalls(N));return x.updateResult(),P},[x,o]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),E.useEffect(()=>{x.setOptions(d,{listeners:!1})},[d,x]),h5(d,g))throw Oy(d,x,l);if(u5({result:g,errorResetBoundary:l,throwOnError:d.throwOnError,query:r.getQueryCache().get(d.queryHash)}))throw g.error;if((O=(b=r.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||O.call(b,d,g),d.experimental_prefetchInRender&&!sa&&f5(g,o)){const N=m?Oy(d,x,l):(k=r.getQueryCache().get(d.queryHash))==null?void 0:k.promise;N==null||N.catch(om).finally(()=>{x.updateResult()})}return d.notifyOnChangeProps?g:x.trackResult(g)}function wi(e,t){return m5(e,e5)}function cr(e,t){const n=Up(),[r]=E.useState(()=>new r5(n,e));E.useEffect(()=>{r.setOptions(e)},[r,e]);const o=E.useSyncExternalStore(E.useCallback(d=>r.subscribe(An.batchCalls(d)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=E.useCallback((d,m)=>{r.mutate(d,m).catch(om)},[r]);if(o.error&&gS(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}function p5(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,l,d=[],m="",x=e.split("/");for(x[0]||x.shift();o=x.shift();)n=o[0],n==="*"?(d.push(n),m+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),l=o.indexOf(".",1),d.push(o.substring(1,~r?r:~l?l:o.length)),m+=~r&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(m+=(~r?"?":"")+"\\"+o.substring(l))):m+="/"+o;return{keys:d,pattern:new RegExp("^"+m+(t?"(?=$|/)":"/?$"),"i")}}var xS={exports:{}},yS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tl=E;function g5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x5=typeof Object.is=="function"?Object.is:g5,y5=Tl.useState,v5=Tl.useEffect,w5=Tl.useLayoutEffect,C5=Tl.useDebugValue;function E5(e,t){var n=t(),r=y5({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return w5(function(){o.value=n,o.getSnapshot=t,R0(o)&&l({inst:o})},[e,n,t]),v5(function(){return R0(o)&&l({inst:o}),e(function(){R0(o)&&l({inst:o})})},[e]),C5(n),n}function R0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!x5(e,n)}catch{return!0}}function b5(e,t){return t()}var S5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?b5:E5;yS.useSyncExternalStore=Tl.useSyncExternalStore!==void 0?Tl.useSyncExternalStore:S5;xS.exports=yS;var A5=xS.exports;const N5=eb.useInsertionEffect,_5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T5=_5?E.useLayoutEffect:E.useEffect,I5=N5||T5,vS=e=>{const t=E.useRef([e,(...n)=>t[0](...n)]).current;return I5(()=>{t[0]=e}),t[1]},R5="popstate",zp="pushState",Wp="replaceState",O5="hashchange",Py=[R5,zp,Wp,O5],P5=e=>{for(const t of Py)addEventListener(t,e);return()=>{for(const t of Py)removeEventListener(t,e)}},wS=(e,t)=>A5.useSyncExternalStore(P5,e,t),D5=()=>location.search,k5=({ssrSearch:e=""}={})=>wS(D5,()=>e),Dy=()=>location.pathname,M5=({ssrPath:e}={})=>wS(Dy,e?()=>e:Dy),j5=(e,{replace:t=!1,state:n=null}={})=>history[t?Wp:zp](n,"",e),L5=(e={})=>[M5(e),j5],ky=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ky]>"u"){for(const e of[zp,Wp]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ky,{value:!0})}const F5=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",CS=(e="")=>e==="/"?"":e,B5=(e,t)=>e[0]==="~"?e.slice(1):CS(t)+e,V5=(e="",t)=>F5(am(CS(e)),am(t)),U5=e=>e[0]==="?"?e.slice(1):e,am=e=>{try{return decodeURI(e)}catch{return e}},z5=e=>am(U5(e)),ES={hook:L5,searchHook:k5,parser:p5,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},bS=E.createContext(ES),Vl=()=>E.useContext(bS),SS={},AS=E.createContext(SS),NS=()=>E.useContext(AS),ch=e=>{const[t,n]=e.hook(e);return[V5(e.base,t),vS((r,o)=>n(B5(r,e.base),o))]},zr=()=>ch(Vl()),_S=()=>{const e=Vl();return z5(e.searchHook(e))},TS=(e,t,n,r)=>{const{pattern:o,keys:l}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),d=o.exec(n)||[],[m,...x]=d;return m!==void 0?[!0,(()=>{const g=l!==!1?Object.fromEntries(l.map((C,b)=>[C,x[b]])):d.groups;let v={...x};return g&&Object.assign(v,g),v})(),...r?[m]:[]]:[!1,null]},W5=({children:e,...t})=>{var v,C;const n=Vl(),r=t.hook?ES:n;let o=r;const[l,d]=((v=t.ssrPath)==null?void 0:v.split("?"))??[];d&&(t.ssrSearch=d,t.ssrPath=l),t.hrefs=t.hrefs??((C=t.hook)==null?void 0:C.hrefs);let m=E.useRef({}),x=m.current,g=x;for(let b in r){const O=b==="base"?r[b]+(t[b]||""):t[b]||r[b];x===g&&O!==g[b]&&(m.current=g={...g}),g[b]=O,O!==r[b]&&(o=g)}return E.createElement(bS.Provider,{value:o,children:e})},My=({children:e,component:t},n)=>t?E.createElement(t,{params:n}):typeof e=="function"?e(n):e,H5=e=>{let t=E.useRef(SS),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},nr=({path:e,nest:t,match:n,...r})=>{const o=Vl(),[l]=ch(o),[d,m,x]=n??TS(o.parser,e,l,t),g=H5({...NS(),...m});if(!d)return null;const v=x?E.createElement(W5,{base:x},My(r,g)):My(r,g);return E.createElement(AS.Provider,{value:g,children:v})};E.forwardRef((e,t)=>{const n=Vl(),[r,o]=ch(n),{to:l="",href:d=l,onClick:m,asChild:x,children:g,className:v,replace:C,state:b,...O}=e,k=vS(P=>{P.ctrlKey||P.metaKey||P.altKey||P.shiftKey||P.button!==0||(m==null||m(P),P.defaultPrevented||(P.preventDefault(),o(d,e)))}),N=n.hrefs(d[0]==="~"?d.slice(1):n.base+d,n);return x&&E.isValidElement(g)?E.cloneElement(g,{onClick:k,href:N}):E.createElement("a",{...O,onClick:k,href:N,className:v!=null&&v.call?v(r===d):v,children:g,ref:t})});const IS=e=>Array.isArray(e)?e.flatMap(t=>IS(t&&t.type===E.Fragment?t.props.children:t)):[e],G5=({children:e,location:t})=>{const n=Vl(),[r]=ch(n);for(const o of IS(e)){let l=0;if(E.isValidElement(o)&&(l=TS(n.parser,o.props.path,t||r,o.props.nest))[0])return E.cloneElement(o,{match:l})}return null};async function RS(e){if(!e.ok){e.status===401&&(localStorage.removeItem("token"),window.location.href="/login");const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Yt(e,t,n){const r=localStorage.getItem("token"),o={};let l;n&&!(n instanceof FormData)?(o["Content-Type"]="application/json",l=JSON.stringify(n)):l=n,r&&(o.Authorization=`Bearer ${r}`);const d=await fetch(t,{method:e,headers:o,body:l,credentials:"include"});return await RS(d),d}const $5=({on401:e})=>async({queryKey:t})=>{const n=localStorage.getItem("token"),r={};n&&(r.Authorization=`Bearer ${n}`);const o=await fetch(t.join("/"),{headers:r,credentials:"include"});return await RS(o),await o.json()},fi=new JO({defaultOptions:{queries:{queryFn:$5({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),X5=1,Z5=1e6;let O0=0;function K5(){return O0=(O0+1)%Number.MAX_SAFE_INTEGER,O0.toString()}const P0=new Map,jy=e=>{if(P0.has(e))return;const t=setTimeout(()=>{P0.delete(e),Lc({type:"REMOVE_TOAST",toastId:e})},Z5);P0.set(e,t)},q5=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,X5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?jy(n):e.toasts.forEach(r=>{jy(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ld=[];let Fd={toasts:[]};function Lc(e){Fd=q5(Fd,e),Ld.forEach(t=>{t(Fd)})}function Y5({...e}){const t=K5(),n=o=>Lc({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Lc({type:"DISMISS_TOAST",toastId:t});return Lc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function mr(){const[e,t]=E.useState(Fd);return E.useEffect(()=>(Ld.push(t),()=>{const n=Ld.indexOf(t);n>-1&&Ld.splice(n,1)}),[e]),{...e,toast:Y5,dismiss:n=>Lc({type:"DISMISS_TOAST",toastId:n})}}function be(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Ly(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function uh(...e){return t=>{let n=!1;const r=e.map(o=>{const l=Ly(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<r.length;o++){const l=r[o];typeof l=="function"?l():Ly(e[o],null)}}}}function Ct(...e){return E.useCallback(uh(...e),e)}function Q5(e,t){const n=E.createContext(t),r=l=>{const{children:d,...m}=l,x=E.useMemo(()=>m,Object.values(m));return h.jsx(n.Provider,{value:x,children:d})};r.displayName=e+"Provider";function o(l){const d=E.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[r,o]}function Wr(e,t=[]){let n=[];function r(l,d){const m=E.createContext(d),x=n.length;n=[...n,d];const g=C=>{var R;const{scope:b,children:O,...k}=C,N=((R=b==null?void 0:b[e])==null?void 0:R[x])||m,P=E.useMemo(()=>k,Object.values(k));return h.jsx(N.Provider,{value:P,children:O})};g.displayName=l+"Provider";function v(C,b){var N;const O=((N=b==null?void 0:b[e])==null?void 0:N[x])||m,k=E.useContext(O);if(k)return k;if(d!==void 0)return d;throw new Error(`\`${C}\` must be used within \`${l}\``)}return[g,v]}const o=()=>{const l=n.map(d=>E.createContext(d));return function(m){const x=(m==null?void 0:m[e])||l;return E.useMemo(()=>({[`__scope${e}`]:{...m,[e]:x}}),[m,x])}};return o.scopeName=e,[r,J5(o,...t)]}function J5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=r.reduce((m,{useScope:x,scopeName:g})=>{const C=x(l)[`__scope${g}`];return{...m,...C}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function oa(e){const t=eP(e),n=E.forwardRef((r,o)=>{const{children:l,...d}=r,m=E.Children.toArray(l),x=m.find(tP);if(x){const g=x.props.children,v=m.map(C=>C===x?E.Children.count(g)>1?E.Children.only(null):E.isValidElement(g)?g.props.children:null:C);return h.jsx(t,{...d,ref:o,children:E.isValidElement(g)?E.cloneElement(g,void 0,v):null})}return h.jsx(t,{...d,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}var OS=oa("Slot");function eP(e){const t=E.forwardRef((n,r)=>{const{children:o,...l}=n;if(E.isValidElement(o)){const d=rP(o),m=nP(l,o.props);return o.type!==E.Fragment&&(m.ref=r?uh(r,d):d),E.cloneElement(o,m)}return E.Children.count(o)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PS=Symbol("radix.slottable");function DS(e){const t=({children:n})=>h.jsx(h.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=PS,t}function tP(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PS}function nP(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...m)=>{l(...m),o(...m)}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function rP(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function dh(e){const t=e+"CollectionProvider",[n,r]=Wr(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=N=>{const{scope:P,children:R}=N,A=Je.useRef(null),I=Je.useRef(new Map).current;return h.jsx(o,{scope:P,itemMap:I,collectionRef:A,children:R})};d.displayName=t;const m=e+"CollectionSlot",x=oa(m),g=Je.forwardRef((N,P)=>{const{scope:R,children:A}=N,I=l(m,R),M=Ct(P,I.collectionRef);return h.jsx(x,{ref:M,children:A})});g.displayName=m;const v=e+"CollectionItemSlot",C="data-radix-collection-item",b=oa(v),O=Je.forwardRef((N,P)=>{const{scope:R,children:A,...I}=N,M=Je.useRef(null),j=Ct(P,M),$=l(v,R);return Je.useEffect(()=>($.itemMap.set(M,{ref:M,...I}),()=>void $.itemMap.delete(M))),h.jsx(b,{[C]:"",ref:j,children:A})});O.displayName=v;function k(N){const P=l(e+"CollectionConsumer",N);return Je.useCallback(()=>{const A=P.collectionRef.current;if(!A)return[];const I=Array.from(A.querySelectorAll(`[${C}]`));return Array.from(P.itemMap.values()).sort(($,B)=>I.indexOf($.ref.current)-I.indexOf(B.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:d,Slot:g,ItemSlot:O},k,r]}var sP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],He=sP.reduce((e,t)=>{const n=oa(`Primitive.${t}`),r=E.forwardRef((o,l)=>{const{asChild:d,...m}=o,x=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(x,{...m,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Hp(e,t){e&&ga.flushSync(()=>e.dispatchEvent(t))}function $n(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function iP(e,t=globalThis==null?void 0:globalThis.document){const n=$n(e);E.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var oP="DismissableLayer",lm="dismissableLayer.update",aP="dismissableLayer.pointerDownOutside",lP="dismissableLayer.focusOutside",Fy,kS=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ul=E.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:m,...x}=e,g=E.useContext(kS),[v,C]=E.useState(null),b=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,O]=E.useState({}),k=Ct(t,B=>C(B)),N=Array.from(g.layers),[P]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),R=N.indexOf(P),A=v?N.indexOf(v):-1,I=g.layersWithOutsidePointerEventsDisabled.size>0,M=A>=R,j=uP(B=>{const G=B.target,W=[...g.branches].some(ae=>ae.contains(G));!M||W||(o==null||o(B),d==null||d(B),B.defaultPrevented||m==null||m())},b),$=dP(B=>{const G=B.target;[...g.branches].some(ae=>ae.contains(G))||(l==null||l(B),d==null||d(B),B.defaultPrevented||m==null||m())},b);return iP(B=>{A===g.layers.size-1&&(r==null||r(B),!B.defaultPrevented&&m&&(B.preventDefault(),m()))},b),E.useEffect(()=>{if(v)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Fy=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(v)),g.layers.add(v),By(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Fy)}},[v,b,n,g]),E.useEffect(()=>()=>{v&&(g.layers.delete(v),g.layersWithOutsidePointerEventsDisabled.delete(v),By())},[v,g]),E.useEffect(()=>{const B=()=>O({});return document.addEventListener(lm,B),()=>document.removeEventListener(lm,B)},[]),h.jsx(He.div,{...x,ref:k,style:{pointerEvents:I?M?"auto":"none":void 0,...e.style},onFocusCapture:be(e.onFocusCapture,$.onFocusCapture),onBlurCapture:be(e.onBlurCapture,$.onBlurCapture),onPointerDownCapture:be(e.onPointerDownCapture,j.onPointerDownCapture)})});Ul.displayName=oP;var cP="DismissableLayerBranch",MS=E.forwardRef((e,t)=>{const n=E.useContext(kS),r=E.useRef(null),o=Ct(t,r);return E.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),h.jsx(He.div,{...e,ref:o})});MS.displayName=cP;function uP(e,t=globalThis==null?void 0:globalThis.document){const n=$n(e),r=E.useRef(!1),o=E.useRef(()=>{});return E.useEffect(()=>{const l=m=>{if(m.target&&!r.current){let x=function(){jS(aP,n,g,{discrete:!0})};const g={originalEvent:m};m.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=x,t.addEventListener("click",o.current,{once:!0})):x()}else t.removeEventListener("click",o.current);r.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function dP(e,t=globalThis==null?void 0:globalThis.document){const n=$n(e),r=E.useRef(!1);return E.useEffect(()=>{const o=l=>{l.target&&!r.current&&jS(lP,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function By(){const e=new CustomEvent(lm);document.dispatchEvent(e)}function jS(e,t,n,{discrete:r}){const o=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Hp(o,l):o.dispatchEvent(l)}var fP=Ul,hP=MS,Tn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},mP="Portal",ku=E.forwardRef((e,t)=>{var m;const{container:n,...r}=e,[o,l]=E.useState(!1);Tn(()=>l(!0),[]);const d=n||o&&((m=globalThis==null?void 0:globalThis.document)==null?void 0:m.body);return d?FO.createPortal(h.jsx(He.div,{...r,ref:t}),d):null});ku.displayName=mP;function pP(e,t){return E.useReducer((n,r)=>t[n][r]??n,e)}var ss=e=>{const{present:t,children:n}=e,r=gP(t),o=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),l=Ct(r.ref,xP(o));return typeof n=="function"||r.isPresent?E.cloneElement(o,{ref:l}):null};ss.displayName="Presence";function gP(e){const[t,n]=E.useState(),r=E.useRef({}),o=E.useRef(e),l=E.useRef("none"),d=e?"mounted":"unmounted",[m,x]=pP(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const g=xd(r.current);l.current=m==="mounted"?g:"none"},[m]),Tn(()=>{const g=r.current,v=o.current;if(v!==e){const b=l.current,O=xd(g);e?x("MOUNT"):O==="none"||(g==null?void 0:g.display)==="none"?x("UNMOUNT"):x(v&&b!==O?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,x]),Tn(()=>{if(t){let g;const v=t.ownerDocument.defaultView??window,C=O=>{const N=xd(r.current).includes(O.animationName);if(O.target===t&&N&&(x("ANIMATION_END"),!o.current)){const P=t.style.animationFillMode;t.style.animationFillMode="forwards",g=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=P)})}},b=O=>{O.target===t&&(l.current=xd(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",C),t.addEventListener("animationend",C),()=>{v.clearTimeout(g),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",C),t.removeEventListener("animationend",C)}}else x("ANIMATION_END")},[t,x]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:E.useCallback(g=>{g&&(r.current=getComputedStyle(g)),n(g)},[])}}function xd(e){return(e==null?void 0:e.animationName)||"none"}function xP(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function po({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=yP({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:r,m=$n(n),x=E.useCallback(g=>{if(l){const C=typeof g=="function"?g(e):g;C!==e&&m(C)}else o(g)},[l,e,o,m]);return[d,x]}function yP({defaultProp:e,onChange:t}){const n=E.useState(e),[r]=n,o=E.useRef(r),l=$n(t);return E.useEffect(()=>{o.current!==r&&(l(r),o.current=r)},[r,o,l]),n}var vP="VisuallyHidden",Mu=E.forwardRef((e,t)=>h.jsx(He.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Mu.displayName=vP;var wP=Mu,Gp="ToastProvider",[$p,CP,EP]=dh("Toast"),[LS]=Wr("Toast",[EP]),[bP,fh]=LS(Gp),FS=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:d}=e,[m,x]=E.useState(null),[g,v]=E.useState(0),C=E.useRef(!1),b=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gp}\`. Expected non-empty \`string\`.`),h.jsx($p.Provider,{scope:t,children:h.jsx(bP,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:l,toastCount:g,viewport:m,onViewportChange:x,onToastAdd:E.useCallback(()=>v(O=>O+1),[]),onToastRemove:E.useCallback(()=>v(O=>O-1),[]),isFocusedToastEscapeKeyDownRef:C,isClosePausedRef:b,children:d})})};FS.displayName=Gp;var BS="ToastViewport",SP=["F8"],cm="toast.viewportPause",um="toast.viewportResume",VS=E.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=SP,label:o="Notifications ({hotkey})",...l}=e,d=fh(BS,n),m=CP(n),x=E.useRef(null),g=E.useRef(null),v=E.useRef(null),C=E.useRef(null),b=Ct(t,C,d.onViewportChange),O=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=d.toastCount>0;E.useEffect(()=>{const P=R=>{var I;r.length!==0&&r.every(M=>R[M]||R.code===M)&&((I=C.current)==null||I.focus())};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[r]),E.useEffect(()=>{const P=x.current,R=C.current;if(k&&P&&R){const A=()=>{if(!d.isClosePausedRef.current){const $=new CustomEvent(cm);R.dispatchEvent($),d.isClosePausedRef.current=!0}},I=()=>{if(d.isClosePausedRef.current){const $=new CustomEvent(um);R.dispatchEvent($),d.isClosePausedRef.current=!1}},M=$=>{!P.contains($.relatedTarget)&&I()},j=()=>{P.contains(document.activeElement)||I()};return P.addEventListener("focusin",A),P.addEventListener("focusout",M),P.addEventListener("pointermove",A),P.addEventListener("pointerleave",j),window.addEventListener("blur",A),window.addEventListener("focus",I),()=>{P.removeEventListener("focusin",A),P.removeEventListener("focusout",M),P.removeEventListener("pointermove",A),P.removeEventListener("pointerleave",j),window.removeEventListener("blur",A),window.removeEventListener("focus",I)}}},[k,d.isClosePausedRef]);const N=E.useCallback(({tabbingDirection:P})=>{const A=m().map(I=>{const M=I.ref.current,j=[M,...LP(M)];return P==="forwards"?j:j.reverse()});return(P==="forwards"?A.reverse():A).flat()},[m]);return E.useEffect(()=>{const P=C.current;if(P){const R=A=>{var j,$,B;const I=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!I){const G=document.activeElement,W=A.shiftKey;if(A.target===P&&W){(j=g.current)==null||j.focus();return}const Y=N({tabbingDirection:W?"backwards":"forwards"}),oe=Y.findIndex(ie=>ie===G);D0(Y.slice(oe+1))?A.preventDefault():W?($=g.current)==null||$.focus():(B=v.current)==null||B.focus()}};return P.addEventListener("keydown",R),()=>P.removeEventListener("keydown",R)}},[m,N]),h.jsxs(hP,{ref:x,role:"region","aria-label":o.replace("{hotkey}",O),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&h.jsx(dm,{ref:g,onFocusFromOutsideViewport:()=>{const P=N({tabbingDirection:"forwards"});D0(P)}}),h.jsx($p.Slot,{scope:n,children:h.jsx(He.ol,{tabIndex:-1,...l,ref:b})}),k&&h.jsx(dm,{ref:v,onFocusFromOutsideViewport:()=>{const P=N({tabbingDirection:"backwards"});D0(P)}})]})});VS.displayName=BS;var US="ToastFocusProxy",dm=E.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,l=fh(US,n);return h.jsx(Mu,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:d=>{var g;const m=d.relatedTarget;!((g=l.viewport)!=null&&g.contains(m))&&r()}})});dm.displayName=US;var hh="Toast",AP="toast.swipeStart",NP="toast.swipeMove",_P="toast.swipeCancel",TP="toast.swipeEnd",zS=E.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:l,...d}=e,[m=!0,x]=po({prop:r,defaultProp:o,onChange:l});return h.jsx(ss,{present:n||m,children:h.jsx(OP,{open:m,...d,ref:t,onClose:()=>x(!1),onPause:$n(e.onPause),onResume:$n(e.onResume),onSwipeStart:be(e.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:be(e.onSwipeMove,g=>{const{x:v,y:C}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${C}px`)}),onSwipeCancel:be(e.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:be(e.onSwipeEnd,g=>{const{x:v,y:C}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${C}px`),x(!1)})})})});zS.displayName=hh;var[IP,RP]=LS(hh,{onClose(){}}),OP=E.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:l,onClose:d,onEscapeKeyDown:m,onPause:x,onResume:g,onSwipeStart:v,onSwipeMove:C,onSwipeCancel:b,onSwipeEnd:O,...k}=e,N=fh(hh,n),[P,R]=E.useState(null),A=Ct(t,ie=>R(ie)),I=E.useRef(null),M=E.useRef(null),j=o||N.duration,$=E.useRef(0),B=E.useRef(j),G=E.useRef(0),{onToastAdd:W,onToastRemove:ae}=N,pe=$n(()=>{var X;(P==null?void 0:P.contains(document.activeElement))&&((X=N.viewport)==null||X.focus()),d()}),Y=E.useCallback(ie=>{!ie||ie===1/0||(window.clearTimeout(G.current),$.current=new Date().getTime(),G.current=window.setTimeout(pe,ie))},[pe]);E.useEffect(()=>{const ie=N.viewport;if(ie){const X=()=>{Y(B.current),g==null||g()},fe=()=>{const de=new Date().getTime()-$.current;B.current=B.current-de,window.clearTimeout(G.current),x==null||x()};return ie.addEventListener(cm,fe),ie.addEventListener(um,X),()=>{ie.removeEventListener(cm,fe),ie.removeEventListener(um,X)}}},[N.viewport,j,x,g,Y]),E.useEffect(()=>{l&&!N.isClosePausedRef.current&&Y(j)},[l,j,N.isClosePausedRef,Y]),E.useEffect(()=>(W(),()=>ae()),[W,ae]);const oe=E.useMemo(()=>P?KS(P):null,[P]);return N.viewport?h.jsxs(h.Fragment,{children:[oe&&h.jsx(PP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:oe}),h.jsx(IP,{scope:n,onClose:pe,children:ga.createPortal(h.jsx($p.ItemSlot,{scope:n,children:h.jsx(fP,{asChild:!0,onEscapeKeyDown:be(m,()=>{N.isFocusedToastEscapeKeyDownRef.current||pe(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":N.swipeDirection,...k,ref:A,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:be(e.onKeyDown,ie=>{ie.key==="Escape"&&(m==null||m(ie.nativeEvent),ie.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,pe()))}),onPointerDown:be(e.onPointerDown,ie=>{ie.button===0&&(I.current={x:ie.clientX,y:ie.clientY})}),onPointerMove:be(e.onPointerMove,ie=>{if(!I.current)return;const X=ie.clientX-I.current.x,fe=ie.clientY-I.current.y,de=!!M.current,te=["left","right"].includes(N.swipeDirection),ne=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,we=te?ne(0,X):0,Me=te?0:ne(0,fe),Be=ie.pointerType==="touch"?10:2,Nt={x:we,y:Me},re={originalEvent:ie,delta:Nt};de?(M.current=Nt,yd(NP,C,re,{discrete:!1})):Vy(Nt,N.swipeDirection,Be)?(M.current=Nt,yd(AP,v,re,{discrete:!1}),ie.target.setPointerCapture(ie.pointerId)):(Math.abs(X)>Be||Math.abs(fe)>Be)&&(I.current=null)}),onPointerUp:be(e.onPointerUp,ie=>{const X=M.current,fe=ie.target;if(fe.hasPointerCapture(ie.pointerId)&&fe.releasePointerCapture(ie.pointerId),M.current=null,I.current=null,X){const de=ie.currentTarget,te={originalEvent:ie,delta:X};Vy(X,N.swipeDirection,N.swipeThreshold)?yd(TP,O,te,{discrete:!0}):yd(_P,b,te,{discrete:!0}),de.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),PP=e=>{const{__scopeToast:t,children:n,...r}=e,o=fh(hh,t),[l,d]=E.useState(!1),[m,x]=E.useState(!1);return MP(()=>d(!0)),E.useEffect(()=>{const g=window.setTimeout(()=>x(!0),1e3);return()=>window.clearTimeout(g)},[]),m?null:h.jsx(ku,{asChild:!0,children:h.jsx(Mu,{...r,children:l&&h.jsxs(h.Fragment,{children:[o.label," ",n]})})})},DP="ToastTitle",WS=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return h.jsx(He.div,{...r,ref:t})});WS.displayName=DP;var kP="ToastDescription",HS=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return h.jsx(He.div,{...r,ref:t})});HS.displayName=kP;var GS="ToastAction",$S=E.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?h.jsx(ZS,{altText:n,asChild:!0,children:h.jsx(Xp,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${GS}\`. Expected non-empty \`string\`.`),null)});$S.displayName=GS;var XS="ToastClose",Xp=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=RP(XS,n);return h.jsx(ZS,{asChild:!0,children:h.jsx(He.button,{type:"button",...r,ref:t,onClick:be(e.onClick,o.onClose)})})});Xp.displayName=XS;var ZS=E.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return h.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function KS(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),jP(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const d=r.dataset.radixToastAnnounceAlt;d&&t.push(d)}else t.push(...KS(r))}}),t}function yd(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Hp(o,l):o.dispatchEvent(l)}var Vy=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),l=r>o;return t==="left"||t==="right"?l&&r>n:!l&&o>n};function MP(e=()=>{}){const t=$n(e);Tn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function jP(e){return e.nodeType===e.ELEMENT_NODE}function LP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function D0(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var FP=FS,qS=VS,YS=zS,QS=WS,JS=HS,eA=$S,tA=Xp;function nA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=nA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rA(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=nA(e))&&(r&&(r+=" "),r+=t);return r}const Uy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zy=rA,mh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return zy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:l}=t,d=Object.keys(o).map(g=>{const v=n==null?void 0:n[g],C=l==null?void 0:l[g];if(v===null)return null;const b=Uy(v)||Uy(C);return o[g][b]}),m=n&&Object.entries(n).reduce((g,v)=>{let[C,b]=v;return b===void 0||(g[C]=b),g},{}),x=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((g,v)=>{let{class:C,className:b,...O}=v;return Object.entries(O).every(k=>{let[N,P]=k;return Array.isArray(P)?P.includes({...l,...m}[N]):{...l,...m}[N]===P})?[...g,C,b]:g},[]);return zy(e,d,x,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sA=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:d,...m},x)=>E.createElement("svg",{ref:x,...VP,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:sA("lucide",o),...m},[...d.map(([g,v])=>E.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(e,t)=>{const n=E.forwardRef(({className:r,...o},l)=>E.createElement(UP,{ref:l,iconNode:t,className:sA(`lucide-${BP(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=Et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=Et("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=Et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=Et("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=Et("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Et("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=Et("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=Et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=Et("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=Et("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=Et("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=Et("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Et("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=Et("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=Et("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=Et("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=Et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=Et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=Et("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=Et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=Et("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=Et("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Et("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=Et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=Et("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Et("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=Et("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=Et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=Et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=Et("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),qp="-",nD=e=>{const t=sD(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:d=>{const m=d.split(qp);return m[0]===""&&m.length!==1&&m.shift(),uA(m,t)||rD(d)},getConflictingClassGroupIds:(d,m)=>{const x=n[d]||[];return m&&r[d]?[...x,...r[d]]:x}}},uA=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?uA(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const l=e.join(qp);return(d=t.validators.find(({validator:m})=>m(l)))==null?void 0:d.classGroupId},$y=/^\[(.+)\]$/,rD=e=>{if($y.test(e)){const t=$y.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},sD=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return oD(Object.entries(e.classGroups),n).forEach(([l,d])=>{hm(d,r,l,t)}),r},hm=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const l=o===""?t:Xy(t,o);l.classGroupId=n;return}if(typeof o=="function"){if(iD(o)){hm(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,d])=>{hm(d,Xy(t,l),n,r)})})},Xy=(e,t)=>{let n=e;return t.split(qp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},iD=e=>e.isThemeGetter,oD=(e,t)=>t?e.map(([n,r])=>{const o=r.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([d,m])=>[t+d,m])):l);return[n,o]}):e,aD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(l,d)=>{n.set(l,d),t++,t>e&&(t=0,r=n,n=new Map)};return{get(l){let d=n.get(l);if(d!==void 0)return d;if((d=r.get(l))!==void 0)return o(l,d),d},set(l,d){n.has(l)?n.set(l,d):o(l,d)}}},dA="!",lD=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],l=t.length,d=m=>{const x=[];let g=0,v=0,C;for(let P=0;P<m.length;P++){let R=m[P];if(g===0){if(R===o&&(r||m.slice(P,P+l)===t)){x.push(m.slice(v,P)),v=P+l;continue}if(R==="/"){C=P;continue}}R==="["?g++:R==="]"&&g--}const b=x.length===0?m:m.substring(v),O=b.startsWith(dA),k=O?b.substring(1):b,N=C&&C>v?C-v:void 0;return{modifiers:x,hasImportantModifier:O,baseClassName:k,maybePostfixModifierPosition:N}};return n?m=>n({className:m,parseClassName:d}):d},cD=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},uD=e=>({cache:aD(e.cacheSize),parseClassName:lD(e),...nD(e)}),dD=/\s+/,fD=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,l=[],d=e.trim().split(dD);let m="";for(let x=d.length-1;x>=0;x-=1){const g=d[x],{modifiers:v,hasImportantModifier:C,baseClassName:b,maybePostfixModifierPosition:O}=n(g);let k=!!O,N=r(k?b.substring(0,O):b);if(!N){if(!k){m=g+(m.length>0?" "+m:m);continue}if(N=r(b),!N){m=g+(m.length>0?" "+m:m);continue}k=!1}const P=cD(v).join(":"),R=C?P+dA:P,A=R+N;if(l.includes(A))continue;l.push(A);const I=o(N,k);for(let M=0;M<I.length;++M){const j=I[M];l.push(R+j)}m=g+(m.length>0?" "+m:m)}return m};function hD(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=fA(t))&&(r&&(r+=" "),r+=n);return r}const fA=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=fA(e[r]))&&(n&&(n+=" "),n+=t);return n};function mD(e,...t){let n,r,o,l=d;function d(x){const g=t.reduce((v,C)=>C(v),e());return n=uD(g),r=n.cache.get,o=n.cache.set,l=m,m(x)}function m(x){const g=r(x);if(g)return g;const v=fD(x,n);return o(x,v),v}return function(){return l(hD.apply(null,arguments))}}const Ht=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},hA=/^\[(?:([a-z-]+):)?(.+)\]$/i,pD=/^\d+\/\d+$/,gD=new Set(["px","full","screen"]),xD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qs=e=>tl(e)||gD.has(e)||pD.test(e),Mi=e=>zl(e,"length",ID),tl=e=>!!e&&!Number.isNaN(Number(e)),L0=e=>zl(e,"number",tl),mc=e=>!!e&&Number.isInteger(Number(e)),ED=e=>e.endsWith("%")&&tl(e.slice(0,-1)),rt=e=>hA.test(e),ji=e=>xD.test(e),bD=new Set(["length","size","percentage"]),SD=e=>zl(e,bD,mA),AD=e=>zl(e,"position",mA),ND=new Set(["image","url"]),_D=e=>zl(e,ND,OD),TD=e=>zl(e,"",RD),pc=()=>!0,zl=(e,t,n)=>{const r=hA.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},ID=e=>yD.test(e)&&!vD.test(e),mA=()=>!1,RD=e=>wD.test(e),OD=e=>CD.test(e),PD=()=>{const e=Ht("colors"),t=Ht("spacing"),n=Ht("blur"),r=Ht("brightness"),o=Ht("borderColor"),l=Ht("borderRadius"),d=Ht("borderSpacing"),m=Ht("borderWidth"),x=Ht("contrast"),g=Ht("grayscale"),v=Ht("hueRotate"),C=Ht("invert"),b=Ht("gap"),O=Ht("gradientColorStops"),k=Ht("gradientColorStopPositions"),N=Ht("inset"),P=Ht("margin"),R=Ht("opacity"),A=Ht("padding"),I=Ht("saturate"),M=Ht("scale"),j=Ht("sepia"),$=Ht("skew"),B=Ht("space"),G=Ht("translate"),W=()=>["auto","contain","none"],ae=()=>["auto","hidden","clip","visible","scroll"],pe=()=>["auto",rt,t],Y=()=>[rt,t],oe=()=>["",qs,Mi],ie=()=>["auto",tl,rt],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",rt],we=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Me=()=>[tl,rt];return{cacheSize:500,separator:":",theme:{colors:[pc],spacing:[qs,Mi],blur:["none","",ji,rt],brightness:Me(),borderColor:[e],borderRadius:["none","","full",ji,rt],borderSpacing:Y(),borderWidth:oe(),contrast:Me(),grayscale:ne(),hueRotate:Me(),invert:ne(),gap:Y(),gradientColorStops:[e],gradientColorStopPositions:[ED,Mi],inset:pe(),margin:pe(),opacity:Me(),padding:Y(),saturate:Me(),scale:Me(),sepia:ne(),skew:Me(),space:Y(),translate:Y()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[ji]}],"break-after":[{"break-after":we()}],"break-before":[{"break-before":we()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),rt]}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mc,rt]}],basis:[{basis:pe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",mc,rt]}],"grid-cols":[{"grid-cols":[pc]}],"col-start-end":[{col:["auto",{span:["full",mc,rt]},rt]}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":[pc]}],"row-start-end":[{row:["auto",{span:[mc,rt]},rt]}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,t]}],"min-w":[{"min-w":[rt,t,"min","max","fit"]}],"max-w":[{"max-w":[rt,t,"none","full","min","max","fit","prose",{screen:[ji]},ji]}],h:[{h:[rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ji,Mi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",L0]}],"font-family":[{font:[pc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",tl,L0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qs,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qs,Mi]}],"underline-offset":[{"underline-offset":["auto",qs,rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),AD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_D]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[O]}],"gradient-via":[{via:[O]}],"gradient-to":[{to:[O]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:fe()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[qs,rt]}],"outline-w":[{outline:[qs,Mi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[qs,Mi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ji,TD]}],"shadow-color":[{shadow:[pc]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",ji,rt]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[C]}],saturate:[{saturate:[I]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[C]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:Me()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:Me()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[mc,rt]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[qs,Mi,L0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DD=mD(PD);function je(...e){return DD(rA(e))}const kD=FP,pA=E.forwardRef(({className:e,...t},n)=>h.jsx(qS,{ref:n,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pA.displayName=qS.displayName;const MD=mh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gA=E.forwardRef(({className:e,variant:t,...n},r)=>h.jsx(YS,{ref:r,className:je(MD({variant:t}),e),...n}));gA.displayName=YS.displayName;const jD=E.forwardRef(({className:e,...t},n)=>h.jsx(eA,{ref:n,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));jD.displayName=eA.displayName;const xA=E.forwardRef(({className:e,...t},n)=>h.jsx(tA,{ref:n,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:h.jsx(cA,{className:"h-4 w-4"})}));xA.displayName=tA.displayName;const yA=E.forwardRef(({className:e,...t},n)=>h.jsx(QS,{ref:n,className:je("text-sm font-semibold",e),...t}));yA.displayName=QS.displayName;const vA=E.forwardRef(({className:e,...t},n)=>h.jsx(JS,{ref:n,className:je("text-sm opacity-90",e),...t}));vA.displayName=JS.displayName;function LD(){const{toasts:e}=mr();return h.jsxs(kD,{children:[e.map(function({id:t,title:n,description:r,action:o,...l}){return h.jsxs(gA,{...l,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(yA,{children:n}),r&&h.jsx(vA,{children:r})]}),o,h.jsx(xA,{})]},t)}),h.jsx(pA,{})]})}var FD=eb[" useId ".trim().toString()]||(()=>{}),BD=0;function zs(e){const[t,n]=E.useState(FD());return Tn(()=>{n(r=>r??String(BD++))},[e]),t?`radix-${t}`:""}const VD=["top","right","bottom","left"],go=Math.min,kr=Math.max,yf=Math.round,vd=Math.floor,Ws=e=>({x:e,y:e}),UD={left:"right",right:"left",bottom:"top",top:"bottom"},zD={start:"end",end:"start"};function mm(e,t,n){return kr(e,go(t,n))}function Ci(e,t){return typeof e=="function"?e(t):e}function Ei(e){return e.split("-")[0]}function Wl(e){return e.split("-")[1]}function Yp(e){return e==="x"?"y":"x"}function Qp(e){return e==="y"?"height":"width"}function xo(e){return["top","bottom"].includes(Ei(e))?"y":"x"}function Jp(e){return Yp(xo(e))}function WD(e,t,n){n===void 0&&(n=!1);const r=Wl(e),o=Jp(e),l=Qp(o);let d=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(d=vf(d)),[d,vf(d)]}function HD(e){const t=vf(e);return[pm(e),t,pm(t)]}function pm(e){return e.replace(/start|end/g,t=>zD[t])}function GD(e,t,n){const r=["left","right"],o=["right","left"],l=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?l:d;default:return[]}}function $D(e,t,n,r){const o=Wl(e);let l=GD(Ei(e),n==="start",r);return o&&(l=l.map(d=>d+"-"+o),t&&(l=l.concat(l.map(pm)))),l}function vf(e){return e.replace(/left|right|bottom|top/g,t=>UD[t])}function XD(e){return{top:0,right:0,bottom:0,left:0,...e}}function wA(e){return typeof e!="number"?XD(e):{top:e,right:e,bottom:e,left:e}}function wf(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Zy(e,t,n){let{reference:r,floating:o}=e;const l=xo(t),d=Jp(t),m=Qp(d),x=Ei(t),g=l==="y",v=r.x+r.width/2-o.width/2,C=r.y+r.height/2-o.height/2,b=r[m]/2-o[m]/2;let O;switch(x){case"top":O={x:v,y:r.y-o.height};break;case"bottom":O={x:v,y:r.y+r.height};break;case"right":O={x:r.x+r.width,y:C};break;case"left":O={x:r.x-o.width,y:C};break;default:O={x:r.x,y:r.y}}switch(Wl(t)){case"start":O[d]-=b*(n&&g?-1:1);break;case"end":O[d]+=b*(n&&g?-1:1);break}return O}const ZD=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:l=[],platform:d}=n,m=l.filter(Boolean),x=await(d.isRTL==null?void 0:d.isRTL(t));let g=await d.getElementRects({reference:e,floating:t,strategy:o}),{x:v,y:C}=Zy(g,r,x),b=r,O={},k=0;for(let N=0;N<m.length;N++){const{name:P,fn:R}=m[N],{x:A,y:I,data:M,reset:j}=await R({x:v,y:C,initialPlacement:r,placement:b,strategy:o,middlewareData:O,rects:g,platform:d,elements:{reference:e,floating:t}});v=A??v,C=I??C,O={...O,[P]:{...O[P],...M}},j&&k<=50&&(k++,typeof j=="object"&&(j.placement&&(b=j.placement),j.rects&&(g=j.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:o}):j.rects),{x:v,y:C}=Zy(g,b,x)),N=-1)}return{x:v,y:C,placement:b,strategy:o,middlewareData:O}};async function lu(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:l,rects:d,elements:m,strategy:x}=e,{boundary:g="clippingAncestors",rootBoundary:v="viewport",elementContext:C="floating",altBoundary:b=!1,padding:O=0}=Ci(t,e),k=wA(O),P=m[b?C==="floating"?"reference":"floating":C],R=wf(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(P)))==null||n?P:P.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(m.floating)),boundary:g,rootBoundary:v,strategy:x})),A=C==="floating"?{x:r,y:o,width:d.floating.width,height:d.floating.height}:d.reference,I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m.floating)),M=await(l.isElement==null?void 0:l.isElement(I))?await(l.getScale==null?void 0:l.getScale(I))||{x:1,y:1}:{x:1,y:1},j=wf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:A,offsetParent:I,strategy:x}):A);return{top:(R.top-j.top+k.top)/M.y,bottom:(j.bottom-R.bottom+k.bottom)/M.y,left:(R.left-j.left+k.left)/M.x,right:(j.right-R.right+k.right)/M.x}}const KD=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:l,platform:d,elements:m,middlewareData:x}=t,{element:g,padding:v=0}=Ci(e,t)||{};if(g==null)return{};const C=wA(v),b={x:n,y:r},O=Jp(o),k=Qp(O),N=await d.getDimensions(g),P=O==="y",R=P?"top":"left",A=P?"bottom":"right",I=P?"clientHeight":"clientWidth",M=l.reference[k]+l.reference[O]-b[O]-l.floating[k],j=b[O]-l.reference[O],$=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let B=$?$[I]:0;(!B||!await(d.isElement==null?void 0:d.isElement($)))&&(B=m.floating[I]||l.floating[k]);const G=M/2-j/2,W=B/2-N[k]/2-1,ae=go(C[R],W),pe=go(C[A],W),Y=ae,oe=B-N[k]-pe,ie=B/2-N[k]/2+G,X=mm(Y,ie,oe),fe=!x.arrow&&Wl(o)!=null&&ie!==X&&l.reference[k]/2-(ie<Y?ae:pe)-N[k]/2<0,de=fe?ie<Y?ie-Y:ie-oe:0;return{[O]:b[O]+de,data:{[O]:X,centerOffset:ie-X-de,...fe&&{alignmentOffset:de}},reset:fe}}}),qD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:l,rects:d,initialPlacement:m,platform:x,elements:g}=t,{mainAxis:v=!0,crossAxis:C=!0,fallbackPlacements:b,fallbackStrategy:O="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:N=!0,...P}=Ci(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const R=Ei(o),A=xo(m),I=Ei(m)===m,M=await(x.isRTL==null?void 0:x.isRTL(g.floating)),j=b||(I||!N?[vf(m)]:HD(m)),$=k!=="none";!b&&$&&j.push(...$D(m,N,k,M));const B=[m,...j],G=await lu(t,P),W=[];let ae=((r=l.flip)==null?void 0:r.overflows)||[];if(v&&W.push(G[R]),C){const ie=WD(o,d,M);W.push(G[ie[0]],G[ie[1]])}if(ae=[...ae,{placement:o,overflows:W}],!W.every(ie=>ie<=0)){var pe,Y;const ie=(((pe=l.flip)==null?void 0:pe.index)||0)+1,X=B[ie];if(X)return{data:{index:ie,overflows:ae},reset:{placement:X}};let fe=(Y=ae.filter(de=>de.overflows[0]<=0).sort((de,te)=>de.overflows[1]-te.overflows[1])[0])==null?void 0:Y.placement;if(!fe)switch(O){case"bestFit":{var oe;const de=(oe=ae.filter(te=>{if($){const ne=xo(te.placement);return ne===A||ne==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(ne=>ne>0).reduce((ne,we)=>ne+we,0)]).sort((te,ne)=>te[1]-ne[1])[0])==null?void 0:oe[0];de&&(fe=de);break}case"initialPlacement":fe=m;break}if(o!==fe)return{reset:{placement:fe}}}return{}}}};function Ky(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qy(e){return VD.some(t=>e[t]>=0)}const YD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Ci(e,t);switch(r){case"referenceHidden":{const l=await lu(t,{...o,elementContext:"reference"}),d=Ky(l,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:qy(d)}}}case"escaped":{const l=await lu(t,{...o,altBoundary:!0}),d=Ky(l,n.floating);return{data:{escapedOffsets:d,escaped:qy(d)}}}default:return{}}}}};async function QD(e,t){const{placement:n,platform:r,elements:o}=e,l=await(r.isRTL==null?void 0:r.isRTL(o.floating)),d=Ei(n),m=Wl(n),x=xo(n)==="y",g=["left","top"].includes(d)?-1:1,v=l&&x?-1:1,C=Ci(t,e);let{mainAxis:b,crossAxis:O,alignmentAxis:k}=typeof C=="number"?{mainAxis:C,crossAxis:0,alignmentAxis:null}:{mainAxis:C.mainAxis||0,crossAxis:C.crossAxis||0,alignmentAxis:C.alignmentAxis};return m&&typeof k=="number"&&(O=m==="end"?k*-1:k),x?{x:O*v,y:b*g}:{x:b*g,y:O*v}}const JD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:l,placement:d,middlewareData:m}=t,x=await QD(t,e);return d===((n=m.offset)==null?void 0:n.placement)&&(r=m.arrow)!=null&&r.alignmentOffset?{}:{x:o+x.x,y:l+x.y,data:{...x,placement:d}}}}},ek=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:l=!0,crossAxis:d=!1,limiter:m={fn:P=>{let{x:R,y:A}=P;return{x:R,y:A}}},...x}=Ci(e,t),g={x:n,y:r},v=await lu(t,x),C=xo(Ei(o)),b=Yp(C);let O=g[b],k=g[C];if(l){const P=b==="y"?"top":"left",R=b==="y"?"bottom":"right",A=O+v[P],I=O-v[R];O=mm(A,O,I)}if(d){const P=C==="y"?"top":"left",R=C==="y"?"bottom":"right",A=k+v[P],I=k-v[R];k=mm(A,k,I)}const N=m.fn({...t,[b]:O,[C]:k});return{...N,data:{x:N.x-n,y:N.y-r,enabled:{[b]:l,[C]:d}}}}}},tk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:l,middlewareData:d}=t,{offset:m=0,mainAxis:x=!0,crossAxis:g=!0}=Ci(e,t),v={x:n,y:r},C=xo(o),b=Yp(C);let O=v[b],k=v[C];const N=Ci(m,t),P=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(x){const I=b==="y"?"height":"width",M=l.reference[b]-l.floating[I]+P.mainAxis,j=l.reference[b]+l.reference[I]-P.mainAxis;O<M?O=M:O>j&&(O=j)}if(g){var R,A;const I=b==="y"?"width":"height",M=["top","left"].includes(Ei(o)),j=l.reference[C]-l.floating[I]+(M&&((R=d.offset)==null?void 0:R[C])||0)+(M?0:P.crossAxis),$=l.reference[C]+l.reference[I]+(M?0:((A=d.offset)==null?void 0:A[C])||0)-(M?P.crossAxis:0);k<j?k=j:k>$&&(k=$)}return{[b]:O,[C]:k}}}},nk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:l,platform:d,elements:m}=t,{apply:x=()=>{},...g}=Ci(e,t),v=await lu(t,g),C=Ei(o),b=Wl(o),O=xo(o)==="y",{width:k,height:N}=l.floating;let P,R;C==="top"||C==="bottom"?(P=C,R=b===(await(d.isRTL==null?void 0:d.isRTL(m.floating))?"start":"end")?"left":"right"):(R=C,P=b==="end"?"top":"bottom");const A=N-v.top-v.bottom,I=k-v.left-v.right,M=go(N-v[P],A),j=go(k-v[R],I),$=!t.middlewareData.shift;let B=M,G=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(G=I),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(B=A),$&&!b){const ae=kr(v.left,0),pe=kr(v.right,0),Y=kr(v.top,0),oe=kr(v.bottom,0);O?G=k-2*(ae!==0||pe!==0?ae+pe:kr(v.left,v.right)):B=N-2*(Y!==0||oe!==0?Y+oe:kr(v.top,v.bottom))}await x({...t,availableWidth:G,availableHeight:B});const W=await d.getDimensions(m.floating);return k!==W.width||N!==W.height?{reset:{rects:!0}}:{}}}};function gh(){return typeof window<"u"}function Hl(e){return CA(e)?(e.nodeName||"").toLowerCase():"#document"}function Lr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ks(e){var t;return(t=(CA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function CA(e){return gh()?e instanceof Node||e instanceof Lr(e).Node:!1}function Cs(e){return gh()?e instanceof Element||e instanceof Lr(e).Element:!1}function Gs(e){return gh()?e instanceof HTMLElement||e instanceof Lr(e).HTMLElement:!1}function Yy(e){return!gh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Lr(e).ShadowRoot}function ju(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Es(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function rk(e){return["table","td","th"].includes(Hl(e))}function xh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function eg(e){const t=tg(),n=Cs(e)?Es(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function sk(e){let t=yo(e);for(;Gs(t)&&!Il(t);){if(eg(t))return t;if(xh(t))return null;t=yo(t)}return null}function tg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Il(e){return["html","body","#document"].includes(Hl(e))}function Es(e){return Lr(e).getComputedStyle(e)}function yh(e){return Cs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yo(e){if(Hl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Yy(e)&&e.host||Ks(e);return Yy(t)?t.host:t}function EA(e){const t=yo(e);return Il(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gs(t)&&ju(t)?t:EA(t)}function cu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=EA(e),l=o===((r=e.ownerDocument)==null?void 0:r.body),d=Lr(o);if(l){const m=gm(d);return t.concat(d,d.visualViewport||[],ju(o)?o:[],m&&n?cu(m):[])}return t.concat(o,cu(o,[],n))}function gm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function bA(e){const t=Es(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Gs(e),l=o?e.offsetWidth:n,d=o?e.offsetHeight:r,m=yf(n)!==l||yf(r)!==d;return m&&(n=l,r=d),{width:n,height:r,$:m}}function ng(e){return Cs(e)?e:e.contextElement}function nl(e){const t=ng(e);if(!Gs(t))return Ws(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:l}=bA(t);let d=(l?yf(n.width):n.width)/r,m=(l?yf(n.height):n.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const ik=Ws(0);function SA(e){const t=Lr(e);return!tg()||!t.visualViewport?ik:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ok(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Lr(e)?!1:t}function aa(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=ng(e);let d=Ws(1);t&&(r?Cs(r)&&(d=nl(r)):d=nl(e));const m=ok(l,n,r)?SA(l):Ws(0);let x=(o.left+m.x)/d.x,g=(o.top+m.y)/d.y,v=o.width/d.x,C=o.height/d.y;if(l){const b=Lr(l),O=r&&Cs(r)?Lr(r):r;let k=b,N=gm(k);for(;N&&r&&O!==k;){const P=nl(N),R=N.getBoundingClientRect(),A=Es(N),I=R.left+(N.clientLeft+parseFloat(A.paddingLeft))*P.x,M=R.top+(N.clientTop+parseFloat(A.paddingTop))*P.y;x*=P.x,g*=P.y,v*=P.x,C*=P.y,x+=I,g+=M,k=Lr(N),N=gm(k)}}return wf({width:v,height:C,x,y:g})}function rg(e,t){const n=yh(e).scrollLeft;return t?t.left+n:aa(Ks(e)).left+n}function AA(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:rg(e,r)),l=r.top+t.scrollTop;return{x:o,y:l}}function ak(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const l=o==="fixed",d=Ks(r),m=t?xh(t.floating):!1;if(r===d||m&&l)return n;let x={scrollLeft:0,scrollTop:0},g=Ws(1);const v=Ws(0),C=Gs(r);if((C||!C&&!l)&&((Hl(r)!=="body"||ju(d))&&(x=yh(r)),Gs(r))){const O=aa(r);g=nl(r),v.x=O.x+r.clientLeft,v.y=O.y+r.clientTop}const b=d&&!C&&!l?AA(d,x,!0):Ws(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-x.scrollLeft*g.x+v.x+b.x,y:n.y*g.y-x.scrollTop*g.y+v.y+b.y}}function lk(e){return Array.from(e.getClientRects())}function ck(e){const t=Ks(e),n=yh(e),r=e.ownerDocument.body,o=kr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),l=kr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let d=-n.scrollLeft+rg(e);const m=-n.scrollTop;return Es(r).direction==="rtl"&&(d+=kr(t.clientWidth,r.clientWidth)-o),{width:o,height:l,x:d,y:m}}function uk(e,t){const n=Lr(e),r=Ks(e),o=n.visualViewport;let l=r.clientWidth,d=r.clientHeight,m=0,x=0;if(o){l=o.width,d=o.height;const g=tg();(!g||g&&t==="fixed")&&(m=o.offsetLeft,x=o.offsetTop)}return{width:l,height:d,x:m,y:x}}function dk(e,t){const n=aa(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,l=Gs(e)?nl(e):Ws(1),d=e.clientWidth*l.x,m=e.clientHeight*l.y,x=o*l.x,g=r*l.y;return{width:d,height:m,x,y:g}}function Qy(e,t,n){let r;if(t==="viewport")r=uk(e,n);else if(t==="document")r=ck(Ks(e));else if(Cs(t))r=dk(t,n);else{const o=SA(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return wf(r)}function NA(e,t){const n=yo(e);return n===t||!Cs(n)||Il(n)?!1:Es(n).position==="fixed"||NA(n,t)}function fk(e,t){const n=t.get(e);if(n)return n;let r=cu(e,[],!1).filter(m=>Cs(m)&&Hl(m)!=="body"),o=null;const l=Es(e).position==="fixed";let d=l?yo(e):e;for(;Cs(d)&&!Il(d);){const m=Es(d),x=eg(d);!x&&m.position==="fixed"&&(o=null),(l?!x&&!o:!x&&m.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ju(d)&&!x&&NA(e,d))?r=r.filter(v=>v!==d):o=m,d=yo(d)}return t.set(e,r),r}function hk(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const d=[...n==="clippingAncestors"?xh(t)?[]:fk(t,this._c):[].concat(n),r],m=d[0],x=d.reduce((g,v)=>{const C=Qy(t,v,o);return g.top=kr(C.top,g.top),g.right=go(C.right,g.right),g.bottom=go(C.bottom,g.bottom),g.left=kr(C.left,g.left),g},Qy(t,m,o));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function mk(e){const{width:t,height:n}=bA(e);return{width:t,height:n}}function pk(e,t,n){const r=Gs(t),o=Ks(t),l=n==="fixed",d=aa(e,!0,l,t);let m={scrollLeft:0,scrollTop:0};const x=Ws(0);if(r||!r&&!l)if((Hl(t)!=="body"||ju(o))&&(m=yh(t)),r){const b=aa(t,!0,l,t);x.x=b.x+t.clientLeft,x.y=b.y+t.clientTop}else o&&(x.x=rg(o));const g=o&&!r&&!l?AA(o,m):Ws(0),v=d.left+m.scrollLeft-x.x-g.x,C=d.top+m.scrollTop-x.y-g.y;return{x:v,y:C,width:d.width,height:d.height}}function F0(e){return Es(e).position==="static"}function Jy(e,t){if(!Gs(e)||Es(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ks(e)===n&&(n=n.ownerDocument.body),n}function _A(e,t){const n=Lr(e);if(xh(e))return n;if(!Gs(e)){let o=yo(e);for(;o&&!Il(o);){if(Cs(o)&&!F0(o))return o;o=yo(o)}return n}let r=Jy(e,t);for(;r&&rk(r)&&F0(r);)r=Jy(r,t);return r&&Il(r)&&F0(r)&&!eg(r)?n:r||sk(e)||n}const gk=async function(e){const t=this.getOffsetParent||_A,n=this.getDimensions,r=await n(e.floating);return{reference:pk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xk(e){return Es(e).direction==="rtl"}const yk={convertOffsetParentRelativeRectToViewportRelativeRect:ak,getDocumentElement:Ks,getClippingRect:hk,getOffsetParent:_A,getElementRects:gk,getClientRects:lk,getDimensions:mk,getScale:nl,isElement:Cs,isRTL:xk};function TA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vk(e,t){let n=null,r;const o=Ks(e);function l(){var m;clearTimeout(r),(m=n)==null||m.disconnect(),n=null}function d(m,x){m===void 0&&(m=!1),x===void 0&&(x=1),l();const g=e.getBoundingClientRect(),{left:v,top:C,width:b,height:O}=g;if(m||t(),!b||!O)return;const k=vd(C),N=vd(o.clientWidth-(v+b)),P=vd(o.clientHeight-(C+O)),R=vd(v),I={rootMargin:-k+"px "+-N+"px "+-P+"px "+-R+"px",threshold:kr(0,go(1,x))||1};let M=!0;function j($){const B=$[0].intersectionRatio;if(B!==x){if(!M)return d();B?d(!1,B):r=setTimeout(()=>{d(!1,1e-7)},1e3)}B===1&&!TA(g,e.getBoundingClientRect())&&d(),M=!1}try{n=new IntersectionObserver(j,{...I,root:o.ownerDocument})}catch{n=new IntersectionObserver(j,I)}n.observe(e)}return d(!0),l}function wk(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:x=!1}=r,g=ng(e),v=o||l?[...g?cu(g):[],...cu(t)]:[];v.forEach(R=>{o&&R.addEventListener("scroll",n,{passive:!0}),l&&R.addEventListener("resize",n)});const C=g&&m?vk(g,n):null;let b=-1,O=null;d&&(O=new ResizeObserver(R=>{let[A]=R;A&&A.target===g&&O&&(O.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var I;(I=O)==null||I.observe(t)})),n()}),g&&!x&&O.observe(g),O.observe(t));let k,N=x?aa(e):null;x&&P();function P(){const R=aa(e);N&&!TA(N,R)&&n(),N=R,k=requestAnimationFrame(P)}return n(),()=>{var R;v.forEach(A=>{o&&A.removeEventListener("scroll",n),l&&A.removeEventListener("resize",n)}),C==null||C(),(R=O)==null||R.disconnect(),O=null,x&&cancelAnimationFrame(k)}}const Ck=JD,Ek=ek,bk=qD,Sk=nk,Ak=YD,e2=KD,Nk=tk,_k=(e,t,n)=>{const r=new Map,o={platform:yk,...n},l={...o.platform,_c:r};return ZD(e,t,{...o,platform:l})};var Vd=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Cf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Cf(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const l=o[r];if(!(l==="_owner"&&e.$$typeof)&&!Cf(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function IA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function t2(e,t){const n=IA(e);return Math.round(t*n)/n}function B0(e){const t=E.useRef(e);return Vd(()=>{t.current=e}),t}function Tk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:l,floating:d}={},transform:m=!0,whileElementsMounted:x,open:g}=e,[v,C]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,O]=E.useState(r);Cf(b,r)||O(r);const[k,N]=E.useState(null),[P,R]=E.useState(null),A=E.useCallback(te=>{te!==$.current&&($.current=te,N(te))},[]),I=E.useCallback(te=>{te!==B.current&&(B.current=te,R(te))},[]),M=l||k,j=d||P,$=E.useRef(null),B=E.useRef(null),G=E.useRef(v),W=x!=null,ae=B0(x),pe=B0(o),Y=B0(g),oe=E.useCallback(()=>{if(!$.current||!B.current)return;const te={placement:t,strategy:n,middleware:b};pe.current&&(te.platform=pe.current),_k($.current,B.current,te).then(ne=>{const we={...ne,isPositioned:Y.current!==!1};ie.current&&!Cf(G.current,we)&&(G.current=we,ga.flushSync(()=>{C(we)}))})},[b,t,n,pe,Y]);Vd(()=>{g===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,C(te=>({...te,isPositioned:!1})))},[g]);const ie=E.useRef(!1);Vd(()=>(ie.current=!0,()=>{ie.current=!1}),[]),Vd(()=>{if(M&&($.current=M),j&&(B.current=j),M&&j){if(ae.current)return ae.current(M,j,oe);oe()}},[M,j,oe,ae,W]);const X=E.useMemo(()=>({reference:$,floating:B,setReference:A,setFloating:I}),[A,I]),fe=E.useMemo(()=>({reference:M,floating:j}),[M,j]),de=E.useMemo(()=>{const te={position:n,left:0,top:0};if(!fe.floating)return te;const ne=t2(fe.floating,v.x),we=t2(fe.floating,v.y);return m?{...te,transform:"translate("+ne+"px, "+we+"px)",...IA(fe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:we}},[n,m,fe.floating,v.x,v.y]);return E.useMemo(()=>({...v,update:oe,refs:X,elements:fe,floatingStyles:de}),[v,oe,X,fe,de])}const Ik=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?e2({element:r.current,padding:o}).fn(n):{}:r?e2({element:r,padding:o}).fn(n):{}}}},Rk=(e,t)=>({...Ck(e),options:[e,t]}),Ok=(e,t)=>({...Ek(e),options:[e,t]}),Pk=(e,t)=>({...Nk(e),options:[e,t]}),Dk=(e,t)=>({...bk(e),options:[e,t]}),kk=(e,t)=>({...Sk(e),options:[e,t]}),Mk=(e,t)=>({...Ak(e),options:[e,t]}),jk=(e,t)=>({...Ik(e),options:[e,t]});var Lk="Arrow",RA=E.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...l}=e;return h.jsx(He.svg,{...l,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});RA.displayName=Lk;var Fk=RA;function OA(e){const[t,n]=E.useState(void 0);return Tn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let d,m;if("borderBoxSize"in l){const x=l.borderBoxSize,g=Array.isArray(x)?x[0]:x;d=g.inlineSize,m=g.blockSize}else d=e.offsetWidth,m=e.offsetHeight;n({width:d,height:m})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var sg="Popper",[PA,Gl]=Wr(sg),[Bk,DA]=PA(sg),kA=e=>{const{__scopePopper:t,children:n}=e,[r,o]=E.useState(null);return h.jsx(Bk,{scope:t,anchor:r,onAnchorChange:o,children:n})};kA.displayName=sg;var MA="PopperAnchor",jA=E.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,l=DA(MA,n),d=E.useRef(null),m=Ct(t,d);return E.useEffect(()=>{l.onAnchorChange((r==null?void 0:r.current)||d.current)}),r?null:h.jsx(He.div,{...o,ref:m})});jA.displayName=MA;var ig="PopperContent",[Vk,Uk]=PA(ig),LA=E.forwardRef((e,t)=>{var Te,Le,st,dt,Ke,mt;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:l="center",alignOffset:d=0,arrowPadding:m=0,avoidCollisions:x=!0,collisionBoundary:g=[],collisionPadding:v=0,sticky:C="partial",hideWhenDetached:b=!1,updatePositionStrategy:O="optimized",onPlaced:k,...N}=e,P=DA(ig,n),[R,A]=E.useState(null),I=Ct(t,qe=>A(qe)),[M,j]=E.useState(null),$=OA(M),B=($==null?void 0:$.width)??0,G=($==null?void 0:$.height)??0,W=r+(l!=="center"?"-"+l:""),ae=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},pe=Array.isArray(g)?g:[g],Y=pe.length>0,oe={padding:ae,boundary:pe.filter(Wk),altBoundary:Y},{refs:ie,floatingStyles:X,placement:fe,isPositioned:de,middlewareData:te}=Tk({strategy:"fixed",placement:W,whileElementsMounted:(...qe)=>wk(...qe,{animationFrame:O==="always"}),elements:{reference:P.anchor},middleware:[Rk({mainAxis:o+G,alignmentAxis:d}),x&&Ok({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?Pk():void 0,...oe}),x&&Dk({...oe}),kk({...oe,apply:({elements:qe,rects:vn,availableWidth:In,availableHeight:gr})=>{const{width:Vt,height:Ot}=vn.reference,it=qe.floating.style;it.setProperty("--radix-popper-available-width",`${In}px`),it.setProperty("--radix-popper-available-height",`${gr}px`),it.setProperty("--radix-popper-anchor-width",`${Vt}px`),it.setProperty("--radix-popper-anchor-height",`${Ot}px`)}}),M&&jk({element:M,padding:m}),Hk({arrowWidth:B,arrowHeight:G}),b&&Mk({strategy:"referenceHidden",...oe})]}),[ne,we]=VA(fe),Me=$n(k);Tn(()=>{de&&(Me==null||Me())},[de,Me]);const Be=(Te=te.arrow)==null?void 0:Te.x,Nt=(Le=te.arrow)==null?void 0:Le.y,re=((st=te.arrow)==null?void 0:st.centerOffset)!==0,[gt,Ee]=E.useState();return Tn(()=>{R&&Ee(window.getComputedStyle(R).zIndex)},[R]),h.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:de?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:gt,"--radix-popper-transform-origin":[(dt=te.transformOrigin)==null?void 0:dt.x,(Ke=te.transformOrigin)==null?void 0:Ke.y].join(" "),...((mt=te.hide)==null?void 0:mt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(Vk,{scope:n,placedSide:ne,onArrowChange:j,arrowX:Be,arrowY:Nt,shouldHideArrow:re,children:h.jsx(He.div,{"data-side":ne,"data-align":we,...N,ref:I,style:{...N.style,animation:de?void 0:"none"}})})})});LA.displayName=ig;var FA="PopperArrow",zk={top:"bottom",right:"left",bottom:"top",left:"right"},BA=E.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,l=Uk(FA,r),d=zk[l.placedSide];return h.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:h.jsx(Fk,{...o,ref:n,style:{...o.style,display:"block"}})})});BA.displayName=FA;function Wk(e){return e!==null}var Hk=e=>({name:"transformOrigin",options:e,fn(t){var P,R,A;const{placement:n,rects:r,middlewareData:o}=t,d=((P=o.arrow)==null?void 0:P.centerOffset)!==0,m=d?0:e.arrowWidth,x=d?0:e.arrowHeight,[g,v]=VA(n),C={start:"0%",center:"50%",end:"100%"}[v],b=(((R=o.arrow)==null?void 0:R.x)??0)+m/2,O=(((A=o.arrow)==null?void 0:A.y)??0)+x/2;let k="",N="";return g==="bottom"?(k=d?C:`${b}px`,N=`${-x}px`):g==="top"?(k=d?C:`${b}px`,N=`${r.floating.height+x}px`):g==="right"?(k=`${-x}px`,N=d?C:`${O}px`):g==="left"&&(k=`${r.floating.width+x}px`,N=d?C:`${O}px`),{data:{x:k,y:N}}}});function VA(e){const[t,n="center"]=e.split("-");return[t,n]}var UA=kA,og=jA,ag=LA,lg=BA,[vh]=Wr("Tooltip",[Gl]),cg=Gl(),zA="TooltipProvider",Gk=700,n2="tooltip.open",[$k,WA]=vh(zA),HA=e=>{const{__scopeTooltip:t,delayDuration:n=Gk,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:l}=e,d=E.useRef(!0),m=E.useRef(!1),x=E.useRef(0);return E.useEffect(()=>{const g=x.current;return()=>window.clearTimeout(g)},[]),h.jsx($k,{scope:t,isOpenDelayedRef:d,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(x.current),d.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>d.current=!0,r)},[r]),isPointerInTransitRef:m,onPointerInTransitChange:E.useCallback(g=>{m.current=g},[]),disableHoverableContent:o,children:l})};HA.displayName=zA;var GA="Tooltip",[wV,wh]=vh(GA),xm="TooltipTrigger",Xk=E.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=wh(xm,n),l=WA(xm,n),d=cg(n),m=E.useRef(null),x=Ct(t,m,o.onTriggerChange),g=E.useRef(!1),v=E.useRef(!1),C=E.useCallback(()=>g.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",C),[C]),h.jsx(og,{asChild:!0,...d,children:h.jsx(He.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:x,onPointerMove:be(e.onPointerMove,b=>{b.pointerType!=="touch"&&!v.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),v.current=!0)}),onPointerLeave:be(e.onPointerLeave,()=>{o.onTriggerLeave(),v.current=!1}),onPointerDown:be(e.onPointerDown,()=>{o.open&&o.onClose(),g.current=!0,document.addEventListener("pointerup",C,{once:!0})}),onFocus:be(e.onFocus,()=>{g.current||o.onOpen()}),onBlur:be(e.onBlur,o.onClose),onClick:be(e.onClick,o.onClose)})})});Xk.displayName=xm;var Zk="TooltipPortal",[CV,Kk]=vh(Zk,{forceMount:void 0}),Rl="TooltipContent",$A=E.forwardRef((e,t)=>{const n=Kk(Rl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...l}=e,d=wh(Rl,e.__scopeTooltip);return h.jsx(ss,{present:r||d.open,children:d.disableHoverableContent?h.jsx(XA,{side:o,...l,ref:t}):h.jsx(qk,{side:o,...l,ref:t})})}),qk=E.forwardRef((e,t)=>{const n=wh(Rl,e.__scopeTooltip),r=WA(Rl,e.__scopeTooltip),o=E.useRef(null),l=Ct(t,o),[d,m]=E.useState(null),{trigger:x,onClose:g}=n,v=o.current,{onPointerInTransitChange:C}=r,b=E.useCallback(()=>{m(null),C(!1)},[C]),O=E.useCallback((k,N)=>{const P=k.currentTarget,R={x:k.clientX,y:k.clientY},A=tM(R,P.getBoundingClientRect()),I=nM(R,A),M=rM(N.getBoundingClientRect()),j=iM([...I,...M]);m(j),C(!0)},[C]);return E.useEffect(()=>()=>b(),[b]),E.useEffect(()=>{if(x&&v){const k=P=>O(P,v),N=P=>O(P,x);return x.addEventListener("pointerleave",k),v.addEventListener("pointerleave",N),()=>{x.removeEventListener("pointerleave",k),v.removeEventListener("pointerleave",N)}}},[x,v,O,b]),E.useEffect(()=>{if(d){const k=N=>{const P=N.target,R={x:N.clientX,y:N.clientY},A=(x==null?void 0:x.contains(P))||(v==null?void 0:v.contains(P)),I=!sM(R,d);A?b():I&&(b(),g())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[x,v,d,g,b]),h.jsx(XA,{...e,ref:l})}),[Yk,Qk]=vh(GA,{isInside:!1}),Jk=DS("TooltipContent"),XA=E.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:d,...m}=e,x=wh(Rl,n),g=cg(n),{onClose:v}=x;return E.useEffect(()=>(document.addEventListener(n2,v),()=>document.removeEventListener(n2,v)),[v]),E.useEffect(()=>{if(x.trigger){const C=b=>{const O=b.target;O!=null&&O.contains(x.trigger)&&v()};return window.addEventListener("scroll",C,{capture:!0}),()=>window.removeEventListener("scroll",C,{capture:!0})}},[x.trigger,v]),h.jsx(Ul,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:C=>C.preventDefault(),onDismiss:v,children:h.jsxs(ag,{"data-state":x.stateAttribute,...g,...m,ref:t,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(Jk,{children:r}),h.jsx(Yk,{scope:n,isInside:!0,children:h.jsx(wP,{id:x.contentId,role:"tooltip",children:o||r})})]})})});$A.displayName=Rl;var ZA="TooltipArrow",eM=E.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=cg(n);return Qk(ZA,n).isInside?null:h.jsx(lg,{...o,...r,ref:t})});eM.displayName=ZA;function tM(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,r,o,l)){case l:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function nM(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function rM(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function sM(e,t){const{x:n,y:r}=e;let o=!1;for(let l=0,d=t.length-1;l<t.length;d=l++){const m=t[l].x,x=t[l].y,g=t[d].x,v=t[d].y;x>r!=v>r&&n<(g-m)*(r-x)/(v-x)+m&&(o=!o)}return o}function iM(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),oM(t)}function oM(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const l=t[t.length-1],d=t[t.length-2];if((l.x-d.x)*(o.y-d.y)>=(l.y-d.y)*(o.x-d.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const l=n[n.length-1],d=n[n.length-2];if((l.x-d.x)*(o.y-d.y)>=(l.y-d.y)*(o.x-d.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var aM=HA,KA=$A;const lM=aM,cM=E.forwardRef(({className:e,sideOffset:t=4,...n},r)=>h.jsx(KA,{ref:r,sideOffset:t,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));cM.displayName=KA.displayName;function Ai(){const[,e]=zr(),{data:t,isLoading:n,error:r}=wi({queryKey:["/api/users/auth/me/"],retry:(o,l)=>l.message.includes("401")||l.message.includes("403")?(localStorage.removeItem("token"),e("/login"),!1):o<3,enabled:!!localStorage.getItem("token")});return{user:t,isLoading:n,isAuthenticated:!!t&&!!localStorage.getItem("token"),error:r}}const ug=mh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Qe=E.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},l)=>{const d=r?OS:"button";return h.jsx(d,{className:je(ug({variant:t,size:n,className:e})),ref:l,...o})});Qe.displayName="Button";var V0="focusScope.autoFocusOnMount",U0="focusScope.autoFocusOnUnmount",r2={bubbles:!1,cancelable:!0},uM="FocusScope",Ch=E.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...d}=e,[m,x]=E.useState(null),g=$n(o),v=$n(l),C=E.useRef(null),b=Ct(t,N=>x(N)),O=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let N=function(I){if(O.paused||!m)return;const M=I.target;m.contains(M)?C.current=M:Bi(C.current,{select:!0})},P=function(I){if(O.paused||!m)return;const M=I.relatedTarget;M!==null&&(m.contains(M)||Bi(C.current,{select:!0}))},R=function(I){if(document.activeElement===document.body)for(const j of I)j.removedNodes.length>0&&Bi(m)};document.addEventListener("focusin",N),document.addEventListener("focusout",P);const A=new MutationObserver(R);return m&&A.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",P),A.disconnect()}}},[r,m,O.paused]),E.useEffect(()=>{if(m){i2.add(O);const N=document.activeElement;if(!m.contains(N)){const R=new CustomEvent(V0,r2);m.addEventListener(V0,g),m.dispatchEvent(R),R.defaultPrevented||(dM(gM(qA(m)),{select:!0}),document.activeElement===N&&Bi(m))}return()=>{m.removeEventListener(V0,g),setTimeout(()=>{const R=new CustomEvent(U0,r2);m.addEventListener(U0,v),m.dispatchEvent(R),R.defaultPrevented||Bi(N??document.body,{select:!0}),m.removeEventListener(U0,v),i2.remove(O)},0)}}},[m,g,v,O]);const k=E.useCallback(N=>{if(!n&&!r||O.paused)return;const P=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,R=document.activeElement;if(P&&R){const A=N.currentTarget,[I,M]=fM(A);I&&M?!N.shiftKey&&R===M?(N.preventDefault(),n&&Bi(I,{select:!0})):N.shiftKey&&R===I&&(N.preventDefault(),n&&Bi(M,{select:!0})):R===A&&N.preventDefault()}},[n,r,O.paused]);return h.jsx(He.div,{tabIndex:-1,...d,ref:b,onKeyDown:k})});Ch.displayName=uM;function dM(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Bi(r,{select:t}),document.activeElement!==n)return}function fM(e){const t=qA(e),n=s2(t,e),r=s2(t.reverse(),e);return[n,r]}function qA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function s2(e,t){for(const n of e)if(!hM(n,{upTo:t}))return n}function hM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mM(e){return e instanceof HTMLInputElement&&"select"in e}function Bi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&mM(e)&&t&&e.select()}}var i2=pM();function pM(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=o2(e,t),e.unshift(t)},remove(t){var n;e=o2(e,t),(n=e[0])==null||n.resume()}}}function o2(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function gM(e){return e.filter(t=>t.tagName!=="A")}var z0=0;function dg(){E.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??a2()),document.body.insertAdjacentElement("beforeend",e[1]??a2()),z0++,()=>{z0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),z0--}},[])}function a2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fs=function(){return Fs=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Fs.apply(this,arguments)};function YA(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function xM(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,l;r<o;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}var Ud="right-scroll-bar-position",zd="width-before-scroll-bar",yM="with-scroll-bars-hidden",vM="--removed-body-scroll-bar-size";function W0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wM(e,t){var n=E.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var CM=typeof window<"u"?E.useLayoutEffect:E.useEffect,l2=new WeakMap;function EM(e,t){var n=wM(null,function(r){return e.forEach(function(o){return W0(o,r)})});return CM(function(){var r=l2.get(n);if(r){var o=new Set(r),l=new Set(e),d=n.current;o.forEach(function(m){l.has(m)||W0(m,null)}),l.forEach(function(m){o.has(m)||W0(m,d)})}l2.set(n,e)},[e]),n}function bM(e){return e}function SM(e,t){t===void 0&&(t=bM);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var d=t(l,r);return n.push(d),function(){n=n.filter(function(m){return m!==d})}},assignSyncMedium:function(l){for(r=!0;n.length;){var d=n;n=[],d.forEach(l)}n={push:function(m){return l(m)},filter:function(){return n}}},assignMedium:function(l){r=!0;var d=[];if(n.length){var m=n;n=[],m.forEach(l),d=n}var x=function(){var v=d;d=[],v.forEach(l)},g=function(){return Promise.resolve().then(x)};g(),n={push:function(v){d.push(v),g()},filter:function(v){return d=d.filter(v),n}}}};return o}function AM(e){e===void 0&&(e={});var t=SM(null);return t.options=Fs({async:!0,ssr:!1},e),t}var QA=function(e){var t=e.sideCar,n=YA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Fs({},n))};QA.isSideCarExport=!0;function NM(e,t){return e.useMedium(t),QA}var JA=AM(),H0=function(){},Eh=E.forwardRef(function(e,t){var n=E.useRef(null),r=E.useState({onScrollCapture:H0,onWheelCapture:H0,onTouchMoveCapture:H0}),o=r[0],l=r[1],d=e.forwardProps,m=e.children,x=e.className,g=e.removeScrollBar,v=e.enabled,C=e.shards,b=e.sideCar,O=e.noIsolation,k=e.inert,N=e.allowPinchZoom,P=e.as,R=P===void 0?"div":P,A=e.gapMode,I=YA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=b,j=EM([n,t]),$=Fs(Fs({},I),o);return E.createElement(E.Fragment,null,v&&E.createElement(M,{sideCar:JA,removeScrollBar:g,shards:C,noIsolation:O,inert:k,setCallbacks:l,allowPinchZoom:!!N,lockRef:n,gapMode:A}),d?E.cloneElement(E.Children.only(m),Fs(Fs({},$),{ref:j})):E.createElement(R,Fs({},$,{className:x,ref:j}),m))});Eh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Eh.classNames={fullWidth:zd,zeroRight:Ud};var _M=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_M();return t&&e.setAttribute("nonce",t),e}function IM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function RM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var OM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=TM())&&(IM(t,n),RM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},PM=function(){var e=OM();return function(t,n){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},eN=function(){var e=PM(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},DM={left:0,top:0,right:0,gap:0},G0=function(e){return parseInt(e||"",10)||0},kM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[G0(n),G0(r),G0(o)]},MM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return DM;var t=kM(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},jM=eN(),rl="data-scroll-locked",LM=function(e,t,n,r){var o=e.left,l=e.top,d=e.right,m=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(yM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(m,"px ").concat(r,`;
  }
  body[`).concat(rl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(m,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ud,` {
    right: `).concat(m,"px ").concat(r,`;
  }
  
  .`).concat(zd,` {
    margin-right: `).concat(m,"px ").concat(r,`;
  }
  
  .`).concat(Ud," .").concat(Ud,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(zd," .").concat(zd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(rl,`] {
    `).concat(vM,": ").concat(m,`px;
  }
`)},c2=function(){var e=parseInt(document.body.getAttribute(rl)||"0",10);return isFinite(e)?e:0},FM=function(){E.useEffect(function(){return document.body.setAttribute(rl,(c2()+1).toString()),function(){var e=c2()-1;e<=0?document.body.removeAttribute(rl):document.body.setAttribute(rl,e.toString())}},[])},BM=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;FM();var l=E.useMemo(function(){return MM(o)},[o]);return E.createElement(jM,{styles:LM(l,!t,o,n?"":"!important")})},ym=!1;if(typeof window<"u")try{var wd=Object.defineProperty({},"passive",{get:function(){return ym=!0,!0}});window.addEventListener("test",wd,wd),window.removeEventListener("test",wd,wd)}catch{ym=!1}var Ia=ym?{passive:!1}:!1,VM=function(e){return e.tagName==="TEXTAREA"},tN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!VM(e)&&n[t]==="visible")},UM=function(e){return tN(e,"overflowY")},zM=function(e){return tN(e,"overflowX")},u2=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=nN(e,r);if(o){var l=rN(e,r),d=l[1],m=l[2];if(d>m)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},WM=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},HM=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},nN=function(e,t){return e==="v"?UM(t):zM(t)},rN=function(e,t){return e==="v"?WM(t):HM(t)},GM=function(e,t){return e==="h"&&t==="rtl"?-1:1},$M=function(e,t,n,r,o){var l=GM(e,window.getComputedStyle(t).direction),d=l*r,m=n.target,x=t.contains(m),g=!1,v=d>0,C=0,b=0;do{var O=rN(e,m),k=O[0],N=O[1],P=O[2],R=N-P-l*k;(k||R)&&nN(e,m)&&(C+=R,b+=k),m instanceof ShadowRoot?m=m.host:m=m.parentNode}while(!x&&m!==document.body||x&&(t.contains(m)||t===m));return(v&&Math.abs(C)<1||!v&&Math.abs(b)<1)&&(g=!0),g},Cd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},d2=function(e){return[e.deltaX,e.deltaY]},f2=function(e){return e&&"current"in e?e.current:e},XM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},KM=0,Ra=[];function qM(e){var t=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),o=E.useState(KM++)[0],l=E.useState(eN)[0],d=E.useRef(e);E.useEffect(function(){d.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var N=xM([e.lockRef.current],(e.shards||[]).map(f2),!0).filter(Boolean);return N.forEach(function(P){return P.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),N.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var m=E.useCallback(function(N,P){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!d.current.allowPinchZoom;var R=Cd(N),A=n.current,I="deltaX"in N?N.deltaX:A[0]-R[0],M="deltaY"in N?N.deltaY:A[1]-R[1],j,$=N.target,B=Math.abs(I)>Math.abs(M)?"h":"v";if("touches"in N&&B==="h"&&$.type==="range")return!1;var G=u2(B,$);if(!G)return!0;if(G?j=B:(j=B==="v"?"h":"v",G=u2(B,$)),!G)return!1;if(!r.current&&"changedTouches"in N&&(I||M)&&(r.current=j),!j)return!0;var W=r.current||j;return $M(W,P,N,W==="h"?I:M)},[]),x=E.useCallback(function(N){var P=N;if(!(!Ra.length||Ra[Ra.length-1]!==l)){var R="deltaY"in P?d2(P):Cd(P),A=t.current.filter(function(j){return j.name===P.type&&(j.target===P.target||P.target===j.shadowParent)&&XM(j.delta,R)})[0];if(A&&A.should){P.cancelable&&P.preventDefault();return}if(!A){var I=(d.current.shards||[]).map(f2).filter(Boolean).filter(function(j){return j.contains(P.target)}),M=I.length>0?m(P,I[0]):!d.current.noIsolation;M&&P.cancelable&&P.preventDefault()}}},[]),g=E.useCallback(function(N,P,R,A){var I={name:N,delta:P,target:R,should:A,shadowParent:YM(R)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(M){return M!==I})},1)},[]),v=E.useCallback(function(N){n.current=Cd(N),r.current=void 0},[]),C=E.useCallback(function(N){g(N.type,d2(N),N.target,m(N,e.lockRef.current))},[]),b=E.useCallback(function(N){g(N.type,Cd(N),N.target,m(N,e.lockRef.current))},[]);E.useEffect(function(){return Ra.push(l),e.setCallbacks({onScrollCapture:C,onWheelCapture:C,onTouchMoveCapture:b}),document.addEventListener("wheel",x,Ia),document.addEventListener("touchmove",x,Ia),document.addEventListener("touchstart",v,Ia),function(){Ra=Ra.filter(function(N){return N!==l}),document.removeEventListener("wheel",x,Ia),document.removeEventListener("touchmove",x,Ia),document.removeEventListener("touchstart",v,Ia)}},[]);var O=e.removeScrollBar,k=e.inert;return E.createElement(E.Fragment,null,k?E.createElement(l,{styles:ZM(o)}):null,O?E.createElement(BM,{gapMode:e.gapMode}):null)}function YM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const QM=NM(JA,qM);var bh=E.forwardRef(function(e,t){return E.createElement(Eh,Fs({},e,{ref:t,sideCar:QM}))});bh.classNames=Eh.classNames;var JM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Oa=new WeakMap,Ed=new WeakMap,bd={},$0=0,sN=function(e){return e&&(e.host||sN(e.parentNode))},e7=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=sN(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},t7=function(e,t,n,r){var o=e7(t,Array.isArray(e)?e:[e]);bd[n]||(bd[n]=new WeakMap);var l=bd[n],d=[],m=new Set,x=new Set(o),g=function(C){!C||m.has(C)||(m.add(C),g(C.parentNode))};o.forEach(g);var v=function(C){!C||x.has(C)||Array.prototype.forEach.call(C.children,function(b){if(m.has(b))v(b);else try{var O=b.getAttribute(r),k=O!==null&&O!=="false",N=(Oa.get(b)||0)+1,P=(l.get(b)||0)+1;Oa.set(b,N),l.set(b,P),d.push(b),N===1&&k&&Ed.set(b,!0),P===1&&b.setAttribute(n,"true"),k||b.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",b,R)}})};return v(t),m.clear(),$0++,function(){d.forEach(function(C){var b=Oa.get(C)-1,O=l.get(C)-1;Oa.set(C,b),l.set(C,O),b||(Ed.has(C)||C.removeAttribute(r),Ed.delete(C)),O||C.removeAttribute(n)}),$0--,$0||(Oa=new WeakMap,Oa=new WeakMap,Ed=new WeakMap,bd={})}},fg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=JM(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),t7(r,o,n,"aria-hidden")):function(){return null}},hg="Dialog",[iN,oN]=Wr(hg),[n7,Ss]=iN(hg),aN=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:l,modal:d=!0}=e,m=E.useRef(null),x=E.useRef(null),[g=!1,v]=po({prop:r,defaultProp:o,onChange:l});return h.jsx(n7,{scope:t,triggerRef:m,contentRef:x,contentId:zs(),titleId:zs(),descriptionId:zs(),open:g,onOpenChange:v,onOpenToggle:E.useCallback(()=>v(C=>!C),[v]),modal:d,children:n})};aN.displayName=hg;var lN="DialogTrigger",cN=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ss(lN,n),l=Ct(t,o.triggerRef);return h.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":gg(o.open),...r,ref:l,onClick:be(e.onClick,o.onOpenToggle)})});cN.displayName=lN;var mg="DialogPortal",[r7,uN]=iN(mg,{forceMount:void 0}),dN=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,l=Ss(mg,t);return h.jsx(r7,{scope:t,forceMount:n,children:E.Children.map(r,d=>h.jsx(ss,{present:n||l.open,children:h.jsx(ku,{asChild:!0,container:o,children:d})}))})};dN.displayName=mg;var Ef="DialogOverlay",fN=E.forwardRef((e,t)=>{const n=uN(Ef,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,l=Ss(Ef,e.__scopeDialog);return l.modal?h.jsx(ss,{present:r||l.open,children:h.jsx(i7,{...o,ref:t})}):null});fN.displayName=Ef;var s7=oa("DialogOverlay.RemoveScroll"),i7=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ss(Ef,n);return h.jsx(bh,{as:s7,allowPinchZoom:!0,shards:[o.contentRef],children:h.jsx(He.div,{"data-state":gg(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),la="DialogContent",hN=E.forwardRef((e,t)=>{const n=uN(la,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,l=Ss(la,e.__scopeDialog);return h.jsx(ss,{present:r||l.open,children:l.modal?h.jsx(o7,{...o,ref:t}):h.jsx(a7,{...o,ref:t})})});hN.displayName=la;var o7=E.forwardRef((e,t)=>{const n=Ss(la,e.__scopeDialog),r=E.useRef(null),o=Ct(t,n.contentRef,r);return E.useEffect(()=>{const l=r.current;if(l)return fg(l)},[]),h.jsx(mN,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,l=>{var d;l.preventDefault(),(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,l=>{const d=l.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0;(d.button===2||m)&&l.preventDefault()}),onFocusOutside:be(e.onFocusOutside,l=>l.preventDefault())})}),a7=E.forwardRef((e,t)=>{const n=Ss(la,e.__scopeDialog),r=E.useRef(!1),o=E.useRef(!1);return h.jsx(mN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var d,m;(d=e.onCloseAutoFocus)==null||d.call(e,l),l.defaultPrevented||(r.current||(m=n.triggerRef.current)==null||m.focus(),l.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:l=>{var x,g;(x=e.onInteractOutside)==null||x.call(e,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=l.target;((g=n.triggerRef.current)==null?void 0:g.contains(d))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),mN=E.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,...d}=e,m=Ss(la,n),x=E.useRef(null),g=Ct(t,x);return dg(),h.jsxs(h.Fragment,{children:[h.jsx(Ch,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:l,children:h.jsx(Ul,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":gg(m.open),...d,ref:g,onDismiss:()=>m.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(c7,{titleId:m.titleId}),h.jsx(d7,{contentRef:x,descriptionId:m.descriptionId})]})]})}),pg="DialogTitle",pN=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ss(pg,n);return h.jsx(He.h2,{id:o.titleId,...r,ref:t})});pN.displayName=pg;var gN="DialogDescription",xN=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ss(gN,n);return h.jsx(He.p,{id:o.descriptionId,...r,ref:t})});xN.displayName=gN;var yN="DialogClose",vN=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ss(yN,n);return h.jsx(He.button,{type:"button",...r,ref:t,onClick:be(e.onClick,()=>o.onOpenChange(!1))})});vN.displayName=yN;function gg(e){return e?"open":"closed"}var wN="DialogTitleWarning",[l7,CN]=Q5(wN,{contentName:la,titleName:pg,docsSlug:"dialog"}),c7=({titleId:e})=>{const t=CN(wN),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},u7="DialogDescriptionWarning",d7=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CN(u7).contentName}}.`;return E.useEffect(()=>{var l;const o=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},EN=aN,f7=cN,bN=dN,xg=fN,yg=hN,vg=pN,wg=xN,Cg=vN;const h7=EN,m7=bN,SN=E.forwardRef(({className:e,...t},n)=>h.jsx(xg,{ref:n,className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));SN.displayName=xg.displayName;const AN=E.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(m7,{children:[h.jsx(SN,{}),h.jsxs(yg,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,h.jsxs(Cg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(cA,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));AN.displayName=yg.displayName;const NN=({className:e,...t})=>h.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});NN.displayName="DialogHeader";const _N=E.forwardRef(({className:e,...t},n)=>h.jsx(vg,{ref:n,className:je("text-lg font-semibold leading-none tracking-tight",e),...t}));_N.displayName=vg.displayName;const p7=E.forwardRef(({className:e,...t},n)=>h.jsx(wg,{ref:n,className:je("text-sm text-muted-foreground",e),...t}));p7.displayName=wg.displayName;const It=E.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));It.displayName="Card";const zn=E.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:je("flex flex-col space-y-1.5 p-6",e),...t}));zn.displayName="CardHeader";const Wn=E.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:je("text-2xl font-semibold leading-none tracking-tight",e),...t}));Wn.displayName="CardTitle";const TN=E.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:je("text-sm text-muted-foreground",e),...t}));TN.displayName="CardDescription";const Rt=E.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:je("p-6 pt-0",e),...t}));Rt.displayName="CardContent";const g7=E.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:je("flex items-center p-6 pt-0",e),...t}));g7.displayName="CardFooter";var x7=E.createContext(void 0);function Sh(e){const t=E.useContext(x7);return e||t||"ltr"}var X0="rovingFocusGroup.onEntryFocus",y7={bubbles:!1,cancelable:!0},Ah="RovingFocusGroup",[vm,IN,v7]=dh(Ah),[w7,Nh]=Wr(Ah,[v7]),[C7,E7]=w7(Ah),RN=E.forwardRef((e,t)=>h.jsx(vm.Provider,{scope:e.__scopeRovingFocusGroup,children:h.jsx(vm.Slot,{scope:e.__scopeRovingFocusGroup,children:h.jsx(b7,{...e,ref:t})})}));RN.displayName=Ah;var b7=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:x,onEntryFocus:g,preventScrollOnEntryFocus:v=!1,...C}=e,b=E.useRef(null),O=Ct(t,b),k=Sh(l),[N=null,P]=po({prop:d,defaultProp:m,onChange:x}),[R,A]=E.useState(!1),I=$n(g),M=IN(n),j=E.useRef(!1),[$,B]=E.useState(0);return E.useEffect(()=>{const G=b.current;if(G)return G.addEventListener(X0,I),()=>G.removeEventListener(X0,I)},[I]),h.jsx(C7,{scope:n,orientation:r,dir:k,loop:o,currentTabStopId:N,onItemFocus:E.useCallback(G=>P(G),[P]),onItemShiftTab:E.useCallback(()=>A(!0),[]),onFocusableItemAdd:E.useCallback(()=>B(G=>G+1),[]),onFocusableItemRemove:E.useCallback(()=>B(G=>G-1),[]),children:h.jsx(He.div,{tabIndex:R||$===0?-1:0,"data-orientation":r,...C,ref:O,style:{outline:"none",...e.style},onMouseDown:be(e.onMouseDown,()=>{j.current=!0}),onFocus:be(e.onFocus,G=>{const W=!j.current;if(G.target===G.currentTarget&&W&&!R){const ae=new CustomEvent(X0,y7);if(G.currentTarget.dispatchEvent(ae),!ae.defaultPrevented){const pe=M().filter(fe=>fe.focusable),Y=pe.find(fe=>fe.active),oe=pe.find(fe=>fe.id===N),X=[Y,oe,...pe].filter(Boolean).map(fe=>fe.ref.current);DN(X,v)}}j.current=!1}),onBlur:be(e.onBlur,()=>A(!1))})})}),ON="RovingFocusGroupItem",PN=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:l,...d}=e,m=zs(),x=l||m,g=E7(ON,n),v=g.currentTabStopId===x,C=IN(n),{onFocusableItemAdd:b,onFocusableItemRemove:O}=g;return E.useEffect(()=>{if(r)return b(),()=>O()},[r,b,O]),h.jsx(vm.ItemSlot,{scope:n,id:x,focusable:r,active:o,children:h.jsx(He.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...d,ref:t,onMouseDown:be(e.onMouseDown,k=>{r?g.onItemFocus(x):k.preventDefault()}),onFocus:be(e.onFocus,()=>g.onItemFocus(x)),onKeyDown:be(e.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){g.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const N=N7(k,g.orientation,g.dir);if(N!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let R=C().filter(A=>A.focusable).map(A=>A.ref.current);if(N==="last")R.reverse();else if(N==="prev"||N==="next"){N==="prev"&&R.reverse();const A=R.indexOf(k.currentTarget);R=g.loop?_7(R,A+1):R.slice(A+1)}setTimeout(()=>DN(R))}})})})});PN.displayName=ON;var S7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function N7(e,t,n){const r=A7(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return S7[r]}function DN(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function _7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var kN=RN,MN=PN,Eg="Tabs",[T7]=Wr(Eg,[Nh]),jN=Nh(),[I7,bg]=T7(Eg),LN=E.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:l,orientation:d="horizontal",dir:m,activationMode:x="automatic",...g}=e,v=Sh(m),[C,b]=po({prop:r,onChange:o,defaultProp:l});return h.jsx(I7,{scope:n,baseId:zs(),value:C,onValueChange:b,orientation:d,dir:v,activationMode:x,children:h.jsx(He.div,{dir:v,"data-orientation":d,...g,ref:t})})});LN.displayName=Eg;var FN="TabsList",BN=E.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,l=bg(FN,n),d=jN(n);return h.jsx(kN,{asChild:!0,...d,orientation:l.orientation,dir:l.dir,loop:r,children:h.jsx(He.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});BN.displayName=FN;var VN="TabsTrigger",UN=E.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...l}=e,d=bg(VN,n),m=jN(n),x=HN(d.baseId,r),g=GN(d.baseId,r),v=r===d.value;return h.jsx(MN,{asChild:!0,...m,focusable:!o,active:v,children:h.jsx(He.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":g,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:x,...l,ref:t,onMouseDown:be(e.onMouseDown,C=>{!o&&C.button===0&&C.ctrlKey===!1?d.onValueChange(r):C.preventDefault()}),onKeyDown:be(e.onKeyDown,C=>{[" ","Enter"].includes(C.key)&&d.onValueChange(r)}),onFocus:be(e.onFocus,()=>{const C=d.activationMode!=="manual";!v&&!o&&C&&d.onValueChange(r)})})})});UN.displayName=VN;var zN="TabsContent",WN=E.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:l,...d}=e,m=bg(zN,n),x=HN(m.baseId,r),g=GN(m.baseId,r),v=r===m.value,C=E.useRef(v);return E.useEffect(()=>{const b=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(b)},[]),h.jsx(ss,{present:o||v,children:({present:b})=>h.jsx(He.div,{"data-state":v?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":x,hidden:!b,id:g,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:C.current?"0s":void 0},children:b&&l})})});WN.displayName=zN;function HN(e,t){return`${e}-trigger-${t}`}function GN(e,t){return`${e}-content-${t}`}var R7=LN,$N=BN,XN=UN,ZN=WN;const KN=R7,Sg=E.forwardRef(({className:e,...t},n)=>h.jsx($N,{ref:n,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Sg.displayName=$N.displayName;const qo=E.forwardRef(({className:e,...t},n)=>h.jsx(XN,{ref:n,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));qo.displayName=XN.displayName;const Yo=E.forwardRef(({className:e,...t},n)=>h.jsx(ZN,{ref:n,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Yo.displayName=ZN.displayName;function qN({isOpen:e,onClose:t,event:n,promoCode:r,displayPrice:o,onSuccess:l}){var N;const{toast:d}=mr(),[m,x]=E.useState("pix"),[g,v]=E.useState(null),C=cr({mutationFn:async P=>(await Yt("POST","/api/orders/",{eventId:n.id,paymentMethod:P,code:r})).json(),onSuccess:P=>{v(P),d({title:"Pedido criado!",description:"Complete o pagamento para confirmar seu ingresso."})},onError:P=>{d({title:"Erro ao processar pagamento",description:P.message,variant:"destructive"})}}),b=()=>{C.mutate(m)},O=P=>{navigator.clipboard.writeText(P),d({title:"Copiado!",description:"Cdigo PIX copiado para a rea de transferncia."})},k=P=>{const R=typeof P=="string"?parseFloat(P):P;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(R)};return h.jsx(h7,{open:e,onOpenChange:t,children:h.jsxs(AN,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsx(NN,{children:h.jsxs(_N,{children:["Finalizar Compra - ",n==null?void 0:n.title]})}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(It,{children:h.jsx(Rt,{className:"pt-6",children:h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Evento:"}),h.jsx("span",{className:"font-semibold",children:n==null?void 0:n.title})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Data:"}),h.jsx("span",{children:new Date(n==null?void 0:n.date).toLocaleDateString("pt-BR")})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Local:"}),h.jsx("span",{children:n==null?void 0:n.location})]}),h.jsxs("div",{className:"border-t pt-2 mt-2",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Valor do Ingresso:"}),h.jsx("span",{children:k(o)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Taxa de Convenincia:"}),h.jsx("span",{children:k(5)})]}),r&&h.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[h.jsx("span",{children:"Preo Original:"}),h.jsx("span",{className:"line-through",children:k(parseFloat(n==null?void 0:n.price)||0)})]}),h.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2",children:[h.jsx("span",{children:"Total:"}),h.jsx("span",{className:"text-primary",children:k(o+5)})]})]})]})})}),g?h.jsxs("div",{className:"space-y-4",children:[m==="pix"&&((N=g.payment.pixTransaction)==null?void 0:N.qrCode)&&h.jsx(It,{children:h.jsx(Rt,{className:"pt-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(Kp,{className:"h-12 w-12 mx-auto text-green-500 mb-2"}),h.jsx("h3",{className:"font-semibold text-lg",children:"PIX Gerado com Sucesso!"}),h.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Escaneie o QR Code ou copie o cdigo PIX"})]}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:`data:image/png;base64,${g.payment.pixTransaction.qrCode.encodedImage}`,alt:"QR Code PIX",className:"w-64 h-64"})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-sm font-medium text-center",children:"Cdigo PIX:"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",value:g.payment.pixTransaction.qrCode.payload||"",readOnly:!0,className:"flex-1 p-2 border rounded text-xs"}),h.jsx(Qe,{onClick:()=>O(g.payment.pixTransaction.qrCode.payload),size:"sm",variant:"outline",children:h.jsx(aA,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"flex items-center justify-center text-sm text-yellow-600",children:[h.jsx(oA,{className:"h-4 w-4 mr-2"}),"Cdigo expira em ",g.payment.pixTransaction.expirationDate?new Date(g.payment.pixTransaction.expirationDate).toLocaleTimeString("pt-BR"):"30 minutos"]})]})})}),m==="credit_card"&&h.jsx(It,{children:h.jsx(Rt,{className:"pt-6",children:h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx(k0,{className:"h-12 w-12 mx-auto text-primary"}),h.jsx("h3",{className:"font-semibold text-lg",children:"Pagamento Pendente, cheque seu email"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Foi enviado um link no seu email para finalizar o pagamento!"})]})})}),m==="boleto"&&g.payment.bankSlipUrl&&h.jsx(It,{children:h.jsx(Rt,{className:"pt-6",children:h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx(M0,{className:"h-12 w-12 mx-auto text-primary"}),h.jsx("h3",{className:"font-semibold text-lg",children:"Boleto Gerado!"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Clique no boto abaixo para visualizar e imprimir o boleto"}),h.jsx(Qe,{onClick:()=>window.open(g.payment.bankSlipUrl,"_blank"),className:"w-full bg-primary hover:bg-secondary",children:"Abrir Boleto"}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Vencimento: ",new Date(Date.now()+7*24*60*60*1e3).toLocaleDateString("pt-BR")]})]})})}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Aps o pagamento, voc receber o ingresso por e-mail"}),h.jsx(Qe,{onClick:()=>{fi.invalidateQueries({queryKey:["/api/orders/"]}),l(),t()},variant:"outline",className:"w-full",children:"Concluir"})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs(KN,{value:m,onValueChange:P=>x(P),children:[h.jsxs(Sg,{className:"grid w-full grid-cols-3",children:[h.jsxs(qo,{value:"pix",className:"flex items-center gap-2",children:[h.jsx(Gy,{className:"h-4 w-4"}),"PIX"]}),h.jsxs(qo,{value:"credit_card",className:"flex items-center gap-2",children:[h.jsx(k0,{className:"h-4 w-4"}),"Carto"]}),h.jsxs(qo,{value:"boleto",className:"flex items-center gap-2",children:[h.jsx(M0,{className:"h-4 w-4"}),"Boleto"]})]}),h.jsx(Yo,{value:"pix",className:"space-y-4",children:h.jsx(It,{children:h.jsx(Rt,{className:"pt-6",children:h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx(Gy,{className:"h-12 w-12 mx-auto text-primary"}),h.jsx("h3",{className:"font-semibold",children:"Pagamento via PIX"}),h.jsx("p",{className:"text-sm text-gray-600",children:'Ao clicar em "Gerar PIX", voc receber um QR Code para pagamento'}),h.jsx("p",{className:"text-sm text-gray-600",children:"O cdigo expira em 30 minutos"})]})})})}),h.jsx(Yo,{value:"credit_card",className:"space-y-4",children:h.jsx(It,{children:h.jsx(Rt,{className:"pt-6",children:h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx(k0,{className:"h-12 w-12 mx-auto text-primary"}),h.jsx("h3",{className:"font-semibold",children:"Pagamento com Carto"}),h.jsx("p",{className:"text-sm text-gray-600",children:"O link de pagamento ser enviado no seu email!"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Aceitamos todas as bandeiras"})]})})})}),h.jsx(Yo,{value:"boleto",className:"space-y-4",children:h.jsx(It,{children:h.jsx(Rt,{className:"pt-6",children:h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx(M0,{className:"h-12 w-12 mx-auto text-primary"}),h.jsx("h3",{className:"font-semibold",children:"Pagamento via Boleto"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Voc receber o boleto para pagamento"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Vencimento em 7 dias teis"})]})})})})]}),h.jsx(Qe,{onClick:b,className:"w-full bg-primary hover:bg-secondary",disabled:C.isPending,"data-testid":"button-confirm-payment",children:C.isPending?"Processando...":m==="pix"?"Gerar PIX":m==="credit_card"?"Pagar com Carto":"Gerar Boleto"})]})]})]})})}function O7(){const[e,t]=E.useState(null),[n,r]=E.useState(!1),[o,l]=E.useState(null),[,d]=zr(),{isAuthenticated:m}=Ai(),{toast:x}=mr(),{data:g,isLoading:v,isError:C}=wi({queryKey:["events"],queryFn:()=>Yt("GET","/api/events/").then(P=>P.json())}),b=(g==null?void 0:g.results)??[],O=b==null?void 0:b[0],k=b.filter(P=>new Date(P.date)>new Date),N=P=>{if(!m){x({title:"Login necessrio",description:"Faa login ou cadastre-se para comprar ingressos",variant:"destructive"}),d("/login");return}t(P),r(!0)};return h.jsxs("main",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-[rgb(25,30,94)]",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsx("div",{className:"lg:col-span-2",children:v?h.jsx("div",{className:"bg-white rounded-lg shadow-lg animate-pulse h-96"}):O?h.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden relative cursor-pointer hover:shadow-xl transition-shadow",onClick:()=>d(`/event/${O.id}`),"data-testid":`card-main-event-${O.id}`,children:[h.jsx("div",{className:"absolute top-4 left-4 z-10",children:h.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-4 py-2 flex items-center space-x-2",children:[h.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 100 100",className:"text-primary",children:[h.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"3"}),h.jsx("circle",{cx:"50",cy:"20",r:"8",fill:"currentColor"}),h.jsx("circle",{cx:"80",cy:"50",r:"8",fill:"currentColor"}),h.jsx("circle",{cx:"50",cy:"80",r:"8",fill:"currentColor"}),h.jsx("circle",{cx:"20",cy:"50",r:"8",fill:"currentColor"}),h.jsx("path",{d:"M50 20 L80 50 L50 80 L20 50 Z",fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Workshop"}),h.jsx("div",{className:"text-lg font-bold text-primary",children:"360"})]})]})}),h.jsxs("div",{className:"flex flex-col lg:flex-row",children:[h.jsx("div",{className:"lg:w-2/5",children:O.imageUrl?h.jsx("img",{src:O.imageUrl,alt:O.title,className:"w-full h-full object-cover"}):h.jsx("div",{className:"h-full bg-gradient-to-br from-primary to-secondary p-8 flex items-center justify-center",children:h.jsxs("div",{className:"text-center text-white",children:[h.jsx("div",{className:"w-48 h-48 bg-white/20 rounded-full mx-auto mb-4 flex items-center justify-center",children:h.jsx("span",{className:"text-6xl",children:""})}),h.jsx("p",{className:"text-sm",children:"Evento"}),h.jsx("p",{className:"font-bold text-lg",children:"CDPI"})]})})}),h.jsxs("div",{className:"lg:w-3/5 p-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:O.title}),h.jsx("p",{className:"text-gray-600 mb-6",children:O.description}),h.jsxs("div",{className:"space-y-3 mb-6",children:[h.jsxs("div",{className:"flex items-center text-gray-600",children:[h.jsx(iu,{className:"h-5 w-5 mr-3 text-primary"}),h.jsx("span",{children:new Date(O.date).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"})})]}),h.jsxs("div",{className:"flex items-center text-gray-600",children:[h.jsx(ou,{className:"h-5 w-5 mr-3 text-primary"}),h.jsx("span",{children:O.location})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-3xl font-bold text-primary",children:["R$ ",parseFloat(O.price).toFixed(2)]}),h.jsx("p",{className:"text-xs text-gray-500",children:"+ taxa de convenincia"})]}),h.jsx(Qe,{onClick:P=>{P.stopPropagation(),N(O)},className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3","data-testid":"button-buy-main",children:"Comprar Ingresso"})]})]})]})]}):h.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:h.jsx("p",{className:"text-gray-600",children:"Nenhum evento principal disponvel"})})}),h.jsxs("div",{className:"lg:col-span-1",children:[h.jsx("div",{className:"bg-[rgb(58,57,147)] text-white rounded-t-lg p-4",children:h.jsx("h3",{className:"text-lg font-bold",children:"Prximos Eventos"})}),h.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg",children:[k.length>0?h.jsx("div",{className:"divide-y",children:k.slice(1).map(P=>h.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>d(`/event/${P.id}`),"data-testid":`card-upcoming-${P.id}`,children:[P.imageUrl?h.jsx("img",{src:P.imageUrl,alt:P.title,className:"w-full h-32 object-cover rounded-lg mb-3"}):h.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-lg h-32 mb-3 flex items-center justify-center",children:h.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 100 100",className:"text-primary/30",children:[h.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"3"}),h.jsx("circle",{cx:"50",cy:"20",r:"8",fill:"currentColor"}),h.jsx("circle",{cx:"80",cy:"50",r:"8",fill:"currentColor"}),h.jsx("circle",{cx:"50",cy:"80",r:"8",fill:"currentColor"}),h.jsx("circle",{cx:"20",cy:"50",r:"8",fill:"currentColor"})]})}),h.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:P.title}),h.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(iu,{className:"h-4 w-4 mr-1"}),new Date(P.date).toLocaleDateString("pt-BR")]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(ou,{className:"h-4 w-4 mr-1"}),P.location]})]}),h.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[h.jsxs("span",{className:"font-bold text-primary",children:["R$ ",parseFloat(P.price).toFixed(2)]}),h.jsx(Qe,{size:"sm",onClick:R=>{R.stopPropagation(),d(`/event/${P.id}`)},className:"bg-primary hover:bg-secondary","data-testid":`button-view-${P.id}`,children:"Ver mais"})]})]},P.id))}):h.jsx("div",{className:"p-8 text-center text-gray-500",children:h.jsx("p",{children:"Mais eventos em breve"})}),h.jsx("div",{className:"p-4 border-t",children:h.jsx(Qe,{onClick:()=>d("/eventos"),className:"w-full bg-primary hover:bg-secondary text-white","data-testid":"button-all-events",children:"Ver todos os eventos"})})]})]})]})})}),h.jsxs("div",{className:"bg-white py-16 lg:py-24 relative overflow-hidden",children:[h.jsx("img",{src:"/audience-background.jpg",alt:"Audience at the event",className:"absolute inset-0 w-full h-full object-cover grayscale opacity-30 fade-gradient-mask"}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[h.jsxs("div",{className:"lg:pr-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Sobre o Evento"}),h.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"O Workshop 360 na Indstria Farmacutica  a mais nova iniciativa do CDPI voltada  capacitao prtica e estratgica de profissionais do setor."}),h.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Em suas edies, o evento traz uma viso completa do ciclo de vida do produto farma abordando as principais reas que sustentam a indstria: Regulatrio, Qualidade, Desenvolvimento Analtico, Produo e P&D."})]}),h.jsx("div",{className:"relative h-96 lg:h-[550px]",children:h.jsx("img",{src:"/speaker.png",alt:"Event speaker",className:"w-full h-full object-contain star-mask transform lg:scale-125 lg:-mr-16"})})]})})]}),h.jsx("div",{className:"bg-white py-16",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Perguntas frequentes"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"border rounded-lg",children:[h.jsxs("button",{onClick:()=>l(o==="workshop"?null:"workshop"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[h.jsx("span",{className:"font-semibold text-gray-900",children:"O que  o WorkShop 360?"}),o==="workshop"?h.jsx(Bd,{className:"h-5 w-5 text-gray-500"}):h.jsx(Fc,{className:"h-5 w-5 text-gray-500"})]}),o==="workshop"&&h.jsx("div",{className:"px-6 pb-4 text-gray-600",children:h.jsx("p",{children:"O Workshop 360  um evento completo que aborda todos os aspectos da indstria farmacutica, desde pesquisa e desenvolvimento at regulamentao e comercializao."})})]}),h.jsxs("div",{className:"border rounded-lg",children:[h.jsxs("button",{onClick:()=>l(o==="garantir"?null:"garantir"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[h.jsx("span",{className:"font-semibold text-gray-900",children:"Como garantir meu ingresso?"}),o==="garantir"?h.jsx(Bd,{className:"h-5 w-5 text-gray-500"}):h.jsx(Fc,{className:"h-5 w-5 text-gray-500"})]}),o==="garantir"&&h.jsx("div",{className:"px-6 pb-4 text-gray-600",children:h.jsx("p",{children:'Para garantir seu ingresso, basta clicar no boto "Comprar Ingresso", fazer seu cadastro ou login, escolher a forma de pagamento e confirmar a compra. Voc receber o QR Code do ingresso por e-mail.'})})]}),h.jsxs("div",{className:"border rounded-lg",children:[h.jsxs("button",{onClick:()=>l(o==="cortesias"?null:"cortesias"),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[h.jsx("span",{className:"font-semibold text-gray-900",children:"Como retirar minhas cortesias?"}),o==="cortesias"?h.jsx(Bd,{className:"h-5 w-5 text-gray-500"}):h.jsx(Fc,{className:"h-5 w-5 text-gray-500"})]}),o==="cortesias"&&h.jsx("div",{className:"px-6 pb-4 text-gray-600",children:h.jsx("p",{children:'Se voc recebeu um cdigo de cortesia, acesse a opo "Resgate de cortesia" no menu, insira seu cdigo e siga as instrues para receber seu ingresso gratuito.'})})]})]})]})}),h.jsx("footer",{className:"bg-primary text-white",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsxs("div",{children:[h.jsx("div",{className:"flex items-center mb-4",children:h.jsx("img",{src:"/LOGO rodape 200px 60x negativa.svg",alt:"CDPI Faculdade Logo",className:"h-12 w-auto"})}),h.jsxs("p",{className:"text-white/80 text-sm",children:["CDPI Faculdade. Todos os direitos",h.jsx("br",{}),"reservados  2025 CNPJ: 40.082.785/0001-03",h.jsx("br",{}),"Rua 115, Setor Sul, Golania-GO"]})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:"font-bold mb-4",children:"CDPI"}),h.jsx("p",{className:"text-2xl font-bold mb-2",children:"+55 (62) 99860-6833"}),h.jsxs("p",{className:"text-sm text-white/80",children:["Entre em contato conosco",h.jsx("br",{}),"e tire suas dvidas"]})]}),h.jsx("div",{className:"text-center md:text-right",children:h.jsxs("div",{className:"flex justify-center md:justify-end space-x-3 mb-4",children:[h.jsx("a",{href:"https://www.facebook.com/cdpipharma/",target:"_blank",className:"bg-white/10 p-2 rounded-full hover:bg-white/20 transition-colors",children:h.jsx(GP,{className:"h-5 w-5"})}),h.jsx("a",{href:"https://www.instagram.com/cdpipharma/",target:"_blank",className:"bg-white/10 p-2 rounded-full hover:bg-white/20 transition-colors",children:h.jsx($P,{className:"h-5 w-5"})}),h.jsx("a",{href:"https://www.linkedin.com/company/cdpi-pharma/",target:"_blank",className:"bg-white/10 p-2 rounded-full hover:bg-white/20 transition-colors",children:h.jsx(ZP,{className:"h-5 w-5"})}),h.jsx("a",{href:"https://www.youtube.com/@cdpimoving",target:"_blank",className:"bg-white/10 p-2 rounded-full hover:bg-white/20 transition-colors",children:h.jsx(tD,{className:"h-5 w-5"})})]})})]})})}),e&&h.jsx(qN,{event:e,isOpen:n,onClose:()=>{r(!1),t(null)},onSuccess:()=>{x({title:"Pagamento iniciado!",description:"Acompanhe o status do seu pedido na pgina de perfil."}),r(!1),t(null)}})]})}const ut=E.forwardRef(({className:e,type:t,...n},r)=>h.jsx("input",{type:t,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ut.displayName="Input";function P7(){var d,m;const[,e]=zr(),[t,n]=E.useState(""),{data:r,isLoading:o}=wi({queryKey:["/api/events/"]}),l=(m=(d=r==null?void 0:r.results)==null?void 0:d.filter(x=>{const g=t.toLowerCase();return x.title.toLowerCase().includes(g)||x.description.toLowerCase().includes(g)||x.location.toLowerCase().includes(g)}).filter(x=>x.title!=="Workshop 360 na indstria farmacutica - Montes Claros"))==null?void 0:m.sort((x,g)=>+new Date(x.date)-+new Date(g.date));return h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Todos os Eventos"}),h.jsxs("div",{className:"relative max-w-md",children:[h.jsx(ut,{type:"text",placeholder:"Buscar eventos...",value:t,onChange:x=>n(x.target.value),className:"pl-10","data-testid":"input-search-events"}),h.jsx(lA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]}),o?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((x,g)=>h.jsxs(It,{className:"animate-pulse",children:[h.jsx("div",{className:"h-48 bg-gray-300 rounded-t-lg"}),h.jsxs(Rt,{className:"p-4",children:[h.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),h.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),h.jsx("div",{className:"h-4 bg-gray-300 rounded"})]})]},g))}):l&&l.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(x=>h.jsxs(It,{className:"overflow-hidden hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>e(`/event/${x.id}`),"data-testid":`card-event-${x.id}`,children:[x.imageUrl&&h.jsx("div",{className:"h-48 overflow-hidden bg-gray-100",children:h.jsx("img",{src:x.imageUrl,alt:x.title,className:"w-full h-full object-cover"})}),!x.imageUrl&&h.jsx("div",{className:"h-48 bg-gradient-to-br from-primary to-secondary flex items-center justify-center",children:h.jsxs("div",{className:"text-white text-center",children:[h.jsx("div",{className:"text-6xl mb-2",children:""}),h.jsx("p",{className:"text-sm",children:"Evento CDPI"})]})}),h.jsxs(Rt,{className:"p-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:x.title}),h.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:x.description}),h.jsxs("div",{className:"space-y-2 mb-4",children:[h.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[h.jsx(iu,{className:"h-4 w-4 mr-2 text-primary"}),h.jsx("span",{children:new Date(x.date).toLocaleDateString("pt-BR",{day:"numeric",month:"short",year:"numeric"})})]}),h.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[h.jsx(ou,{className:"h-4 w-4 mr-2 text-primary"}),h.jsx("span",{className:"line-clamp-1",children:x.location})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",parseFloat(x.price).toFixed(2)]}),h.jsx(Qe,{size:"sm",className:"bg-primary hover:bg-secondary",onClick:g=>{g.stopPropagation(),e(`/event/${x.id}`)},"data-testid":`button-view-${x.id}`,children:"Ver Detalhes"})]})]})]},x.id))}):h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-500 text-lg",children:t?"Nenhum evento encontrado com os termos pesquisados.":"Nenhum evento disponvel no momento."})})]})})}var Lu=e=>e.type==="checkbox",Vo=e=>e instanceof Date,ar=e=>e==null;const YN=e=>typeof e=="object";var yn=e=>!ar(e)&&!Array.isArray(e)&&YN(e)&&!Vo(e),QN=e=>yn(e)&&e.target?Lu(e.target)?e.target.checked:e.target.value:e,D7=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,JN=(e,t)=>e.has(D7(t)),k7=e=>{const t=e.constructor&&e.constructor.prototype;return yn(t)&&t.hasOwnProperty("isPrototypeOf")},Ag=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bn(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ag&&(e instanceof Blob||r))&&(n||yn(e)))if(t=n?[]:{},!n&&!k7(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=Bn(e[o]));else return e;return t}var _h=e=>Array.isArray(e)?e.filter(Boolean):[],gn=e=>e===void 0,Se=(e,t,n)=>{if(!t||!yn(e))return n;const r=_h(t.split(/[,[\].]+?/)).reduce((o,l)=>ar(o)?o:o[l],e);return gn(r)||r===e?gn(e[t])?n:e[t]:r},Dr=e=>typeof e=="boolean",Ng=e=>/^\w*$/.test(e),e_=e=>_h(e.replace(/["|']|\]/g,"").split(/\.|\[/)),kt=(e,t,n)=>{let r=-1;const o=Ng(t)?[t]:e_(t),l=o.length,d=l-1;for(;++r<l;){const m=o[r];let x=n;if(r!==d){const g=e[m];x=yn(g)||Array.isArray(g)?g:isNaN(+o[r+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=x,e=e[m]}};const bf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ms={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ys={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},t_=Je.createContext(null),Th=()=>Je.useContext(t_),M7=e=>{const{children:t,...n}=e;return Je.createElement(t_.Provider,{value:n},t)};var n_=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const d=l;return t._proxyFormState[d]!==ms.all&&(t._proxyFormState[d]=!r||ms.all),n&&(n[d]=!0),e[d]}});return o};function j7(e){const t=Th(),{control:n=t.control,disabled:r,name:o,exact:l}=e||{},[d,m]=Je.useState(n._formState),x=Je.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),g=Je.useRef(o);return g.current=o,Je.useEffect(()=>n._subscribe({name:g.current,formState:x.current,exact:l,callback:v=>{!r&&m({...n._formState,...v})}}),[n,r,l]),Je.useEffect(()=>{x.current.isValid&&n._setValid(!0)},[n]),Je.useMemo(()=>n_(d,n,x.current,!1),[d,n])}var Bs=e=>typeof e=="string",r_=(e,t,n,r,o)=>Bs(e)?(r&&t.watch.add(e),Se(n,e,o)):Array.isArray(e)?e.map(l=>(r&&t.watch.add(l),Se(n,l))):(r&&(t.watchAll=!0),n);function L7(e){const t=Th(),{control:n=t.control,name:r,defaultValue:o,disabled:l,exact:d}=e||{},m=Je.useRef(r),x=Je.useRef(o);m.current=r,Je.useEffect(()=>n._subscribe({name:m.current,formState:{values:!0},exact:d,callback:C=>!l&&v(r_(m.current,n._names,C.values||n._formValues,!1,x.current))}),[n,l,d]);const[g,v]=Je.useState(n._getWatch(r,o));return Je.useEffect(()=>n._removeUnmounted()),g}function F7(e){const t=Th(),{name:n,disabled:r,control:o=t.control,shouldUnregister:l}=e,d=JN(o._names.array,n),m=L7({control:o,name:n,defaultValue:Se(o._formValues,n,Se(o._defaultValues,n,e.defaultValue)),exact:!0}),x=j7({control:o,name:n,exact:!0}),g=Je.useRef(e),v=Je.useRef(o.register(n,{...e.rules,value:m,...Dr(e.disabled)?{disabled:e.disabled}:{}})),C=Je.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Se(x.errors,n)},isDirty:{enumerable:!0,get:()=>!!Se(x.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Se(x.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Se(x.validatingFields,n)},error:{enumerable:!0,get:()=>Se(x.errors,n)}}),[x,n]),b=Je.useCallback(P=>v.current.onChange({target:{value:QN(P),name:n},type:bf.CHANGE}),[n]),O=Je.useCallback(()=>v.current.onBlur({target:{value:Se(o._formValues,n),name:n},type:bf.BLUR}),[n,o._formValues]),k=Je.useCallback(P=>{const R=Se(o._fields,n);R&&P&&(R._f.ref={focus:()=>P.focus(),select:()=>P.select(),setCustomValidity:A=>P.setCustomValidity(A),reportValidity:()=>P.reportValidity()})},[o._fields,n]),N=Je.useMemo(()=>({name:n,value:m,...Dr(r)||x.disabled?{disabled:x.disabled||r}:{},onChange:b,onBlur:O,ref:k}),[n,r,x.disabled,b,O,k,m]);return Je.useEffect(()=>{const P=o._options.shouldUnregister||l;o.register(n,{...g.current.rules,...Dr(g.current.disabled)?{disabled:g.current.disabled}:{}});const R=(A,I)=>{const M=Se(o._fields,A);M&&M._f&&(M._f.mount=I)};if(R(n,!0),P){const A=Bn(Se(o._options.defaultValues,n));kt(o._defaultValues,n,A),gn(Se(o._formValues,n))&&kt(o._formValues,n,A)}return!d&&o.register(n),()=>{(d?P&&!o._state.action:P)?o.unregister(n):R(n,!1)}},[n,o,d,l]),Je.useEffect(()=>{o._setDisabledField({disabled:r,name:n})},[r,n,o]),Je.useMemo(()=>({field:N,formState:x,fieldState:C}),[N,x,C])}const B7=e=>e.render(F7(e));var s_=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},Bc=e=>Array.isArray(e)?e:[e],h2=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}},wm=e=>ar(e)||!YN(e);function Hi(e,t){if(wm(e)||wm(t))return e===t;if(Vo(e)&&Vo(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n){const l=e[o];if(!r.includes(o))return!1;if(o!=="ref"){const d=t[o];if(Vo(l)&&Vo(d)||yn(l)&&yn(d)||Array.isArray(l)&&Array.isArray(d)?!Hi(l,d):l!==d)return!1}}return!0}var ir=e=>yn(e)&&!Object.keys(e).length,_g=e=>e.type==="file",ps=e=>typeof e=="function",Sf=e=>{if(!Ag)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},i_=e=>e.type==="select-multiple",Tg=e=>e.type==="radio",V7=e=>Tg(e)||Lu(e),Z0=e=>Sf(e)&&e.isConnected;function U7(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=gn(e)?r++:e[t[r++]];return e}function z7(e){for(const t in e)if(e.hasOwnProperty(t)&&!gn(e[t]))return!1;return!0}function bn(e,t){const n=Array.isArray(t)?t:Ng(t)?[t]:e_(t),r=n.length===1?e:U7(e,n),o=n.length-1,l=n[o];return r&&delete r[l],o!==0&&(yn(r)&&ir(r)||Array.isArray(r)&&z7(r))&&bn(e,n.slice(0,-1)),e}var o_=e=>{for(const t in e)if(ps(e[t]))return!0;return!1};function Af(e,t={}){const n=Array.isArray(e);if(yn(e)||n)for(const r in e)Array.isArray(e[r])||yn(e[r])&&!o_(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Af(e[r],t[r])):ar(e[r])||(t[r]=!0);return t}function a_(e,t,n){const r=Array.isArray(e);if(yn(e)||r)for(const o in e)Array.isArray(e[o])||yn(e[o])&&!o_(e[o])?gn(t)||wm(n[o])?n[o]=Array.isArray(e[o])?Af(e[o],[]):{...Af(e[o])}:a_(e[o],ar(t)?{}:t[o],n[o]):n[o]=!Hi(e[o],t[o]);return n}var gc=(e,t)=>a_(e,t,Af(t));const m2={value:!1,isValid:!1},p2={value:!0,isValid:!0};var l_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!gn(e[0].attributes.value)?gn(e[0].value)||e[0].value===""?p2:{value:e[0].value,isValid:!0}:p2:m2}return m2},c_=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>gn(e)?e:t?e===""?NaN:e&&+e:n&&Bs(e)?new Date(e):r?r(e):e;const g2={isValid:!1,value:null};var u_=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,g2):g2;function x2(e){const t=e.ref;return _g(t)?t.files:Tg(t)?u_(e.refs).value:i_(t)?[...t.selectedOptions].map(({value:n})=>n):Lu(t)?l_(e.refs).value:c_(gn(t.value)?e.ref.value:t.value,e)}var W7=(e,t,n,r)=>{const o={};for(const l of e){const d=Se(t,l);d&&kt(o,l,d._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},Nf=e=>e instanceof RegExp,xc=e=>gn(e)?e:Nf(e)?e.source:yn(e)?Nf(e.value)?e.value.source:e.value:e,y2=e=>({isOnSubmit:!e||e===ms.onSubmit,isOnBlur:e===ms.onBlur,isOnChange:e===ms.onChange,isOnAll:e===ms.all,isOnTouch:e===ms.onTouched});const v2="AsyncFunction";var H7=e=>!!e&&!!e.validate&&!!(ps(e.validate)&&e.validate.constructor.name===v2||yn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===v2)),G7=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),w2=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Vc=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const l=Se(e,o);if(l){const{_f:d,...m}=l;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!r)return!0;if(d.ref&&t(d.ref,d.name)&&!r)return!0;if(Vc(m,t))break}else if(yn(m)&&Vc(m,t))break}}};function C2(e,t,n){const r=Se(e,n);if(r||Ng(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const l=o.join("."),d=Se(t,l),m=Se(e,l);if(d&&!Array.isArray(d)&&n!==l)return{name:n};if(m&&m.type)return{name:l,error:m};o.pop()}return{name:n}}var $7=(e,t,n,r)=>{n(e);const{name:o,...l}=e;return ir(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(d=>t[d]===(!r||ms.all))},X7=(e,t,n)=>!e||!t||e===t||Bc(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),Z7=(e,t,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:(n?r.isOnChange:o.isOnChange)?e:!0,K7=(e,t)=>!_h(Se(e,t)).length&&bn(e,t),q7=(e,t,n)=>{const r=Bc(Se(e,n));return kt(r,"root",t[n]),kt(e,n,r),e},Wd=e=>Bs(e);function E2(e,t,n="validate"){if(Wd(e)||Array.isArray(e)&&e.every(Wd)||Dr(e)&&!e)return{type:n,message:Wd(e)?e:"",ref:t}}var Pa=e=>yn(e)&&!Nf(e)?e:{value:e,message:""},b2=async(e,t,n,r,o,l)=>{const{ref:d,refs:m,required:x,maxLength:g,minLength:v,min:C,max:b,pattern:O,validate:k,name:N,valueAsNumber:P,mount:R}=e._f,A=Se(n,N);if(!R||t.has(N))return{};const I=m?m[0]:d,M=Y=>{o&&I.reportValidity&&(I.setCustomValidity(Dr(Y)?"":Y||""),I.reportValidity())},j={},$=Tg(d),B=Lu(d),G=$||B,W=(P||_g(d))&&gn(d.value)&&gn(A)||Sf(d)&&d.value===""||A===""||Array.isArray(A)&&!A.length,ae=s_.bind(null,N,r,j),pe=(Y,oe,ie,X=Ys.maxLength,fe=Ys.minLength)=>{const de=Y?oe:ie;j[N]={type:Y?X:fe,message:de,ref:d,...ae(Y?X:fe,de)}};if(l?!Array.isArray(A)||!A.length:x&&(!G&&(W||ar(A))||Dr(A)&&!A||B&&!l_(m).isValid||$&&!u_(m).isValid)){const{value:Y,message:oe}=Wd(x)?{value:!!x,message:x}:Pa(x);if(Y&&(j[N]={type:Ys.required,message:oe,ref:I,...ae(Ys.required,oe)},!r))return M(oe),j}if(!W&&(!ar(C)||!ar(b))){let Y,oe;const ie=Pa(b),X=Pa(C);if(!ar(A)&&!isNaN(A)){const fe=d.valueAsNumber||A&&+A;ar(ie.value)||(Y=fe>ie.value),ar(X.value)||(oe=fe<X.value)}else{const fe=d.valueAsDate||new Date(A),de=we=>new Date(new Date().toDateString()+" "+we),te=d.type=="time",ne=d.type=="week";Bs(ie.value)&&A&&(Y=te?de(A)>de(ie.value):ne?A>ie.value:fe>new Date(ie.value)),Bs(X.value)&&A&&(oe=te?de(A)<de(X.value):ne?A<X.value:fe<new Date(X.value))}if((Y||oe)&&(pe(!!Y,ie.message,X.message,Ys.max,Ys.min),!r))return M(j[N].message),j}if((g||v)&&!W&&(Bs(A)||l&&Array.isArray(A))){const Y=Pa(g),oe=Pa(v),ie=!ar(Y.value)&&A.length>+Y.value,X=!ar(oe.value)&&A.length<+oe.value;if((ie||X)&&(pe(ie,Y.message,oe.message),!r))return M(j[N].message),j}if(O&&!W&&Bs(A)){const{value:Y,message:oe}=Pa(O);if(Nf(Y)&&!A.match(Y)&&(j[N]={type:Ys.pattern,message:oe,ref:d,...ae(Ys.pattern,oe)},!r))return M(oe),j}if(k){if(ps(k)){const Y=await k(A,n),oe=E2(Y,I);if(oe&&(j[N]={...oe,...ae(Ys.validate,oe.message)},!r))return M(oe.message),j}else if(yn(k)){let Y={};for(const oe in k){if(!ir(Y)&&!r)break;const ie=E2(await k[oe](A,n),I,oe);ie&&(Y={...ie,...ae(oe,ie.message)},M(ie.message),r&&(j[N]=Y))}if(!ir(Y)&&(j[N]={ref:I,...Y},!r))return j}}return M(!0),j};const Y7={mode:ms.onSubmit,reValidateMode:ms.onChange,shouldFocusError:!0};function Q7(e={}){let t={...Y7,...e},n={submitCount:0,isDirty:!1,isLoading:ps(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let o=yn(t.defaultValues)||yn(t.values)?Bn(t.values||t.defaultValues)||{}:{},l=t.shouldUnregister?{}:Bn(o),d={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},x,g=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let C={...v};const b={array:h2(),state:h2()},O=y2(t.mode),k=y2(t.reValidateMode),N=t.criteriaMode===ms.all,P=U=>Q=>{clearTimeout(g),g=setTimeout(U,Q)},R=async U=>{if(!t.disabled&&(v.isValid||C.isValid||U)){const Q=t.resolver?ir((await W()).errors):await pe(r,!0);Q!==n.isValid&&b.state.next({isValid:Q})}},A=(U,Q)=>{!t.disabled&&(v.isValidating||v.validatingFields||C.isValidating||C.validatingFields)&&((U||Array.from(m.mount)).forEach(se=>{se&&(Q?kt(n.validatingFields,se,Q):bn(n.validatingFields,se))}),b.state.next({validatingFields:n.validatingFields,isValidating:!ir(n.validatingFields)}))},I=(U,Q=[],se,Ne,ve=!0,ye=!0)=>{if(Ne&&se&&!t.disabled){if(d.action=!0,ye&&Array.isArray(Se(r,U))){const _e=se(Se(r,U),Ne.argA,Ne.argB);ve&&kt(r,U,_e)}if(ye&&Array.isArray(Se(n.errors,U))){const _e=se(Se(n.errors,U),Ne.argA,Ne.argB);ve&&kt(n.errors,U,_e),K7(n.errors,U)}if((v.touchedFields||C.touchedFields)&&ye&&Array.isArray(Se(n.touchedFields,U))){const _e=se(Se(n.touchedFields,U),Ne.argA,Ne.argB);ve&&kt(n.touchedFields,U,_e)}(v.dirtyFields||C.dirtyFields)&&(n.dirtyFields=gc(o,l)),b.state.next({name:U,isDirty:oe(U,Q),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else kt(l,U,Q)},M=(U,Q)=>{kt(n.errors,U,Q),b.state.next({errors:n.errors})},j=U=>{n.errors=U,b.state.next({errors:n.errors,isValid:!1})},$=(U,Q,se,Ne)=>{const ve=Se(r,U);if(ve){const ye=Se(l,U,gn(se)?Se(o,U):se);gn(ye)||Ne&&Ne.defaultChecked||Q?kt(l,U,Q?ye:x2(ve._f)):fe(U,ye),d.mount&&R()}},B=(U,Q,se,Ne,ve)=>{let ye=!1,_e=!1;const Xe={name:U};if(!t.disabled){if(!se||Ne){(v.isDirty||C.isDirty)&&(_e=n.isDirty,n.isDirty=Xe.isDirty=oe(),ye=_e!==Xe.isDirty);const Jt=Hi(Se(o,U),Q);_e=!!Se(n.dirtyFields,U),Jt?bn(n.dirtyFields,U):kt(n.dirtyFields,U,!0),Xe.dirtyFields=n.dirtyFields,ye=ye||(v.dirtyFields||C.dirtyFields)&&_e!==!Jt}if(se){const Jt=Se(n.touchedFields,U);Jt||(kt(n.touchedFields,U,se),Xe.touchedFields=n.touchedFields,ye=ye||(v.touchedFields||C.touchedFields)&&Jt!==se)}ye&&ve&&b.state.next(Xe)}return ye?Xe:{}},G=(U,Q,se,Ne)=>{const ve=Se(n.errors,U),ye=(v.isValid||C.isValid)&&Dr(Q)&&n.isValid!==Q;if(t.delayError&&se?(x=P(()=>M(U,se)),x(t.delayError)):(clearTimeout(g),x=null,se?kt(n.errors,U,se):bn(n.errors,U)),(se?!Hi(ve,se):ve)||!ir(Ne)||ye){const _e={...Ne,...ye&&Dr(Q)?{isValid:Q}:{},errors:n.errors,name:U};n={...n,..._e},b.state.next(_e)}},W=async U=>{A(U,!0);const Q=await t.resolver(l,t.context,W7(U||m.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return A(U),Q},ae=async U=>{const{errors:Q}=await W(U);if(U)for(const se of U){const Ne=Se(Q,se);Ne?kt(n.errors,se,Ne):bn(n.errors,se)}else n.errors=Q;return Q},pe=async(U,Q,se={valid:!0})=>{for(const Ne in U){const ve=U[Ne];if(ve){const{_f:ye,..._e}=ve;if(ye){const Xe=m.array.has(ye.name),Jt=ve._f&&H7(ve._f);Jt&&v.validatingFields&&A([Ne],!0);const fn=await b2(ve,m.disabled,l,N,t.shouldUseNativeValidation&&!Q,Xe);if(Jt&&v.validatingFields&&A([Ne]),fn[ye.name]&&(se.valid=!1,Q))break;!Q&&(Se(fn,ye.name)?Xe?q7(n.errors,fn,ye.name):kt(n.errors,ye.name,fn[ye.name]):bn(n.errors,ye.name))}!ir(_e)&&await pe(_e,Q,se)}}return se.valid},Y=()=>{for(const U of m.unMount){const Q=Se(r,U);Q&&(Q._f.refs?Q._f.refs.every(se=>!Z0(se)):!Z0(Q._f.ref))&&st(U)}m.unMount=new Set},oe=(U,Q)=>!t.disabled&&(U&&Q&&kt(l,U,Q),!Hi(Be(),o)),ie=(U,Q,se)=>r_(U,m,{...d.mount?l:gn(Q)?o:Bs(U)?{[U]:Q}:Q},se,Q),X=U=>_h(Se(d.mount?l:o,U,t.shouldUnregister?Se(o,U,[]):[])),fe=(U,Q,se={})=>{const Ne=Se(r,U);let ve=Q;if(Ne){const ye=Ne._f;ye&&(!ye.disabled&&kt(l,U,c_(Q,ye)),ve=Sf(ye.ref)&&ar(Q)?"":Q,i_(ye.ref)?[...ye.ref.options].forEach(_e=>_e.selected=ve.includes(_e.value)):ye.refs?Lu(ye.ref)?ye.refs.length>1?ye.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(ve)?!!ve.find(Xe=>Xe===_e.value):ve===_e.value)):ye.refs[0]&&(ye.refs[0].checked=!!ve):ye.refs.forEach(_e=>_e.checked=_e.value===ve):_g(ye.ref)?ye.ref.value="":(ye.ref.value=ve,ye.ref.type||b.state.next({name:U,values:Bn(l)})))}(se.shouldDirty||se.shouldTouch)&&B(U,ve,se.shouldTouch,se.shouldDirty,!0),se.shouldValidate&&Me(U)},de=(U,Q,se)=>{for(const Ne in Q){const ve=Q[Ne],ye=`${U}.${Ne}`,_e=Se(r,ye);(m.array.has(U)||yn(ve)||_e&&!_e._f)&&!Vo(ve)?de(ye,ve,se):fe(ye,ve,se)}},te=(U,Q,se={})=>{const Ne=Se(r,U),ve=m.array.has(U),ye=Bn(Q);kt(l,U,ye),ve?(b.array.next({name:U,values:Bn(l)}),(v.isDirty||v.dirtyFields||C.isDirty||C.dirtyFields)&&se.shouldDirty&&b.state.next({name:U,dirtyFields:gc(o,l),isDirty:oe(U,ye)})):Ne&&!Ne._f&&!ar(ye)?de(U,ye,se):fe(U,ye,se),w2(U,m)&&b.state.next({...n}),b.state.next({name:d.mount?U:void 0,values:Bn(l)})},ne=async U=>{d.mount=!0;const Q=U.target;let se=Q.name,Ne=!0;const ve=Se(r,se),ye=_e=>{Ne=Number.isNaN(_e)||Vo(_e)&&isNaN(_e.getTime())||Hi(_e,Se(l,se,_e))};if(ve){let _e,Xe;const Jt=Q.type?x2(ve._f):QN(U),fn=U.type===bf.BLUR||U.type===bf.FOCUS_OUT,jh=!G7(ve._f)&&!t.resolver&&!Se(n.errors,se)&&!ve._f.deps||Z7(fn,Se(n.touchedFields,se),n.isSubmitted,k,O),Zt=w2(se,m,fn);kt(l,se,Jt),fn?(ve._f.onBlur&&ve._f.onBlur(U),x&&x(0)):ve._f.onChange&&ve._f.onChange(U);const Ce=B(se,Jt,fn),hn=!ir(Ce)||Zt;if(!fn&&b.state.next({name:se,type:U.type,values:Bn(l)}),jh)return(v.isValid||C.isValid)&&(t.mode==="onBlur"?fn&&R():fn||R()),hn&&b.state.next({name:se,...Zt?{}:Ce});if(!fn&&Zt&&b.state.next({...n}),t.resolver){const{errors:Pt}=await W([se]);if(ye(Jt),Ne){const Kt=C2(n.errors,r,se),_i=C2(Pt,r,Kt.name||se);_e=_i.error,se=_i.name,Xe=ir(Pt)}}else A([se],!0),_e=(await b2(ve,m.disabled,l,N,t.shouldUseNativeValidation))[se],A([se]),ye(Jt),Ne&&(_e?Xe=!1:(v.isValid||C.isValid)&&(Xe=await pe(r,!0)));Ne&&(ve._f.deps&&Me(ve._f.deps),G(se,Xe,_e,Ce))}},we=(U,Q)=>{if(Se(n.errors,Q)&&U.focus)return U.focus(),1},Me=async(U,Q={})=>{let se,Ne;const ve=Bc(U);if(t.resolver){const ye=await ae(gn(U)?U:ve);se=ir(ye),Ne=U?!ve.some(_e=>Se(ye,_e)):se}else U?(Ne=(await Promise.all(ve.map(async ye=>{const _e=Se(r,ye);return await pe(_e&&_e._f?{[ye]:_e}:_e)}))).every(Boolean),!(!Ne&&!n.isValid)&&R()):Ne=se=await pe(r);return b.state.next({...!Bs(U)||(v.isValid||C.isValid)&&se!==n.isValid?{}:{name:U},...t.resolver||!U?{isValid:se}:{},errors:n.errors}),Q.shouldFocus&&!Ne&&Vc(r,we,U?ve:m.mount),Ne},Be=U=>{const Q={...d.mount?l:o};return gn(U)?Q:Bs(U)?Se(Q,U):U.map(se=>Se(Q,se))},Nt=(U,Q)=>({invalid:!!Se((Q||n).errors,U),isDirty:!!Se((Q||n).dirtyFields,U),error:Se((Q||n).errors,U),isValidating:!!Se(n.validatingFields,U),isTouched:!!Se((Q||n).touchedFields,U)}),re=U=>{U&&Bc(U).forEach(Q=>bn(n.errors,Q)),b.state.next({errors:U?n.errors:{}})},gt=(U,Q,se)=>{const Ne=(Se(r,U,{_f:{}})._f||{}).ref,ve=Se(n.errors,U)||{},{ref:ye,message:_e,type:Xe,...Jt}=ve;kt(n.errors,U,{...Jt,...Q,ref:Ne}),b.state.next({name:U,errors:n.errors,isValid:!1}),se&&se.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},Ee=(U,Q)=>ps(U)?b.state.subscribe({next:se=>U(ie(void 0,Q),se)}):ie(U,Q,!0),Te=U=>b.state.subscribe({next:Q=>{X7(U.name,Q.name,U.exact)&&$7(Q,U.formState||v,it,U.reRenderRoot)&&U.callback({values:{...l},...n,...Q})}}).unsubscribe,Le=U=>(d.mount=!0,C={...C,...U.formState},Te({...U,formState:C})),st=(U,Q={})=>{for(const se of U?Bc(U):m.mount)m.mount.delete(se),m.array.delete(se),Q.keepValue||(bn(r,se),bn(l,se)),!Q.keepError&&bn(n.errors,se),!Q.keepDirty&&bn(n.dirtyFields,se),!Q.keepTouched&&bn(n.touchedFields,se),!Q.keepIsValidating&&bn(n.validatingFields,se),!t.shouldUnregister&&!Q.keepDefaultValue&&bn(o,se);b.state.next({values:Bn(l)}),b.state.next({...n,...Q.keepDirty?{isDirty:oe()}:{}}),!Q.keepIsValid&&R()},dt=({disabled:U,name:Q})=>{(Dr(U)&&d.mount||U||m.disabled.has(Q))&&(U?m.disabled.add(Q):m.disabled.delete(Q))},Ke=(U,Q={})=>{let se=Se(r,U);const Ne=Dr(Q.disabled)||Dr(t.disabled);return kt(r,U,{...se||{},_f:{...se&&se._f?se._f:{ref:{name:U}},name:U,mount:!0,...Q}}),m.mount.add(U),se?dt({disabled:Dr(Q.disabled)?Q.disabled:t.disabled,name:U}):$(U,!0,Q.value),{...Ne?{disabled:Q.disabled||t.disabled}:{},...t.progressive?{required:!!Q.required,min:xc(Q.min),max:xc(Q.max),minLength:xc(Q.minLength),maxLength:xc(Q.maxLength),pattern:xc(Q.pattern)}:{},name:U,onChange:ne,onBlur:ne,ref:ve=>{if(ve){Ke(U,Q),se=Se(r,U);const ye=gn(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,_e=V7(ye),Xe=se._f.refs||[];if(_e?Xe.find(Jt=>Jt===ye):ye===se._f.ref)return;kt(r,U,{_f:{...se._f,..._e?{refs:[...Xe.filter(Z0),ye,...Array.isArray(Se(o,U))?[{}]:[]],ref:{type:ye.type,name:U}}:{ref:ye}}}),$(U,!1,void 0,ye)}else se=Se(r,U,{}),se._f&&(se._f.mount=!1),(t.shouldUnregister||Q.shouldUnregister)&&!(JN(m.array,U)&&d.action)&&m.unMount.add(U)}}},mt=()=>t.shouldFocusError&&Vc(r,we,m.mount),qe=U=>{Dr(U)&&(b.state.next({disabled:U}),Vc(r,(Q,se)=>{const Ne=Se(r,se);Ne&&(Q.disabled=Ne._f.disabled||U,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(ve=>{ve.disabled=Ne._f.disabled||U}))},0,!1))},vn=(U,Q)=>async se=>{let Ne;se&&(se.preventDefault&&se.preventDefault(),se.persist&&se.persist());let ve=Bn(l);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:ye,values:_e}=await W();n.errors=ye,ve=_e}else await pe(r);if(m.disabled.size)for(const ye of m.disabled)kt(ve,ye,void 0);if(bn(n.errors,"root"),ir(n.errors)){b.state.next({errors:{}});try{await U(ve,se)}catch(ye){Ne=ye}}else Q&&await Q({...n.errors},se),mt(),setTimeout(mt);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ir(n.errors)&&!Ne,submitCount:n.submitCount+1,errors:n.errors}),Ne)throw Ne},In=(U,Q={})=>{Se(r,U)&&(gn(Q.defaultValue)?te(U,Bn(Se(o,U))):(te(U,Q.defaultValue),kt(o,U,Bn(Q.defaultValue))),Q.keepTouched||bn(n.touchedFields,U),Q.keepDirty||(bn(n.dirtyFields,U),n.isDirty=Q.defaultValue?oe(U,Bn(Se(o,U))):oe()),Q.keepError||(bn(n.errors,U),v.isValid&&R()),b.state.next({...n}))},gr=(U,Q={})=>{const se=U?Bn(U):o,Ne=Bn(se),ve=ir(U),ye=ve?o:Ne;if(Q.keepDefaultValues||(o=se),!Q.keepValues){if(Q.keepDirtyValues){const _e=new Set([...m.mount,...Object.keys(gc(o,l))]);for(const Xe of Array.from(_e))Se(n.dirtyFields,Xe)?kt(ye,Xe,Se(l,Xe)):te(Xe,Se(ye,Xe))}else{if(Ag&&gn(U))for(const _e of m.mount){const Xe=Se(r,_e);if(Xe&&Xe._f){const Jt=Array.isArray(Xe._f.refs)?Xe._f.refs[0]:Xe._f.ref;if(Sf(Jt)){const fn=Jt.closest("form");if(fn){fn.reset();break}}}}for(const _e of m.mount)te(_e,Se(ye,_e))}l=Bn(ye),b.array.next({values:{...ye}}),b.state.next({values:{...ye}})}m={mount:Q.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!v.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues,d.watch=!!t.shouldUnregister,b.state.next({submitCount:Q.keepSubmitCount?n.submitCount:0,isDirty:ve?!1:Q.keepDirty?n.isDirty:!!(Q.keepDefaultValues&&!Hi(U,o)),isSubmitted:Q.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ve?{}:Q.keepDirtyValues?Q.keepDefaultValues&&l?gc(o,l):n.dirtyFields:Q.keepDefaultValues&&U?gc(o,U):Q.keepDirty?n.dirtyFields:{},touchedFields:Q.keepTouched?n.touchedFields:{},errors:Q.keepErrors?n.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Vt=(U,Q)=>gr(ps(U)?U(l):U,Q),Ot=(U,Q={})=>{const se=Se(r,U),Ne=se&&se._f;if(Ne){const ve=Ne.refs?Ne.refs[0]:Ne.ref;ve.focus&&(ve.focus(),Q.shouldSelect&&ps(ve.select)&&ve.select())}},it=U=>{n={...n,...U}},ke={control:{register:Ke,unregister:st,getFieldState:Nt,handleSubmit:vn,setError:gt,_subscribe:Te,_runSchema:W,_getWatch:ie,_getDirty:oe,_setValid:R,_setFieldArray:I,_setDisabledField:dt,_setErrors:j,_getFieldArray:X,_reset:gr,_resetDefaultValues:()=>ps(t.defaultValues)&&t.defaultValues().then(U=>{Vt(U,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:Y,_disableForm:qe,_subjects:b,_proxyFormState:v,get _fields(){return r},get _formValues(){return l},get _state(){return d},set _state(U){d=U},get _defaultValues(){return o},get _names(){return m},set _names(U){m=U},get _formState(){return n},get _options(){return t},set _options(U){t={...t,...U}}},subscribe:Le,trigger:Me,register:Ke,handleSubmit:vn,watch:Ee,setValue:te,getValues:Be,reset:Vt,resetField:In,clearErrors:re,unregister:st,setError:gt,setFocus:Ot,getFieldState:Nt};return{...ke,formControl:ke}}function ca(e={}){const t=Je.useRef(void 0),n=Je.useRef(void 0),[r,o]=Je.useState({isDirty:!1,isValidating:!1,isLoading:ps(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ps(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Q7(e),formState:r},e.formControl&&e.defaultValues&&!ps(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const l=t.current.control;return l._options=e,Je.useLayoutEffect(()=>l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0}),[l]),Je.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),Je.useEffect(()=>{if(l._proxyFormState.isDirty){const d=l._getDirty();d!==r.isDirty&&l._subjects.state.next({isDirty:d})}},[l,r.isDirty]),Je.useEffect(()=>{e.values&&!Hi(e.values,n.current)?(l._reset(e.values,l._options.resetOptions),n.current=e.values,o(d=>({...d}))):l._resetDefaultValues()},[e.values,l]),Je.useEffect(()=>{e.errors&&!ir(e.errors)&&l._setErrors(e.errors)},[e.errors,l]),Je.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),Je.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[e.shouldUnregister,l]),t.current.formState=n_(r,l),t.current}const S2=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Se(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},d_=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?S2(r.ref,n,e):r.refs&&r.refs.forEach(o=>S2(o,n,e))}},J7=(e,t)=>{t.shouldUseNativeValidation&&d_(e,t);const n={};for(const r in e){const o=Se(t.fields,r),l=Object.assign(e[r]||{},{ref:o&&o.ref});if(e9(t.names||Object.keys(e),r)){const d=Object.assign({},Se(n,r));kt(d,"root",l),kt(n,r,d)}else kt(n,r,l)}return n},e9=(e,t)=>e.some(n=>n.startsWith(t+"."));var t9=function(e,t){for(var n={};e.length;){var r=e[0],o=r.code,l=r.message,d=r.path.join(".");if(!n[d])if("unionErrors"in r){var m=r.unionErrors[0].errors[0];n[d]={message:m.message,type:m.code}}else n[d]={message:l,type:o};if("unionErrors"in r&&r.unionErrors.forEach(function(v){return v.errors.forEach(function(C){return e.push(C)})}),t){var x=n[d].types,g=x&&x[r.code];n[d]=s_(d,t,n,o,g?[].concat(g,r.message):r.message)}e.shift()}return n},Ig=function(e,t,n){return n===void 0&&(n={}),function(r,o,l){try{return Promise.resolve(function(d,m){try{var x=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(g){return l.shouldUseNativeValidation&&d_({},l),{errors:{},values:n.raw?r:g}})}catch(g){return m(g)}return x&&x.then?x.then(void 0,m):x}(0,function(d){if(function(m){return Array.isArray(m==null?void 0:m.errors)}(d))return{values:{},errors:J7(t9(d.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw d}))}catch(d){return Promise.reject(d)}}},n9="Label",f_=E.forwardRef((e,t)=>h.jsx(He.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));f_.displayName=n9;var h_=f_;const r9=mh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vt=E.forwardRef(({className:e,...t},n)=>h.jsx(h_,{ref:n,className:je(r9(),e),...t}));vt.displayName=h_.displayName;function m_(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Rg="Checkbox",[s9]=Wr(Rg),[i9,o9]=s9(Rg),p_=E.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:l,required:d,disabled:m,value:x="on",onCheckedChange:g,form:v,...C}=e,[b,O]=E.useState(null),k=Ct(t,M=>O(M)),N=E.useRef(!1),P=b?v||!!b.closest("form"):!0,[R=!1,A]=po({prop:o,defaultProp:l,onChange:g}),I=E.useRef(R);return E.useEffect(()=>{const M=b==null?void 0:b.form;if(M){const j=()=>A(I.current);return M.addEventListener("reset",j),()=>M.removeEventListener("reset",j)}},[b,A]),h.jsxs(i9,{scope:n,state:R,disabled:m,children:[h.jsx(He.button,{type:"button",role:"checkbox","aria-checked":fo(R)?"mixed":R,"aria-required":d,"data-state":y_(R),"data-disabled":m?"":void 0,disabled:m,value:x,...C,ref:k,onKeyDown:be(e.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:be(e.onClick,M=>{A(j=>fo(j)?!0:!j),P&&(N.current=M.isPropagationStopped(),N.current||M.stopPropagation())})}),P&&h.jsx(a9,{control:b,bubbles:!N.current,name:r,value:x,checked:R,required:d,disabled:m,form:v,style:{transform:"translateX(-100%)"},defaultChecked:fo(l)?!1:l})]})});p_.displayName=Rg;var g_="CheckboxIndicator",x_=E.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,l=o9(g_,n);return h.jsx(ss,{present:r||fo(l.state)||l.state===!0,children:h.jsx(He.span,{"data-state":y_(l.state),"data-disabled":l.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});x_.displayName=g_;var a9=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:o,...l}=e,d=E.useRef(null),m=m_(n),x=OA(t);E.useEffect(()=>{const v=d.current,C=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(C,"checked").set;if(m!==n&&O){const k=new Event("click",{bubbles:r});v.indeterminate=fo(n),O.call(v,fo(n)?!1:n),v.dispatchEvent(k)}},[m,n,r]);const g=E.useRef(fo(n)?!1:n);return h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,...l,tabIndex:-1,ref:d,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fo(e){return e==="indeterminate"}function y_(e){return fo(e)?"indeterminate":e?"checked":"unchecked"}var v_=p_,l9=x_;const Og=E.forwardRef(({className:e,...t},n)=>h.jsx(v_,{ref:n,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:h.jsx(l9,{className:je("flex items-center justify-center text-current"),children:h.jsx(ph,{className:"h-4 w-4"})})}));Og.displayName=v_.displayName;const ce=Symbol.for("drizzle:entityKind");function Un(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,ce))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(ce in n&&n[ce]===t[ce])return!0;n=Object.getPrototypeOf(n)}return!1}var av;av=ce;class Ol{constructor(t,n){Z(this,"name");Z(this,"keyAsName");Z(this,"primary");Z(this,"notNull");Z(this,"default");Z(this,"defaultFn");Z(this,"onUpdateFn");Z(this,"hasDefault");Z(this,"isUnique");Z(this,"uniqueName");Z(this,"uniqueType");Z(this,"dataType");Z(this,"columnType");Z(this,"enumValues");Z(this,"generated");Z(this,"generatedIdentity");Z(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}Z(Ol,av,"Column");var lv;lv=ce;class w_{constructor(t,n,r){Z(this,"config");Z(this,"$default",this.$defaultFn);Z(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}Z(w_,lv,"ColumnBuilder");const sl=Symbol.for("drizzle:Name");var cv;cv=ce;class C_{constructor(t,n){Z(this,"reference");Z(this,"_onUpdate","no action");Z(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:o,foreignColumns:l}=t();return{name:r,columns:o,foreignTable:l[0].table,foreignColumns:l}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new E_(t,this)}}Z(C_,cv,"PgForeignKeyBuilder");var uv;uv=ce;class E_{constructor(t,n){Z(this,"reference");Z(this,"onUpdate");Z(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),o=n.map(m=>m.name),l=r.map(m=>m.name),d=[this.table[sl],...o,r[0].table[sl],...l];return t??`${d.join("_")}_fk`}}Z(E_,uv,"PgForeignKey");function c9(e,...t){return e(...t)}function u9(e,t){return`${e[sl]}_${t.join("_")}_unique`}function A2(e,t,n){for(let r=t;r<e.length;r++){const o=e[r];if(o==="\\"){r++;continue}if(o==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!n&&(o===","||o==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function b_(e,t=0){const n=[];let r=t,o=!1;for(;r<e.length;){const l=e[r];if(l===","){(o||r===t)&&n.push(""),o=!0,r++;continue}if(o=!1,l==="\\"){r+=2;continue}if(l==='"'){const[x,g]=A2(e,r+1,!0);n.push(x),r=g;continue}if(l==="}")return[n,r+1];if(l==="{"){const[x,g]=b_(e,r+1);n.push(x),r=g;continue}const[d,m]=A2(e,r,!1);n.push(d),r=m}return[n,r]}function d9(e){const[t]=b_(e,1);return t}function S_(e){return`{${e.map(t=>Array.isArray(t)?S_(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var dv,fv;class bt extends(fv=w_,dv=ce,fv){constructor(){super(...arguments);Z(this,"foreignKeyConfigs",[])}array(n){return new N_(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:o,actions:l})=>c9((d,m)=>{const x=new C_(()=>{const g=d();return{columns:[n],foreignColumns:[g]}});return m.onUpdate&&x.onUpdate(m.onUpdate),m.onDelete&&x.onDelete(m.onDelete),x.build(r)},o,l))}buildExtraConfigColumn(n){return new A_(n,this.config)}}Z(bt,dv,"PgColumnBuilder");var hv,mv;class nt extends(mv=Ol,hv=ce,mv){constructor(t,n){n.uniqueName||(n.uniqueName=u9(t,[n.name])),super(t,n),this.table=t}}Z(nt,hv,"PgColumn");var pv,gv;class A_ extends(gv=nt,pv=ce,gv){constructor(){super(...arguments);Z(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});Z(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}Z(A_,pv,"ExtraConfigColumn");var xv,yv;class N_ extends(yv=bt,xv=ce,yv){constructor(t,n,r){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(t){const n=this.config.baseBuilder.build(t);return new Cm(t,this.config,n)}}Z(N_,xv,"PgArrayBuilder");var vv,wv;const $f=class $f extends(wv=nt,vv=ce,wv){constructor(n,r,o,l){super(n,r);Z(this,"size");this.baseColumn=o,this.range=l,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=d9(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const o=n.map(l=>l===null?null:Un(this.baseColumn,$f)?this.baseColumn.mapToDriverValue(l,!0):this.baseColumn.mapToDriverValue(l));return r?o:S_(o)}};Z($f,vv,"PgArray");let Cm=$f;const N2=Symbol.for("drizzle:isPgEnum");function f9(e){return!!e&&typeof e=="function"&&N2 in e&&e[N2]===!0}var Cv;Cv=ce;class Pg{constructor(t,n,r,o=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:o}}}Z(Pg,Cv,"Subquery");const h9={startActiveSpan(e,t){return t()}},il=Symbol.for("drizzle:ViewBaseConfig"),K0=Symbol.for("drizzle:Schema"),_2=Symbol.for("drizzle:Columns"),T2=Symbol.for("drizzle:ExtraConfigColumns"),q0=Symbol.for("drizzle:OriginalName"),Y0=Symbol.for("drizzle:BaseName"),_f=Symbol.for("drizzle:IsAlias"),I2=Symbol.for("drizzle:ExtraConfigBuilder"),__=Symbol.for("drizzle:IsDrizzleTable");var Ev,bv,Sv,Av,Nv,_v,Tv,Iv,Rv,Ov;Ov=ce,Rv=sl,Iv=q0,Tv=K0,_v=_2,Nv=T2,Av=Y0,Sv=_f,bv=__,Ev=I2;class lr{constructor(t,n,r){Z(this,Rv);Z(this,Iv);Z(this,Tv);Z(this,_v);Z(this,Nv);Z(this,Av);Z(this,Sv,!1);Z(this,bv,!0);Z(this,Ev);this[sl]=this[q0]=t,this[K0]=n,this[Y0]=r}}Z(lr,Ov,"Table"),Z(lr,"Symbol",{Name:sl,Schema:K0,OriginalName:q0,Columns:_2,ExtraConfigColumns:T2,BaseName:Y0,IsAlias:_f,ExtraConfigBuilder:I2});function T_(e){return typeof e=="object"&&e!==null&&__ in e}function m9(e){return e!=null&&typeof e.getSQL=="function"}function p9(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var Pv;Pv=ce;class qr{constructor(t){Z(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new _n([this])}}Z(qr,Pv,"StringChunk");var Dv;Dv=ce;const jo=class jo{constructor(t){Z(this,"decoder",I_);Z(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return h9.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:o,escapeName:l,escapeParam:d,prepareTyping:m,inlineParams:x,paramStartIndex:g}=r;return p9(t.map(v=>{var C;if(Un(v,qr))return{sql:v.value.join(""),params:[]};if(Un(v,Tf))return{sql:l(v.value),params:[]};if(v===void 0)return{sql:"",params:[]};if(Array.isArray(v)){const b=[new qr("(")];for(const[O,k]of v.entries())b.push(k),O<v.length-1&&b.push(new qr(", "));return b.push(new qr(")")),this.buildQueryFromSourceParams(b,r)}if(Un(v,jo))return this.buildQueryFromSourceParams(v.queryChunks,{...r,inlineParams:x||v.shouldInlineParams});if(Un(v,lr)){const b=v[lr.Symbol.Schema],O=v[lr.Symbol.Name];return{sql:b===void 0||v[_f]?l(O):l(b)+"."+l(O),params:[]}}if(Un(v,Ol)){const b=o.getColumnCasing(v);if(n.invokeSource==="indexes")return{sql:l(b),params:[]};const O=v.table[lr.Symbol.Schema];return{sql:v.table[_f]||O===void 0?l(v.table[lr.Symbol.Name])+"."+l(b):l(O)+"."+l(v.table[lr.Symbol.Name])+"."+l(b),params:[]}}if(Un(v,P_)){const b=v[il].schema,O=v[il].name;return{sql:b===void 0||v[il].isAlias?l(O):l(b)+"."+l(O),params:[]}}if(Un(v,Dg)){if(Un(v.value,If))return{sql:d(g.value++,v),params:[v],typings:["none"]};const b=v.value===null?null:v.encoder.mapToDriverValue(v.value);if(Un(b,jo))return this.buildQueryFromSourceParams([b],r);if(x)return{sql:this.mapInlineParam(b,r),params:[]};let O=["none"];return m&&(O=[m(v.encoder)]),{sql:d(g.value++,b),params:[b],typings:O}}return Un(v,If)?{sql:d(g.value++,v),params:[v],typings:["none"]}:Un(v,jo.Aliased)&&v.fieldAlias!==void 0?{sql:l(v.fieldAlias),params:[]}:Un(v,Pg)?v._.isWith?{sql:l(v._.alias),params:[]}:this.buildQueryFromSourceParams([new qr("("),v._.sql,new qr(") "),new Tf(v._.alias)],r):f9(v)?v.schema?{sql:l(v.schema)+"."+l(v.enumName),params:[]}:{sql:l(v.enumName),params:[]}:m9(v)?(C=v.shouldOmitSQLParens)!=null&&C.call(v)?this.buildQueryFromSourceParams([v.getSQL()],r):this.buildQueryFromSourceParams([new qr("("),v.getSQL(),new qr(")")],r):x?{sql:this.mapInlineParam(v,r),params:[]}:{sql:d(g.value++,v),params:[v],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new jo.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};Z(jo,Dv,"SQL");let _n=jo;var kv;kv=ce;class Tf{constructor(t){Z(this,"brand");this.value=t}getSQL(){return new _n([this])}}Z(Tf,kv,"Name");const I_={mapFromDriverValue:e=>e},R_={mapToDriverValue:e=>e};({...I_,...R_});var Mv;Mv=ce;class Dg{constructor(t,n=R_){Z(this,"brand");this.value=t,this.encoder=n}getSQL(){return new _n([this])}}Z(Dg,Mv,"Param");function $s(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new qr(e[0]));for(const[r,o]of t.entries())n.push(o,new qr(e[r+1]));return new _n(n)}(e=>{function t(){return new _n([])}e.empty=t;function n(x){return new _n(x)}e.fromList=n;function r(x){return new _n([new qr(x)])}e.raw=r;function o(x,g){const v=[];for(const[C,b]of x.entries())C>0&&g!==void 0&&v.push(g),v.push(b);return new _n(v)}e.join=o;function l(x){return new Tf(x)}e.identifier=l;function d(x){return new If(x)}e.placeholder=d;function m(x,g){return new Dg(x,g)}e.param=m})($s||($s={}));(e=>{var n;n=ce;const r=class r{constructor(l,d){Z(this,"isSelectionField",!1);this.sql=l,this.fieldAlias=d}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};Z(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(_n||(_n={}));var jv;jv=ce;class If{constructor(t){this.name=t}getSQL(){return new _n([this])}}Z(If,jv,"Placeholder");const O_=Symbol.for("drizzle:IsDrizzleView");var Lv,Fv,Bv;Bv=ce,Fv=il,Lv=O_;class P_{constructor({name:t,schema:n,selectedFields:r,query:o}){Z(this,Fv);Z(this,Lv,!0);this[il]={name:t,originalName:t,schema:n,selectedFields:r,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new _n([this])}}Z(P_,Bv,"View");function g9(e){return typeof e=="object"&&e!==null&&O_ in e}Ol.prototype.getSQL=function(){return new _n([this])};lr.prototype.getSQL=function(){return new _n([this])};Pg.prototype.getSQL=function(){return new _n([this])};function x9(e){return e[lr.Symbol.Columns]}function y9(e){return e[il].selectedFields}function Mn(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var Vv,Uv;class Fu extends(Uv=bt,Vv=ce,Uv){generatedAlwaysAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}Z(Fu,Vv,"PgIntColumnBaseBuilder");var zv,Wv;class D_ extends(Wv=Fu,zv=ce,Wv){constructor(t){super(t,"number","PgBigInt53")}build(t){return new k_(t,this.config)}}Z(D_,zv,"PgBigInt53Builder");var Hv,Gv;class k_ extends(Gv=nt,Hv=ce,Gv){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}Z(k_,Hv,"PgBigInt53");var $v,Xv;class M_ extends(Xv=Fu,$v=ce,Xv){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new j_(t,this.config)}}Z(M_,$v,"PgBigInt64Builder");var Zv,Kv;class j_ extends(Kv=nt,Zv=ce,Kv){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}Z(j_,Zv,"PgBigInt64");function v9(e,t){const{name:n,config:r}=Mn(e,t);return r.mode==="number"?new D_(n):new M_(n)}var qv,Yv;class L_ extends(Yv=bt,qv=ce,Yv){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new F_(t,this.config)}}Z(L_,qv,"PgBigSerial53Builder");var Qv,Jv;class F_ extends(Jv=nt,Qv=ce,Jv){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}Z(F_,Qv,"PgBigSerial53");var ew,tw;class B_ extends(tw=bt,ew=ce,tw){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new V_(t,this.config)}}Z(B_,ew,"PgBigSerial64Builder");var nw,rw;class V_ extends(rw=nt,nw=ce,rw){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}Z(V_,nw,"PgBigSerial64");function w9(e,t){const{name:n,config:r}=Mn(e,t);return r.mode==="number"?new L_(n):new B_(n)}var sw,iw;class U_ extends(iw=bt,sw=ce,iw){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new z_(t,this.config)}}Z(U_,sw,"PgBooleanBuilder");var ow,aw;class z_ extends(aw=nt,ow=ce,aw){getSQLType(){return"boolean"}}Z(z_,ow,"PgBoolean");function no(e){return new U_(e??"")}var lw,cw;class W_ extends(cw=bt,lw=ce,cw){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new H_(t,this.config)}}Z(W_,lw,"PgCharBuilder");var uw,dw;class H_ extends(dw=nt,uw=ce,dw){constructor(){super(...arguments);Z(this,"length",this.config.length);Z(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}Z(H_,uw,"PgChar");function C9(e,t={}){const{name:n,config:r}=Mn(e,t);return new W_(n,r)}var fw,hw;class G_ extends(hw=bt,fw=ce,hw){constructor(t){super(t,"string","PgCidr")}build(t){return new $_(t,this.config)}}Z(G_,fw,"PgCidrBuilder");var mw,pw;class $_ extends(pw=nt,mw=ce,pw){getSQLType(){return"cidr"}}Z($_,mw,"PgCidr");function E9(e){return new G_(e??"")}var gw,xw;class X_ extends(xw=bt,gw=ce,xw){constructor(t,n,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new Z_(t,this.config)}}Z(X_,gw,"PgCustomColumnBuilder");var yw,vw;class Z_ extends(vw=nt,yw=ce,vw){constructor(n,r){super(n,r);Z(this,"sqlName");Z(this,"mapTo");Z(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}Z(Z_,yw,"PgCustomColumn");function b9(e){return(t,n)=>{const{name:r,config:o}=Mn(t,n);return new X_(r,o,e)}}var ww,Cw;class $l extends(Cw=bt,ww=ce,Cw){defaultNow(){return this.default($s`now()`)}}Z($l,ww,"PgDateColumnBaseBuilder");var Ew,bw;class K_ extends(bw=$l,Ew=ce,bw){constructor(t){super(t,"date","PgDate")}build(t){return new q_(t,this.config)}}Z(K_,Ew,"PgDateBuilder");var Sw,Aw;class q_ extends(Aw=nt,Sw=ce,Aw){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}Z(q_,Sw,"PgDate");var Nw,_w;class Y_ extends(_w=$l,Nw=ce,_w){constructor(t){super(t,"string","PgDateString")}build(t){return new Q_(t,this.config)}}Z(Y_,Nw,"PgDateStringBuilder");var Tw,Iw;class Q_ extends(Iw=nt,Tw=ce,Iw){getSQLType(){return"date"}}Z(Q_,Tw,"PgDateString");function S9(e,t){const{name:n,config:r}=Mn(e,t);return(r==null?void 0:r.mode)==="date"?new K_(n):new Y_(n)}var Rw,Ow;class J_ extends(Ow=bt,Rw=ce,Ow){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new e4(t,this.config)}}Z(J_,Rw,"PgDoublePrecisionBuilder");var Pw,Dw;class e4 extends(Dw=nt,Pw=ce,Dw){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}Z(e4,Pw,"PgDoublePrecision");function A9(e){return new J_(e??"")}var kw,Mw;class t4 extends(Mw=bt,kw=ce,Mw){constructor(t){super(t,"string","PgInet")}build(t){return new n4(t,this.config)}}Z(t4,kw,"PgInetBuilder");var jw,Lw;class n4 extends(Lw=nt,jw=ce,Lw){getSQLType(){return"inet"}}Z(n4,jw,"PgInet");function N9(e){return new t4(e??"")}var Fw,Bw;class r4 extends(Bw=Fu,Fw=ce,Bw){constructor(t){super(t,"number","PgInteger")}build(t){return new s4(t,this.config)}}Z(r4,Fw,"PgIntegerBuilder");var Vw,Uw;class s4 extends(Uw=nt,Vw=ce,Uw){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}Z(s4,Vw,"PgInteger");function Pl(e){return new r4(e??"")}var zw,Ww;class i4 extends(Ww=bt,zw=ce,Ww){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new o4(t,this.config)}}Z(i4,zw,"PgIntervalBuilder");var Hw,Gw;class o4 extends(Gw=nt,Hw=ce,Gw){constructor(){super(...arguments);Z(this,"fields",this.config.intervalConfig.fields);Z(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}Z(o4,Hw,"PgInterval");function _9(e,t={}){const{name:n,config:r}=Mn(e,t);return new i4(n,r)}var $w,Xw;class a4 extends(Xw=bt,$w=ce,Xw){constructor(t){super(t,"json","PgJson")}build(t){return new l4(t,this.config)}}Z(a4,$w,"PgJsonBuilder");var Zw,Kw;class l4 extends(Kw=nt,Zw=ce,Kw){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}Z(l4,Zw,"PgJson");function T9(e){return new a4(e??"")}var qw,Yw;class c4 extends(Yw=bt,qw=ce,Yw){constructor(t){super(t,"json","PgJsonb")}build(t){return new u4(t,this.config)}}Z(c4,qw,"PgJsonbBuilder");var Qw,Jw;class u4 extends(Jw=nt,Qw=ce,Jw){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}Z(u4,Qw,"PgJsonb");function I9(e){return new c4(e??"")}var eC,tC;class d4 extends(tC=bt,eC=ce,tC){constructor(t){super(t,"array","PgLine")}build(t){return new f4(t,this.config)}}Z(d4,eC,"PgLineBuilder");var nC,rC;class f4 extends(rC=nt,nC=ce,rC){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,o]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(o)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}Z(f4,nC,"PgLine");var sC,iC;class h4 extends(iC=bt,sC=ce,iC){constructor(t){super(t,"json","PgLineABC")}build(t){return new m4(t,this.config)}}Z(h4,sC,"PgLineABCBuilder");var oC,aC;class m4 extends(aC=nt,oC=ce,aC){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,o]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(o)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}Z(m4,oC,"PgLineABC");function R9(e,t){const{name:n,config:r}=Mn(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new d4(n):new h4(n)}var lC,cC;class p4 extends(cC=bt,lC=ce,cC){constructor(t){super(t,"string","PgMacaddr")}build(t){return new g4(t,this.config)}}Z(p4,lC,"PgMacaddrBuilder");var uC,dC;class g4 extends(dC=nt,uC=ce,dC){getSQLType(){return"macaddr"}}Z(g4,uC,"PgMacaddr");function O9(e){return new p4(e??"")}var fC,hC;class x4 extends(hC=bt,fC=ce,hC){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new y4(t,this.config)}}Z(x4,fC,"PgMacaddr8Builder");var mC,pC;class y4 extends(pC=nt,mC=ce,pC){getSQLType(){return"macaddr8"}}Z(y4,mC,"PgMacaddr8");function P9(e){return new x4(e??"")}var gC,xC;class v4 extends(xC=bt,gC=ce,xC){constructor(t,n,r){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(t){return new w4(t,this.config)}}Z(v4,gC,"PgNumericBuilder");var yC,vC;class w4 extends(vC=nt,yC=ce,vC){constructor(n,r){super(n,r);Z(this,"precision");Z(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}Z(w4,yC,"PgNumeric");function C4(e,t){const{name:n,config:r}=Mn(e,t);return new v4(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const kg=C4;var wC,CC;class E4 extends(CC=bt,wC=ce,CC){constructor(t){super(t,"array","PgPointTuple")}build(t){return new b4(t,this.config)}}Z(E4,wC,"PgPointTupleBuilder");var EC,bC;class b4 extends(bC=nt,EC=ce,bC){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}Z(b4,EC,"PgPointTuple");var SC,AC;class S4 extends(AC=bt,SC=ce,AC){constructor(t){super(t,"json","PgPointObject")}build(t){return new A4(t,this.config)}}Z(S4,SC,"PgPointObjectBuilder");var NC,_C;class A4 extends(_C=nt,NC=ce,_C){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}Z(A4,NC,"PgPointObject");function D9(e,t){const{name:n,config:r}=Mn(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new E4(n):new S4(n)}function k9(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function R2(e,t){const n=new ArrayBuffer(8),r=new DataView(n);for(let o=0;o<8;o++)r.setUint8(o,e[t+o]);return r.getFloat64(0,!0)}function N4(e){const t=k9(e);let n=0;const r=t[n];n+=1;const o=new DataView(t.buffer),l=o.getUint32(n,r===1);if(n+=4,l&536870912&&(o.getUint32(n,r===1),n+=4),(l&65535)===1){const d=R2(t,n);n+=8;const m=R2(t,n);return n+=8,[d,m]}throw new Error("Unsupported geometry type")}var TC,IC;class _4 extends(IC=bt,TC=ce,IC){constructor(t){super(t,"array","PgGeometry")}build(t){return new T4(t,this.config)}}Z(_4,TC,"PgGeometryBuilder");var RC,OC;class T4 extends(OC=nt,RC=ce,OC){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return N4(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}Z(T4,RC,"PgGeometry");var PC,DC;class I4 extends(DC=bt,PC=ce,DC){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new R4(t,this.config)}}Z(I4,PC,"PgGeometryObjectBuilder");var kC,MC;class R4 extends(MC=nt,kC=ce,MC){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=N4(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}Z(R4,kC,"PgGeometryObject");function M9(e,t){const{name:n,config:r}=Mn(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new _4(n):new I4(n)}var jC,LC;class O4 extends(LC=bt,jC=ce,LC){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new P4(t,this.config)}}Z(O4,jC,"PgRealBuilder");var FC,BC;class P4 extends(BC=nt,FC=ce,BC){constructor(n,r){super(n,r);Z(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}Z(P4,FC,"PgReal");function j9(e){return new O4(e??"")}var VC,UC;class D4 extends(UC=bt,VC=ce,UC){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new k4(t,this.config)}}Z(D4,VC,"PgSerialBuilder");var zC,WC;class k4 extends(WC=nt,zC=ce,WC){getSQLType(){return"serial"}}Z(k4,zC,"PgSerial");function L9(e){return new D4(e??"")}var HC,GC;class M4 extends(GC=Fu,HC=ce,GC){constructor(t){super(t,"number","PgSmallInt")}build(t){return new j4(t,this.config)}}Z(M4,HC,"PgSmallIntBuilder");var $C,XC;class j4 extends(XC=nt,$C=ce,XC){constructor(){super(...arguments);Z(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}Z(j4,$C,"PgSmallInt");function F9(e){return new M4(e??"")}var ZC,KC;class L4 extends(KC=bt,ZC=ce,KC){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new F4(t,this.config)}}Z(L4,ZC,"PgSmallSerialBuilder");var qC,YC;class F4 extends(YC=nt,qC=ce,YC){getSQLType(){return"smallserial"}}Z(F4,qC,"PgSmallSerial");function B9(e){return new L4(e??"")}var QC,JC;class B4 extends(JC=bt,QC=ce,JC){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new V4(t,this.config)}}Z(B4,QC,"PgTextBuilder");var eE,tE;class V4 extends(tE=nt,eE=ce,tE){constructor(){super(...arguments);Z(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}Z(V4,eE,"PgText");function mi(e,t={}){const{name:n,config:r}=Mn(e,t);return new B4(n,r)}var nE,rE;class U4 extends(rE=$l,nE=ce,rE){constructor(t,n,r){super(t,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(t){return new z4(t,this.config)}}Z(U4,nE,"PgTimeBuilder");var sE,iE;class z4 extends(iE=nt,sE=ce,iE){constructor(n,r){super(n,r);Z(this,"withTimezone");Z(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Z(z4,sE,"PgTime");function V9(e,t={}){const{name:n,config:r}=Mn(e,t);return new U4(n,r.withTimezone??!1,r.precision)}var oE,aE;class W4 extends(aE=$l,oE=ce,aE){constructor(t,n,r){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(t){return new H4(t,this.config)}}Z(W4,oE,"PgTimestampBuilder");var lE,cE;class H4 extends(cE=nt,lE=ce,cE){constructor(n,r){super(n,r);Z(this,"withTimezone");Z(this,"precision");Z(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));Z(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}Z(H4,lE,"PgTimestamp");var uE,dE;class G4 extends(dE=$l,uE=ce,dE){constructor(t,n,r){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(t){return new $4(t,this.config)}}Z(G4,uE,"PgTimestampStringBuilder");var fE,hE;class $4 extends(hE=nt,fE=ce,hE){constructor(n,r){super(n,r);Z(this,"withTimezone");Z(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Z($4,fE,"PgTimestampString");function Dn(e,t={}){const{name:n,config:r}=Mn(e,t);return(r==null?void 0:r.mode)==="string"?new G4(n,r.withTimezone??!1,r.precision):new W4(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var mE,pE;class X4 extends(pE=bt,mE=ce,pE){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default($s`gen_random_uuid()`)}build(t){return new Z4(t,this.config)}}Z(X4,mE,"PgUUIDBuilder");var gE,xE;class Z4 extends(xE=nt,gE=ce,xE){getSQLType(){return"uuid"}}Z(Z4,gE,"PgUUID");function U9(e){return new X4(e??"")}var yE,vE;class K4 extends(vE=bt,yE=ce,vE){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new q4(t,this.config)}}Z(K4,yE,"PgVarcharBuilder");var wE,CE;class q4 extends(CE=nt,wE=ce,CE){constructor(){super(...arguments);Z(this,"length",this.config.length);Z(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}Z(q4,wE,"PgVarchar");function ft(e,t={}){const{name:n,config:r}=Mn(e,t);return new K4(n,r)}var EE,bE;class Y4 extends(bE=bt,EE=ce,bE){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new Q4(t,this.config)}}Z(Y4,EE,"PgBinaryVectorBuilder");var SE,AE;class Q4 extends(AE=nt,SE=ce,AE){constructor(){super(...arguments);Z(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}Z(Q4,SE,"PgBinaryVector");function z9(e,t){const{name:n,config:r}=Mn(e,t);return new Y4(n,r)}var NE,_E;class J4 extends(_E=bt,NE=ce,_E){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new eT(t,this.config)}}Z(J4,NE,"PgHalfVectorBuilder");var TE,IE;class eT extends(IE=nt,TE=ce,IE){constructor(){super(...arguments);Z(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}Z(eT,TE,"PgHalfVector");function W9(e,t){const{name:n,config:r}=Mn(e,t);return new J4(n,r)}var RE,OE;class tT extends(OE=bt,RE=ce,OE){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new nT(t,this.config)}}Z(tT,RE,"PgSparseVectorBuilder");var PE,DE;class nT extends(DE=nt,PE=ce,DE){constructor(){super(...arguments);Z(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}Z(nT,PE,"PgSparseVector");function H9(e,t){const{name:n,config:r}=Mn(e,t);return new tT(n,r)}var kE,ME;class rT extends(ME=bt,kE=ce,ME){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new sT(t,this.config)}}Z(rT,kE,"PgVectorBuilder");var jE,LE;class sT extends(LE=nt,jE=ce,LE){constructor(){super(...arguments);Z(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}Z(sT,jE,"PgVector");function G9(e,t){const{name:n,config:r}=Mn(e,t);return new rT(n,r)}function $9(){return{bigint:v9,bigserial:w9,boolean:no,char:C9,cidr:E9,customType:b9,date:S9,doublePrecision:A9,inet:N9,integer:Pl,interval:_9,json:T9,jsonb:I9,line:R9,macaddr:O9,macaddr8:P9,numeric:C4,point:D9,geometry:M9,real:j9,serial:L9,smallint:F9,smallserial:B9,text:mi,time:V9,timestamp:Dn,uuid:U9,varchar:ft,bit:z9,halfvec:W9,sparsevec:H9,vector:G9}}const Em=Symbol.for("drizzle:PgInlineForeignKeys"),O2=Symbol.for("drizzle:EnableRLS");var FE,BE,VE,UE,zE;class Rf extends(zE=lr,UE=ce,VE=Em,BE=O2,FE=lr.Symbol.ExtraConfigBuilder,zE){constructor(){super(...arguments);Z(this,VE,[]);Z(this,BE,!1);Z(this,FE)}}Z(Rf,UE,"PgTable"),Z(Rf,"Symbol",Object.assign({},lr.Symbol,{InlineForeignKeys:Em,EnableRLS:O2}));function X9(e,t,n,r,o=e){const l=new Rf(e,r,o),d=typeof t=="function"?t($9()):t,m=Object.fromEntries(Object.entries(d).map(([v,C])=>{const b=C;b.setName(v);const O=b.build(l);return l[Em].push(...b.buildForeignKeys(O,l)),[v,O]})),x=Object.fromEntries(Object.entries(d).map(([v,C])=>{const b=C;b.setName(v);const O=b.buildExtraConfigColumn(l);return[v,O]})),g=Object.assign(l,m);return g[lr.Symbol.Columns]=m,g[lr.Symbol.ExtraConfigColumns]=x,Object.assign(g,{enableRLS:()=>(g[Rf.Symbol.EnableRLS]=!0,g)})}const Xl=(e,t,n)=>X9(e,t,n,void 0);var wt;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const l={};for(const d of o)l[d]=d;return l},e.getValidEnumValues=o=>{const l=e.objectKeys(o).filter(m=>typeof o[o[m]]!="number"),d={};for(const m of l)d[m]=o[m];return e.objectValues(d)},e.objectValues=o=>e.objectKeys(o).map(function(l){return o[l]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const l=[];for(const d in o)Object.prototype.hasOwnProperty.call(o,d)&&l.push(d);return l},e.find=(o,l)=>{for(const d of o)if(l(d))return d},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,l=" | "){return o.map(d=>typeof d=="string"?`'${d}'`:d).join(l)}e.joinValues=r,e.jsonStringifyReplacer=(o,l)=>typeof l=="bigint"?l.toString():l})(wt||(wt={}));var bm;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(bm||(bm={}));const Re=wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),li=e=>{switch(typeof e){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return isNaN(e)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(e)?Re.array:e===null?Re.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Re.promise:typeof Map<"u"&&e instanceof Map?Re.map:typeof Set<"u"&&e instanceof Set?Re.set:typeof Date<"u"&&e instanceof Date?Re.date:Re.object;default:return Re.unknown}},he=wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Z9=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Fr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(l){return l.message},r={_errors:[]},o=l=>{for(const d of l.issues)if(d.code==="invalid_union")d.unionErrors.map(o);else if(d.code==="invalid_return_type")o(d.returnTypeError);else if(d.code==="invalid_arguments")o(d.argumentsError);else if(d.path.length===0)r._errors.push(n(d));else{let m=r,x=0;for(;x<d.path.length;){const g=d.path[x];x===d.path.length-1?(m[g]=m[g]||{_errors:[]},m[g]._errors.push(n(d))):m[g]=m[g]||{_errors:[]},m=m[g],x++}}};return o(this),r}static assert(t){if(!(t instanceof Fr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Fr.create=e=>new Fr(e);const Dl=(e,t)=>{let n;switch(e.code){case he.invalid_type:e.received===Re.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case he.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,wt.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:n=`Unrecognized key(s) in object: ${wt.joinValues(e.keys,", ")}`;break;case he.invalid_union:n="Invalid input";break;case he.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${wt.joinValues(e.options)}`;break;case he.invalid_enum_value:n=`Invalid enum value. Expected ${wt.joinValues(e.options)}, received '${e.received}'`;break;case he.invalid_arguments:n="Invalid function arguments";break;case he.invalid_return_type:n="Invalid function return type";break;case he.invalid_date:n="Invalid date";break;case he.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:wt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case he.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case he.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case he.custom:n="Invalid input";break;case he.invalid_intersection_types:n="Intersection results could not be merged";break;case he.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case he.not_finite:n="Number must be finite";break;default:n=t.defaultError,wt.assertNever(e)}return{message:n}};let iT=Dl;function K9(e){iT=e}function Of(){return iT}const Pf=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,l=[...n,...o.path||[]],d={...o,path:l};if(o.message!==void 0)return{...o,path:l,message:o.message};let m="";const x=r.filter(g=>!!g).slice().reverse();for(const g of x)m=g(d,{data:t,defaultError:m}).message;return{...o,path:l,message:m}},q9=[];function Ae(e,t){const n=Of(),r=Pf({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Dl?void 0:Dl].filter(o=>!!o)});e.common.issues.push(r)}class er{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const o of n){if(o.status==="aborted")return Ze;o.status==="dirty"&&t.dirty(),r.push(o.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const o of n){const l=await o.key,d=await o.value;r.push({key:l,value:d})}return er.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const o of n){const{key:l,value:d}=o;if(l.status==="aborted"||d.status==="aborted")return Ze;l.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),l.value!=="__proto__"&&(typeof d.value<"u"||o.alwaysSet)&&(r[l.value]=d.value)}return{status:t.value,value:r}}}const Ze=Object.freeze({status:"aborted"}),$a=e=>({status:"dirty",value:e}),dr=e=>({status:"valid",value:e}),Sm=e=>e.status==="aborted",Am=e=>e.status==="dirty",ua=e=>e.status==="valid",uu=e=>typeof Promise<"u"&&e instanceof Promise;function Df(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function oT(e,t,n,r,o){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Fe||(Fe={}));var Sc,Ac;class Xs{constructor(t,n,r,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const P2=(e,t)=>{if(ua(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Fr(e.common.issues);return this._error=n,this._error}}};function tt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(d,m)=>{var x,g;const{message:v}=e;return d.code==="invalid_enum_value"?{message:v??m.defaultError}:typeof m.data>"u"?{message:(x=v??r)!==null&&x!==void 0?x:m.defaultError}:d.code!=="invalid_type"?{message:m.defaultError}:{message:(g=v??n)!==null&&g!==void 0?g:m.defaultError}},description:o}}class lt{get description(){return this._def.description}_getType(t){return li(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:li(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new er,ctx:{common:t.parent.common,data:t.data,parsedType:li(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(uu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const o={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:li(t)},l=this._parseSync({data:t,path:o.path,parent:o});return P2(o,l)}"~validate"(t){var n,r;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:li(t)};if(!this["~standard"].async)try{const l=this._parseSync({data:t,path:[],parent:o});return ua(l)?{value:l.value}:{issues:o.common.issues}}catch(l){!((r=(n=l==null?void 0:l.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:o}).then(l=>ua(l)?{value:l.value}:{issues:o.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:li(t)},o=this._parse({data:t,path:r.path,parent:r}),l=await(uu(o)?o:Promise.resolve(o));return P2(r,l)}refine(t,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,l)=>{const d=t(o),m=()=>l.addIssue({code:he.custom,...r(o)});return typeof Promise<"u"&&d instanceof Promise?d.then(x=>x?!0:(m(),!1)):d?!0:(m(),!1)})}refinement(t,n){return this._refinement((r,o)=>t(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(t){return new bs({schema:this,typeName:$e.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Hs.create(this,this._def)}nullable(){return Eo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vs.create(this)}promise(){return Ml.create(this,this._def)}or(t){return mu.create([this,t],this._def)}and(t){return pu.create(this,t,this._def)}transform(t){return new bs({...tt(this._def),schema:this,typeName:$e.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new wu({...tt(this._def),innerType:this,defaultValue:n,typeName:$e.ZodDefault})}brand(){return new Mg({typeName:$e.ZodBranded,type:this,...tt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Cu({...tt(this._def),innerType:this,catchValue:n,typeName:$e.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Bu.create(this,t)}readonly(){return Eu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Y9=/^c[^\s-]{8,}$/i,Q9=/^[0-9a-z]+$/,J9=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ej=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tj=/^[a-z0-9_-]{21}$/i,nj=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rj=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sj=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ij="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Q0;const oj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uj=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dj=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fj=new RegExp(`^${aT}$`);function lT(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function hj(e){return new RegExp(`^${lT(e)}$`)}function cT(e){let t=`${aT}T${lT(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function mj(e,t){return!!((t==="v4"||!t)&&oj.test(e)||(t==="v6"||!t)&&lj.test(e))}function pj(e,t){if(!nj.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||!o.typ||!o.alg||t&&o.alg!==t)}catch{return!1}}function gj(e,t){return!!((t==="v4"||!t)&&aj.test(e)||(t==="v6"||!t)&&cj.test(e))}class gs extends lt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Re.string){const l=this._getOrReturnCtx(t);return Ae(l,{code:he.invalid_type,expected:Re.string,received:l.parsedType}),Ze}const r=new er;let o;for(const l of this._def.checks)if(l.kind==="min")t.data.length<l.value&&(o=this._getOrReturnCtx(t,o),Ae(o,{code:he.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),r.dirty());else if(l.kind==="max")t.data.length>l.value&&(o=this._getOrReturnCtx(t,o),Ae(o,{code:he.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),r.dirty());else if(l.kind==="length"){const d=t.data.length>l.value,m=t.data.length<l.value;(d||m)&&(o=this._getOrReturnCtx(t,o),d?Ae(o,{code:he.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):m&&Ae(o,{code:he.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),r.dirty())}else if(l.kind==="email")sj.test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"email",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="emoji")Q0||(Q0=new RegExp(ij,"u")),Q0.test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"emoji",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="uuid")ej.test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"uuid",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="nanoid")tj.test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"nanoid",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="cuid")Y9.test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"cuid",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="cuid2")Q9.test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"cuid2",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="ulid")J9.test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"ulid",code:he.invalid_string,message:l.message}),r.dirty());else if(l.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),Ae(o,{validation:"url",code:he.invalid_string,message:l.message}),r.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"regex",code:he.invalid_string,message:l.message}),r.dirty())):l.kind==="trim"?t.data=t.data.trim():l.kind==="includes"?t.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(t,o),Ae(o,{code:he.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),r.dirty()):l.kind==="toLowerCase"?t.data=t.data.toLowerCase():l.kind==="toUpperCase"?t.data=t.data.toUpperCase():l.kind==="startsWith"?t.data.startsWith(l.value)||(o=this._getOrReturnCtx(t,o),Ae(o,{code:he.invalid_string,validation:{startsWith:l.value},message:l.message}),r.dirty()):l.kind==="endsWith"?t.data.endsWith(l.value)||(o=this._getOrReturnCtx(t,o),Ae(o,{code:he.invalid_string,validation:{endsWith:l.value},message:l.message}),r.dirty()):l.kind==="datetime"?cT(l).test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{code:he.invalid_string,validation:"datetime",message:l.message}),r.dirty()):l.kind==="date"?fj.test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{code:he.invalid_string,validation:"date",message:l.message}),r.dirty()):l.kind==="time"?hj(l).test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{code:he.invalid_string,validation:"time",message:l.message}),r.dirty()):l.kind==="duration"?rj.test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"duration",code:he.invalid_string,message:l.message}),r.dirty()):l.kind==="ip"?mj(t.data,l.version)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"ip",code:he.invalid_string,message:l.message}),r.dirty()):l.kind==="jwt"?pj(t.data,l.alg)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"jwt",code:he.invalid_string,message:l.message}),r.dirty()):l.kind==="cidr"?gj(t.data,l.version)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"cidr",code:he.invalid_string,message:l.message}),r.dirty()):l.kind==="base64"?uj.test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"base64",code:he.invalid_string,message:l.message}),r.dirty()):l.kind==="base64url"?dj.test(t.data)||(o=this._getOrReturnCtx(t,o),Ae(o,{validation:"base64url",code:he.invalid_string,message:l.message}),r.dirty()):wt.assertNever(l);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(o=>t.test(o),{validation:n,code:he.invalid_string,...Fe.errToObj(r)})}_addCheck(t){return new gs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Fe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Fe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Fe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Fe.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...Fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Fe.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Fe.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Fe.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Fe.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Fe.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Fe.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Fe.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Fe.errToObj(n)})}nonempty(t){return this.min(1,Fe.errToObj(t))}trim(){return new gs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}gs.create=e=>{var t;return new gs({checks:[],typeName:$e.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...tt(e)})};function xj(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r,l=parseInt(e.toFixed(o).replace(".","")),d=parseInt(t.toFixed(o).replace(".",""));return l%d/Math.pow(10,o)}class vo extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Re.number){const l=this._getOrReturnCtx(t);return Ae(l,{code:he.invalid_type,expected:Re.number,received:l.parsedType}),Ze}let r;const o=new er;for(const l of this._def.checks)l.kind==="int"?wt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{code:he.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(r=this._getOrReturnCtx(t,r),Ae(r,{code:he.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(r=this._getOrReturnCtx(t,r),Ae(r,{code:he.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?xj(t.data,l.value)!==0&&(r=this._getOrReturnCtx(t,r),Ae(r,{code:he.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Ae(r,{code:he.not_finite,message:l.message}),o.dirty()):wt.assertNever(l);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Fe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Fe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Fe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Fe.toString(n))}setLimit(t,n,r,o){return new vo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Fe.toString(o)}]})}_addCheck(t){return new vo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&wt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}vo.create=e=>new vo({checks:[],typeName:$e.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...tt(e)});class wo extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Re.bigint)return this._getInvalidInput(t);let r;const o=new er;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(r=this._getOrReturnCtx(t,r),Ae(r,{code:he.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(r=this._getOrReturnCtx(t,r),Ae(r,{code:he.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?t.data%l.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Ae(r,{code:he.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):wt.assertNever(l);return{status:o.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Ae(n,{code:he.invalid_type,expected:Re.bigint,received:n.parsedType}),Ze}gte(t,n){return this.setLimit("min",t,!0,Fe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Fe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Fe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Fe.toString(n))}setLimit(t,n,r,o){return new wo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Fe.toString(o)}]})}_addCheck(t){return new wo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}wo.create=e=>{var t;return new wo({checks:[],typeName:$e.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...tt(e)})};class du extends lt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Re.boolean){const r=this._getOrReturnCtx(t);return Ae(r,{code:he.invalid_type,expected:Re.boolean,received:r.parsedType}),Ze}return dr(t.data)}}du.create=e=>new du({typeName:$e.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...tt(e)});class da extends lt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Re.date){const l=this._getOrReturnCtx(t);return Ae(l,{code:he.invalid_type,expected:Re.date,received:l.parsedType}),Ze}if(isNaN(t.data.getTime())){const l=this._getOrReturnCtx(t);return Ae(l,{code:he.invalid_date}),Ze}const r=new er;let o;for(const l of this._def.checks)l.kind==="min"?t.data.getTime()<l.value&&(o=this._getOrReturnCtx(t,o),Ae(o,{code:he.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),r.dirty()):l.kind==="max"?t.data.getTime()>l.value&&(o=this._getOrReturnCtx(t,o),Ae(o,{code:he.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),r.dirty()):wt.assertNever(l);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new da({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Fe.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Fe.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}da.create=e=>new da({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:$e.ZodDate,...tt(e)});class kf extends lt{_parse(t){if(this._getType(t)!==Re.symbol){const r=this._getOrReturnCtx(t);return Ae(r,{code:he.invalid_type,expected:Re.symbol,received:r.parsedType}),Ze}return dr(t.data)}}kf.create=e=>new kf({typeName:$e.ZodSymbol,...tt(e)});class fu extends lt{_parse(t){if(this._getType(t)!==Re.undefined){const r=this._getOrReturnCtx(t);return Ae(r,{code:he.invalid_type,expected:Re.undefined,received:r.parsedType}),Ze}return dr(t.data)}}fu.create=e=>new fu({typeName:$e.ZodUndefined,...tt(e)});class hu extends lt{_parse(t){if(this._getType(t)!==Re.null){const r=this._getOrReturnCtx(t);return Ae(r,{code:he.invalid_type,expected:Re.null,received:r.parsedType}),Ze}return dr(t.data)}}hu.create=e=>new hu({typeName:$e.ZodNull,...tt(e)});class kl extends lt{constructor(){super(...arguments),this._any=!0}_parse(t){return dr(t.data)}}kl.create=e=>new kl({typeName:$e.ZodAny,...tt(e)});class Qo extends lt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return dr(t.data)}}Qo.create=e=>new Qo({typeName:$e.ZodUnknown,...tt(e)});class bi extends lt{_parse(t){const n=this._getOrReturnCtx(t);return Ae(n,{code:he.invalid_type,expected:Re.never,received:n.parsedType}),Ze}}bi.create=e=>new bi({typeName:$e.ZodNever,...tt(e)});class Mf extends lt{_parse(t){if(this._getType(t)!==Re.undefined){const r=this._getOrReturnCtx(t);return Ae(r,{code:he.invalid_type,expected:Re.void,received:r.parsedType}),Ze}return dr(t.data)}}Mf.create=e=>new Mf({typeName:$e.ZodVoid,...tt(e)});class vs extends lt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),o=this._def;if(n.parsedType!==Re.array)return Ae(n,{code:he.invalid_type,expected:Re.array,received:n.parsedType}),Ze;if(o.exactLength!==null){const d=n.data.length>o.exactLength.value,m=n.data.length<o.exactLength.value;(d||m)&&(Ae(n,{code:d?he.too_big:he.too_small,minimum:m?o.exactLength.value:void 0,maximum:d?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(Ae(n,{code:he.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(Ae(n,{code:he.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((d,m)=>o.type._parseAsync(new Xs(n,d,n.path,m)))).then(d=>er.mergeArray(r,d));const l=[...n.data].map((d,m)=>o.type._parseSync(new Xs(n,d,n.path,m)));return er.mergeArray(r,l)}get element(){return this._def.type}min(t,n){return new vs({...this._def,minLength:{value:t,message:Fe.toString(n)}})}max(t,n){return new vs({...this._def,maxLength:{value:t,message:Fe.toString(n)}})}length(t,n){return new vs({...this._def,exactLength:{value:t,message:Fe.toString(n)}})}nonempty(t){return this.min(1,t)}}vs.create=(e,t)=>new vs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:$e.ZodArray,...tt(t)});function Da(e){if(e instanceof nn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Hs.create(Da(r))}return new nn({...e._def,shape:()=>t})}else return e instanceof vs?new vs({...e._def,type:Da(e.element)}):e instanceof Hs?Hs.create(Da(e.unwrap())):e instanceof Eo?Eo.create(Da(e.unwrap())):e instanceof Zs?Zs.create(e.items.map(t=>Da(t))):e}class nn extends lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=wt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Re.object){const g=this._getOrReturnCtx(t);return Ae(g,{code:he.invalid_type,expected:Re.object,received:g.parsedType}),Ze}const{status:r,ctx:o}=this._processInputParams(t),{shape:l,keys:d}=this._getCached(),m=[];if(!(this._def.catchall instanceof bi&&this._def.unknownKeys==="strip"))for(const g in o.data)d.includes(g)||m.push(g);const x=[];for(const g of d){const v=l[g],C=o.data[g];x.push({key:{status:"valid",value:g},value:v._parse(new Xs(o,C,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof bi){const g=this._def.unknownKeys;if(g==="passthrough")for(const v of m)x.push({key:{status:"valid",value:v},value:{status:"valid",value:o.data[v]}});else if(g==="strict")m.length>0&&(Ae(o,{code:he.unrecognized_keys,keys:m}),r.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const v of m){const C=o.data[v];x.push({key:{status:"valid",value:v},value:g._parse(new Xs(o,C,o.path,v)),alwaysSet:v in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const g=[];for(const v of x){const C=await v.key,b=await v.value;g.push({key:C,value:b,alwaysSet:v.alwaysSet})}return g}).then(g=>er.mergeObjectSync(r,g)):er.mergeObjectSync(r,x)}get shape(){return this._def.shape()}strict(t){return Fe.errToObj,new nn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var o,l,d,m;const x=(d=(l=(o=this._def).errorMap)===null||l===void 0?void 0:l.call(o,n,r).message)!==null&&d!==void 0?d:r.defaultError;return n.code==="unrecognized_keys"?{message:(m=Fe.errToObj(t).message)!==null&&m!==void 0?m:x}:{message:x}}}:{}})}strip(){return new nn({...this._def,unknownKeys:"strip"})}passthrough(){return new nn({...this._def,unknownKeys:"passthrough"})}extend(t){return new nn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new nn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:$e.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new nn({...this._def,catchall:t})}pick(t){const n={};return wt.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new nn({...this._def,shape:()=>n})}omit(t){const n={};return wt.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new nn({...this._def,shape:()=>n})}deepPartial(){return Da(this)}partial(t){const n={};return wt.objectKeys(this.shape).forEach(r=>{const o=this.shape[r];t&&!t[r]?n[r]=o:n[r]=o.optional()}),new nn({...this._def,shape:()=>n})}required(t){const n={};return wt.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let l=this.shape[r];for(;l instanceof Hs;)l=l._def.innerType;n[r]=l}}),new nn({...this._def,shape:()=>n})}keyof(){return uT(wt.objectKeys(this.shape))}}nn.create=(e,t)=>new nn({shape:()=>e,unknownKeys:"strip",catchall:bi.create(),typeName:$e.ZodObject,...tt(t)});nn.strictCreate=(e,t)=>new nn({shape:()=>e,unknownKeys:"strict",catchall:bi.create(),typeName:$e.ZodObject,...tt(t)});nn.lazycreate=(e,t)=>new nn({shape:e,unknownKeys:"strip",catchall:bi.create(),typeName:$e.ZodObject,...tt(t)});class mu extends lt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function o(l){for(const m of l)if(m.result.status==="valid")return m.result;for(const m of l)if(m.result.status==="dirty")return n.common.issues.push(...m.ctx.common.issues),m.result;const d=l.map(m=>new Fr(m.ctx.common.issues));return Ae(n,{code:he.invalid_union,unionErrors:d}),Ze}if(n.common.async)return Promise.all(r.map(async l=>{const d={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:d}),ctx:d}})).then(o);{let l;const d=[];for(const x of r){const g={...n,common:{...n.common,issues:[]},parent:null},v=x._parseSync({data:n.data,path:n.path,parent:g});if(v.status==="valid")return v;v.status==="dirty"&&!l&&(l={result:v,ctx:g}),g.common.issues.length&&d.push(g.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const m=d.map(x=>new Fr(x));return Ae(n,{code:he.invalid_union,unionErrors:m}),Ze}}get options(){return this._def.options}}mu.create=(e,t)=>new mu({options:e,typeName:$e.ZodUnion,...tt(t)});const Js=e=>e instanceof xu?Js(e.schema):e instanceof bs?Js(e.innerType()):e instanceof yu?[e.value]:e instanceof Co?e.options:e instanceof vu?wt.objectValues(e.enum):e instanceof wu?Js(e._def.innerType):e instanceof fu?[void 0]:e instanceof hu?[null]:e instanceof Hs?[void 0,...Js(e.unwrap())]:e instanceof Eo?[null,...Js(e.unwrap())]:e instanceof Mg||e instanceof Eu?Js(e.unwrap()):e instanceof Cu?Js(e._def.innerType):[];class Ih extends lt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.object)return Ae(n,{code:he.invalid_type,expected:Re.object,received:n.parsedType}),Ze;const r=this.discriminator,o=n.data[r],l=this.optionsMap.get(o);return l?n.common.async?l._parseAsync({data:n.data,path:n.path,parent:n}):l._parseSync({data:n.data,path:n.path,parent:n}):(Ae(n,{code:he.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ze)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const o=new Map;for(const l of n){const d=Js(l.shape[t]);if(!d.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const m of d){if(o.has(m))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(m)}`);o.set(m,l)}}return new Ih({typeName:$e.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o,...tt(r)})}}function Nm(e,t){const n=li(e),r=li(t);if(e===t)return{valid:!0,data:e};if(n===Re.object&&r===Re.object){const o=wt.objectKeys(t),l=wt.objectKeys(e).filter(m=>o.indexOf(m)!==-1),d={...e,...t};for(const m of l){const x=Nm(e[m],t[m]);if(!x.valid)return{valid:!1};d[m]=x.data}return{valid:!0,data:d}}else if(n===Re.array&&r===Re.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let l=0;l<e.length;l++){const d=e[l],m=t[l],x=Nm(d,m);if(!x.valid)return{valid:!1};o.push(x.data)}return{valid:!0,data:o}}else return n===Re.date&&r===Re.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class pu extends lt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=(l,d)=>{if(Sm(l)||Sm(d))return Ze;const m=Nm(l.value,d.value);return m.valid?((Am(l)||Am(d))&&n.dirty(),{status:n.value,value:m.data}):(Ae(r,{code:he.invalid_intersection_types}),Ze)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([l,d])=>o(l,d)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}pu.create=(e,t,n)=>new pu({left:e,right:t,typeName:$e.ZodIntersection,...tt(n)});class Zs extends lt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Re.array)return Ae(r,{code:he.invalid_type,expected:Re.array,received:r.parsedType}),Ze;if(r.data.length<this._def.items.length)return Ae(r,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&r.data.length>this._def.items.length&&(Ae(r,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...r.data].map((d,m)=>{const x=this._def.items[m]||this._def.rest;return x?x._parse(new Xs(r,d,r.path,m)):null}).filter(d=>!!d);return r.common.async?Promise.all(l).then(d=>er.mergeArray(n,d)):er.mergeArray(n,l)}get items(){return this._def.items}rest(t){return new Zs({...this._def,rest:t})}}Zs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zs({items:e,typeName:$e.ZodTuple,rest:null,...tt(t)})};class gu extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Re.object)return Ae(r,{code:he.invalid_type,expected:Re.object,received:r.parsedType}),Ze;const o=[],l=this._def.keyType,d=this._def.valueType;for(const m in r.data)o.push({key:l._parse(new Xs(r,m,r.path,m)),value:d._parse(new Xs(r,r.data[m],r.path,m)),alwaysSet:m in r.data});return r.common.async?er.mergeObjectAsync(n,o):er.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof lt?new gu({keyType:t,valueType:n,typeName:$e.ZodRecord,...tt(r)}):new gu({keyType:gs.create(),valueType:t,typeName:$e.ZodRecord,...tt(n)})}}class jf extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Re.map)return Ae(r,{code:he.invalid_type,expected:Re.map,received:r.parsedType}),Ze;const o=this._def.keyType,l=this._def.valueType,d=[...r.data.entries()].map(([m,x],g)=>({key:o._parse(new Xs(r,m,r.path,[g,"key"])),value:l._parse(new Xs(r,x,r.path,[g,"value"]))}));if(r.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const x of d){const g=await x.key,v=await x.value;if(g.status==="aborted"||v.status==="aborted")return Ze;(g.status==="dirty"||v.status==="dirty")&&n.dirty(),m.set(g.value,v.value)}return{status:n.value,value:m}})}else{const m=new Map;for(const x of d){const g=x.key,v=x.value;if(g.status==="aborted"||v.status==="aborted")return Ze;(g.status==="dirty"||v.status==="dirty")&&n.dirty(),m.set(g.value,v.value)}return{status:n.value,value:m}}}}jf.create=(e,t,n)=>new jf({valueType:t,keyType:e,typeName:$e.ZodMap,...tt(n)});class fa extends lt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Re.set)return Ae(r,{code:he.invalid_type,expected:Re.set,received:r.parsedType}),Ze;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(Ae(r,{code:he.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(Ae(r,{code:he.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const l=this._def.valueType;function d(x){const g=new Set;for(const v of x){if(v.status==="aborted")return Ze;v.status==="dirty"&&n.dirty(),g.add(v.value)}return{status:n.value,value:g}}const m=[...r.data.values()].map((x,g)=>l._parse(new Xs(r,x,r.path,g)));return r.common.async?Promise.all(m).then(x=>d(x)):d(m)}min(t,n){return new fa({...this._def,minSize:{value:t,message:Fe.toString(n)}})}max(t,n){return new fa({...this._def,maxSize:{value:t,message:Fe.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}fa.create=(e,t)=>new fa({valueType:e,minSize:null,maxSize:null,typeName:$e.ZodSet,...tt(t)});class ol extends lt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.function)return Ae(n,{code:he.invalid_type,expected:Re.function,received:n.parsedType}),Ze;function r(m,x){return Pf({data:m,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Of(),Dl].filter(g=>!!g),issueData:{code:he.invalid_arguments,argumentsError:x}})}function o(m,x){return Pf({data:m,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Of(),Dl].filter(g=>!!g),issueData:{code:he.invalid_return_type,returnTypeError:x}})}const l={errorMap:n.common.contextualErrorMap},d=n.data;if(this._def.returns instanceof Ml){const m=this;return dr(async function(...x){const g=new Fr([]),v=await m._def.args.parseAsync(x,l).catch(O=>{throw g.addIssue(r(x,O)),g}),C=await Reflect.apply(d,this,v);return await m._def.returns._def.type.parseAsync(C,l).catch(O=>{throw g.addIssue(o(C,O)),g})})}else{const m=this;return dr(function(...x){const g=m._def.args.safeParse(x,l);if(!g.success)throw new Fr([r(x,g.error)]);const v=Reflect.apply(d,this,g.data),C=m._def.returns.safeParse(v,l);if(!C.success)throw new Fr([o(v,C.error)]);return C.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ol({...this._def,args:Zs.create(t).rest(Qo.create())})}returns(t){return new ol({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new ol({args:t||Zs.create([]).rest(Qo.create()),returns:n||Qo.create(),typeName:$e.ZodFunction,...tt(r)})}}class xu extends lt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}xu.create=(e,t)=>new xu({getter:e,typeName:$e.ZodLazy,...tt(t)});class yu extends lt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Ae(n,{received:n.data,code:he.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}yu.create=(e,t)=>new yu({value:e,typeName:$e.ZodLiteral,...tt(t)});function uT(e,t){return new Co({values:e,typeName:$e.ZodEnum,...tt(t)})}class Co extends lt{constructor(){super(...arguments),Sc.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Ae(n,{expected:wt.joinValues(r),received:n.parsedType,code:he.invalid_type}),Ze}if(Df(this,Sc)||oT(this,Sc,new Set(this._def.values)),!Df(this,Sc).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Ae(n,{received:n.data,code:he.invalid_enum_value,options:r}),Ze}return dr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Co.create(t,{...this._def,...n})}exclude(t,n=this._def){return Co.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Sc=new WeakMap;Co.create=uT;class vu extends lt{constructor(){super(...arguments),Ac.set(this,void 0)}_parse(t){const n=wt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Re.string&&r.parsedType!==Re.number){const o=wt.objectValues(n);return Ae(r,{expected:wt.joinValues(o),received:r.parsedType,code:he.invalid_type}),Ze}if(Df(this,Ac)||oT(this,Ac,new Set(wt.getValidEnumValues(this._def.values))),!Df(this,Ac).has(t.data)){const o=wt.objectValues(n);return Ae(r,{received:r.data,code:he.invalid_enum_value,options:o}),Ze}return dr(t.data)}get enum(){return this._def.values}}Ac=new WeakMap;vu.create=(e,t)=>new vu({values:e,typeName:$e.ZodNativeEnum,...tt(t)});class Ml extends lt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.promise&&n.common.async===!1)return Ae(n,{code:he.invalid_type,expected:Re.promise,received:n.parsedType}),Ze;const r=n.parsedType===Re.promise?n.data:Promise.resolve(n.data);return dr(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ml.create=(e,t)=>new Ml({type:e,typeName:$e.ZodPromise,...tt(t)});class bs extends lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=this._def.effect||null,l={addIssue:d=>{Ae(r,d),d.fatal?n.abort():n.dirty()},get path(){return r.path}};if(l.addIssue=l.addIssue.bind(l),o.type==="preprocess"){const d=o.transform(r.data,l);if(r.common.async)return Promise.resolve(d).then(async m=>{if(n.value==="aborted")return Ze;const x=await this._def.schema._parseAsync({data:m,path:r.path,parent:r});return x.status==="aborted"?Ze:x.status==="dirty"||n.value==="dirty"?$a(x.value):x});{if(n.value==="aborted")return Ze;const m=this._def.schema._parseSync({data:d,path:r.path,parent:r});return m.status==="aborted"?Ze:m.status==="dirty"||n.value==="dirty"?$a(m.value):m}}if(o.type==="refinement"){const d=m=>{const x=o.refinement(m,l);if(r.common.async)return Promise.resolve(x);if(x instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(r.common.async===!1){const m=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return m.status==="aborted"?Ze:(m.status==="dirty"&&n.dirty(),d(m.value),{status:n.value,value:m.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(m=>m.status==="aborted"?Ze:(m.status==="dirty"&&n.dirty(),d(m.value).then(()=>({status:n.value,value:m.value}))))}if(o.type==="transform")if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ua(d))return d;const m=o.transform(d.value,l);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:m}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>ua(d)?Promise.resolve(o.transform(d.value,l)).then(m=>({status:n.value,value:m})):d);wt.assertNever(o)}}bs.create=(e,t,n)=>new bs({schema:e,typeName:$e.ZodEffects,effect:t,...tt(n)});bs.createWithPreprocess=(e,t,n)=>new bs({schema:t,effect:{type:"preprocess",transform:e},typeName:$e.ZodEffects,...tt(n)});class Hs extends lt{_parse(t){return this._getType(t)===Re.undefined?dr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Hs.create=(e,t)=>new Hs({innerType:e,typeName:$e.ZodOptional,...tt(t)});class Eo extends lt{_parse(t){return this._getType(t)===Re.null?dr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Eo.create=(e,t)=>new Eo({innerType:e,typeName:$e.ZodNullable,...tt(t)});class wu extends lt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Re.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}wu.create=(e,t)=>new wu({innerType:e,typeName:$e.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...tt(t)});class Cu extends lt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return uu(o)?o.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Fr(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Fr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Cu.create=(e,t)=>new Cu({innerType:e,typeName:$e.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...tt(t)});class Lf extends lt{_parse(t){if(this._getType(t)!==Re.nan){const r=this._getOrReturnCtx(t);return Ae(r,{code:he.invalid_type,expected:Re.nan,received:r.parsedType}),Ze}return{status:"valid",value:t.data}}}Lf.create=e=>new Lf({typeName:$e.ZodNaN,...tt(e)});const yj=Symbol("zod_brand");class Mg extends lt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Bu extends lt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ze:l.status==="dirty"?(n.dirty(),$a(l.value)):this._def.out._parseAsync({data:l.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ze:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(t,n){return new Bu({in:t,out:n,typeName:$e.ZodPipeline})}}class Eu extends lt{_parse(t){const n=this._def.innerType._parse(t),r=o=>(ua(o)&&(o.value=Object.freeze(o.value)),o);return uu(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}}Eu.create=(e,t)=>new Eu({innerType:e,typeName:$e.ZodReadonly,...tt(t)});function D2(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function dT(e,t={},n){return e?kl.create().superRefine((r,o)=>{var l,d;const m=e(r);if(m instanceof Promise)return m.then(x=>{var g,v;if(!x){const C=D2(t,r),b=(v=(g=C.fatal)!==null&&g!==void 0?g:n)!==null&&v!==void 0?v:!0;o.addIssue({code:"custom",...C,fatal:b})}});if(!m){const x=D2(t,r),g=(d=(l=x.fatal)!==null&&l!==void 0?l:n)!==null&&d!==void 0?d:!0;o.addIssue({code:"custom",...x,fatal:g})}}):kl.create()}const vj={object:nn.lazycreate};var $e;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})($e||($e={}));const wj=(e,t={message:`Input not instance of ${e.name}`})=>dT(n=>n instanceof e,t),fT=gs.create,hT=vo.create,Cj=Lf.create,Ej=wo.create,mT=du.create,bj=da.create,Sj=kf.create,Aj=fu.create,Nj=hu.create,_j=kl.create,Tj=Qo.create,Ij=bi.create,Rj=Mf.create,Oj=vs.create,Pj=nn.create,Dj=nn.strictCreate,kj=mu.create,Mj=Ih.create,jj=pu.create,Lj=Zs.create,Fj=gu.create,Bj=jf.create,Vj=fa.create,Uj=ol.create,zj=xu.create,Wj=yu.create,Hj=Co.create,Gj=vu.create,$j=Ml.create,k2=bs.create,Xj=Hs.create,Zj=Eo.create,Kj=bs.createWithPreprocess,qj=Bu.create,Yj=()=>fT().optional(),Qj=()=>hT().optional(),Jj=()=>mT().optional(),eL={string:e=>gs.create({...e,coerce:!0}),number:e=>vo.create({...e,coerce:!0}),boolean:e=>du.create({...e,coerce:!0}),bigint:e=>wo.create({...e,coerce:!0}),date:e=>da.create({...e,coerce:!0})},tL=Ze;var Ye=Object.freeze({__proto__:null,defaultErrorMap:Dl,setErrorMap:K9,getErrorMap:Of,makeIssue:Pf,EMPTY_PATH:q9,addIssueToContext:Ae,ParseStatus:er,INVALID:Ze,DIRTY:$a,OK:dr,isAborted:Sm,isDirty:Am,isValid:ua,isAsync:uu,get util(){return wt},get objectUtil(){return bm},ZodParsedType:Re,getParsedType:li,ZodType:lt,datetimeRegex:cT,ZodString:gs,ZodNumber:vo,ZodBigInt:wo,ZodBoolean:du,ZodDate:da,ZodSymbol:kf,ZodUndefined:fu,ZodNull:hu,ZodAny:kl,ZodUnknown:Qo,ZodNever:bi,ZodVoid:Mf,ZodArray:vs,ZodObject:nn,ZodUnion:mu,ZodDiscriminatedUnion:Ih,ZodIntersection:pu,ZodTuple:Zs,ZodRecord:gu,ZodMap:jf,ZodSet:fa,ZodFunction:ol,ZodLazy:xu,ZodLiteral:yu,ZodEnum:Co,ZodNativeEnum:vu,ZodPromise:Ml,ZodEffects:bs,ZodTransformer:bs,ZodOptional:Hs,ZodNullable:Eo,ZodDefault:wu,ZodCatch:Cu,ZodNaN:Lf,BRAND:yj,ZodBranded:Mg,ZodPipeline:Bu,ZodReadonly:Eu,custom:dT,Schema:lt,ZodSchema:lt,late:vj,get ZodFirstPartyTypeKind(){return $e},coerce:eL,any:_j,array:Oj,bigint:Ej,boolean:mT,date:bj,discriminatedUnion:Mj,effect:k2,enum:Hj,function:Uj,instanceof:wj,intersection:jj,lazy:zj,literal:Wj,map:Bj,nan:Cj,nativeEnum:Gj,never:Ij,null:Nj,nullable:Zj,number:hT,object:Pj,oboolean:Jj,onumber:Qj,optional:Xj,ostring:Yj,pipeline:qj,preprocess:Kj,promise:$j,record:Fj,set:Vj,strictObject:Dj,string:fT,symbol:Sj,transformer:k2,tuple:Lj,undefined:Aj,union:kj,unknown:Tj,void:Rj,NEVER:tL,ZodIssueCode:he,quotelessJson:Z9,ZodError:Fr});const tn={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function pn(e,t){return t.includes(e.columnType)}function nL(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const rL=Ye.union([Ye.string(),Ye.number(),Ye.boolean(),Ye.null()]),sL=Ye.union([rL,Ye.record(Ye.any()),Ye.array(Ye.any())]),iL=Ye.custom(e=>e instanceof Buffer);function pT(e,t){const n=(t==null?void 0:t.zodInstance)??Ye,r=(t==null?void 0:t.coerce)??{};let o;return nL(e)&&(o=e.enumValues.length?n.enum(e.enumValues):n.string()),o||(pn(e,["PgGeometry","PgPointTuple"])?o=n.tuple([n.number(),n.number()]):pn(e,["PgGeometryObject","PgPointObject"])?o=n.object({x:n.number(),y:n.number()}):pn(e,["PgHalfVector","PgVector"])?(o=n.array(n.number()),o=e.dimensions?o.length(e.dimensions):o):pn(e,["PgLine"])?o=n.tuple([n.number(),n.number(),n.number()]):pn(e,["PgLineABC"])?o=n.object({a:n.number(),b:n.number(),c:n.number()}):pn(e,["PgArray"])?(o=n.array(pT(e.baseColumn,n)),o=e.size?o.length(e.size):o):e.dataType==="array"?o=n.array(n.any()):e.dataType==="number"?o=oL(e,n,r):e.dataType==="bigint"?o=aL(e,n,r):e.dataType==="boolean"?o=r===!0||r.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?o=r===!0||r.date?n.coerce.date():n.date():e.dataType==="string"?o=lL(e,n,r):e.dataType==="json"?o=sL:e.dataType==="custom"?o=n.any():e.dataType==="buffer"&&(o=iL)),o||(o=n.any()),o}function oL(e,t,n){let r=e.getSQLType().includes("unsigned"),o,l,d=!1;pn(e,["MySqlTinyInt","SingleStoreTinyInt"])?(o=r?0:tn.INT8_MIN,l=r?tn.INT8_UNSIGNED_MAX:tn.INT8_MAX,d=!0):pn(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=r?0:tn.INT16_MIN,l=r?tn.INT16_UNSIGNED_MAX:tn.INT16_MAX,d=!0):pn(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=r?0:tn.INT24_MIN,l=r?tn.INT24_UNSIGNED_MAX:tn.INT24_MAX,d=pn(e,["MySqlMediumInt","SingleStoreMediumInt"])):pn(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=r?0:tn.INT32_MIN,l=r?tn.INT32_UNSIGNED_MAX:tn.INT32_MAX,d=!0):pn(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=r?0:tn.INT48_MIN,l=r?tn.INT48_UNSIGNED_MAX:tn.INT48_MAX):pn(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||pn(e,["MySqlSerial","SingleStoreSerial"]),o=r?0:Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,d=!0):pn(e,["MySqlYear","SingleStoreYear"])?(o=1901,l=2155,d=!0):(o=Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER);let m=n===!0||n!=null&&n.number?t.coerce.number():t.number();return m=m.min(o).max(l),d?m.int():m}function aL(e,t,n){const r=e.getSQLType().includes("unsigned"),o=r?0n:tn.INT64_MIN,l=r?tn.INT64_UNSIGNED_MAX:tn.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(o).max(l)}function lL(e,t,n){if(pn(e,["PgUUID"]))return t.string().uuid();let r,o,l=!1;pn(e,["PgVarchar","SQLiteText"])?r=e.length:pn(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??tn.INT16_UNSIGNED_MAX:pn(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=tn.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=tn.INT24_UNSIGNED_MAX:e.textType==="text"?r=tn.INT16_UNSIGNED_MAX:r=tn.INT8_UNSIGNED_MAX),pn(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,l=!0),pn(e,["PgBinaryVector"])&&(o=/^[01]+$/,r=e.dimensions);let d=n===!0||n!=null&&n.string?t.coerce.string():t.string();return d=o?d.regex(o):d,r&&l?d.length(r):r?d.max(r):d}function gT(e){return T_(e)?x9(e):y9(e)}function xT(e,t,n,r){const o={};for(const[l,d]of Object.entries(e)){if(!Un(d,Ol)&&!Un(d,_n)&&!Un(d,_n.Aliased)&&typeof d=="object"){const C=T_(d)||g9(d)?gT(d):d;o[l]=xT(C,t[l]??{},n,r);continue}const m=t[l];if(m!==void 0&&typeof m!="function"){o[l]=m;continue}const x=Un(d,Ol)?d:void 0,g=x?pT(x,r):Ye.any(),v=typeof m=="function"?m(g):g;n.never(x)||(o[l]=v,x&&(n.nullable(x)&&(o[l]=o[l].nullable()),n.optional(x)&&(o[l]=o[l].optional())))}return Ye.object(o)}const cL={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Zl=(e,t)=>{const n=gT(e);return xT(n,t??{},cL)},jg=Xl("users",{id:ft("id").primaryKey().default($s`gen_random_uuid()`),email:ft("email",{length:255}).notNull().unique(),emailVerified:no("email_verified").default(!1),password:mi("password").notNull(),name:ft("name",{length:255}).notNull(),cpf:ft("cpf",{length:14}).notNull().unique(),phone:ft("phone",{length:20}).notNull(),birthDate:Dn("birth_date").notNull(),address:mi("address").notNull(),partnerCompany:ft("partner_company",{length:255}),isAdmin:no("is_admin").default(!1).notNull(),isStaff:no("is_staff").default(!1).notNull(),isSuperuser:no("is_superuser").default(!1).notNull(),createdAt:Dn("created_at").defaultNow(),updatedAt:Dn("updated_at").defaultNow(),emailVerificationCode:ft("email_verification_code",{length:6}),emailVerificationCodeExpiresAt:Dn("email_verification_code_expires_at")}),Lg=Xl("events",{id:ft("id").primaryKey().default($s`gen_random_uuid()`),title:ft("title",{length:255}).notNull(),description:mi("description").notNull(),date:Dn("date").notNull(),location:ft("location",{length:255}).notNull(),price:kg("price",{precision:10,scale:2}).notNull(),imageUrl:ft("image_url",{length:500}),maxAttendees:Pl("max_attendees"),currentAttendees:Pl("current_attendees").default(0),isActive:no("is_active").default(!0),createdAt:Dn("created_at").defaultNow(),updatedAt:Dn("updated_at").defaultNow()}),yT=Xl("courtesy_links",{id:ft("id").primaryKey().default($s`gen_random_uuid()`),code:ft("code",{length:100}).notNull().unique(),eventId:ft("event_id").notNull().references(()=>Lg.id),ticketCount:Pl("ticket_count").notNull().default(1),usedCount:Pl("used_count").default(0),createdBy:ft("created_by").notNull().references(()=>jg.id),isActive:no("is_active").default(!0),createdAt:Dn("created_at").defaultNow(),updatedAt:Dn("updated_at").defaultNow(),overridePrice:kg("override_price",{precision:10,scale:2})}),uL=Xl("orders",{id:ft("id").primaryKey().default($s`gen_random_uuid()`),userId:ft("user_id").notNull().references(()=>jg.id),eventId:ft("event_id").notNull().references(()=>Lg.id),courtesyAttendeeId:ft("courtesy_attendee_id").references(()=>vT.id),cpf:ft("cpf",{length:14}).notNull(),status:ft("status",{length:50}).notNull().default("pending"),paymentMethod:ft("payment_method",{length:50}).notNull(),amount:kg("amount",{precision:10,scale:2}).notNull(),asaasPaymentId:ft("asaas_payment_id",{length:255}),courtesyLinkId:ft("courtesy_link_id").references(()=>yT.id),qrCodeData:mi("qr_code_data"),qrCodeUsed:no("qr_code_used").default(!1),qrCodeUsedAt:Dn("qr_code_used_at"),createdAt:Dn("created_at").defaultNow(),updatedAt:Dn("updated_at").defaultNow(),qr_code_s3_url:ft("qr_code_s3_url",{length:500})}),dL=Xl("email_queue",{id:ft("id").primaryKey().default($s`gen_random_uuid()`),to:ft("to",{length:255}).notNull(),subject:ft("subject",{length:255}).notNull(),html:mi("html"),text:mi("text"),attachments:mi("attachments"),status:ft("status",{length:50}).default("pending"),attempts:Pl("attempts").default(0),createdAt:Dn("created_at").defaultNow(),processedAt:Dn("processed_at")}),vT=Xl("courtesy_attendees",{id:ft("id").primaryKey().default($s`gen_random_uuid()`),name:ft("name",{length:255}).notNull(),email:ft("email",{length:255}).notNull(),cpf:ft("cpf",{length:14}).notNull(),phone:ft("phone",{length:20}).notNull(),birthDate:Dn("birth_date").notNull(),address:mi("address").notNull(),partnerCompany:ft("partner_company",{length:255}),eventTitle:ft("event_title",{length:255}).notNull(),createdAt:Dn("created_at").defaultNow(),updatedAt:Dn("updated_at").defaultNow()}),fL=Zl(jg,{email:Ye.string().email("Email invlido"),cpf:Ye.string().regex(/^\d{3}\.\d{3}\.\d{3}-\d{2}$/,"CPF deve estar no formato 000.000.000-00"),phone:Ye.string().regex(/^\(\d{2}\)\s\d{4,5}-\d{4}$/,"Telefone deve estar no formato (00) 00000-0000"),password:Ye.string().min(6,"Senha deve ter pelo menos 6 caracteres"),name:Ye.string().min(2,"Nome deve ter pelo menos 2 caracteres"),address:Ye.string().min(10,"Endereo deve ter pelo menos 10 caracteres"),birthDate:Ye.date({required_error:"Data de nascimento  obrigatria"})}).omit({id:!0,createdAt:!0,updatedAt:!0,emailVerified:!0,isAdmin:!0});Zl(Lg).omit({id:!0,createdAt:!0,updatedAt:!0,currentAttendees:!0});Zl(uL).omit({id:!0,createdAt:!0,updatedAt:!0,qrCodeData:!0,qrCodeUsed:!0,qrCodeUsedAt:!0});Zl(dL).omit({id:!0,createdAt:!0,processedAt:!0,status:!0,attempts:!0});Zl(yT).omit({id:!0,createdAt:!0,updatedAt:!0,usedCount:!0});Zl(vT).omit({id:!0,createdAt:!0,updatedAt:!0});const hL=Ye.object({email:Ye.string().email("Email invlido"),password:Ye.string().min(1,"Senha  obrigatria")});Ye.object({name:Ye.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ye.string().email("Email invlido"),emailConfirm:Ye.string().email("Email invlido"),cpf:Ye.string().regex(/^\d{3}\.\d{3}\.\d{3}-\d{2}$/,"CPF deve estar no formato 000.000.000-00"),partnerCompany:Ye.string().min(2,"Empresa parceira  obrigatria"),birthDate:Ye.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Data deve estar no formato AAAA-MM-DD"),address:Ye.string().min(10,"Endereo deve ter pelo menos 10 caracteres"),phone:Ye.string().regex(/^\(\d{2}\)\s\d{4,5}-\d{4}$/,"Telefone deve estar no formato (00) 00000-0000")}).refine(e=>e.email===e.emailConfirm,{message:"Os emails no coincidem",path:["emailConfirm"]});function mL(){const[,e]=zr(),{toast:t}=mr(),[n,r]=E.useState(!1),o=ca({resolver:Ig(hL),defaultValues:{email:"",password:""}}),l=cr({mutationFn:async m=>(await Yt("POST","/api/users/auth/login/",m)).json(),onSuccess:m=>{localStorage.setItem("token",m.token),fi.invalidateQueries({queryKey:["/api/users/auth/me/"]}),console.log("Login Success Data:",JSON.stringify(m,null,2)),m.user.is_email_verified?(console.log("Login Success Data:",m),t({title:"Login realizado com sucesso!"}),e("/")):(t({title:"Verificao necessria",description:"Por favor, verifique seu e-mail."}),e(`/verify-email?email=${m.user.email}`))},onError:m=>{t({title:"Erro no login",description:m.message||"Verifique suas credenciais",variant:"destructive"})}}),d=m=>{l.mutate(m)};return h.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs(It,{className:"w-full max-w-md",children:[h.jsxs(zn,{className:"text-center",children:[h.jsx("div",{className:"text-5xl mb-6",children:""}),h.jsx(Wn,{className:"text-3xl font-bold text-gray-900",children:"Entrar na sua conta"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Acesse seus ingressos e histrico de eventos"})]}),h.jsx(Rt,{children:h.jsxs("form",{onSubmit:o.handleSubmit(d),className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail"}),h.jsx(ut,{id:"email",type:"email",...o.register("email"),className:"w-full","data-testid":"input-email"}),o.formState.errors.email&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-email-error",children:o.formState.errors.email.message})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),h.jsx(ut,{id:"password",type:"password",...o.register("password"),className:"w-full","data-testid":"input-password"}),o.formState.errors.password&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-password-error",children:o.formState.errors.password.message})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Og,{id:"remember",checked:n,onCheckedChange:m=>r(m),"data-testid":"checkbox-remember"}),h.jsx(vt,{htmlFor:"remember",className:"text-sm text-gray-600",children:"Lembrar de mim"})]}),h.jsx("a",{href:"/forgot-password",className:"text-sm text-primary hover:text-secondary",children:"Esqueceu a senha?"})]}),h.jsx(Qe,{type:"submit",className:"w-full bg-primary hover:bg-secondary",disabled:l.isPending,"data-testid":"button-login",children:l.isPending?"Entrando...":"Entrar"}),h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:"text-gray-600",children:"No tem conta? "}),h.jsx("a",{href:"/register",className:"text-primary hover:text-secondary font-medium","data-testid":"link-register",children:"Cadastre-se"})]})]})})]})})}const Fg=E.forwardRef(({className:e,...t},n)=>h.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Fg.displayName="Textarea";const pL=fL.extend({birthDate:Ye.string().regex(/^\d{2}\/\d{2}\/\d{4}$/,"Data deve estar no formato dd/mm/aaaa"),emailConfirm:Ye.string().email("Email invlido"),passwordConfirm:Ye.string().min(6,"Confirmao de senha  obrigatria"),acceptTerms:Ye.boolean().refine(e=>e===!0,"Voc deve aceitar os termos")}).refine(e=>e.email===e.emailConfirm,{message:"Os e-mails no coincidem",path:["emailConfirm"]}).refine(e=>e.password===e.passwordConfirm,{message:"As senhas no coincidem",path:["passwordConfirm"]});function gL(){const[,e]=zr(),{toast:t}=mr(),[n,r]=E.useState(!1),[o,l]=E.useState(null),d=ca({resolver:Ig(pL),defaultValues:{name:"",cpf:"",birthDate:"",email:"",emailConfirm:"",phone:"",address:"",password:"",passwordConfirm:"",acceptTerms:!1}}),m=cr({mutationFn:async C=>{const{emailConfirm:b,passwordConfirm:O,acceptTerms:k,birthDate:N,...P}=C,[R,A,I]=N.split("/"),M=`${R}/${A}/${I}`,$={...P,cpf:(G=>G.normalize("NFKC").replace(/\s+/g,"").replace(/[]/g,"-").replace(/[^\d.-]/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"))(P.cpf),birth_date:M,password_confirm:O};return console.log("DEBUG formatted registerData:",JSON.stringify($,null,2)),(await Yt("POST","/api/users/auth/register/",$)).json()},onSuccess:C=>{C.email&&(t({title:"Conta criada com sucesso!",description:"Enviamos um cdigo para o seu e-mail."}),e(`/verify-email?email=${C.email}`))},onError:C=>{t({title:"Erro no cadastro",description:C.message||"Tente novamente",variant:"destructive"})}}),x=C=>{m.mutate(C)},g=C=>{let b=C.target.value.replace(/\D/g,"");b=b.replace(/(\d{3})(\d)/,"$1.$2"),b=b.replace(/(\d{3})(\d)/,"$1.$2"),b=b.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),d.setValue("cpf",b)},v=C=>{let b=C.target.value.replace(/\D/g,"");b=b.replace(/(\d{2})(\d)/,"($1) $2"),b=b.replace(/(\d{4,5})(\d{4})$/,"$1-$2"),d.setValue("phone",b)};return h.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs(It,{className:"w-full max-w-md",children:[h.jsxs(zn,{className:"text-center",children:[h.jsx("div",{className:"text-5xl mb-6",children:""}),h.jsx(Wn,{className:"text-3xl font-bold text-gray-900",children:"Criar conta"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Cadastre-se para participar dos eventos CDPI"})]}),h.jsx(Rt,{children:h.jsxs("form",{onSubmit:d.handleSubmit(x),className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),h.jsx(ut,{id:"name",type:"text",...d.register("name"),className:"w-full","data-testid":"input-name"}),d.formState.errors.name&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-name-error",children:d.formState.errors.name.message})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"cpf",className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF"}),h.jsx(ut,{id:"cpf",type:"text",placeholder:"000.000.000-00",...d.register("cpf"),onChange:g,maxLength:14,className:"w-full","data-testid":"input-cpf"}),d.formState.errors.cpf&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-cpf-error",children:d.formState.errors.cpf.message})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"birthDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Nascimento"}),h.jsx(ut,{id:"birthDate",type:"text",placeholder:"dd/mm/aaaa",...d.register("birthDate"),onChange:C=>{let b=C.target.value.replace(/\D/g,"");b=b.replace(/(\d{2})(\d)/,"$1/$2"),b=b.replace(/(\d{2})(\d)/,"$1/$2"),d.setValue("birthDate",b)},maxLength:10,className:"w-full","data-testid":"input-birth-date"}),d.formState.errors.birthDate&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-birth-date-error",children:d.formState.errors.birthDate.message})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail"}),h.jsx(ut,{id:"email",type:"email",...d.register("email"),className:"w-full","data-testid":"input-email"}),d.formState.errors.email&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-email-error",children:d.formState.errors.email.message})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"emailConfirm",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar E-mail"}),h.jsx(ut,{id:"emailConfirm",type:"email",...d.register("emailConfirm"),className:"w-full","data-testid":"input-email-confirm"}),d.formState.errors.emailConfirm&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-email-confirm-error",children:d.formState.errors.emailConfirm.message})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),h.jsx(ut,{id:"phone",type:"tel",placeholder:"(11) 99999-9999",...d.register("phone"),onChange:v,maxLength:15,className:"w-full","data-testid":"input-phone"}),d.formState.errors.phone&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-phone-error",children:d.formState.errors.phone.message})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereo Completo"}),h.jsx(Fg,{id:"address",...d.register("address"),rows:3,className:"w-full","data-testid":"input-address"}),d.formState.errors.address&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-address-error",children:d.formState.errors.address.message})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),h.jsx(ut,{id:"password",type:"password",...d.register("password"),className:"w-full","data-testid":"input-password"}),d.formState.errors.password&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-password-error",children:d.formState.errors.password.message})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"passwordConfirm",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha"}),h.jsx(ut,{id:"passwordConfirm",type:"password",...d.register("passwordConfirm"),className:"w-full","data-testid":"input-password-confirm"}),d.formState.errors.passwordConfirm&&h.jsx("p",{className:"text-red-600 text-sm mt-1","data-testid":"text-password-confirm-error",children:d.formState.errors.passwordConfirm.message})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Og,{id:"acceptTerms",checked:n,onCheckedChange:C=>{r(C),d.setValue("acceptTerms",C)},"data-testid":"checkbox-terms"}),h.jsxs(vt,{htmlFor:"acceptTerms",className:"text-sm text-gray-600",children:["Concordo com os"," ",h.jsx("a",{href:"#",className:"text-primary hover:text-secondary",children:"Termos de Uso"})," ","e"," ",h.jsx("a",{href:"#",className:"text-primary hover:text-secondary",children:"Poltica de Privacidade"})]})]}),d.formState.errors.acceptTerms&&h.jsx("p",{className:"text-red-600 text-sm","data-testid":"text-terms-error",children:d.formState.errors.acceptTerms.message}),h.jsx(Qe,{type:"submit",className:"w-full bg-primary hover:bg-secondary",disabled:m.isPending,"data-testid":"button-register",children:m.isPending?"Criando conta...":"Criar Conta"}),h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:"text-gray-600",children:"J tem conta? "}),h.jsx("a",{href:"/login",className:"text-primary hover:text-secondary font-medium","data-testid":"link-login",children:"Entrar"})]})]})})]})})}function xL(){const{toast:e}=mr(),{register:t,handleSubmit:n}=ca(),r=cr({mutationFn:l=>Yt("POST","/api/auth/forgot-password/",l),onSuccess:()=>{e({title:"Verifique seu e-mail",description:"Se sua conta existir, enviaremos um link para redefinir sua senha."})},onError:l=>{e({title:"Erro",description:l.message,variant:"destructive"})}}),o=l=>{r.mutate(l)};return h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs(It,{className:"w-full max-w-md",children:[h.jsx(zn,{children:h.jsx(Wn,{children:"Redefinir Senha"})}),h.jsx(Rt,{children:h.jsxs("form",{onSubmit:n(o),className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"email",children:"E-mail"}),h.jsx(ut,{id:"email",type:"email",...t("email",{required:!0})})]}),h.jsx(Qe,{type:"submit",className:"w-full",disabled:r.isPending,children:r.isPending?"Enviando...":"Enviar Link de Redefinio"})]})})]})})}function yL(){const{toast:e}=mr(),[,t]=zr(),n=_S(),r=new URLSearchParams(n).get("token"),{register:o,handleSubmit:l,watch:d}=ca(),m=cr({mutationFn:g=>Yt("POST","/api/users/auth/reset-password/",{...g,token:r}),onSuccess:()=>{e({title:"Senha redefinida com sucesso!"}),t("/login")},onError:g=>{e({title:"Erro",description:g.message,variant:"destructive"})}}),x=g=>{if(g.newPassword!==g.confirmPassword)return e({title:"Erro",description:"As senhas no coincidem.",variant:"destructive"});m.mutate(g)};return r?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs(It,{className:"w-full max-w-md",children:[h.jsx(zn,{children:h.jsx(Wn,{children:"Crie uma Nova Senha"})}),h.jsx(Rt,{children:h.jsxs("form",{onSubmit:l(x),className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"newPassword",children:"Nova Senha"}),h.jsx(ut,{id:"newPassword",type:"password",...o("newPassword",{required:!0,minLength:6})})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha"}),h.jsx(ut,{id:"confirmPassword",type:"password",...o("confirmPassword",{required:!0})})]}),h.jsx(Qe,{type:"submit",className:"w-full",disabled:m.isPending,children:m.isPending?"Redefinindo...":"Redefinir Senha"})]})})]})}):h.jsx("div",{children:"Token invlido ou ausente."})}var Bg="Avatar",[vL]=Wr(Bg),[wL,wT]=vL(Bg),CT=E.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,l]=E.useState("idle");return h.jsx(wL,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:h.jsx(He.span,{...r,ref:t})})});CT.displayName=Bg;var ET="AvatarImage",bT=E.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...l}=e,d=wT(ET,n),m=CL(r,l),x=$n(g=>{o(g),d.onImageLoadingStatusChange(g)});return Tn(()=>{m!=="idle"&&x(m)},[m,x]),m==="loaded"?h.jsx(He.img,{...l,ref:t,src:r}):null});bT.displayName=ET;var ST="AvatarFallback",AT=E.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,l=wT(ST,n),[d,m]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const x=window.setTimeout(()=>m(!0),r);return()=>window.clearTimeout(x)}},[r]),d&&l.imageLoadingStatus!=="loaded"?h.jsx(He.span,{...o,ref:t}):null});AT.displayName=ST;function M2(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function CL(e,{referrerPolicy:t,crossOrigin:n}){const r=bL(),o=E.useRef(null),l=r?(o.current||(o.current=new window.Image),o.current):null,[d,m]=E.useState(()=>M2(l,e));return Tn(()=>{m(M2(l,e))},[l,e]),Tn(()=>{const x=C=>()=>{m(C)};if(!l)return;const g=x("loaded"),v=x("error");return l.addEventListener("load",g),l.addEventListener("error",v),t&&(l.referrerPolicy=t),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",g),l.removeEventListener("error",v)}},[l,n,t]),d}function EL(){return()=>{}}function bL(){return E.useSyncExternalStore(EL,()=>!0,()=>!1)}var NT=CT,_T=bT,TT=AT;const Ff=E.forwardRef(({className:e,...t},n)=>h.jsx(NT,{ref:n,className:je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ff.displayName=NT.displayName;const SL=E.forwardRef(({className:e,...t},n)=>h.jsx(_T,{ref:n,className:je("aspect-square h-full w-full",e),...t}));SL.displayName=_T.displayName;const Bf=E.forwardRef(({className:e,...t},n)=>h.jsx(TT,{ref:n,className:je("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Bf.displayName=TT.displayName;const AL=mh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yc({className:e,variant:t,...n}){return h.jsx("div",{className:je(AL({variant:t}),e),...n})}var IT="AlertDialog",[NL]=Wr(IT,[oN]),Ni=oN(),RT=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ni(t);return h.jsx(EN,{...r,...n,modal:!0})};RT.displayName=IT;var _L="AlertDialogTrigger",TL=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ni(n);return h.jsx(f7,{...o,...r,ref:t})});TL.displayName=_L;var IL="AlertDialogPortal",OT=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ni(t);return h.jsx(bN,{...r,...n})};OT.displayName=IL;var RL="AlertDialogOverlay",PT=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ni(n);return h.jsx(xg,{...o,...r,ref:t})});PT.displayName=RL;var al="AlertDialogContent",[OL,PL]=NL(al),DL=DS("AlertDialogContent"),DT=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,l=Ni(n),d=E.useRef(null),m=Ct(t,d),x=E.useRef(null);return h.jsx(l7,{contentName:al,titleName:kT,docsSlug:"alert-dialog",children:h.jsx(OL,{scope:n,cancelRef:x,children:h.jsxs(yg,{role:"alertdialog",...l,...o,ref:m,onOpenAutoFocus:be(o.onOpenAutoFocus,g=>{var v;g.preventDefault(),(v=x.current)==null||v.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[h.jsx(DL,{children:r}),h.jsx(ML,{contentRef:d})]})})})});DT.displayName=al;var kT="AlertDialogTitle",MT=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ni(n);return h.jsx(vg,{...o,...r,ref:t})});MT.displayName=kT;var jT="AlertDialogDescription",LT=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ni(n);return h.jsx(wg,{...o,...r,ref:t})});LT.displayName=jT;var kL="AlertDialogAction",FT=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ni(n);return h.jsx(Cg,{...o,...r,ref:t})});FT.displayName=kL;var BT="AlertDialogCancel",VT=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=PL(BT,n),l=Ni(n),d=Ct(t,o);return h.jsx(Cg,{...l,...r,ref:d})});VT.displayName=BT;var ML=({contentRef:e})=>{const t=`\`${al}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${al}\` by passing a \`${jT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${al}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},jL=RT,LL=OT,UT=PT,zT=DT,WT=FT,HT=VT,GT=MT,$T=LT;const j2=jL,FL=LL,XT=E.forwardRef(({className:e,...t},n)=>h.jsx(UT,{className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));XT.displayName=UT.displayName;const _m=E.forwardRef(({className:e,...t},n)=>h.jsxs(FL,{children:[h.jsx(XT,{}),h.jsx(zT,{ref:n,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));_m.displayName=zT.displayName;const Tm=({className:e,...t})=>h.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",e),...t});Tm.displayName="AlertDialogHeader";const Im=({className:e,...t})=>h.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Im.displayName="AlertDialogFooter";const Rm=E.forwardRef(({className:e,...t},n)=>h.jsx(GT,{ref:n,className:je("text-lg font-semibold",e),...t}));Rm.displayName=GT.displayName;const Om=E.forwardRef(({className:e,...t},n)=>h.jsx($T,{ref:n,className:je("text-sm text-muted-foreground",e),...t}));Om.displayName=$T.displayName;const ZT=E.forwardRef(({className:e,...t},n)=>h.jsx(WT,{ref:n,className:je(ug(),e),...t}));ZT.displayName=WT.displayName;const Pm=E.forwardRef(({className:e,...t},n)=>h.jsx(HT,{ref:n,className:je(ug({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Pm.displayName=HT.displayName;const KT=({className:e,...t})=>h.jsx("nav",{role:"navigation","aria-label":"pagination",className:je("mx-auto flex w-full justify-center",e),...t});KT.displayName="Pagination";const qT=E.forwardRef(({className:e,...t},n)=>h.jsx("ul",{ref:n,className:je("flex flex-row items-center gap-1",e),...t}));qT.displayName="PaginationContent";const Hd=E.forwardRef(({className:e,...t},n)=>h.jsx("li",{ref:n,className:je("",e),...t}));Hd.displayName="PaginationItem";function BL(){const[,e]=zr(),{toast:t}=mr(),{user:n,isAuthenticated:r}=Ai(),[o,l]=E.useState(!1),[d,m]=E.useState(!1),[x,g]=E.useState(""),[v,C]=E.useState(""),[b,O]=E.useState(!1),[k,N]=E.useState(0),[P,R]=E.useState(1),A=15;E.useEffect(()=>{r||e("/login")},[r,e]),E.useEffect(()=>{if(k>0){const re=setTimeout(()=>{N(gt=>gt-1)},1e3);return()=>clearTimeout(re)}},[k]);const{data:I,isLoading:M,refetch:j}=wi({queryKey:["/api/orders/tickets/",P],queryFn:async()=>(await Yt("GET",`/api/orders/tickets/?page=${P}`)).json(),enabled:r,staleTime:0,gcTime:0}),$=I==null?void 0:I.results,B=I!=null&&I.count?Math.ceil(I.count/A):1,G=ca({defaultValues:n||{}});E.useEffect(()=>{n&&G.reset(n)},[n]);const W=ca({defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),ae=cr({mutationFn:async re=>{const gt=b?{...re,currentPassword:v}:re;return(await Yt("PUT","/api/users/profile/",gt)).json()},onSuccess:()=>{t({title:"Perfil atualizado",description:"Suas informaes foram salvas com sucesso."}),fi.invalidateQueries({queryKey:["/api/users/auth/me/"]}),C(""),O(!1)},onError:re=>{t({title:"Erro ao atualizar perfil",description:re.message,variant:"destructive"}),C("")}}),pe=cr({mutationFn:async re=>(await Yt("PUT","/api/users/profile/password/",re)).json(),onSuccess:()=>{t({title:"Senha alterada",description:"Sua senha foi alterada com sucesso."}),W.reset()},onError:re=>{t({title:"Erro ao alterar senha",description:re.message,variant:"destructive"})}}),Y=cr({mutationFn:async()=>{await Yt("POST","/api/users/auth/resend-code/",{email:n.email})},onSuccess:()=>{t({title:"Email enviado!",description:"Verifique sua caixa de entrada para confirmar seu email."}),N(30),fi.invalidateQueries({queryKey:["/api/users/auth/me/"]})},onError:re=>{t({title:"Erro ao enviar email",description:re.message,variant:"destructive"})}}),oe=cr({mutationFn:async re=>(await Yt("DELETE","/api/users/profile/",{password:re})).json(),onSuccess:()=>{t({title:"Conta excluda",description:"Sua conta foi permanentemente excluda."}),localStorage.removeItem("token"),fi.clear(),e("/")},onError:re=>{t({title:"Erro ao excluir conta",description:re.message,variant:"destructive"}),g("")}}),ie=re=>{if(b&&!v){t({title:"Senha necessria",description:"Digite sua senha para confirmar alteraes em informaes sensveis.",variant:"destructive"});return}ae.mutate(re)},X=()=>{const re=G.getValues(),Ee=["name","email","phone"].some(Te=>{const Le=re[Te],st=n==null?void 0:n[Te];return Le!==void 0&&Le!==st});O(Ee)},fe=re=>{if(re.newPassword!==re.confirmPassword){t({title:"Erro",description:"As senhas no coincidem.",variant:"destructive"});return}pe.mutate({old_password:re.currentPassword,new_password:re.newPassword,new_password_confirm:re.confirmPassword})},de=()=>{if(!x){t({title:"Erro",description:"Digite sua senha para confirmar a excluso.",variant:"destructive"});return}oe.mutate(x),m(!1),l(!1)},te=re=>{switch(re){case"paid":return h.jsx(yc,{className:"bg-green-500 text-white",children:"Confirmado"});case"pending":return h.jsx(yc,{className:"bg-yellow-500 text-white",children:"Aguardando Pagamento"});case"cancelled":return h.jsx(yc,{variant:"destructive",children:"Cancelado"});default:return h.jsx(yc,{variant:"secondary",children:re})}},ne=re=>(typeof re=="string"?parseFloat(re):re).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),we=re=>new Date(re).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Me=re=>re.split(" ").slice(0,2).map(gt=>gt[0]).join("").toUpperCase();if(!r||!n)return null;const Be=cr({mutationFn:re=>Yt("DELETE",`/api/orders/${re}/cancel/`),onSuccess:()=>{t({title:"Pedido cancelado",description:"Seu pedido foi cancelado com sucesso."}),fi.invalidateQueries({queryKey:["/api/orders/"]})},onError:re=>{t({title:"Erro ao cancelar",description:re.message,variant:"destructive"})}}),Nt=re=>{Be.mutate(re)};return h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsx(It,{children:h.jsxs(Rt,{className:"p-6 text-center",children:[h.jsx(Ff,{className:"w-20 h-20 mx-auto mb-4",children:h.jsx(Bf,{className:"bg-primary text-white text-2xl font-bold",children:Me(n.name)})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1","data-testid":"text-user-name",children:n.name}),h.jsx("p",{className:"text-gray-600 mb-4","data-testid":"text-user-email",children:n.email}),!n.is_email_verified&&h.jsxs("div",{className:"space-y-3",children:[h.jsx(yc,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Email no verificado"}),h.jsxs(Qe,{variant:"outline",size:"sm",onClick:()=>Y.mutate(),disabled:k>0||Y.isPending,className:"w-full","data-testid":"button-resend-verification",children:[h.jsx(KP,{className:"h-4 w-4 mr-2"}),k>0?`Aguarde ${k}s`:Y.isPending?"Enviando...":"Reenviar Email"]})]})]})})}),h.jsx("div",{className:"lg:col-span-3",children:h.jsxs(KN,{defaultValue:"orders",className:"w-full",children:[h.jsxs(Sg,{className:"grid w-full grid-cols-3",children:[h.jsxs(qo,{value:"orders",className:"flex items-center gap-2","data-testid":"tab-orders",children:[h.jsx(au,{className:"h-4 w-4"}),"Meus Ingressos"]}),h.jsxs(qo,{value:"profile",className:"flex items-center gap-2","data-testid":"tab-profile",children:[h.jsx(fm,{className:"h-4 w-4"}),"Informaes Pessoais"]}),h.jsxs(qo,{value:"security",className:"flex items-center gap-2","data-testid":"tab-security",children:[h.jsx(QP,{className:"h-4 w-4"}),"Segurana"]})]}),h.jsx(Yo,{value:"orders",children:h.jsxs(It,{children:[h.jsx(zn,{children:h.jsx(Wn,{children:"Histrico de Ingressos"})}),h.jsx(Rt,{children:M?h.jsx("div",{className:"space-y-4",children:[...Array(3)].map((re,gt)=>h.jsxs("div",{className:"animate-pulse border border-gray-200 rounded-lg p-4",children:[h.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),h.jsx("div",{className:"h-3 bg-gray-300 rounded w-3/4 mb-2"}),h.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]},gt))}):($==null?void 0:$.length)===0?h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-gray-600","data-testid":"text-no-orders",children:"Voc ainda no possui ingressos."})}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"space-y-4",children:$==null?void 0:$.map(re=>{var gt,Ee,Te;return h.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors","data-testid":`ticket-${re.id}`,children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-semibold text-gray-900 mb-2","data-testid":`text-event-title-${re.id}`,children:((gt=re.event)==null?void 0:gt.title)||"Evento"}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[h.jsx(iu,{className:"h-4 w-4 mr-2"}),h.jsx("span",{"data-testid":`text-event-date-${re.id}`,children:(Ee=re.event)!=null&&Ee.date?we(re.event.date):"Data no disponvel"}),h.jsx(ou,{className:"h-4 w-4 ml-4 mr-2"}),h.jsx("span",{"data-testid":`text-event-location-${re.id}`,children:((Te=re.event)==null?void 0:Te.location)||"Local no disponvel"})]}),h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Status:"}),te(re.order.status)]})]}),h.jsxs("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-lg font-semibold text-primary","data-testid":`text-order-price-${re.id}`,children:ne(re.event.price)}),h.jsxs("div",{className:"text-xs text-gray-500","data-testid":`text-order-date-${re.id}`,children:["Comprado em ",new Date(re.created_at).toLocaleDateString("pt-BR")]})]}),re.order.status==="paid"&&re.qr_code_data?h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(Qe,{className:"bg-primary hover:bg-secondary",size:"sm",onClick:()=>{if(re.qr_code_s3_url){const Le=document.createElement("a");Le.href=re.qr_code_s3_url,Le.download=`ingresso-${re.id}.png`,document.body.appendChild(Le),Le.click(),document.body.removeChild(Le)}else t({title:"Erro",description:"URL do QR Code no encontrada.",variant:"destructive"})},"data-testid":`button-download-${re.id}`,children:[h.jsx(HP,{className:"h-4 w-4 mr-2"}),"Baixar QR Code"]}),re.is_used&&(n==null?void 0:n.is_staff)&&h.jsx(Qe,{variant:"outline",size:"sm",onClick:async()=>{try{await Yt("POST",`/api/reset-ticket/${re.id}/`),t({title:"Ticket resetado",description:"Ingresso pode ser verificado novamente"}),j()}catch{t({title:"Erro",description:"Erro ao resetar ticket",variant:"destructive"})}},"data-testid":`button-reset-${re.id}`,children:"Resetar Ingresso"})]}):re.order.status==="pending"&&re.order.asaas_payment_id?h.jsxs("div",{className:"flex gap-2",children:[re.order.status==="pending"&&h.jsx(Qe,{variant:"destructive",size:"sm",onClick:()=>Nt(re.order.id),disabled:Be.isPending,children:"Cancelar Pedido"}),h.jsx(Qe,{variant:"outline",size:"sm",onClick:async()=>{try{const st=await(await Yt("POST",`/api/orders/${re.order.id}/check-status/`)).json();t({title:"Status verificado",description:st.message}),j()}catch{t({title:"Erro",description:"Erro ao verificar status do pagamento",variant:"destructive"})}},"data-testid":`button-check-status-${re.order.id}`,children:h.jsx(YP,{className:"h-4 w-4"})})]}):null]})]})},re.id)})}),B>1&&h.jsx(KT,{className:"mt-6",children:h.jsxs(qT,{children:[h.jsx(Hd,{children:h.jsxs(Qe,{variant:"outline",onClick:()=>R(re=>Math.max(re-1,1)),disabled:P===1,children:[h.jsx(zP,{className:"h-4 w-4 mr-2"}),"Anterior"]})}),h.jsx(Hd,{children:h.jsxs("span",{className:"text-sm font-medium px-4",children:["Page ",P," of ",B]})}),h.jsx(Hd,{children:h.jsxs(Qe,{variant:"outline",onClick:()=>R(re=>Math.min(re+1,B)),disabled:P===B,children:["Prxima",h.jsx(iA,{className:"h-4 w-4 ml-2"})]})})]})})]})})]})}),h.jsx(Yo,{value:"profile",children:h.jsxs(It,{children:[h.jsx(zn,{children:h.jsx(Wn,{children:"Informaes Pessoais"})}),h.jsx(Rt,{children:h.jsxs("form",{onSubmit:G.handleSubmit(ie),className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),h.jsx(ut,{id:"name",...G.register("name"),onChange:re=>{G.register("name").onChange(re),X()},"data-testid":"input-profile-name"})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"cpf",className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF"}),h.jsx(ut,{id:"cpf",...G.register("cpf"),readOnly:!0,className:"bg-gray-50","data-testid":"input-profile-cpf"})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail"}),h.jsx(ut,{id:"email",...G.register("email"),onChange:re=>{G.register("email").onChange(re),X()},"data-testid":"input-profile-email"})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),h.jsx(ut,{id:"phone",...G.register("phone"),onChange:re=>{G.register("phone").onChange(re),X()},"data-testid":"input-profile-phone"})]})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereo Completo"}),h.jsx(Fg,{id:"address",...G.register("address"),rows:3,"data-testid":"input-profile-address"})]}),b&&h.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[h.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:"Voc est alterando informaes sensveis. Digite sua senha para confirmar:"}),h.jsx(vt,{htmlFor:"profile-password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha Atual"}),h.jsx(ut,{id:"profile-password",type:"password",value:v,onChange:re=>C(re.target.value),placeholder:"Digite sua senha para confirmar","data-testid":"input-profile-password"})]}),h.jsx(Qe,{type:"submit",className:"bg-primary hover:bg-secondary",disabled:ae.isPending,"data-testid":"button-update-profile",children:ae.isPending?"Salvando...":"Salvar Alteraes"})]})})]})}),h.jsx(Yo,{value:"security",children:h.jsxs(It,{children:[h.jsx(zn,{children:h.jsx(Wn,{children:"Segurana da Conta"})}),h.jsxs(Rt,{children:[h.jsxs("form",{onSubmit:W.handleSubmit(fe),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha Atual"}),h.jsx(ut,{id:"currentPassword",type:"password",...W.register("currentPassword",{required:!0}),"data-testid":"input-current-password"})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova Senha"}),h.jsx(ut,{id:"newPassword",type:"password",...W.register("newPassword",{required:!0,minLength:6}),"data-testid":"input-new-password"})]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Nova Senha"}),h.jsx(ut,{id:"confirmPassword",type:"password",...W.register("confirmPassword",{required:!0}),"data-testid":"input-confirm-password"})]}),h.jsx(Qe,{type:"submit",className:"bg-primary hover:bg-secondary",disabled:pe.isPending,"data-testid":"button-change-password",children:pe.isPending?"Alterando...":"Alterar Senha"})]}),h.jsxs("div",{className:"mt-8 p-4 bg-red-50 border border-red-200 rounded-lg",children:[h.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Excluir Conta"}),h.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Esta ao no pode ser desfeita. Todos os seus dados sero permanentemente removidos."}),h.jsx(Qe,{variant:"destructive",size:"sm",onClick:()=>l(!0),"data-testid":"button-delete-account",children:"Excluir Conta"})]})]})]})})]})})]}),h.jsx(j2,{open:o,onOpenChange:l,children:h.jsxs(_m,{children:[h.jsxs(Tm,{children:[h.jsxs(Rm,{className:"flex items-center gap-2",children:[h.jsx(JP,{className:"h-5 w-5 text-red-600"}),"Tem certeza que deseja excluir sua conta?"]}),h.jsxs(Om,{className:"space-y-2",children:[h.jsxs("p",{children:["Esta ao  ",h.jsx("strong",{children:"irreversvel"})," e resultar em:"]}),h.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[h.jsx("li",{children:"Excluso permanente de todos os seus dados pessoais"}),h.jsx("li",{children:"Cancelamento de todos os ingressos no utilizados"}),h.jsx("li",{children:"Perda de acesso ao histrico de eventos"}),h.jsx("li",{children:"Impossibilidade de recuperar a conta no futuro"})]})]})]}),h.jsxs(Im,{children:[h.jsx(Pm,{children:"Cancelar"}),h.jsx(ZT,{className:"bg-red-600 hover:bg-red-700",onClick:()=>{l(!1),m(!0)},children:"Continuar com a excluso"})]})]})}),h.jsx(j2,{open:d,onOpenChange:m,children:h.jsxs(_m,{children:[h.jsxs(Tm,{children:[h.jsx(Rm,{className:"text-red-600",children:"Confirmao Final - Excluso de Conta"}),h.jsxs(Om,{className:"space-y-4",children:[h.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:h.jsx("p",{className:"text-sm font-medium text-red-800",children:" LTIMA CHANCE: Aps confirmar, sua conta ser excluda IMEDIATAMENTE e no poder ser recuperada."})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(vt,{htmlFor:"delete-password",children:"Digite sua senha para confirmar a excluso:"}),h.jsx(ut,{id:"delete-password",type:"password",value:x,onChange:re=>g(re.target.value),placeholder:"Sua senha atual","data-testid":"input-delete-password"})]})]})]}),h.jsxs(Im,{children:[h.jsx(Pm,{onClick:()=>{g(""),m(!1)},children:"Cancelar"}),h.jsx(Qe,{variant:"destructive",onClick:de,disabled:!x||oe.isPending,"data-testid":"button-confirm-delete",children:oe.isPending?"Excluindo...":"Excluir minha conta permanentemente"})]})]})})]})}function VL(){const[e,t]=zr(),[n]=E.useState(new URLSearchParams(window.location.search).get("email")||""),[r,o]=E.useState(""),{toast:l}=mr(),[d,m]=E.useState(30);E.useEffect(()=>{const v=d>0&&setInterval(()=>m(d-1),1e3);return()=>{v&&clearInterval(v)}},[d]);const x=cr({mutationFn:()=>Yt("POST","/api/users/auth/verify-code/",{email:n,code:r}),onSuccess:v=>{localStorage.setItem("token",v.token),fi.invalidateQueries({queryKey:["/api/users/auth/me/"]}),l({title:"E-mail verificado com sucesso!"}),t("/")},onError:v=>l({title:"Erro",description:v.message,variant:"destructive"})}),g=cr({mutationFn:()=>Yt("POST","/api/users/auth/resend-code/",{email:n}),onSuccess:()=>{l({title:"Um novo cdigo foi enviado."}),m(30)},onError:v=>l({title:"Erro",description:v.message,variant:"destructive"})});return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs(It,{className:"w-full max-w-md",children:[h.jsx(zn,{children:h.jsx(Wn,{children:"Verifique seu E-mail"})}),h.jsxs(Rt,{className:"space-y-4",children:[h.jsxs("p",{children:["Enviamos um cdigo de 6 dgitos para ",h.jsx("strong",{children:n}),". Por favor, insira-o abaixo."]}),h.jsxs("div",{children:[h.jsx(vt,{htmlFor:"code",children:"Cdigo de Verificao"}),h.jsx(ut,{id:"code",value:r,onChange:v=>o(v.target.value),maxLength:6})]}),h.jsx(Qe,{onClick:()=>x.mutate(),className:"w-full",disabled:x.isPending,children:x.isPending?"Verificando...":"Verificar"}),h.jsx(Qe,{variant:"outline",className:"w-full",onClick:()=>g.mutate(),disabled:d>0||g.isPending,children:d>0?`Reenviar em ${d}s`:"Reenviar Cdigo"})]})]})}):h.jsx("div",{children:"E-mail no encontrado. Por favor, registre-se novamente."})}function UL(){const{id:e}=NS(),[,t]=zr(),{isAuthenticated:n}=Ai(),{toast:r}=mr(),[o,l]=E.useState(!1),[d,m]=E.useState(null),[x,g]=E.useState(null);E.useEffect(()=>{const W=new URLSearchParams(window.location.search).get("promo");m(W)},[]);const{data:v,isLoading:C,error:b}=wi({queryKey:[`/api/events/${e}/`],enabled:!!e}),{data:O}=wi({queryKey:["/api/orders/courtesy/links/",d],queryFn:async()=>(await Yt("GET",`/api/orders/courtesy/links/${d}/`)).json(),enabled:!!d}),k=O!=null&&O.override_price?parseFloat(O.override_price):null,N=v!=null&&v.price?parseFloat(v.price):0,P=k!==null?k:N,[R,A]=E.useState(null),I=(G,W)=>{if(!n){r({title:"Login necessrio",description:"Faa login ou cadastre-se para comprar ingressos",variant:"destructive"}),t("/login");return}v&&(A({event:v,promoCode:d,price:P}),g({...G,promoCode:W}),l(!0))},M=G=>new Date(G).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),j=G=>{const W=new Date(G),ae=typeof G=="string"?G.split("T")[1]||G.split(" ")[1]:null;if(ae){const[pe,Y]=ae.split(":");return`${pe}:${Y}`}return W.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})},$=G=>{const W=typeof G=="string"?parseFloat(G):G;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(W)};if(C)return h.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:h.jsxs(It,{className:"animate-pulse",children:[h.jsx("div",{className:"h-64 bg-gray-300 rounded-t-lg"}),h.jsxs(Rt,{className:"p-8",children:[h.jsx("div",{className:"h-8 bg-gray-300 rounded mb-4"}),h.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),h.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),h.jsx("div",{className:"h-4 bg-gray-300 rounded"})]})]})});if(b||!v)return h.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:h.jsx(It,{children:h.jsxs(Rt,{className:"p-8 text-center",children:[h.jsx("p",{className:"text-red-600 text-lg mb-4",children:"Evento no encontrado"}),h.jsxs(Qe,{onClick:()=>t("/"),variant:"outline",children:[h.jsx(Wy,{className:"h-4 w-4 mr-2"}),"Voltar aos eventos"]})]})})});const B=v.maxAttendees?Math.max(0,v.maxAttendees-(v.currentAttendees||0)):null;return h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[h.jsxs(Qe,{onClick:()=>t("/"),variant:"ghost",className:"mb-6","data-testid":"button-back",children:[h.jsx(Wy,{className:"h-4 w-4 mr-2"}),"Voltar aos eventos"]}),h.jsxs(It,{className:"overflow-hidden",children:[v.imageUrl&&h.jsx("div",{className:"h-64 md:h-96 overflow-hidden",children:h.jsx("img",{src:v.imageUrl,alt:v.title,className:"w-full h-full object-cover"})}),h.jsxs(Rt,{className:"p-8",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:v.title}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-600",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(iu,{className:"h-5 w-5 mr-3 text-primary"}),h.jsx("span",{children:M(v.date)})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(oA,{className:"h-5 w-5 mr-3 text-primary"}),h.jsx("span",{children:j(v.date)})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(ou,{className:"h-5 w-5 mr-3 text-primary"}),h.jsx("span",{children:v.location})]}),B!==null&&h.jsxs("div",{className:"flex items-center",children:[h.jsx(eD,{className:"h-5 w-5 mr-3 text-primary"}),h.jsx("span",{children:B>0?`${B} vagas restantes`:"Esgotado"})]})]})]}),h.jsxs("div",{className:"mb-8",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sobre o evento"}),h.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:v.description})]}),h.jsx("div",{className:"border-t pt-6",children:h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Valor do ingresso"}),h.jsx("p",{className:"text-3xl font-bold text-primary",children:$(P)}),O&&h.jsxs("p",{className:"text-sm text-green-600",children:["Promoo aplicada (",d,")"]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"+ taxa de convenincia de R$ 5,00"})]}),h.jsx(Qe,{onClick:()=>I(v,d),className:"bg-primary hover:bg-secondary text-white px-8 py-6 text-lg",disabled:B===0,children:B===0?"Evento Esgotado":"Comprar Ingresso"})]})})]})]}),R&&h.jsx(qN,{event:R.event,promoCode:R.promoCode,displayPrice:R.price,isOpen:o,onClose:()=>l(!1),onSuccess:()=>{r({title:"Pagamento iniciado!",description:"Acompanhe o status do seu pedido na pgina de perfil."}),l(!1),t("/profile")}})]})}var Pe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Pe||(Pe={}));var L2=new Map([[Pe.QR_CODE,"QR_CODE"],[Pe.AZTEC,"AZTEC"],[Pe.CODABAR,"CODABAR"],[Pe.CODE_39,"CODE_39"],[Pe.CODE_93,"CODE_93"],[Pe.CODE_128,"CODE_128"],[Pe.DATA_MATRIX,"DATA_MATRIX"],[Pe.MAXICODE,"MAXICODE"],[Pe.ITF,"ITF"],[Pe.EAN_13,"EAN_13"],[Pe.EAN_8,"EAN_8"],[Pe.PDF_417,"PDF_417"],[Pe.RSS_14,"RSS_14"],[Pe.RSS_EXPANDED,"RSS_EXPANDED"],[Pe.UPC_A,"UPC_A"],[Pe.UPC_E,"UPC_E"],[Pe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),F2;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(F2||(F2={}));function zL(e){return Object.values(Pe).includes(e)}var Vf;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Vf||(Vf={}));var WL=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Vf.SCAN_TYPE_CAMERA,Vf.SCAN_TYPE_FILE],e}(),YT=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!L2.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,L2.get(t))},e}(),B2=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Dm;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Dm||(Dm={}));var HL=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Dm.UNKWOWN_ERROR}},e}(),GL=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ei(e){return typeof e>"u"||e===null}var Xa=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),QT=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(o),d=Object.keys(t),m=0,x=d;m<x.length;m++){var g=x[m];if(l.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),km={exports:{}};(function(e,t){(function(n,r){r(t)})(ic,function(n){function r(_){return _==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,s){_.__proto__=s}||function(_,s){for(var i in s)s.hasOwnProperty(i)&&(_[i]=s[i])};function l(_,s){o(_,s);function i(){this.constructor=_}_.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}function d(_,s){var i=Object.setPrototypeOf;i?i(_,s):_.__proto__=s}function m(_,s){s===void 0&&(s=_.constructor);var i=Error.captureStackTrace;i&&i(_,s)}var x=function(_){l(s,_);function s(i){var a=this.constructor,c=_.call(this,i)||this;return Object.defineProperty(c,"name",{value:a.name,enumerable:!1}),d(c,a.prototype),m(c),c}return s}(Error);class g extends x{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}g.kind="Exception";class v extends g{}v.kind="ArgumentException";class C extends g{}C.kind="IllegalArgumentException";class b{constructor(s){if(this.binarizer=s,s===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,i){return this.binarizer.getBlackRow(s,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,i,a,c){const u=this.binarizer.getLuminanceSource().crop(s,i,a,c);return new b(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends g{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class k{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class N{static arraycopy(s,i,a,c,u){for(;u--;)a[c++]=s[i++]}static currentTimeMillis(){return Date.now()}}class P extends g{}P.kind="IndexOutOfBoundsException";class R extends P{constructor(s=void 0,i=void 0){super(i),this.index=s,this.message=i}}R.kind="ArrayIndexOutOfBoundsException";class A{static fill(s,i){for(let a=0,c=s.length;a<c;a++)s[a]=i}static fillWithin(s,i,a,c){A.rangeCheck(s.length,i,a);for(let u=i;u<a;u++)s[u]=c}static rangeCheck(s,i,a){if(i>a)throw new C("fromIndex("+i+") > toIndex("+a+")");if(i<0)throw new R(i);if(a>s)throw new R(a)}static asList(...s){return s}static create(s,i,a){return Array.from({length:s}).map(u=>Array.from({length:i}).fill(a))}static createInt32Array(s,i,a){return Array.from({length:s}).map(u=>Int32Array.from({length:i}).fill(a))}static equals(s,i){if(!s||!i||!s.length||!i.length||s.length!==i.length)return!1;for(let a=0,c=s.length;a<c;a++)if(s[a]!==i[a])return!1;return!0}static hashCode(s){if(s===null)return 0;let i=1;for(const a of s)i=31*i+a;return i}static fillUint8Array(s,i){for(let a=0;a!==s.length;a++)s[a]=i}static copyOf(s,i){return s.slice(0,i)}static copyOfUint8Array(s,i){if(s.length<=i){const a=new Uint8Array(i);return a.set(s),a}return s.slice(0,i)}static copyOfRange(s,i,a){const c=a-i,u=new Int32Array(c);return N.arraycopy(s,i,u,0,c),u}static binarySearch(s,i,a){a===void 0&&(a=A.numberComparator);let c=0,u=s.length-1;for(;c<=u;){const f=u+c>>1,p=a(i,s[f]);if(p>0)c=f+1;else if(p<0)u=f-1;else return f}return-c-1}static numberComparator(s,i){return s-i}}class I{static numberOfTrailingZeros(s){let i;if(s===0)return 32;let a=31;return i=s<<16,i!==0&&(a-=16,s=i),i=s<<8,i!==0&&(a-=8,s=i),i=s<<4,i!==0&&(a-=4,s=i),i=s<<2,i!==0&&(a-=2,s=i),a-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let i=1;return s>>>16||(i+=16,s<<=16),s>>>24||(i+=8,s<<=8),s>>>28||(i+=4,s<<=4),s>>>30||(i+=2,s<<=2),i-=s>>>31,i}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,i){return Math.trunc(s/i)}static parseInt(s,i=void 0){return parseInt(s,i)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(s,i){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,i==null?this.bits=M.makeArray(s):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const i=M.makeArray(s);N.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const i=this.size;if(s>=i)return i;const a=this.bits;let c=Math.floor(s/32),u=a[c];u&=~((1<<(s&31))-1);const f=a.length;for(;u===0;){if(++c===f)return i;u=a[c]}const p=c*32+I.numberOfTrailingZeros(u);return p>i?i:p}getNextUnset(s){const i=this.size;if(s>=i)return i;const a=this.bits;let c=Math.floor(s/32),u=~a[c];u&=~((1<<(s&31))-1);const f=a.length;for(;u===0;){if(++c===f)return i;u=~a[c]}const p=c*32+I.numberOfTrailingZeros(u);return p>i?i:p}setBulk(s,i){this.bits[Math.floor(s/32)]=i}setRange(s,i){if(i<s||s<0||i>this.size)throw new C;if(i===s)return;i--;const a=Math.floor(s/32),c=Math.floor(i/32),u=this.bits;for(let f=a;f<=c;f++){const p=f>a?0:s&31,w=(2<<(f<c?31:i&31))-(1<<p);u[f]|=w}}clear(){const s=this.bits.length,i=this.bits;for(let a=0;a<s;a++)i[a]=0}isRange(s,i,a){if(i<s||s<0||i>this.size)throw new C;if(i===s)return!0;i--;const c=Math.floor(s/32),u=Math.floor(i/32),f=this.bits;for(let p=c;p<=u;p++){const y=p>c?0:s&31,S=(2<<(p<u?31:i&31))-(1<<y)&4294967295;if((f[p]&S)!==(a?S:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,i){if(i<0||i>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let a=i;a>0;a--)this.appendBit((s>>a-1&1)===1)}appendBitArray(s){const i=s.size;this.ensureCapacity(this.size+i);for(let a=0;a<i;a++)this.appendBit(s.get(a))}xor(s){if(this.size!==s.size)throw new C("Sizes don't match");const i=this.bits;for(let a=0,c=i.length;a<c;a++)i[a]^=s.bits[a]}toBytes(s,i,a,c){for(let u=0;u<c;u++){let f=0;for(let p=0;p<8;p++)this.get(s)&&(f|=1<<7-p),s++;i[a+u]=f}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),a=i+1,c=this.bits;for(let u=0;u<a;u++){let f=c[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,s[i-u]=f}if(this.size!==a*32){const u=a*32-this.size;let f=s[0]>>>u;for(let p=1;p<a;p++){const y=s[p];f|=y<<32-u,s[p-1]=f,f=y>>>u}s[a-1]=f}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof M))return!1;const i=s;return this.size===i.size&&A.equals(this.bits,i.bits)}hashCode(){return 31*this.size+A.hashCode(this.bits)}toString(){let s="";for(let i=0,a=this.size;i<a;i++)i&7||(s+=" "),s+=this.get(i)?"X":".";return s}clone(){return new M(this.size,this.bits.slice())}}var j;(function(_){_[_.OTHER=0]="OTHER",_[_.PURE_BARCODE=1]="PURE_BARCODE",_[_.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",_[_.TRY_HARDER=3]="TRY_HARDER",_[_.CHARACTER_SET=4]="CHARACTER_SET",_[_.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",_[_.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",_[_.ASSUME_GS1=7]="ASSUME_GS1",_[_.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",_[_.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",_[_.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(j||(j={}));var $=j;class B extends g{static getFormatInstance(){return new B}}B.kind="FormatException";var G;(function(_){_[_.Cp437=0]="Cp437",_[_.ISO8859_1=1]="ISO8859_1",_[_.ISO8859_2=2]="ISO8859_2",_[_.ISO8859_3=3]="ISO8859_3",_[_.ISO8859_4=4]="ISO8859_4",_[_.ISO8859_5=5]="ISO8859_5",_[_.ISO8859_6=6]="ISO8859_6",_[_.ISO8859_7=7]="ISO8859_7",_[_.ISO8859_8=8]="ISO8859_8",_[_.ISO8859_9=9]="ISO8859_9",_[_.ISO8859_10=10]="ISO8859_10",_[_.ISO8859_11=11]="ISO8859_11",_[_.ISO8859_13=12]="ISO8859_13",_[_.ISO8859_14=13]="ISO8859_14",_[_.ISO8859_15=14]="ISO8859_15",_[_.ISO8859_16=15]="ISO8859_16",_[_.SJIS=16]="SJIS",_[_.Cp1250=17]="Cp1250",_[_.Cp1251=18]="Cp1251",_[_.Cp1252=19]="Cp1252",_[_.Cp1256=20]="Cp1256",_[_.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",_[_.UTF8=22]="UTF8",_[_.ASCII=23]="ASCII",_[_.Big5=24]="Big5",_[_.GB18030=25]="GB18030",_[_.EUC_KR=26]="EUC_KR"})(G||(G={}));class W{constructor(s,i,a,...c){this.valueIdentifier=s,this.name=a,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=c,W.VALUE_IDENTIFIER_TO_ECI.set(s,this),W.NAME_TO_ECI.set(a,this);const u=this.values;for(let f=0,p=u.length;f!==p;f++){const y=u[f];W.VALUES_TO_ECI.set(y,this)}for(const f of c)W.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new B("incorect value");const i=W.VALUES_TO_ECI.get(s);if(i===void 0)throw new B("incorect value");return i}static getCharacterSetECIByName(s){const i=W.NAME_TO_ECI.get(s);if(i===void 0)throw new B("incorect value");return i}equals(s){if(!(s instanceof W))return!1;const i=s;return this.getName()===i.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(G.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(G.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(G.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(G.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(G.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(G.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(G.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(G.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(G.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(G.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(G.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(G.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(G.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(G.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(G.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(G.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(G.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(G.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(G.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(G.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(G.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(G.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(G.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(G.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(G.Big5,28,"Big5"),W.GB18030=new W(G.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(G.EUC_KR,30,"EUC_KR","EUC-KR");class ae extends g{}ae.kind="UnsupportedOperationException";class pe{static decode(s,i){const a=this.encodingName(i);return this.customDecoder?this.customDecoder(s,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(s,a):new TextDecoder(a).decode(s)}static shouldDecodeOnFallback(s){return!pe.isBrowser()&&s==="ISO-8859-1"}static encode(s,i){const a=this.encodingName(i);return this.customEncoder?this.customEncoder(s,a):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof W?s:W.getCharacterSetECIByName(s)}static decodeFallback(s,i){const a=this.encodingCharacterSet(i);if(pe.isDecodeFallbackSupported(a)){let c="";for(let u=0,f=s.length;u<f;u++){let p=s[u].toString(16);p.length<2&&(p="0"+p),c+="%"+p}return decodeURIComponent(c)}if(a.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new ae(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(W.UTF8)||s.equals(W.ISO8859_1)||s.equals(W.ASCII)}static encodeFallback(s){const a=btoa(unescape(encodeURIComponent(s))).split(""),c=[];for(let u=0;u<a.length;u++)c.push(a[u].charCodeAt(0));return new Uint8Array(c)}}class Y{static castAsNonUtf8Char(s,i=null){const a=i?i.getName():this.ISO88591;return pe.decode(new Uint8Array([s]),a)}static guessEncoding(s,i){if(i!=null&&i.get($.CHARACTER_SET)!==void 0)return i.get($.CHARACTER_SET).toString();const a=s.length;let c=!0,u=!0,f=!0,p=0,y=0,w=0,S=0,T=0,D=0,F=0,V=0,H=0,K=0,ee=0;const ge=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let xe=0;xe<a&&(c||u||f);xe++){const ue=s[xe]&255;f&&(p>0?ue&128?p--:f=!1:ue&128&&(ue&64?(p++,ue&32?(p++,ue&16?(p++,ue&8?f=!1:S++):w++):y++):f=!1)),c&&(ue>127&&ue<160?c=!1:ue>159&&(ue<192||ue===215||ue===247)&&ee++),u&&(T>0?ue<64||ue===127||ue>252?u=!1:T--:ue===128||ue===160||ue>239?u=!1:ue>160&&ue<224?(D++,V=0,F++,F>H&&(H=F)):ue>127?(T++,F=0,V++,V>K&&(K=V)):(F=0,V=0))}return f&&p>0&&(f=!1),u&&T>0&&(u=!1),f&&(ge||y+w+S>0)?Y.UTF8:u&&(Y.ASSUME_SHIFT_JIS||H>=3||K>=3)?Y.SHIFT_JIS:c&&u?H===2&&D===2||ee*10>=a?Y.SHIFT_JIS:Y.ISO88591:c?Y.ISO88591:u?Y.SHIFT_JIS:f?Y.UTF8:Y.PLATFORM_DEFAULT_ENCODING}static format(s,...i){let a=-1;function c(f,p,y,w,S,T){if(f==="%%")return"%";if(i[++a]===void 0)return;f=w?parseInt(w.substr(1)):void 0;let D=S?parseInt(S.substr(1)):void 0,F;switch(T){case"s":F=i[a];break;case"c":F=i[a][0];break;case"f":F=parseFloat(i[a]).toFixed(f);break;case"p":F=parseFloat(i[a]).toPrecision(f);break;case"e":F=parseFloat(i[a]).toExponential(f);break;case"x":F=parseInt(i[a]).toString(D||16);break;case"d":F=parseFloat(parseInt(i[a],D||10).toPrecision(f)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(D);let V=parseInt(y),H=y&&y[0]+""=="0"?"0":" ";for(;F.length<V;)F=p!==void 0?F+H:H+F;return F}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(u,c)}static getBytes(s,i){return pe.encode(s,i)}static getCharCode(s,i=0){return s.charCodeAt(i)}static getCharAt(s){return String.fromCharCode(s)}}Y.SHIFT_JIS=W.SJIS.getName(),Y.GB2312="GB2312",Y.ISO88591=W.ISO8859_1.getName(),Y.EUC_JP="EUC_JP",Y.UTF8=W.UTF8.getName(),Y.PLATFORM_DEFAULT_ENCODING=Y.UTF8,Y.ASSUME_SHIFT_JIS=!1;class oe{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=Y.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,i,a){for(let c=i;i<i+a;c++)this.append(s[c]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,i){this.value=this.value.substr(0,s)+i+this.value.substr(s+1)}substring(s,i){return this.value.substring(s,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,i){this.value=this.value.substr(0,s)+i+this.value.substr(s+i.length)}}class ie{constructor(s,i,a,c){if(this.width=s,this.height=i,this.rowSize=a,this.bits=c,i==null&&(i=s),this.height=i,s<1||i<1)throw new C("Both dimensions must be greater than 0");a==null&&(a=Math.floor((s+31)/32)),this.rowSize=a,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const i=s.length,a=s[0].length,c=new ie(a,i);for(let u=0;u<i;u++){const f=s[u];for(let p=0;p<a;p++)f[p]&&c.set(p,u)}return c}static parseFromString(s,i,a){if(s===null)throw new C("stringRepresentation cannot be null");const c=new Array(s.length);let u=0,f=0,p=-1,y=0,w=0;for(;w<s.length;)if(s.charAt(w)===`
`||s.charAt(w)==="\r"){if(u>f){if(p===-1)p=u-f;else if(u-f!==p)throw new C("row lengths do not match");f=u,y++}w++}else if(s.substring(w,w+i.length)===i)w+=i.length,c[u]=!0,u++;else if(s.substring(w,w+a.length)===a)w+=a.length,c[u]=!1,u++;else throw new C("illegal character encountered: "+s.substring(w));if(u>f){if(p===-1)p=u-f;else if(u-f!==p)throw new C("row lengths do not match");y++}const S=new ie(p,y);for(let T=0;T<u;T++)c[T]&&S.set(Math.floor(T%p),Math.floor(T/p));return S}get(s,i){const a=i*this.rowSize+Math.floor(s/32);return(this.bits[a]>>>(s&31)&1)!==0}set(s,i){const a=i*this.rowSize+Math.floor(s/32);this.bits[a]|=1<<(s&31)&4294967295}unset(s,i){const a=i*this.rowSize+Math.floor(s/32);this.bits[a]&=~(1<<(s&31)&4294967295)}flip(s,i){const a=i*this.rowSize+Math.floor(s/32);this.bits[a]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new C("input matrix dimensions do not match");const i=new M(Math.floor(this.width/32)+1),a=this.rowSize,c=this.bits;for(let u=0,f=this.height;u<f;u++){const p=u*a,y=s.getRow(u,i).getBitArray();for(let w=0;w<a;w++)c[p+w]^=y[w]}}clear(){const s=this.bits,i=s.length;for(let a=0;a<i;a++)s[a]=0}setRegion(s,i,a,c){if(i<0||s<0)throw new C("Left and top must be nonnegative");if(c<1||a<1)throw new C("Height and width must be at least 1");const u=s+a,f=i+c;if(f>this.height||u>this.width)throw new C("The region must fit inside the matrix");const p=this.rowSize,y=this.bits;for(let w=i;w<f;w++){const S=w*p;for(let T=s;T<u;T++)y[S+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(s,i){i==null||i.getSize()<this.width?i=new M(this.width):i.clear();const a=this.rowSize,c=this.bits,u=s*a;for(let f=0;f<a;f++)i.setBulk(f*32,c[u+f]);return i}setRow(s,i){N.arraycopy(i.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),i=this.getHeight();let a=new M(s),c=new M(s);for(let u=0,f=Math.floor((i+1)/2);u<f;u++)a=this.getRow(u,a),c=this.getRow(i-1-u,c),a.reverse(),c.reverse(),this.setRow(u,c),this.setRow(i-1-u,a)}getEnclosingRectangle(){const s=this.width,i=this.height,a=this.rowSize,c=this.bits;let u=s,f=i,p=-1,y=-1;for(let w=0;w<i;w++)for(let S=0;S<a;S++){const T=c[w*a+S];if(T!==0){if(w<f&&(f=w),w>y&&(y=w),S*32<u){let D=0;for(;!(T<<31-D&4294967295);)D++;S*32+D<u&&(u=S*32+D)}if(S*32+31>p){let D=31;for(;!(T>>>D);)D--;S*32+D>p&&(p=S*32+D)}}}return p<u||y<f?null:Int32Array.from([u,f,p-u+1,y-f+1])}getTopLeftOnBit(){const s=this.rowSize,i=this.bits;let a=0;for(;a<i.length&&i[a]===0;)a++;if(a===i.length)return null;const c=a/s;let u=a%s*32;const f=i[a];let p=0;for(;!(f<<31-p&4294967295);)p++;return u+=p,Int32Array.from([u,c])}getBottomRightOnBit(){const s=this.rowSize,i=this.bits;let a=i.length-1;for(;a>=0&&i[a]===0;)a--;if(a<0)return null;const c=Math.floor(a/s);let u=Math.floor(a%s)*32;const f=i[a];let p=31;for(;!(f>>>p);)p--;return u+=p,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof ie))return!1;const i=s;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&A.equals(this.bits,i.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+A.hashCode(this.bits),s}toString(s="X ",i="  ",a=`
`){return this.buildToString(s,i,a)}buildToString(s,i,a){let c=new oe;for(let u=0,f=this.height;u<f;u++){for(let p=0,y=this.width;p<y;p++)c.append(this.get(p,u)?s:i);c.append(a)}return c.toString()}clone(){return new ie(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends g{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class fe extends k{constructor(s){super(s),this.luminances=fe.EMPTY,this.buckets=new Int32Array(fe.LUMINANCE_BUCKETS)}getBlackRow(s,i){const a=this.getLuminanceSource(),c=a.getWidth();i==null||i.getSize()<c?i=new M(c):i.clear(),this.initArrays(c);const u=a.getRow(s,this.luminances),f=this.buckets;for(let y=0;y<c;y++)f[(u[y]&255)>>fe.LUMINANCE_SHIFT]++;const p=fe.estimateBlackPoint(f);if(c<3)for(let y=0;y<c;y++)(u[y]&255)<p&&i.set(y);else{let y=u[0]&255,w=u[1]&255;for(let S=1;S<c-1;S++){const T=u[S+1]&255;(w*4-y-T)/2<p&&i.set(S),y=w,w=T}}return i}getBlackMatrix(){const s=this.getLuminanceSource(),i=s.getWidth(),a=s.getHeight(),c=new ie(i,a);this.initArrays(i);const u=this.buckets;for(let y=1;y<5;y++){const w=Math.floor(a*y/5),S=s.getRow(w,this.luminances),T=Math.floor(i*4/5);for(let D=Math.floor(i/5);D<T;D++){const F=S[D]&255;u[F>>fe.LUMINANCE_SHIFT]++}}const f=fe.estimateBlackPoint(u),p=s.getMatrix();for(let y=0;y<a;y++){const w=y*i;for(let S=0;S<i;S++)(p[w+S]&255)<f&&c.set(S,y)}return c}createBinarizer(s){return new fe(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const i=this.buckets;for(let a=0;a<fe.LUMINANCE_BUCKETS;a++)i[a]=0}static estimateBlackPoint(s){const i=s.length;let a=0,c=0,u=0;for(let S=0;S<i;S++)s[S]>u&&(c=S,u=s[S]),s[S]>a&&(a=s[S]);let f=0,p=0;for(let S=0;S<i;S++){const T=S-c,D=s[S]*T*T;D>p&&(f=S,p=D)}if(c>f){const S=c;c=f,f=S}if(f-c<=i/16)throw new X;let y=f-1,w=-1;for(let S=f-1;S>c;S--){const T=S-c,D=T*T*(f-S)*(a-s[S]);D>w&&(y=S,w=D)}return y<<fe.LUMINANCE_SHIFT}}fe.LUMINANCE_BITS=5,fe.LUMINANCE_SHIFT=8-fe.LUMINANCE_BITS,fe.LUMINANCE_BUCKETS=1<<fe.LUMINANCE_BITS,fe.EMPTY=Uint8ClampedArray.from([0]);class de extends fe{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),i=s.getWidth(),a=s.getHeight();if(i>=de.MINIMUM_DIMENSION&&a>=de.MINIMUM_DIMENSION){const c=s.getMatrix();let u=i>>de.BLOCK_SIZE_POWER;i&de.BLOCK_SIZE_MASK&&u++;let f=a>>de.BLOCK_SIZE_POWER;a&de.BLOCK_SIZE_MASK&&f++;const p=de.calculateBlackPoints(c,u,f,i,a),y=new ie(i,a);de.calculateThresholdForBlock(c,u,f,i,a,p,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new de(s)}static calculateThresholdForBlock(s,i,a,c,u,f,p){const y=u-de.BLOCK_SIZE,w=c-de.BLOCK_SIZE;for(let S=0;S<a;S++){let T=S<<de.BLOCK_SIZE_POWER;T>y&&(T=y);const D=de.cap(S,2,a-3);for(let F=0;F<i;F++){let V=F<<de.BLOCK_SIZE_POWER;V>w&&(V=w);const H=de.cap(F,2,i-3);let K=0;for(let ge=-2;ge<=2;ge++){const xe=f[D+ge];K+=xe[H-2]+xe[H-1]+xe[H]+xe[H+1]+xe[H+2]}const ee=K/25;de.thresholdBlock(s,V,T,ee,c,p)}}}static cap(s,i,a){return s<i?i:s>a?a:s}static thresholdBlock(s,i,a,c,u,f){for(let p=0,y=a*u+i;p<de.BLOCK_SIZE;p++,y+=u)for(let w=0;w<de.BLOCK_SIZE;w++)(s[y+w]&255)<=c&&f.set(i+w,a+p)}static calculateBlackPoints(s,i,a,c,u){const f=u-de.BLOCK_SIZE,p=c-de.BLOCK_SIZE,y=new Array(a);for(let w=0;w<a;w++){y[w]=new Int32Array(i);let S=w<<de.BLOCK_SIZE_POWER;S>f&&(S=f);for(let T=0;T<i;T++){let D=T<<de.BLOCK_SIZE_POWER;D>p&&(D=p);let F=0,V=255,H=0;for(let ee=0,ge=S*c+D;ee<de.BLOCK_SIZE;ee++,ge+=c){for(let xe=0;xe<de.BLOCK_SIZE;xe++){const ue=s[ge+xe]&255;F+=ue,ue<V&&(V=ue),ue>H&&(H=ue)}if(H-V>de.MIN_DYNAMIC_RANGE)for(ee++,ge+=c;ee<de.BLOCK_SIZE;ee++,ge+=c)for(let xe=0;xe<de.BLOCK_SIZE;xe++)F+=s[ge+xe]&255}let K=F>>de.BLOCK_SIZE_POWER*2;if(H-V<=de.MIN_DYNAMIC_RANGE&&(K=V/2,w>0&&T>0)){const ee=(y[w-1][T]+2*y[w][T-1]+y[w-1][T-1])/4;V<ee&&(K=ee)}y[w][T]=K}}return y}}de.BLOCK_SIZE_POWER=3,de.BLOCK_SIZE=1<<de.BLOCK_SIZE_POWER,de.BLOCK_SIZE_MASK=de.BLOCK_SIZE-1,de.MINIMUM_DIMENSION=de.BLOCK_SIZE*5,de.MIN_DYNAMIC_RANGE=24;class te{constructor(s,i){this.width=s,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,i,a,c){throw new ae("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ae("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ae("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let i=new oe;for(let a=0;a<this.height;a++){const c=this.getRow(a,s);for(let u=0;u<this.width;u++){const f=c[u]&255;let p;f<64?p="#":f<128?p="+":f<192?p=".":p=" ",i.append(p)}i.append(`
`)}return i.toString()}}class ne extends te{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,i){const a=this.delegate.getRow(s,i),c=this.getWidth();for(let u=0;u<c;u++)a[u]=255-(a[u]&255);return a}getMatrix(){const s=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(i);for(let c=0;c<i;c++)a[c]=255-(s[c]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(s,i,a,c){return new ne(this.delegate.crop(s,i,a,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ne(this.delegate.rotateCounterClockwise45())}}class we extends te{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=we.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const i=s.getContext("2d").getImageData(0,0,s.width,s.height);return we.toGrayscaleBuffer(i.data,s.width,s.height)}static toGrayscaleBuffer(s,i,a){const c=new Uint8ClampedArray(i*a);for(let u=0,f=0,p=s.length;u<p;u+=4,f++){let y;if(s[u+3]===0)y=255;else{const S=s[u],T=s[u+1],D=s[u+2];y=306*S+601*T+117*D+512>>10}c[f]=y}return c}getRow(s,i){if(s<0||s>=this.getHeight())throw new C("Requested row is outside the image: "+s);const a=this.getWidth(),c=s*a;return i===null?i=this.buffer.slice(c,c+a):(i.length<a&&(i=new Uint8ClampedArray(a)),i.set(this.buffer.slice(c,c+a))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,i,a,c){return super.crop(s,i,a,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const i=this.getTempCanvasElement(),a=i.getContext("2d"),c=s*we.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*f),y=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*f);return i.width=p,i.height=y,a.translate(p/2,y/2),a.rotate(c),a.drawImage(this.canvas,u/-2,f/-2),this.buffer=we.makeBufferFromCanvasImageData(i),this}invert(){return new ne(this)}}we.DEGREE_TO_RADIANS=Math.PI/180;class Me{constructor(s,i,a){this.deviceId=s,this.label=i,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Be=(globalThis||ic||self||window||void 0)&&(globalThis||ic||self||window||void 0).__awaiter||function(_,s,i,a){function c(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(S){try{w(a.next(S))}catch(T){f(T)}}function y(S){try{w(a.throw(S))}catch(T){f(T)}}function w(S){S.done?u(S.value):c(S.value).then(p,y)}w((a=a.apply(_,s||[])).next())})};class Nt{constructor(s,i=500,a){this.reader=s,this.timeBetweenScansMillis=i,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return Be(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const a of s){const c=a.kind==="video"?"videoinput":a.kind;if(c!=="videoinput")continue;const u=a.deviceId||a.id,f=a.label||`Video device ${i.length+1}`,p=a.groupId,y={deviceId:u,label:f,kind:c,groupId:p};i.push(y)}return i})}getVideoInputDevices(){return Be(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Me(i.deviceId,i.label))})}findDeviceById(s){return Be(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(a=>a.deviceId===s):null})}decodeFromInputVideoDevice(s,i){return Be(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,i)})}decodeOnceFromVideoDevice(s,i){return Be(this,void 0,void 0,function*(){this.reset();let a;s?a={deviceId:{exact:s}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeOnceFromConstraints(c,i)})}decodeOnceFromConstraints(s,i){return Be(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(a,i)})}decodeOnceFromStream(s,i){return Be(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(s,i);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(s,i,a){return Be(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,i,a)})}decodeFromVideoDevice(s,i,a){return Be(this,void 0,void 0,function*(){let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,i,a)})}decodeFromConstraints(s,i,a){return Be(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(c,i,a)})}decodeFromStream(s,i,a){return Be(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,i);return yield this.decodeContinuously(c,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,i){return Be(this,void 0,void 0,function*(){const a=this.prepareVideoElement(i);return this.addVideoSource(a,s),this.videoElement=a,this.stream=s,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(s){return new Promise((i,a)=>this.playVideoOnLoad(s,()=>i()))}playVideoOnLoad(s,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",i),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return Be(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,i){const a=document.getElementById(s);if(!a)throw new v(`element with id '${s}' not found`);if(a.nodeName.toLowerCase()!==i.toLowerCase())throw new v(`element with id '${s}' must be an ${i} element`);return a}decodeFromImage(s,i){if(!s&&!i)throw new v("either imageElement with a src set or an url must be provided");return i&&!s?this.decodeFromImageUrl(i):this.decodeFromImageElement(s)}decodeFromVideo(s,i){if(!s&&!i)throw new v("Either an element with a src set or an URL must be provided");return i&&!s?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,i,a){if(s===void 0&&i===void 0)throw new v("Either an element with a src set or an URL must be provided");return i&&!s?this.decodeFromVideoUrlContinuously(i,a):this.decodeFromVideoElementContinuously(s,a)}decodeFromImageElement(s){if(!s)throw new v("An image element must be provided.");this.reset();const i=this.prepareImageElement(s);this.imageElement=i;let a;return this.isImageLoaded(i)?a=this.decodeOnce(i,!1,!0):a=this._decodeOnLoadImage(i),a}decodeFromVideoElement(s){const i=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(s,i){const a=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(a,i)}_decodeFromVideoElementSetup(s){if(!s)throw new v("A video element must be provided.");this.reset();const i=this.prepareVideoElement(s);return this.videoElement=i,i}decodeFromImageUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const a=this._decodeOnLoadImage(i);return i.src=s,a}decodeFromVideoUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),a=this.decodeFromVideoElement(i);return i.src=s,a}decodeFromVideoUrlContinuously(s,i){if(!s)throw new v("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(a,i);return a.src=s,c}_decodeOnLoadImage(s){return new Promise((i,a)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(i,a),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return Be(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,i){return Be(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,i)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let i;return typeof s>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof s=="string"&&(i=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(i=s),i}prepareVideoElement(s){let i;return!s&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof s=="string"&&(i=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(i=s),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(s,i=!0,a=!0){this._stopAsyncDecode=!1;const c=(u,f)=>{if(this._stopAsyncDecode){f(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(s);u(p)}catch(p){const y=i&&p instanceof X,S=(p instanceof O||p instanceof B)&&a;if(y||S)return setTimeout(c,this._timeBetweenDecodingAttempts,u,f);f(p)}};return new Promise((u,f)=>c(u,f))}decodeContinuously(s,i){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(s);i(c,null),setTimeout(a,this.timeBetweenScansMillis)}catch(c){i(null,c);const u=c instanceof O||c instanceof B,f=c instanceof X;(u||f)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(s){const i=this.createBinaryBitmap(s);return this.decodeBitmap(i)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,i,a){i||(i={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(s,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(s,i,a=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(s,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const i=this.getCaptureCanvas(s),a=new we(i),c=new de(a);return new b(c)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const i=this.createCaptureCanvas(s);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let a,c;return typeof s<"u"&&(s instanceof HTMLVideoElement?(a=s.videoWidth,c=s.videoHeight):s instanceof HTMLImageElement&&(a=s.naturalWidth||s.width,c=s.naturalHeight||s.height)),i.style.width=a+"px",i.style.height=c+"px",i.width=a,i.height=c,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,i){try{s.srcObject=i}catch{s.src=URL.createObjectURL(i)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class re{constructor(s,i,a=i==null?0:8*i.length,c,u,f=N.currentTimeMillis()){this.text=s,this.rawBytes=i,this.numBits=a,this.resultPoints=c,this.format=u,this.timestamp=f,this.text=s,this.rawBytes=i,a==null?this.numBits=i==null?0:8*i.length:this.numBits=a,this.resultPoints=c,this.format=u,this.resultMetadata=null,f==null?this.timestamp=N.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,i)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const i=this.resultPoints;if(i===null)this.resultPoints=s;else if(s!==null&&s.length>0){const a=new Array(i.length+s.length);N.arraycopy(i,0,a,0,i.length),N.arraycopy(s,0,a,i.length,s.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var gt;(function(_){_[_.AZTEC=0]="AZTEC",_[_.CODABAR=1]="CODABAR",_[_.CODE_39=2]="CODE_39",_[_.CODE_93=3]="CODE_93",_[_.CODE_128=4]="CODE_128",_[_.DATA_MATRIX=5]="DATA_MATRIX",_[_.EAN_8=6]="EAN_8",_[_.EAN_13=7]="EAN_13",_[_.ITF=8]="ITF",_[_.MAXICODE=9]="MAXICODE",_[_.PDF_417=10]="PDF_417",_[_.QR_CODE=11]="QR_CODE",_[_.RSS_14=12]="RSS_14",_[_.RSS_EXPANDED=13]="RSS_EXPANDED",_[_.UPC_A=14]="UPC_A",_[_.UPC_E=15]="UPC_E",_[_.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(gt||(gt={}));var Ee=gt,Te;(function(_){_[_.OTHER=0]="OTHER",_[_.ORIENTATION=1]="ORIENTATION",_[_.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",_[_.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",_[_.ISSUE_NUMBER=4]="ISSUE_NUMBER",_[_.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",_[_.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",_[_.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",_[_.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",_[_.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",_[_.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Te||(Te={}));var Le=Te;class st{constructor(s,i,a,c,u=-1,f=-1){this.rawBytes=s,this.text=i,this.byteSegments=a,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class dt{exp(s){return this.expTable[s]}log(s){if(s===0)throw new C;return this.logTable[s]}static addOrSubtract(s,i){return s^i}}class Ke{constructor(s,i){if(i.length===0)throw new C;this.field=s;const a=i.length;if(a>1&&i[0]===0){let c=1;for(;c<a&&i[c]===0;)c++;c===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-c),N.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const i=this.coefficients;let a;if(s===1){a=0;for(let f=0,p=i.length;f!==p;f++){const y=i[f];a=dt.addOrSubtract(a,y)}return a}a=i[0];const c=i.length,u=this.field;for(let f=1;f<c;f++)a=dt.addOrSubtract(u.multiply(s,a),i[f]);return a}addOrSubtract(s){if(!this.field.equals(s.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let i=this.coefficients,a=s.coefficients;if(i.length>a.length){const f=i;i=a,a=f}let c=new Int32Array(a.length);const u=a.length-i.length;N.arraycopy(a,0,c,0,u);for(let f=u;f<a.length;f++)c[f]=dt.addOrSubtract(i[f-u],a[f]);return new Ke(this.field,c)}multiply(s){if(!this.field.equals(s.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const i=this.coefficients,a=i.length,c=s.coefficients,u=c.length,f=new Int32Array(a+u-1),p=this.field;for(let y=0;y<a;y++){const w=i[y];for(let S=0;S<u;S++)f[y+S]=dt.addOrSubtract(f[y+S],p.multiply(w,c[S]))}return new Ke(p,f)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const i=this.coefficients.length,a=this.field,c=new Int32Array(i),u=this.coefficients;for(let f=0;f<i;f++)c[f]=a.multiply(u[f],s);return new Ke(a,c)}multiplyByMonomial(s,i){if(s<0)throw new C;if(i===0)return this.field.getZero();const a=this.coefficients,c=a.length,u=new Int32Array(c+s),f=this.field;for(let p=0;p<c;p++)u[p]=f.multiply(a[p],i);return new Ke(f,u)}divide(s){if(!this.field.equals(s.field))throw new C("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new C("Divide by 0");const i=this.field;let a=i.getZero(),c=this;const u=s.getCoefficient(s.getDegree()),f=i.inverse(u);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const p=c.getDegree()-s.getDegree(),y=i.multiply(c.getCoefficient(c.getDegree()),f),w=s.multiplyByMonomial(p,y),S=i.buildMonomial(p,y);a=a.addOrSubtract(S),c=c.addOrSubtract(w)}return[a,c]}toString(){let s="";for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);if(a!==0){if(a<0?(s+=" - ",a=-a):s.length>0&&(s+=" + "),i===0||a!==1){const c=this.field.log(a);c===0?s+="1":c===1?s+="a":(s+="a^",s+=c)}i!==0&&(i===1?s+="x":(s+="x^",s+=i))}}return s}}class mt extends g{}mt.kind="ArithmeticException";class qe extends dt{constructor(s,i,a){super(),this.primitive=s,this.size=i,this.generatorBase=a;const c=new Int32Array(i);let u=1;for(let p=0;p<i;p++)c[p]=u,u*=2,u>=i&&(u^=s,u&=i-1);this.expTable=c;const f=new Int32Array(i);for(let p=0;p<i-1;p++)f[c[p]]=p;this.logTable=f,this.zero=new Ke(this,Int32Array.from([0])),this.one=new Ke(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,i){if(s<0)throw new C;if(i===0)return this.zero;const a=new Int32Array(s+1);return a[0]=i,new Ke(this,a)}inverse(s){if(s===0)throw new mt;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,i){return s===0||i===0?0:this.expTable[(this.logTable[s]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}qe.AZTEC_DATA_12=new qe(4201,4096,1),qe.AZTEC_DATA_10=new qe(1033,1024,1),qe.AZTEC_DATA_6=new qe(67,64,1),qe.AZTEC_PARAM=new qe(19,16,1),qe.QR_CODE_FIELD_256=new qe(285,256,0),qe.DATA_MATRIX_FIELD_256=new qe(301,256,1),qe.AZTEC_DATA_8=qe.DATA_MATRIX_FIELD_256,qe.MAXICODE_FIELD_64=qe.AZTEC_DATA_6;class vn extends g{}vn.kind="ReedSolomonException";class In extends g{}In.kind="IllegalStateException";class gr{constructor(s){this.field=s}decode(s,i){const a=this.field,c=new Ke(a,s),u=new Int32Array(i);let f=!0;for(let F=0;F<i;F++){const V=c.evaluateAt(a.exp(F+a.getGeneratorBase()));u[u.length-1-F]=V,V!==0&&(f=!1)}if(f)return;const p=new Ke(a,u),y=this.runEuclideanAlgorithm(a.buildMonomial(i,1),p,i),w=y[0],S=y[1],T=this.findErrorLocations(w),D=this.findErrorMagnitudes(S,T);for(let F=0;F<T.length;F++){const V=s.length-1-a.log(T[F]);if(V<0)throw new vn("Bad error location");s[V]=qe.addOrSubtract(s[V],D[F])}}runEuclideanAlgorithm(s,i,a){if(s.getDegree()<i.getDegree()){const F=s;s=i,i=F}const c=this.field;let u=s,f=i,p=c.getZero(),y=c.getOne();for(;f.getDegree()>=(a/2|0);){let F=u,V=p;if(u=f,p=y,u.isZero())throw new vn("r_{i-1} was zero");f=F;let H=c.getZero();const K=u.getCoefficient(u.getDegree()),ee=c.inverse(K);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const ge=f.getDegree()-u.getDegree(),xe=c.multiply(f.getCoefficient(f.getDegree()),ee);H=H.addOrSubtract(c.buildMonomial(ge,xe)),f=f.addOrSubtract(u.multiplyByMonomial(ge,xe))}if(y=H.multiply(p).addOrSubtract(V),f.getDegree()>=u.getDegree())throw new In("Division algorithm failed to reduce polynomial?")}const w=y.getCoefficient(0);if(w===0)throw new vn("sigmaTilde(0) was zero");const S=c.inverse(w),T=y.multiplyScalar(S),D=f.multiplyScalar(S);return[T,D]}findErrorLocations(s){const i=s.getDegree();if(i===1)return Int32Array.from([s.getCoefficient(1)]);const a=new Int32Array(i);let c=0;const u=this.field;for(let f=1;f<u.getSize()&&c<i;f++)s.evaluateAt(f)===0&&(a[c]=u.inverse(f),c++);if(c!==i)throw new vn("Error locator degree does not match number of roots");return a}findErrorMagnitudes(s,i){const a=i.length,c=new Int32Array(a),u=this.field;for(let f=0;f<a;f++){const p=u.inverse(i[f]);let y=1;for(let w=0;w<a;w++)if(f!==w){const S=u.multiply(i[w],p),T=S&1?S&-2:S|1;y=u.multiply(y,T)}c[f]=u.multiply(s.evaluateAt(p),u.inverse(y)),u.getGeneratorBase()!==0&&(c[f]=u.multiply(c[f],p))}return c}}var Vt;(function(_){_[_.UPPER=0]="UPPER",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.DIGIT=3]="DIGIT",_[_.PUNCT=4]="PUNCT",_[_.BINARY=5]="BINARY"})(Vt||(Vt={}));class Ot{decode(s){this.ddata=s;let i=s.getBits(),a=this.extractBits(i),c=this.correctBits(a),u=Ot.convertBoolArrayToByteArray(c),f=Ot.getEncodedData(c),p=new st(u,f,null,null);return p.setNumBits(c.length),p}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let i=s.length,a=Vt.UPPER,c=Vt.UPPER,u="",f=0;for(;f<i;)if(c===Vt.BINARY){if(i-f<5)break;let p=Ot.readCode(s,f,5);if(f+=5,p===0){if(i-f<11)break;p=Ot.readCode(s,f,11)+31,f+=11}for(let y=0;y<p;y++){if(i-f<8){f=i;break}const w=Ot.readCode(s,f,8);u+=Y.castAsNonUtf8Char(w),f+=8}c=a}else{let p=c===Vt.DIGIT?4:5;if(i-f<p)break;let y=Ot.readCode(s,f,p);f+=p;let w=Ot.getCharacter(c,y);w.startsWith("CTRL_")?(a=c,c=Ot.getTable(w.charAt(5)),w.charAt(6)==="L"&&(a=c)):(u+=w,c=a)}return u}static getTable(s){switch(s){case"L":return Vt.LOWER;case"P":return Vt.PUNCT;case"M":return Vt.MIXED;case"D":return Vt.DIGIT;case"B":return Vt.BINARY;case"U":default:return Vt.UPPER}}static getCharacter(s,i){switch(s){case Vt.UPPER:return Ot.UPPER_TABLE[i];case Vt.LOWER:return Ot.LOWER_TABLE[i];case Vt.MIXED:return Ot.MIXED_TABLE[i];case Vt.PUNCT:return Ot.PUNCT_TABLE[i];case Vt.DIGIT:return Ot.DIGIT_TABLE[i];default:throw new In("Bad table")}}correctBits(s){let i,a;this.ddata.getNbLayers()<=2?(a=6,i=qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,i=qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,i=qe.AZTEC_DATA_10):(a=12,i=qe.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=s.length/a;if(u<c)throw new B;let f=s.length%a,p=new Int32Array(u);for(let D=0;D<u;D++,f+=a)p[D]=Ot.readCode(s,f,a);try{new gr(i).decode(p,u-c)}catch(D){throw new B(D)}let y=(1<<a)-1,w=0;for(let D=0;D<c;D++){let F=p[D];if(F===0||F===y)throw new B;(F===1||F===y-1)&&w++}let S=new Array(c*a-w),T=0;for(let D=0;D<c;D++){let F=p[D];if(F===1||F===y-1)S.fill(F>1,T,T+a-1),T+=a-1;else for(let V=a-1;V>=0;--V)S[T++]=(F&1<<V)!==0}return S}extractBits(s){let i=this.ddata.isCompact(),a=this.ddata.getNbLayers(),c=(i?11:14)+a*4,u=new Int32Array(c),f=new Array(this.totalBitsInLayer(a,i));if(i)for(let p=0;p<u.length;p++)u[p]=p;else{let p=c+1+2*I.truncDivision(I.truncDivision(c,2)-1,15),y=c/2,w=I.truncDivision(p,2);for(let S=0;S<y;S++){let T=S+I.truncDivision(S,15);u[y-S-1]=w-T-1,u[y+S]=w+T+1}}for(let p=0,y=0;p<a;p++){let w=(a-p)*4+(i?9:12),S=p*2,T=c-1-S;for(let D=0;D<w;D++){let F=D*2;for(let V=0;V<2;V++)f[y+F+V]=s.get(u[S+V],u[S+D]),f[y+2*w+F+V]=s.get(u[S+D],u[T-V]),f[y+4*w+F+V]=s.get(u[T-V],u[T-D]),f[y+6*w+F+V]=s.get(u[T-D],u[S+V])}y+=w*8}return f}static readCode(s,i,a){let c=0;for(let u=i;u<i+a;u++)c<<=1,s[u]&&(c|=1);return c}static readByte(s,i){let a=s.length-i;return a>=8?Ot.readCode(s,i,8):Ot.readCode(s,i,a)<<8-a}static convertBoolArrayToByteArray(s){let i=new Uint8Array((s.length+7)/8);for(let a=0;a<i.length;a++)i[a]=Ot.readByte(s,8*a);return i}totalBitsInLayer(s,i){return((i?88:112)+16*s)*s}}Ot.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ot.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ot.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,i,a,c){const u=s-a,f=i-c;return Math.sqrt(u*u+f*f)}static sum(s){let i=0;for(let a=0,c=s.length;a!==c;a++){const u=s[a];i+=u}return i}}class ql{static floatToIntBits(s){return s}}ql.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ke{constructor(s,i){this.x=s,this.y=i}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof ke){const i=s;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*ql.floatToIntBits(this.x)+ql.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const i=this.distance(s[0],s[1]),a=this.distance(s[1],s[2]),c=this.distance(s[0],s[2]);let u,f,p;if(a>=i&&a>=c?(f=s[0],u=s[1],p=s[2]):c>=a&&c>=i?(f=s[1],u=s[0],p=s[2]):(f=s[2],u=s[0],p=s[1]),this.crossProductZ(u,f,p)<0){const y=u;u=p,p=y}s[0]=u,s[1]=f,s[2]=p}static distance(s,i){return it.distance(s.x,s.y,i.x,i.y)}static crossProductZ(s,i,a){const c=i.x,u=i.y;return(a.x-c)*(s.y-u)-(a.y-u)*(s.x-c)}}class U{constructor(s,i){this.bits=s,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Q extends U{constructor(s,i,a,c,u){super(s,i),this.compact=a,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class se{constructor(s,i,a,c){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),i==null&&(i=se.INIT_SIZE),a==null&&(a=s.getWidth()/2|0),c==null&&(c=s.getHeight()/2|0);const u=i/2|0;if(this.leftInit=a-u,this.rightInit=a+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let s=this.leftInit,i=this.rightInit,a=this.upInit,c=this.downInit,u=!1,f=!0,p=!1,y=!1,w=!1,S=!1,T=!1;const D=this.width,F=this.height;for(;f;){f=!1;let V=!0;for(;(V||!y)&&i<D;)V=this.containsBlackPoint(a,c,i,!1),V?(i++,f=!0,y=!0):y||i++;if(i>=D){u=!0;break}let H=!0;for(;(H||!w)&&c<F;)H=this.containsBlackPoint(s,i,c,!0),H?(c++,f=!0,w=!0):w||c++;if(c>=F){u=!0;break}let K=!0;for(;(K||!S)&&s>=0;)K=this.containsBlackPoint(a,c,s,!1),K?(s--,f=!0,S=!0):S||s--;if(s<0){u=!0;break}let ee=!0;for(;(ee||!T)&&a>=0;)ee=this.containsBlackPoint(s,i,a,!0),ee?(a--,f=!0,T=!0):T||a--;if(a<0){u=!0;break}f&&(p=!0)}if(!u&&p){const V=i-s;let H=null;for(let xe=1;H===null&&xe<V;xe++)H=this.getBlackPointOnSegment(s,c-xe,s+xe,c);if(H==null)throw new X;let K=null;for(let xe=1;K===null&&xe<V;xe++)K=this.getBlackPointOnSegment(s,a+xe,s+xe,a);if(K==null)throw new X;let ee=null;for(let xe=1;ee===null&&xe<V;xe++)ee=this.getBlackPointOnSegment(i,a+xe,i-xe,a);if(ee==null)throw new X;let ge=null;for(let xe=1;ge===null&&xe<V;xe++)ge=this.getBlackPointOnSegment(i,c-xe,i-xe,c);if(ge==null)throw new X;return this.centerEdges(ge,H,ee,K)}else throw new X}getBlackPointOnSegment(s,i,a,c){const u=it.round(it.distance(s,i,a,c)),f=(a-s)/u,p=(c-i)/u,y=this.image;for(let w=0;w<u;w++){const S=it.round(s+w*f),T=it.round(i+w*p);if(y.get(S,T))return new ke(S,T)}return null}centerEdges(s,i,a,c){const u=s.getX(),f=s.getY(),p=i.getX(),y=i.getY(),w=a.getX(),S=a.getY(),T=c.getX(),D=c.getY(),F=se.CORR;return u<this.width/2?[new ke(T-F,D+F),new ke(p+F,y+F),new ke(w-F,S-F),new ke(u+F,f-F)]:[new ke(T+F,D+F),new ke(p+F,y-F),new ke(w-F,S+F),new ke(u-F,f-F)]}containsBlackPoint(s,i,a,c){const u=this.image;if(c){for(let f=s;f<=i;f++)if(u.get(f,a))return!0}else for(let f=s;f<=i;f++)if(u.get(a,f))return!0;return!1}}se.INIT_SIZE=10,se.CORR=1;class Ne{static checkAndNudgePoints(s,i){const a=s.getWidth(),c=s.getHeight();let u=!0;for(let f=0;f<i.length&&u;f+=2){const p=Math.floor(i[f]),y=Math.floor(i[f+1]);if(p<-1||p>a||y<-1||y>c)throw new X;u=!1,p===-1?(i[f]=0,u=!0):p===a&&(i[f]=a-1,u=!0),y===-1?(i[f+1]=0,u=!0):y===c&&(i[f+1]=c-1,u=!0)}u=!0;for(let f=i.length-2;f>=0&&u;f-=2){const p=Math.floor(i[f]),y=Math.floor(i[f+1]);if(p<-1||p>a||y<-1||y>c)throw new X;u=!1,p===-1?(i[f]=0,u=!0):p===a&&(i[f]=a-1,u=!0),y===-1?(i[f+1]=0,u=!0):y===c&&(i[f+1]=c-1,u=!0)}}}class ve{constructor(s,i,a,c,u,f,p,y,w){this.a11=s,this.a21=i,this.a31=a,this.a12=c,this.a22=u,this.a32=f,this.a13=p,this.a23=y,this.a33=w}static quadrilateralToQuadrilateral(s,i,a,c,u,f,p,y,w,S,T,D,F,V,H,K){const ee=ve.quadrilateralToSquare(s,i,a,c,u,f,p,y);return ve.squareToQuadrilateral(w,S,T,D,F,V,H,K).times(ee)}transformPoints(s){const i=s.length,a=this.a11,c=this.a12,u=this.a13,f=this.a21,p=this.a22,y=this.a23,w=this.a31,S=this.a32,T=this.a33;for(let D=0;D<i;D+=2){const F=s[D],V=s[D+1],H=u*F+y*V+T;s[D]=(a*F+f*V+w)/H,s[D+1]=(c*F+p*V+S)/H}}transformPointsWithValues(s,i){const a=this.a11,c=this.a12,u=this.a13,f=this.a21,p=this.a22,y=this.a23,w=this.a31,S=this.a32,T=this.a33,D=s.length;for(let F=0;F<D;F++){const V=s[F],H=i[F],K=u*V+y*H+T;s[F]=(a*V+f*H+w)/K,i[F]=(c*V+p*H+S)/K}}static squareToQuadrilateral(s,i,a,c,u,f,p,y){const w=s-a+u-p,S=i-c+f-y;if(w===0&&S===0)return new ve(a-s,u-a,s,c-i,f-c,i,0,0,1);{const T=a-u,D=p-u,F=c-f,V=y-f,H=T*V-D*F,K=(w*V-D*S)/H,ee=(T*S-w*F)/H;return new ve(a-s+K*a,p-s+ee*p,s,c-i+K*c,y-i+ee*y,i,K,ee,1)}}static quadrilateralToSquare(s,i,a,c,u,f,p,y){return ve.squareToQuadrilateral(s,i,a,c,u,f,p,y).buildAdjoint()}buildAdjoint(){return new ve(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new ve(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class ye extends Ne{sampleGrid(s,i,a,c,u,f,p,y,w,S,T,D,F,V,H,K,ee,ge,xe){const ue=ve.quadrilateralToQuadrilateral(c,u,f,p,y,w,S,T,D,F,V,H,K,ee,ge,xe);return this.sampleGridWithTransform(s,i,a,ue)}sampleGridWithTransform(s,i,a,c){if(i<=0||a<=0)throw new X;const u=new ie(i,a),f=new Float32Array(2*i);for(let p=0;p<a;p++){const y=f.length,w=p+.5;for(let S=0;S<y;S+=2)f[S]=S/2+.5,f[S+1]=w;c.transformPoints(f),Ne.checkAndNudgePoints(s,f);try{for(let S=0;S<y;S+=2)s.get(Math.floor(f[S]),Math.floor(f[S+1]))&&u.set(S/2,p)}catch{throw new X}}return u}}class _e{static setGridSampler(s){_e.gridSampler=s}static getInstance(){return _e.gridSampler}}_e.gridSampler=new ye;class Xe{constructor(s,i){this.x=s,this.y=i}toResultPoint(){return new ke(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Jt{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let i=this.getMatrixCenter(),a=this.getBullsEyeCorners(i);if(s){let f=a[0];a[0]=a[2],a[2]=f}this.extractParameters(a);let c=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),u=this.getMatrixCornerPoints(a);return new Q(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new X;let i=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(s[0],s[1],i),this.sampleLine(s[1],s[2],i),this.sampleLine(s[2],s[3],i),this.sampleLine(s[3],s[0],i)]);this.shift=this.getRotation(a,i);let c=0;for(let f=0;f<4;f++){let p=a[(this.shift+f)%4];this.compact?(c<<=7,c+=p>>1&127):(c<<=10,c+=(p>>2&992)+(p>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(s,i){let a=0;s.forEach((c,u,f)=>{let p=(c>>i-2<<1)+(c&1);a=(a<<3)+p}),a=((a&1)<<11)+(a>>1);for(let c=0;c<4;c++)if(I.bitCount(a^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new X}getCorrectedParameterData(s,i){let a,c;i?(a=7,c=2):(a=10,c=4);let u=a-c,f=new Int32Array(a);for(let y=a-1;y>=0;--y)f[y]=s&15,s>>=4;try{new gr(qe.AZTEC_PARAM).decode(f,u)}catch{throw new X}let p=0;for(let y=0;y<c;y++)p=(p<<4)+f[y];return p}getBullsEyeCorners(s){let i=s,a=s,c=s,u=s,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(i,f,1,-1),D=this.getFirstDifferent(a,f,1,1),F=this.getFirstDifferent(c,f,-1,1),V=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let H=this.distancePoint(V,T)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(H<.75||H>1.25||!this.isWhiteOrBlackRectangle(T,D,F,V))break}i=T,a=D,c=F,u=V,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let p=new ke(i.getX()+.5,i.getY()-.5),y=new ke(a.getX()+.5,a.getY()+.5),w=new ke(c.getX()-.5,c.getY()+.5),S=new ke(u.getX()-.5,u.getY()-.5);return this.expandSquare([p,y,w,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,i,a,c;try{let p=new se(this.image).detect();s=p[0],i=p[1],a=p[2],c=p[3]}catch{let y=this.image.getWidth()/2,w=this.image.getHeight()/2;s=this.getFirstDifferent(new Xe(y+7,w-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Xe(y+7,w+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Xe(y-7,w+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Xe(y-7,w-7),!1,-1,-1).toResultPoint()}let u=it.round((s.getX()+c.getX()+i.getX()+a.getX())/4),f=it.round((s.getY()+c.getY()+i.getY()+a.getY())/4);try{let p=new se(this.image,15,u,f).detect();s=p[0],i=p[1],a=p[2],c=p[3]}catch{s=this.getFirstDifferent(new Xe(u+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Xe(u+7,f+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Xe(u-7,f+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Xe(u-7,f-7),!1,-1,-1).toResultPoint()}return u=it.round((s.getX()+c.getX()+i.getX()+a.getX())/4),f=it.round((s.getY()+c.getY()+i.getY()+a.getY())/4),new Xe(u,f)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,i,a,c,u){let f=_e.getInstance(),p=this.getDimension(),y=p/2-this.nbCenterLayers,w=p/2+this.nbCenterLayers;return f.sampleGrid(s,p,p,y,y,w,y,w,w,y,w,i.getX(),i.getY(),a.getX(),a.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(s,i,a){let c=0,u=this.distanceResultPoint(s,i),f=u/a,p=s.getX(),y=s.getY(),w=f*(i.getX()-s.getX())/u,S=f*(i.getY()-s.getY())/u;for(let T=0;T<a;T++)this.image.get(it.round(p+T*w),it.round(y+T*S))&&(c|=1<<a-T-1);return c}isWhiteOrBlackRectangle(s,i,a,c){let u=3;s=new Xe(s.getX()-u,s.getY()+u),i=new Xe(i.getX()-u,i.getY()-u),a=new Xe(a.getX()+u,a.getY()-u),c=new Xe(c.getX()+u,c.getY()+u);let f=this.getColor(c,s);if(f===0)return!1;let p=this.getColor(s,i);return p!==f||(p=this.getColor(i,a),p!==f)?!1:(p=this.getColor(a,c),p===f)}getColor(s,i){let a=this.distancePoint(s,i),c=(i.getX()-s.getX())/a,u=(i.getY()-s.getY())/a,f=0,p=s.getX(),y=s.getY(),w=this.image.get(s.getX(),s.getY()),S=Math.ceil(a);for(let D=0;D<S;D++)p+=c,y+=u,this.image.get(it.round(p),it.round(y))!==w&&f++;let T=f/a;return T>.1&&T<.9?0:T<=.1===w?1:-1}getFirstDifferent(s,i,a,c){let u=s.getX()+a,f=s.getY()+c;for(;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=a,f+=c;for(u-=a,f-=c;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=a;for(u-=a;this.isValid(u,f)&&this.image.get(u,f)===i;)f+=c;return f-=c,new Xe(u,f)}expandSquare(s,i,a){let c=a/(2*i),u=s[0].getX()-s[2].getX(),f=s[0].getY()-s[2].getY(),p=(s[0].getX()+s[2].getX())/2,y=(s[0].getY()+s[2].getY())/2,w=new ke(p+c*u,y+c*f),S=new ke(p-c*u,y-c*f);u=s[1].getX()-s[3].getX(),f=s[1].getY()-s[3].getY(),p=(s[1].getX()+s[3].getX())/2,y=(s[1].getY()+s[3].getY())/2;let T=new ke(p+c*u,y+c*f),D=new ke(p-c*u,y-c*f);return[w,T,S,D]}isValid(s,i){return s>=0&&s<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(s){let i=it.round(s.getX()),a=it.round(s.getY());return this.isValid(i,a)}distancePoint(s,i){return it.distance(s.getX(),s.getY(),i.getX(),i.getY())}distanceResultPoint(s,i){return it.distance(s.getX(),s.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class fn{decode(s,i=null){let a=null,c=new Jt(s.getBlackMatrix()),u=null,f=null;try{let S=c.detectMirror(!1);u=S.getPoints(),this.reportFoundResultPoints(i,u),f=new Ot().decode(S)}catch(S){a=S}if(f==null)try{let S=c.detectMirror(!0);u=S.getPoints(),this.reportFoundResultPoints(i,u),f=new Ot().decode(S)}catch(S){throw a??S}let p=new re(f.getText(),f.getRawBytes(),f.getNumBits(),u,Ee.AZTEC,N.currentTimeMillis()),y=f.getByteSegments();y!=null&&p.putMetadata(Le.BYTE_SEGMENTS,y);let w=f.getECLevel();return w!=null&&p.putMetadata(Le.ERROR_CORRECTION_LEVEL,w),p}reportFoundResultPoints(s,i){if(s!=null){let a=s.get($.NEED_RESULT_POINT_CALLBACK);a!=null&&i.forEach((c,u,f)=>{a.foundPossibleResultPoint(c)})}}reset(){}}class jh extends Nt{constructor(s=500){super(new fn,s)}}class Zt{decode(s,i){try{return this.doDecode(s,i)}catch{if(i&&i.get($.TRY_HARDER)===!0&&s.isRotateSupported()){const u=s.rotateCounterClockwise(),f=this.doDecode(u,i),p=f.getResultMetadata();let y=270;p!==null&&p.get(Le.ORIENTATION)===!0&&(y=y+p.get(Le.ORIENTATION)%360),f.putMetadata(Le.ORIENTATION,y);const w=f.getResultPoints();if(w!==null){const S=u.getHeight();for(let T=0;T<w.length;T++)w[T]=new ke(S-w[T].getY()-1,w[T].getX())}return f}else throw new X}}reset(){}doDecode(s,i){const a=s.getWidth(),c=s.getHeight();let u=new M(a);const f=i&&i.get($.TRY_HARDER)===!0,p=Math.max(1,c>>(f?8:5));let y;f?y=c:y=15;const w=Math.trunc(c/2);for(let S=0;S<y;S++){const T=Math.trunc((S+1)/2),D=(S&1)===0,F=w+p*(D?T:-T);if(F<0||F>=c)break;try{u=s.getBlackRow(F,u)}catch{continue}for(let V=0;V<2;V++){if(V===1&&(u.reverse(),i&&i.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const H=new Map;i.forEach((K,ee)=>H.set(ee,K)),H.delete($.NEED_RESULT_POINT_CALLBACK),i=H}try{const H=this.decodeRow(F,u,i);if(V===1){H.putMetadata(Le.ORIENTATION,180);const K=H.getResultPoints();K!==null&&(K[0]=new ke(a-K[0].getX()-1,K[0].getY()),K[1]=new ke(a-K[1].getX()-1,K[1].getY()))}return H}catch{}}}throw new X}static recordPattern(s,i,a){const c=a.length;for(let w=0;w<c;w++)a[w]=0;const u=s.getSize();if(i>=u)throw new X;let f=!s.get(i),p=0,y=i;for(;y<u;){if(s.get(y)!==f)a[p]++;else{if(++p===c)break;a[p]=1,f=!f}y++}if(!(p===c||p===c-1&&y===u))throw new X}static recordPatternInReverse(s,i,a){let c=a.length,u=s.get(i);for(;i>0&&c>=0;)s.get(--i)!==u&&(c--,u=!u);if(c>=0)throw new X;Zt.recordPattern(s,i+1,a)}static patternMatchVariance(s,i,a){const c=s.length;let u=0,f=0;for(let w=0;w<c;w++)u+=s[w],f+=i[w];if(u<f)return Number.POSITIVE_INFINITY;const p=u/f;a*=p;let y=0;for(let w=0;w<c;w++){const S=s[w],T=i[w]*p,D=S>T?S-T:T-S;if(D>a)return Number.POSITIVE_INFINITY;y+=D}return y/u}}class Ce extends Zt{static findStartPattern(s){const i=s.getSize(),a=s.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),f=a,p=!1;const y=6;for(let w=a;w<i;w++)if(s.get(w)!==p)u[c]++;else{if(c===y-1){let S=Ce.MAX_AVG_VARIANCE,T=-1;for(let D=Ce.CODE_START_A;D<=Ce.CODE_START_C;D++){const F=Zt.patternMatchVariance(u,Ce.CODE_PATTERNS[D],Ce.MAX_INDIVIDUAL_VARIANCE);F<S&&(S=F,T=D)}if(T>=0&&s.isRange(Math.max(0,f-(w-f)/2),f,!1))return Int32Array.from([f,w,T]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,p=!p}throw new X}static decodeCode(s,i,a){Zt.recordPattern(s,a,i);let c=Ce.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<Ce.CODE_PATTERNS.length;f++){const p=Ce.CODE_PATTERNS[f],y=this.patternMatchVariance(i,p,Ce.MAX_INDIVIDUAL_VARIANCE);y<c&&(c=y,u=f)}if(u>=0)return u;throw new X}decodeRow(s,i,a){const c=a&&a.get($.ASSUME_GS1)===!0,u=Ce.findStartPattern(i),f=u[2];let p=0;const y=new Uint8Array(20);y[p++]=f;let w;switch(f){case Ce.CODE_START_A:w=Ce.CODE_CODE_A;break;case Ce.CODE_START_B:w=Ce.CODE_CODE_B;break;case Ce.CODE_START_C:w=Ce.CODE_CODE_C;break;default:throw new B}let S=!1,T=!1,D="",F=u[0],V=u[1];const H=Int32Array.from([0,0,0,0,0,0]);let K=0,ee=0,ge=f,xe=0,ue=!0,pt=!1,et=!1;for(;!S;){const _a=T;switch(T=!1,K=ee,ee=Ce.decodeCode(i,H,V),y[p++]=ee,ee!==Ce.CODE_STOP&&(ue=!0),ee!==Ce.CODE_STOP&&(xe++,ge+=xe*ee),F=V,V+=H.reduce((c6,u6)=>c6+u6,0),ee){case Ce.CODE_START_A:case Ce.CODE_START_B:case Ce.CODE_START_C:throw new B}switch(w){case Ce.CODE_CODE_A:if(ee<64)et===pt?D+=String.fromCharCode(32+ee):D+=String.fromCharCode(32+ee+128),et=!1;else if(ee<96)et===pt?D+=String.fromCharCode(ee-64):D+=String.fromCharCode(ee+64),et=!1;else switch(ee!==Ce.CODE_STOP&&(ue=!1),ee){case Ce.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_A:!pt&&et?(pt=!0,et=!1):pt&&et?(pt=!1,et=!1):et=!0;break;case Ce.CODE_SHIFT:T=!0,w=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_B:w=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_C:w=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:S=!0;break}break;case Ce.CODE_CODE_B:if(ee<96)et===pt?D+=String.fromCharCode(32+ee):D+=String.fromCharCode(32+ee+128),et=!1;else switch(ee!==Ce.CODE_STOP&&(ue=!1),ee){case Ce.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_B:!pt&&et?(pt=!0,et=!1):pt&&et?(pt=!1,et=!1):et=!0;break;case Ce.CODE_SHIFT:T=!0,w=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_A:w=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_C:w=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:S=!0;break}break;case Ce.CODE_CODE_C:if(ee<100)ee<10&&(D+="0"),D+=ee;else switch(ee!==Ce.CODE_STOP&&(ue=!1),ee){case Ce.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case Ce.CODE_CODE_A:w=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_B:w=Ce.CODE_CODE_B;break;case Ce.CODE_STOP:S=!0;break}break}_a&&(w=w===Ce.CODE_CODE_A?Ce.CODE_CODE_B:Ce.CODE_CODE_A)}const wr=V-F;if(V=i.getNextUnset(V),!i.isRange(V,Math.min(i.getSize(),V+(V-F)/2),!1))throw new X;if(ge-=xe*K,ge%103!==K)throw new O;const os=D.length;if(os===0)throw new X;os>0&&ue&&(w===Ce.CODE_CODE_C?D=D.substring(0,os-2):D=D.substring(0,os-1));const Cr=(u[1]+u[0])/2,Bt=F+wr/2,Fn=y.length,Ir=new Uint8Array(Fn);for(let _a=0;_a<Fn;_a++)Ir[_a]=y[_a];const Na=[new ke(Cr,s),new ke(Bt,s)];return new re(D,Ir,0,Na,Ee.CODE_128,new Date().getTime())}}Ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ce.MAX_AVG_VARIANCE=.25,Ce.MAX_INDIVIDUAL_VARIANCE=.7,Ce.CODE_SHIFT=98,Ce.CODE_CODE_C=99,Ce.CODE_CODE_B=100,Ce.CODE_CODE_A=101,Ce.CODE_FNC_1=102,Ce.CODE_FNC_2=97,Ce.CODE_FNC_3=96,Ce.CODE_FNC_4_A=101,Ce.CODE_FNC_4_B=100,Ce.CODE_START_A=103,Ce.CODE_START_B=104,Ce.CODE_START_C=105,Ce.CODE_STOP=106;class hn extends Zt{constructor(s=!1,i=!1){super(),this.usingCheckDigit=s,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,i,a){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=hn.findAsteriskPattern(i,c),f=i.getNextSet(u[1]),p=i.getSize(),y,w;do{hn.recordPattern(i,f,c);let H=hn.toNarrowWidePattern(c);if(H<0)throw new X;y=hn.patternToChar(H),this.decodeRowResult+=y,w=f;for(let K of c)f+=K;f=i.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let H of c)S+=H;let T=f-w-S;if(f!==p&&T*2<S)throw new X;if(this.usingCheckDigit){let H=this.decodeRowResult.length-1,K=0;for(let ee=0;ee<H;ee++)K+=hn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ee));if(this.decodeRowResult.charAt(H)!==hn.ALPHABET_STRING.charAt(K%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,H)}if(this.decodeRowResult.length===0)throw new X;let D;this.extendedMode?D=hn.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let F=(u[1]+u[0])/2,V=w+S/2;return new re(D,null,0,[new ke(F,s),new ke(V,s)],Ee.CODE_39,new Date().getTime())}static findAsteriskPattern(s,i){let a=s.getSize(),c=s.getNextSet(0),u=0,f=c,p=!1,y=i.length;for(let w=c;w<a;w++)if(s.get(w)!==p)i[u]++;else{if(u===y-1){if(this.toNarrowWidePattern(i)===hn.ASTERISK_ENCODING&&s.isRange(Math.max(0,f-Math.floor((w-f)/2)),f,!1))return[f,w];f+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,p=!p}throw new X}static toNarrowWidePattern(s){let i=s.length,a=0,c;do{let u=2147483647;for(let y of s)y<u&&y>a&&(u=y);a=u,c=0;let f=0,p=0;for(let y=0;y<i;y++){let w=s[y];w>a&&(p|=1<<i-1-y,c++,f+=w)}if(c===3){for(let y=0;y<i&&c>0;y++){let w=s[y];if(w>a&&(c--,w*2>=f))return-1}return p}}while(c>3);return-1}static patternToChar(s){for(let i=0;i<hn.CHARACTER_ENCODINGS.length;i++)if(hn.CHARACTER_ENCODINGS[i]===s)return hn.ALPHABET_STRING.charAt(i);if(s===hn.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(s){let i=s.length,a="";for(let c=0;c<i;c++){let u=s.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=s.charAt(c+1),p="\0";switch(u){case"+":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)+32);else throw new B;break;case"$":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)-64);else throw new B;break;case"%":if(f>="A"&&f<="E")p=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")p=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")p=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")p="\0";else if(f==="V")p="@";else if(f==="W")p="`";else if(f==="X"||f==="Y"||f==="Z")p="";else throw new B;break;case"/":if(f>="A"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")p=":";else throw new B;break}a+=p,c++}else a+=u}return a}}hn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",hn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],hn.ASTERISK_ENCODING=148;class Pt extends Zt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,i,a){let c=this.decodeStart(i),u=this.decodeEnd(i),f=new oe;Pt.decodeMiddle(i,c[1],u[0],f);let p=f.toString(),y=null;a!=null&&(y=a.get($.ALLOWED_LENGTHS)),y==null&&(y=Pt.DEFAULT_ALLOWED_LENGTHS);let w=p.length,S=!1,T=0;for(let V of y){if(w===V){S=!0;break}V>T&&(T=V)}if(!S&&w>T&&(S=!0),!S)throw new B;const D=[new ke(c[1],s),new ke(u[0],s)];return new re(p,null,0,D,Ee.ITF,new Date().getTime())}static decodeMiddle(s,i,a,c){let u=new Int32Array(10),f=new Int32Array(5),p=new Int32Array(5);for(u.fill(0),f.fill(0),p.fill(0);i<a;){Zt.recordPattern(s,i,u);for(let w=0;w<5;w++){let S=2*w;f[w]=u[S],p[w]=u[S+1]}let y=Pt.decodeDigit(f);c.append(y.toString()),y=this.decodeDigit(p),c.append(y.toString()),u.forEach(function(w){i+=w})}}decodeStart(s){let i=Pt.skipWhiteSpace(s),a=Pt.findGuardPattern(s,i,Pt.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(s,a[0]),a}validateQuietZone(s,i){let a=this.narrowLineWidth*10;a=a<i?a:i;for(let c=i-1;a>0&&c>=0&&!s.get(c);c--)a--;if(a!==0)throw new X}static skipWhiteSpace(s){const i=s.getSize(),a=s.getNextSet(0);if(a===i)throw new X;return a}decodeEnd(s){s.reverse();try{let i=Pt.skipWhiteSpace(s),a;try{a=Pt.findGuardPattern(s,i,Pt.END_PATTERN_REVERSED[0])}catch(u){u instanceof X&&(a=Pt.findGuardPattern(s,i,Pt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,a[0]);let c=a[0];return a[0]=s.getSize()-a[1],a[1]=s.getSize()-c,a}finally{s.reverse()}}static findGuardPattern(s,i,a){let c=a.length,u=new Int32Array(c),f=s.getSize(),p=!1,y=0,w=i;u.fill(0);for(let S=i;S<f;S++)if(s.get(S)!==p)u[y]++;else{if(y===c-1){if(Zt.patternMatchVariance(u,a,Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE)return[w,S];w+=u[0]+u[1],N.arraycopy(u,2,u,0,y-1),u[y-1]=0,u[y]=0,y--}else y++;u[y]=1,p=!p}throw new X}static decodeDigit(s){let i=Pt.MAX_AVG_VARIANCE,a=-1,c=Pt.PATTERNS.length;for(let u=0;u<c;u++){let f=Pt.PATTERNS[u],p=Zt.patternMatchVariance(s,f,Pt.MAX_INDIVIDUAL_VARIANCE);p<i?(i=p,a=u):p===i&&(a=-1)}if(a>=0)return a%10;throw new X}}Pt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Pt.MAX_AVG_VARIANCE=.38,Pt.MAX_INDIVIDUAL_VARIANCE=.5,Pt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Pt.START_PATTERN=Int32Array.from([1,1,1,1]),Pt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Kt extends Zt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let i=!1,a,c=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),a=Kt.findGuardPattern(s,c,!1,this.START_END_PATTERN,u);let f=a[0];c=a[1];let p=f-(c-f);p>=0&&(i=s.isRange(p,f,!1))}return a}static checkChecksum(s){return Kt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let i=s.length;if(i===0)return!1;let a=parseInt(s.charAt(i-1),10);return Kt.getStandardUPCEANChecksum(s.substring(0,i-1))===a}static getStandardUPCEANChecksum(s){let i=s.length,a=0;for(let c=i-1;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;a+=u}a*=3;for(let c=i-2;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;a+=u}return(1e3-a)%10}static decodeEnd(s,i){return Kt.findGuardPattern(s,i,!1,Kt.START_END_PATTERN,new Int32Array(Kt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,i,a,c){return this.findGuardPattern(s,i,a,c,new Int32Array(c.length))}static findGuardPattern(s,i,a,c,u){let f=s.getSize();i=a?s.getNextUnset(i):s.getNextSet(i);let p=0,y=i,w=c.length,S=a;for(let T=i;T<f;T++)if(s.get(T)!==S)u[p]++;else{if(p===w-1){if(Zt.patternMatchVariance(u,c,Kt.MAX_INDIVIDUAL_VARIANCE)<Kt.MAX_AVG_VARIANCE)return Int32Array.from([y,T]);y+=u[0]+u[1];let D=u.slice(2,u.length-1);for(let F=0;F<p-1;F++)u[F]=D[F];u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,S=!S}throw new X}static decodeDigit(s,i,a,c){this.recordPattern(s,a,i);let u=this.MAX_AVG_VARIANCE,f=-1,p=c.length;for(let y=0;y<p;y++){let w=c[y],S=Zt.patternMatchVariance(i,w,Kt.MAX_INDIVIDUAL_VARIANCE);S<u&&(u=S,f=y)}if(f>=0)return f;throw new X}}Kt.MAX_AVG_VARIANCE=.48,Kt.MAX_INDIVIDUAL_VARIANCE=.7,Kt.START_END_PATTERN=Int32Array.from([1,1,1]),Kt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Kt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class _i{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,i,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,a,c),f=c.toString(),p=_i.parseExtensionString(f),y=[new ke((a[0]+a[1])/2,s),new ke(u,s)],w=new re(f,null,0,y,Ee.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&w.putAllMetadata(p),w}decodeMiddle(s,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f=i[1],p=0;for(let w=0;w<5&&f<u;w++){let S=Kt.decodeDigit(s,c,f,Kt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let T of c)f+=T;S>=10&&(p|=1<<4-w),w!==4&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(a.length!==5)throw new X;let y=this.determineCheckDigit(p);if(_i.extensionChecksum(a.toString())!==y)throw new X;return f}static extensionChecksum(s){let i=s.length,a=0;for(let c=i-2;c>=0;c-=2)a+=s.charAt(c).charCodeAt(0)-48;a*=3;for(let c=i-1;c>=0;c-=2)a+=s.charAt(c).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(s){for(let i=0;i<10;i++)if(s===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new X}static parseExtensionString(s){if(s.length!==5)return null;let i=_i.parseExtension5String(s);return i==null?null:new Map([[Le.SUGGESTED_PRICE,i]])}static parseExtension5String(s){let i;switch(s.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let a=parseInt(s.substring(1)),c=(a/100).toString(),u=a%100,f=u<10?"0"+u:u.toString();return i+c+"."+f}}class Lh{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,i,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,a,c),f=c.toString(),p=Lh.parseExtensionString(f),y=[new ke((a[0]+a[1])/2,s),new ke(u,s)],w=new re(f,null,0,y,Ee.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&w.putAllMetadata(p),w}decodeMiddle(s,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f=i[1],p=0;for(let y=0;y<2&&f<u;y++){let w=Kt.decodeDigit(s,c,f,Kt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+w%10);for(let S of c)f+=S;w>=10&&(p|=1<<1-y),y!==1&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(a.length!==2)throw new X;if(parseInt(a.toString())%4!==p)throw new X;return f}static parseExtensionString(s){return s.length!==2?null:new Map([[Le.ISSUE_NUMBER,parseInt(s)]])}}class qg{static decodeRow(s,i,a){let c=Kt.findGuardPattern(i,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new _i().decodeRow(s,i,c)}catch{return new Lh().decodeRow(s,i,c)}}}qg.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class _t extends Kt{constructor(){super(),this.decodeRowStringBuffer="",_t.L_AND_G_PATTERNS=_t.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let i=_t.L_PATTERNS[s-10],a=new Int32Array(i.length);for(let c=0;c<i.length;c++)a[c]=i[i.length-c-1];_t.L_AND_G_PATTERNS[s]=a}}decodeRow(s,i,a){let c=_t.findStartGuardPattern(i),u=a==null?null:a.get($.NEED_RESULT_POINT_CALLBACK);if(u!=null){const ue=new ke((c[0]+c[1])/2,s);u.foundPossibleResultPoint(ue)}let f=this.decodeMiddle(i,c,this.decodeRowStringBuffer),p=f.rowOffset,y=f.resultString;if(u!=null){const ue=new ke(p,s);u.foundPossibleResultPoint(ue)}let w=this.decodeEnd(i,p);if(u!=null){const ue=new ke((w[0]+w[1])/2,s);u.foundPossibleResultPoint(ue)}let S=w[1],T=S+(S-w[0]);if(T>=i.getSize()||!i.isRange(S,T,!1))throw new X;let D=y.toString();if(D.length<8)throw new B;if(!_t.checkChecksum(D))throw new O;let F=(c[1]+c[0])/2,V=(w[1]+w[0])/2,H=this.getBarcodeFormat(),K=[new ke(F,s),new ke(V,s)],ee=new re(D,null,0,K,H,new Date().getTime()),ge=0;try{let ue=qg.decodeRow(s,i,w[1]);ee.putMetadata(Le.UPC_EAN_EXTENSION,ue.getText()),ee.putAllMetadata(ue.getResultMetadata()),ee.addResultPoints(ue.getResultPoints()),ge=ue.getText().length}catch{}let xe=a==null?null:a.get($.ALLOWED_EAN_EXTENSIONS);if(xe!=null){let ue=!1;for(let pt in xe)if(ge.toString()===pt){ue=!0;break}if(!ue)throw new X}return ee}decodeEnd(s,i){return _t.findGuardPattern(s,i,!1,_t.START_END_PATTERN,new Int32Array(_t.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return _t.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let i=s.length;if(i===0)return!1;let a=parseInt(s.charAt(i-1),10);return _t.getStandardUPCEANChecksum(s.substring(0,i-1))===a}static getStandardUPCEANChecksum(s){let i=s.length,a=0;for(let c=i-1;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;a+=u}a*=3;for(let c=i-2;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;a+=u}return(1e3-a)%10}}class To extends _t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f=i[1],p=0;for(let w=0;w<6&&f<u;w++){let S=_t.decodeDigit(s,c,f,_t.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let T of c)f+=T;S>=10&&(p|=1<<5-w)}a=To.determineFirstDigit(a,p),f=_t.findGuardPattern(s,f,!0,_t.MIDDLE_PATTERN,new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&f<u;w++){let S=_t.decodeDigit(s,c,f,_t.L_PATTERNS);a+=String.fromCharCode(48+S);for(let T of c)f+=T}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return Ee.EAN_13}static determineFirstDigit(s,i){for(let a=0;a<10;a++)if(i===this.FIRST_DIGIT_ENCODINGS[a])return s=String.fromCharCode(48+a)+s,s;throw new X}}To.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Yg extends _t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,i,a){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f=i[1];for(let y=0;y<4&&f<u;y++){let w=_t.decodeDigit(s,c,f,_t.L_PATTERNS);a+=String.fromCharCode(48+w);for(let S of c)f+=S}f=_t.findGuardPattern(s,f,!0,_t.MIDDLE_PATTERN,new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<u;y++){let w=_t.decodeDigit(s,c,f,_t.L_PATTERNS);a+=String.fromCharCode(48+w);for(let S of c)f+=S}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return Ee.EAN_8}}class Qg extends _t{constructor(){super(...arguments),this.ean13Reader=new To}getBarcodeFormat(){return Ee.UPC_A}decode(s,i){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,i,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,i,a))}decodeMiddle(s,i,a){return this.ean13Reader.decodeMiddle(s,i,a)}maybeReturnResult(s){let i=s.getText();if(i.charAt(0)==="0"){let a=new re(i.substring(1),null,null,s.getResultPoints(),Ee.UPC_A);return s.getResultMetadata()!=null&&a.putAllMetadata(s.getResultMetadata()),a}else throw new X}reset(){this.ean13Reader.reset()}}class is extends _t{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,i,a){const c=this.decodeMiddleCounters.map(w=>w);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=s.getSize();let f=i[1],p=0;for(let w=0;w<6&&f<u;w++){const S=is.decodeDigit(s,c,f,is.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let T of c)f+=T;S>=10&&(p|=1<<5-w)}let y=is.determineNumSysAndCheckDigit(a,p);return{rowOffset:f,resultString:y}}decodeEnd(s,i){return is.findGuardPatternWithoutCounters(s,i,!0,is.MIDDLE_END_PATTERN)}checkChecksum(s){return _t.checkChecksum(is.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,i){for(let a=0;a<=1;a++)for(let c=0;c<10;c++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][c]){let u=String.fromCharCode(48+a),f=String.fromCharCode(48+c);return u+s+f}throw X.getNotFoundInstance()}getBarcodeFormat(){return Ee.UPC_E}static convertUPCEtoUPCA(s){const i=s.slice(1,7).split("").map(u=>u.charCodeAt(0)),a=new oe;a.append(s.charAt(0));let c=i[5];switch(c){case 0:case 1:case 2:a.appendChars(i,0,2),a.append(c),a.append("0000"),a.appendChars(i,2,3);break;case 3:a.appendChars(i,0,3),a.append("00000"),a.appendChars(i,3,2);break;case 4:a.appendChars(i,0,4),a.append("00000"),a.append(i[4]);break;default:a.appendChars(i,0,5),a.append("0000"),a.append(c);break}return s.length>=8&&a.append(s.charAt(7)),a.toString()}}is.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),is.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Fh extends Zt{constructor(s){super();let i=s==null?null:s.get($.POSSIBLE_FORMATS),a=[];r(i)?(a.push(new To),a.push(new Qg),a.push(new Yg),a.push(new is)):(i.indexOf(Ee.EAN_13)>-1&&a.push(new To),i.indexOf(Ee.UPC_A)>-1&&a.push(new Qg),i.indexOf(Ee.EAN_8)>-1&&a.push(new Yg),i.indexOf(Ee.UPC_E)>-1&&a.push(new is)),this.readers=a}decodeRow(s,i,a){for(let c of this.readers)try{const u=c.decodeRow(s,i,a),f=u.getBarcodeFormat()===Ee.EAN_13&&u.getText().charAt(0)==="0",p=a==null?null:a.get($.POSSIBLE_FORMATS),y=p==null||p.includes(Ee.UPC_A);if(f&&y){const w=u.getRawBytes(),S=new re(u.getText().substring(1),w,w?w.length:null,u.getResultPoints(),Ee.UPC_A);return S.putAllMetadata(u.getResultMetadata()),S}return u}catch{}throw new X}reset(){for(let s of this.readers)s.reset()}}class Xn extends Zt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,i){for(let a=0;a<i.length;a++)if(Zt.patternMatchVariance(s,i[a],Xn.MAX_INDIVIDUAL_VARIANCE)<Xn.MAX_AVG_VARIANCE)return a;throw new X}static count(s){return it.sum(new Int32Array(s))}static increment(s,i){let a=0,c=i[0];for(let u=1;u<s.length;u++)i[u]>c&&(c=i[u],a=u);s[a]++}static decrement(s,i){let a=0,c=i[0];for(let u=1;u<s.length;u++)i[u]<c&&(c=i[u],a=u);s[a]--}static isFinderPattern(s){let i=s[0]+s[1],a=i+s[2]+s[3],c=i/a;if(c>=Xn.MIN_FINDER_PATTERN_RATIO&&c<=Xn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let p of s)p>f&&(f=p),p<u&&(u=p);return f<10*u}return!1}}Xn.MAX_AVG_VARIANCE=.2,Xn.MAX_INDIVIDUAL_VARIANCE=.45,Xn.MIN_FINDER_PATTERN_RATIO=9.5/12,Xn.MAX_FINDER_PATTERN_RATIO=12.5/14;class va{constructor(s,i){this.value=s,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof va))return!1;const i=s;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Wu{constructor(s,i,a,c,u){this.value=s,this.startEnd=i,this.value=s,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new ke(a,u)),this.resultPoints.push(new ke(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof Wu))return!1;const i=s;return this.value===i.value}hashCode(){return this.value}}class As{constructor(){}static getRSSvalue(s,i,a){let c=0;for(let y of s)c+=y;let u=0,f=0,p=s.length;for(let y=0;y<p-1;y++){let w;for(w=1,f|=1<<y;w<s[y];w++,f&=~(1<<y)){let S=As.combins(c-w-1,p-y-2);if(a&&f===0&&c-w-(p-y-1)>=p-y-1&&(S-=As.combins(c-w-(p-y),p-y-2)),p-y-1>1){let T=0;for(let D=c-w-(p-y-2);D>i;D--)T+=As.combins(c-w-D-1,p-y-3);S-=T*(p-1-y)}else c-w>i&&S--;u+=S}c-=w}return u}static combins(s,i){let a,c;s-i>i?(c=i,a=s-i):(c=s-i,a=i);let u=1,f=1;for(let p=s;p>a;p--)u*=p,f<=c&&(u/=f,f++);for(;f<=c;)u/=f,f++;return u}}class M8{static buildBitArray(s){let i=s.length*2-1;s[s.length-1].getRightChar()==null&&(i-=1);let a=12*i,c=new M(a),u=0,p=s[0].getRightChar().getValue();for(let y=11;y>=0;--y)p&1<<y&&c.set(u),u++;for(let y=1;y<s.length;++y){let w=s[y],S=w.getLeftChar().getValue();for(let T=11;T>=0;--T)S&1<<T&&c.set(u),u++;if(w.getRightChar()!=null){let T=w.getRightChar().getValue();for(let D=11;D>=0;--D)T&1<<D&&c.set(u),u++}}return c}}class Io{constructor(s,i){i?this.decodedInformation=null:(this.finished=s,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Bh{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class xr extends Bh{constructor(s,i){super(s),this.value=i}getValue(){return this.value}isFNC1(){return this.value===xr.FNC1}}xr.FNC1="$";class Ro extends Bh{constructor(s,i,a){super(s),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Hr extends Bh{constructor(s,i,a){if(super(s),i<0||i>10||a<0||a>10)throw new B;this.firstDigit=i,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Hr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Hr.FNC1}isAnyFNC1(){return this.firstDigit===Hr.FNC1||this.secondDigit===Hr.FNC1}}Hr.FNC1=10;class Oe{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new X;let i=s.substring(0,2);for(let u of Oe.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(2,u[2],s):Oe.processFixedAI(2,u[1],s);if(s.length<3)throw new X;let a=s.substring(0,3);for(let u of Oe.THREE_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(3,u[2],s):Oe.processFixedAI(3,u[1],s);for(let u of Oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(4,u[2],s):Oe.processFixedAI(4,u[1],s);if(s.length<4)throw new X;let c=s.substring(0,4);for(let u of Oe.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(4,u[2],s):Oe.processFixedAI(4,u[1],s);throw new X}static processFixedAI(s,i,a){if(a.length<s)throw new X;let c=a.substring(0,s);if(a.length<s+i)throw new X;let u=a.substring(s,s+i),f=a.substring(s+i),p="("+c+")"+u,y=Oe.parseFieldsInGeneralPurpose(f);return y==null?p:p+y}static processVariableAI(s,i,a){let c=a.substring(0,s),u;a.length<s+i?u=a.length:u=s+i;let f=a.substring(s,u),p=a.substring(u),y="("+c+")"+f,w=Oe.parseFieldsInGeneralPurpose(p);return w==null?y:y+w}}Oe.VARIABLE_LENGTH=[],Oe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Oe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Oe.VARIABLE_LENGTH,20],["22",Oe.VARIABLE_LENGTH,29],["30",Oe.VARIABLE_LENGTH,8],["37",Oe.VARIABLE_LENGTH,8],["90",Oe.VARIABLE_LENGTH,30],["91",Oe.VARIABLE_LENGTH,30],["92",Oe.VARIABLE_LENGTH,30],["93",Oe.VARIABLE_LENGTH,30],["94",Oe.VARIABLE_LENGTH,30],["95",Oe.VARIABLE_LENGTH,30],["96",Oe.VARIABLE_LENGTH,30],["97",Oe.VARIABLE_LENGTH,3],["98",Oe.VARIABLE_LENGTH,30],["99",Oe.VARIABLE_LENGTH,30]],Oe.THREE_DIGIT_DATA_LENGTH=[["240",Oe.VARIABLE_LENGTH,30],["241",Oe.VARIABLE_LENGTH,30],["242",Oe.VARIABLE_LENGTH,6],["250",Oe.VARIABLE_LENGTH,30],["251",Oe.VARIABLE_LENGTH,30],["253",Oe.VARIABLE_LENGTH,17],["254",Oe.VARIABLE_LENGTH,20],["400",Oe.VARIABLE_LENGTH,30],["401",Oe.VARIABLE_LENGTH,30],["402",17],["403",Oe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Oe.VARIABLE_LENGTH,20],["421",Oe.VARIABLE_LENGTH,15],["422",3],["423",Oe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Oe.VARIABLE_LENGTH,15],["391",Oe.VARIABLE_LENGTH,18],["392",Oe.VARIABLE_LENGTH,15],["393",Oe.VARIABLE_LENGTH,18],["703",Oe.VARIABLE_LENGTH,30]],Oe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Oe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Oe.VARIABLE_LENGTH,20],["8003",Oe.VARIABLE_LENGTH,30],["8004",Oe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Oe.VARIABLE_LENGTH,30],["8008",Oe.VARIABLE_LENGTH,12],["8018",18],["8020",Oe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Oe.VARIABLE_LENGTH,70],["8200",Oe.VARIABLE_LENGTH,70]];class wa{constructor(s){this.buffer=new oe,this.information=s}decodeAllCodes(s,i){let a=i,c=null;do{let u=this.decodeGeneralPurposeField(a,c),f=Oe.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&s.append(f),u.isRemaining()?c=""+u.getRemainingValue():c=null,a===u.getNewPosition())break;a=u.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let i=s;i<s+3;++i)if(this.information.get(i))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(s,4);return u===0?new Hr(this.information.getSize(),Hr.FNC1,Hr.FNC1):new Hr(this.information.getSize(),u-1,Hr.FNC1)}let i=this.extractNumericValueFromBitArray(s,7),a=(i-8)/11,c=(i-8)%11;return new Hr(s+7,a,c)}extractNumericValueFromBitArray(s,i){return wa.extractNumericValueFromBitArray(this.information,s,i)}static extractNumericValueFromBitArray(s,i,a){let c=0;for(let u=0;u<a;++u)s.get(i+u)&&(c|=1<<a-u-1);return c}decodeGeneralPurposeField(s,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(s);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Ro(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Ro(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,i;do{let a=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),s=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),s=i.isFinished()):(i=this.parseNumericBlock(),s=i.isFinished()),!(a!==this.current.getPosition())&&!s)break}while(!s);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let i;return s.isSecondDigitFNC1()?i=new Ro(this.current.getPosition(),this.buffer.toString()):i=new Ro(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Io(!0,i)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let i=new Ro(this.current.getPosition(),this.buffer.toString());return new Io(!0,i)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Io(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let i=new Ro(this.current.getPosition(),this.buffer.toString());return new Io(!0,i)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Io(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let i=new Ro(this.current.getPosition(),this.buffer.toString());return new Io(!0,i)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Io(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(s,5);if(i>=5&&i<16)return!0;if(s+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,7);if(a>=64&&a<116)return!0;if(s+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,8);return c>=232&&c<253}decodeIsoIec646(s){let i=this.extractNumericValueFromBitArray(s,5);if(i===15)return new xr(s+5,xr.FNC1);if(i>=5&&i<15)return new xr(s+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(s,7);if(a>=64&&a<90)return new xr(s+7,""+(a+1));if(a>=90&&a<116)return new xr(s+7,""+(a+7));let c=this.extractNumericValueFromBitArray(s,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new B}return new xr(s+8,u)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(s,5);if(i>=5&&i<16)return!0;if(s+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,6);return a>=16&&a<63}decodeAlphanumeric(s){let i=this.extractNumericValueFromBitArray(s,5);if(i===15)return new xr(s+5,xr.FNC1);if(i>=5&&i<15)return new xr(s+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(s,6);if(a>=32&&a<58)return new xr(s+6,""+(a+33));let c;switch(a){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new In("Decoding invalid alphanumeric value: "+a)}return new xr(s+6,c)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let i=0;i<5&&i+s<this.information.getSize();++i)if(i===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+i))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let i=s;i<s+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let i=0;i<4&&i+s<this.information.getSize();++i)if(this.information.get(s+i))return!1;return!0}}class Vh{constructor(s){this.information=s,this.generalDecoder=new wa(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class yr extends Vh{constructor(s){super(s)}encodeCompressedGtin(s,i){s.append("(01)");let a=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,i,a)}encodeCompressedGtinWithoutAI(s,i,a){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*c,10);u/100===0&&s.append("0"),u/10===0&&s.append("0"),s.append(u)}yr.appendCheckDigit(s,a)}static appendCheckDigit(s,i){let a=0;for(let c=0;c<13;c++){let u=s.charAt(c+i).charCodeAt(0)-48;a+=c&1?u:3*u}a=10-a%10,a===10&&(a=0),s.append(a)}}yr.GTIN_SIZE=40;class Ca extends yr{constructor(s){super(s)}parseInformation(){let s=new oe;s.append("(01)");let i=s.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Ca.HEADER_SIZE,4);return s.append(a),this.encodeCompressedGtinWithoutAI(s,Ca.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(s,Ca.HEADER_SIZE+44)}}Ca.HEADER_SIZE=4;class Hu extends Vh{constructor(s){super(s)}parseInformation(){let s=new oe;return this.getGeneralDecoder().decodeAllCodes(s,Hu.HEADER_SIZE)}}Hu.HEADER_SIZE=5;class Gu extends yr{constructor(s){super(s)}encodeCompressedWeight(s,i,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i,a);this.addWeightCode(s,c);let u=this.checkWeight(c),f=1e5;for(let p=0;p<5;++p)u/f===0&&s.append("0"),f/=10;s.append(u)}}class Ns extends Gu{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Ns.HEADER_SIZE+Gu.GTIN_SIZE+Ns.WEIGHT_SIZE)throw new X;let s=new oe;return this.encodeCompressedGtin(s,Ns.HEADER_SIZE),this.encodeCompressedWeight(s,Ns.HEADER_SIZE+Gu.GTIN_SIZE,Ns.WEIGHT_SIZE),s.toString()}}Ns.HEADER_SIZE=5,Ns.WEIGHT_SIZE=15;class j8 extends Ns{constructor(s){super(s)}addWeightCode(s,i){s.append("(3103)")}checkWeight(s){return s}}class L8 extends Ns{constructor(s){super(s)}addWeightCode(s,i){i<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class _s extends yr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<_s.HEADER_SIZE+yr.GTIN_SIZE)throw new X;let s=new oe;this.encodeCompressedGtin(s,_s.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(_s.HEADER_SIZE+yr.GTIN_SIZE,_s.LAST_DIGIT_SIZE);s.append("(392"),s.append(i),s.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(_s.HEADER_SIZE+yr.GTIN_SIZE+_s.LAST_DIGIT_SIZE,null);return s.append(a.getNewString()),s.toString()}}_s.HEADER_SIZE=8,_s.LAST_DIGIT_SIZE=2;class tr extends yr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<tr.HEADER_SIZE+yr.GTIN_SIZE)throw new X;let s=new oe;this.encodeCompressedGtin(s,tr.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(tr.HEADER_SIZE+yr.GTIN_SIZE,tr.LAST_DIGIT_SIZE);s.append("(393"),s.append(i),s.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(tr.HEADER_SIZE+yr.GTIN_SIZE+tr.LAST_DIGIT_SIZE,tr.FIRST_THREE_DIGITS_SIZE);a/100==0&&s.append("0"),a/10==0&&s.append("0"),s.append(a);let c=this.getGeneralDecoder().decodeGeneralPurposeField(tr.HEADER_SIZE+yr.GTIN_SIZE+tr.LAST_DIGIT_SIZE+tr.FIRST_THREE_DIGITS_SIZE,null);return s.append(c.getNewString()),s.toString()}}tr.HEADER_SIZE=8,tr.LAST_DIGIT_SIZE=2,tr.FIRST_THREE_DIGITS_SIZE=10;class qt extends Gu{constructor(s,i,a){super(s),this.dateCode=a,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=qt.HEADER_SIZE+qt.GTIN_SIZE+qt.WEIGHT_SIZE+qt.DATE_SIZE)throw new X;let s=new oe;return this.encodeCompressedGtin(s,qt.HEADER_SIZE),this.encodeCompressedWeight(s,qt.HEADER_SIZE+qt.GTIN_SIZE,qt.WEIGHT_SIZE),this.encodeCompressedDate(s,qt.HEADER_SIZE+qt.GTIN_SIZE+qt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,i){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,qt.DATE_SIZE);if(a==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let c=a%32;a/=32;let u=a%12+1;a/=12;let f=a;f/10==0&&s.append("0"),s.append(f),u/10==0&&s.append("0"),s.append(u),c/10==0&&s.append("0"),s.append(c)}addWeightCode(s,i){s.append("("),s.append(this.firstAIdigits),s.append(i/1e5),s.append(")")}checkWeight(s){return s%1e5}}qt.HEADER_SIZE=8,qt.WEIGHT_SIZE=20,qt.DATE_SIZE=16;function Jg(_){try{if(_.get(1))return new Ca(_);if(!_.get(2))return new Hu(_);switch(wa.extractNumericValueFromBitArray(_,1,4)){case 4:return new j8(_);case 5:return new L8(_)}switch(wa.extractNumericValueFromBitArray(_,1,5)){case 12:return new _s(_);case 13:return new tr(_)}switch(wa.extractNumericValueFromBitArray(_,1,7)){case 56:return new qt(_,"310","11");case 57:return new qt(_,"320","11");case 58:return new qt(_,"310","13");case 59:return new qt(_,"320","13");case 60:return new qt(_,"310","15");case 61:return new qt(_,"320","15");case 62:return new qt(_,"310","17");case 63:return new qt(_,"320","17")}}catch(s){throw console.log(s),new In("unknown decoder: "+_)}}class Ti{constructor(s,i,a,c){this.leftchar=s,this.rightchar=i,this.finderpattern=a,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,i){return s instanceof Ti?Ti.equalsOrNull(s.leftchar,i.leftchar)&&Ti.equalsOrNull(s.rightchar,i.rightchar)&&Ti.equalsOrNull(s.finderpattern,i.finderpattern):!1}static equalsOrNull(s,i){return s===null?i===null:Ti.equals(s,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Uh{constructor(s,i,a){this.pairs=s,this.rowNumber=i,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,i){return s instanceof Uh?this.checkEqualitity(s,i)&&s.wasReversed===i.wasReversed:!1}checkEqualitity(s,i){if(!s||!i)return;let a;return s.forEach((c,u)=>{i.forEach(f=>{c.getLeftChar().getValue()===f.getLeftChar().getValue()&&c.getRightChar().getValue()===f.getRightChar().getValue()&&c.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(a=!0)})}),a}}class le extends Xn{constructor(s){super(...arguments),this.pairs=new Array(le.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,i,a){this.pairs.length=0,this.startFromEven=!1;try{return le.constructResult(this.decodeRow2pairs(s,i))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,le.constructResult(this.decodeRow2pairs(s,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,i){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,s))}catch(u){if(u instanceof X){if(!this.pairs.length)throw new X;a=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(s,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new X}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return s&&(this.rows=this.rows.reverse()),i}checkRows(s,i){for(let a=i;a<this.rows.length;a++){let c=this.rows[a];this.pairs.length=0;for(let f of s)this.pairs.push(f.getPairs());if(this.pairs.push(c.getPairs()),!le.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(s);u.push(c);try{return this.checkRows(u,a+1)}catch(f){this.verbose&&console.log(f)}}throw new X}static isValidSequence(s){for(let i of le.FINDER_PATTERN_SEQUENCES){if(s.length>i.length)continue;let a=!0;for(let c=0;c<s.length;c++)if(s[c].getFinderPattern().getValue()!=i[c]){a=!1;break}if(a)return!0}return!1}storeRow(s,i){let a=0,c=!1,u=!1;for(;a<this.rows.length;){let f=this.rows[a];if(f.getRowNumber()>s){u=f.isEquivalent(this.pairs);break}c=f.isEquivalent(this.pairs),a++}u||c||le.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Uh(this.pairs,s,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,i){for(let a of i)if(a.getPairs().length!==s.length){for(let c of a.getPairs())for(let u of s)if(Ti.equals(c,u))break}}static isPartialRow(s,i){for(let a of i){let c=!0;for(let u of s){let f=!1;for(let p of a.getPairs())if(u.equals(p)){f=!0;break}if(!f){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(s){let i=M8.buildBitArray(s),c=Jg(i).parseInformation(),u=s[0].getFinderPattern().getResultPoints(),f=s[s.length-1].getFinderPattern().getResultPoints(),p=[u[0],u[1],f[0],f[1]];return new re(c,null,null,p,Ee.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),i=s.getLeftChar(),a=s.getRightChar();if(a==null)return!1;let c=a.getChecksumPortion(),u=2;for(let p=1;p<this.pairs.size();++p){let y=this.pairs.get(p);c+=y.getLeftChar().getChecksumPortion(),u++;let w=y.getRightChar();w!=null&&(c+=w.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==i.getValue()}static getNextSecondBar(s,i){let a;return s.get(i)?(a=s.getNextUnset(i),a=s.getNextSet(a)):(a=s.getNextSet(i),a=s.getNextUnset(a)),a}retrieveNextPair(s,i,a){let c=i.length%2==0;this.startFromEven&&(c=!c);let u,f=!0,p=-1;do this.findNextPair(s,i,p),u=this.parseFoundFinderPattern(s,a,c),u==null?p=le.getNextSecondBar(s,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(s,u,c,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new X;let w;try{w=this.decodeDataCharacter(s,u,c,!1)}catch(S){w=null,this.verbose&&console.log(S)}return new Ti(y,w,u,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,i,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f;a>=0?f=a:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let p=i.length%2!=0;this.startFromEven&&(p=!p);let y=!1;for(;f<u&&(y=!s.get(f),!!y);)f++;let w=0,S=f;for(let T=f;T<u;T++)if(s.get(T)!=y)c[w]++;else{if(w==3){if(p&&le.reverseCounters(c),le.isFinderPattern(c)){this.startEnd[0]=S,this.startEnd[1]=T;return}p&&le.reverseCounters(c),S+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,w--}else w++;c[w]=1,y=!y}throw new X}static reverseCounters(s){let i=s.length;for(let a=0;a<i/2;++a){let c=s[a];s[a]=s[i-a-1],s[i-a-1]=c}}parseFoundFinderPattern(s,i,a){let c,u,f;if(a){let w=this.startEnd[0]-1;for(;w>=0&&!s.get(w);)w--;w++,c=this.startEnd[0]-w,u=w,f=this.startEnd[1]}else u=this.startEnd[0],f=s.getNextUnset(this.startEnd[1]+1),c=f-this.startEnd[1];let p=this.getDecodeFinderCounters();N.arraycopy(p,0,p,1,p.length-1),p[0]=c;let y;try{y=this.parseFinderValue(p,le.FINDER_PATTERNS)}catch{return null}return new Wu(y,[u,f],u,f,i)}decodeDataCharacter(s,i,a,c){let u=this.getDataCharacterCounters();for(let Bt=0;Bt<u.length;Bt++)u[Bt]=0;if(c)le.recordPatternInReverse(s,i.getStartEnd()[0],u);else{le.recordPattern(s,i.getStartEnd()[1],u);for(let Bt=0,Fn=u.length-1;Bt<Fn;Bt++,Fn--){let Ir=u[Bt];u[Bt]=u[Fn],u[Fn]=Ir}}let f=17,p=it.sum(new Int32Array(u))/f,y=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(p-y)/y>.3)throw new X;let w=this.getOddCounts(),S=this.getEvenCounts(),T=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let Bt=0;Bt<u.length;Bt++){let Fn=1*u[Bt]/p,Ir=Fn+.5;if(Ir<1){if(Fn<.3)throw new X;Ir=1}else if(Ir>8){if(Fn>8.7)throw new X;Ir=8}let Na=Bt/2;Bt&1?(S[Na]=Ir,D[Na]=Fn-Ir):(w[Na]=Ir,T[Na]=Fn-Ir)}this.adjustOddEvenCounts(f);let F=4*i.getValue()+(a?0:2)+(c?0:1)-1,V=0,H=0;for(let Bt=w.length-1;Bt>=0;Bt--){if(le.isNotA1left(i,a,c)){let Fn=le.WEIGHTS[F][2*Bt];H+=w[Bt]*Fn}V+=w[Bt]}let K=0;for(let Bt=S.length-1;Bt>=0;Bt--)if(le.isNotA1left(i,a,c)){let Fn=le.WEIGHTS[F][2*Bt+1];K+=S[Bt]*Fn}let ee=H+K;if(V&1||V>13||V<4)throw new X;let ge=(13-V)/2,xe=le.SYMBOL_WIDEST[ge],ue=9-xe,pt=As.getRSSvalue(w,xe,!0),et=As.getRSSvalue(S,ue,!1),wr=le.EVEN_TOTAL_SUBSET[ge],os=le.GSUM[ge],Cr=pt*wr+et+os;return new va(Cr,ee)}static isNotA1left(s,i,a){return!(s.getValue()==0&&i&&a)}adjustOddEvenCounts(s){let i=it.sum(new Int32Array(this.getOddCounts())),a=it.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;i>13?u=!0:i<4&&(c=!0);let f=!1,p=!1;a>13?p=!0:a<4&&(f=!0);let y=i+a-s,w=(i&1)==1,S=(a&1)==0;if(y==1)if(w){if(S)throw new X;u=!0}else{if(!S)throw new X;p=!0}else if(y==-1)if(w){if(S)throw new X;c=!0}else{if(!S)throw new X;f=!0}else if(y==0){if(w){if(!S)throw new X;i<a?(c=!0,p=!0):(u=!0,f=!0)}else if(S)throw new X}else throw new X;if(c){if(u)throw new X;le.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&le.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new X;le.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&le.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}le.SYMBOL_WIDEST=[7,5,4,3,1],le.EVEN_TOTAL_SUBSET=[4,20,52,104,204],le.GSUM=[0,348,1388,2948,3988],le.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],le.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],le.FINDER_PAT_A=0,le.FINDER_PAT_B=1,le.FINDER_PAT_C=2,le.FINDER_PAT_D=3,le.FINDER_PAT_E=4,le.FINDER_PAT_F=5,le.FINDER_PATTERN_SEQUENCES=[[le.FINDER_PAT_A,le.FINDER_PAT_A],[le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B],[le.FINDER_PAT_A,le.FINDER_PAT_C,le.FINDER_PAT_B,le.FINDER_PAT_D],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_C],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_D,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_D],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_E],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F]],le.MAX_PAIRS=11;class F8 extends va{constructor(s,i,a){super(s,i),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class an extends Xn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,i,a){const c=this.decodePair(i,!1,s,a);an.addOrTally(this.possibleLeftPairs,c),i.reverse();let u=this.decodePair(i,!0,s,a);an.addOrTally(this.possibleRightPairs,u),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&an.checkChecksum(f,p))return an.constructResult(f,p)}throw new X}static addOrTally(s,i){if(i==null)return;let a=!1;for(let c of s)if(c.getValue()===i.getValue()){c.incrementCount(),a=!0;break}a||s.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,i){let a=4537077*s.getValue()+i.getValue(),c=new String(a).toString(),u=new oe;for(let w=13-c.length;w>0;w--)u.append("0");u.append(c);let f=0;for(let w=0;w<13;w++){let S=u.charAt(w).charCodeAt(0)-48;f+=w&1?S:3*S}f=10-f%10,f===10&&(f=0),u.append(f.toString());let p=s.getFinderPattern().getResultPoints(),y=i.getFinderPattern().getResultPoints();return new re(u.toString(),null,0,[p[0],p[1],y[0],y[1]],Ee.RSS_14,new Date().getTime())}static checkChecksum(s,i){let a=(s.getChecksumPortion()+16*i.getChecksumPortion())%79,c=9*s.getFinderPattern().getValue()+i.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,a===c}decodePair(s,i,a,c){try{let u=this.findFinderPattern(s,i),f=this.parseFoundFinderPattern(s,a,i,u),p=c==null?null:c.get($.NEED_RESULT_POINT_CALLBACK);if(p!=null){let S=(u[0]+u[1])/2;i&&(S=s.getSize()-1-S),p.foundPossibleResultPoint(new ke(S,a))}let y=this.decodeDataCharacter(s,f,!0),w=this.decodeDataCharacter(s,f,!1);return new F8(1597*y.getValue()+w.getValue(),y.getChecksumPortion()+4*w.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(s,i,a){let c=this.getDataCharacterCounters();for(let K=0;K<c.length;K++)c[K]=0;if(a)Zt.recordPatternInReverse(s,i.getStartEnd()[0],c);else{Zt.recordPattern(s,i.getStartEnd()[1]+1,c);for(let K=0,ee=c.length-1;K<ee;K++,ee--){let ge=c[K];c[K]=c[ee],c[ee]=ge}}let u=a?16:15,f=it.sum(new Int32Array(c))/u,p=this.getOddCounts(),y=this.getEvenCounts(),w=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let K=0;K<c.length;K++){let ee=c[K]/f,ge=Math.floor(ee+.5);ge<1?ge=1:ge>8&&(ge=8);let xe=Math.floor(K/2);K&1?(y[xe]=ge,S[xe]=ee-ge):(p[xe]=ge,w[xe]=ee-ge)}this.adjustOddEvenCounts(a,u);let T=0,D=0;for(let K=p.length-1;K>=0;K--)D*=9,D+=p[K],T+=p[K];let F=0,V=0;for(let K=y.length-1;K>=0;K--)F*=9,F+=y[K],V+=y[K];let H=D+3*F;if(a){if(T&1||T>12||T<4)throw new X;let K=(12-T)/2,ee=an.OUTSIDE_ODD_WIDEST[K],ge=9-ee,xe=As.getRSSvalue(p,ee,!1),ue=As.getRSSvalue(y,ge,!0),pt=an.OUTSIDE_EVEN_TOTAL_SUBSET[K],et=an.OUTSIDE_GSUM[K];return new va(xe*pt+ue+et,H)}else{if(V&1||V>10||V<4)throw new X;let K=(10-V)/2,ee=an.INSIDE_ODD_WIDEST[K],ge=9-ee,xe=As.getRSSvalue(p,ee,!0),ue=As.getRSSvalue(y,ge,!1),pt=an.INSIDE_ODD_TOTAL_SUBSET[K],et=an.INSIDE_GSUM[K];return new va(ue*pt+xe+et,H)}}findFinderPattern(s,i){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=s.getSize(),u=!1,f=0;for(;f<c&&(u=!s.get(f),i!==u);)f++;let p=0,y=f;for(let w=f;w<c;w++)if(s.get(w)!==u)a[p]++;else{if(p===3){if(Xn.isFinderPattern(a))return[y,w];y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,u=!u}throw new X}parseFoundFinderPattern(s,i,a,c){let u=s.get(c[0]),f=c[0]-1;for(;f>=0&&u!==s.get(f);)f--;f++;const p=c[0]-f,y=this.getDecodeFinderCounters(),w=new Int32Array(y.length);N.arraycopy(y,0,w,1,y.length-1),w[0]=p;const S=this.parseFinderValue(w,an.FINDER_PATTERNS);let T=f,D=c[1];return a&&(T=s.getSize()-1-T,D=s.getSize()-1-D),new Wu(S,[f,c[1]],T,D,i)}adjustOddEvenCounts(s,i){let a=it.sum(new Int32Array(this.getOddCounts())),c=it.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,p=!1,y=!1;s?(a>12?f=!0:a<4&&(u=!0),c>12?y=!0:c<4&&(p=!0)):(a>11?f=!0:a<5&&(u=!0),c>10?y=!0:c<4&&(p=!0));let w=a+c-i,S=(a&1)===(s?1:0),T=(c&1)===1;if(w===1)if(S){if(T)throw new X;f=!0}else{if(!T)throw new X;y=!0}else if(w===-1)if(S){if(T)throw new X;u=!0}else{if(!T)throw new X;p=!0}else if(w===0){if(S){if(!T)throw new X;a<c?(u=!0,y=!0):(f=!0,p=!0)}else if(T)throw new X}else throw new X;if(u){if(f)throw new X;Xn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Xn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(y)throw new X;Xn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Xn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}an.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],an.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],an.OUTSIDE_GSUM=[0,161,961,2015,2715],an.INSIDE_GSUM=[0,336,1036,1516],an.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],an.INSIDE_ODD_WIDEST=[2,4,6,8],an.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ea extends Zt{constructor(s,i){super(),this.readers=[],this.verbose=i===!0;const a=s?s.get($.POSSIBLE_FORMATS):null,c=s&&s.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(Ee.EAN_13)||a.includes(Ee.UPC_A)||a.includes(Ee.EAN_8)||a.includes(Ee.UPC_E))&&this.readers.push(new Fh(s)),a.includes(Ee.CODE_39)&&this.readers.push(new hn(c)),a.includes(Ee.CODE_128)&&this.readers.push(new Ce),a.includes(Ee.ITF)&&this.readers.push(new Pt),a.includes(Ee.RSS_14)&&this.readers.push(new an),a.includes(Ee.RSS_EXPANDED)&&this.readers.push(new le(this.verbose))):(this.readers.push(new Fh(s)),this.readers.push(new hn),this.readers.push(new Fh(s)),this.readers.push(new Ce),this.readers.push(new Pt),this.readers.push(new an),this.readers.push(new le(this.verbose)))}decodeRow(s,i,a){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(s,i,a)}catch{}throw new X}reset(){this.readers.forEach(s=>s.reset())}}class B8 extends Nt{constructor(s=500,i){super(new Ea(i),s,i)}}class Dt{constructor(s,i,a){this.ecCodewords=s,this.ecBlocks=[i],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Tt{constructor(s,i){this.count=s,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xt{constructor(s,i,a,c,u,f){this.versionNumber=s,this.symbolSizeRows=i,this.symbolSizeColumns=a,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=f;let p=0;const y=f.getECCodewords(),w=f.getECBlocks();for(let S of w)p+=S.getCount()*(S.getDataCodewords()+y);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,i){if(s&1||i&1)throw new B;for(let a of xt.VERSIONS)if(a.symbolSizeRows===s&&a.symbolSizeColumns===i)return a;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new xt(1,10,10,8,8,new Dt(5,new Tt(1,3))),new xt(2,12,12,10,10,new Dt(7,new Tt(1,5))),new xt(3,14,14,12,12,new Dt(10,new Tt(1,8))),new xt(4,16,16,14,14,new Dt(12,new Tt(1,12))),new xt(5,18,18,16,16,new Dt(14,new Tt(1,18))),new xt(6,20,20,18,18,new Dt(18,new Tt(1,22))),new xt(7,22,22,20,20,new Dt(20,new Tt(1,30))),new xt(8,24,24,22,22,new Dt(24,new Tt(1,36))),new xt(9,26,26,24,24,new Dt(28,new Tt(1,44))),new xt(10,32,32,14,14,new Dt(36,new Tt(1,62))),new xt(11,36,36,16,16,new Dt(42,new Tt(1,86))),new xt(12,40,40,18,18,new Dt(48,new Tt(1,114))),new xt(13,44,44,20,20,new Dt(56,new Tt(1,144))),new xt(14,48,48,22,22,new Dt(68,new Tt(1,174))),new xt(15,52,52,24,24,new Dt(42,new Tt(2,102))),new xt(16,64,64,14,14,new Dt(56,new Tt(2,140))),new xt(17,72,72,16,16,new Dt(36,new Tt(4,92))),new xt(18,80,80,18,18,new Dt(48,new Tt(4,114))),new xt(19,88,88,20,20,new Dt(56,new Tt(4,144))),new xt(20,96,96,22,22,new Dt(68,new Tt(4,174))),new xt(21,104,104,24,24,new Dt(56,new Tt(6,136))),new xt(22,120,120,18,18,new Dt(68,new Tt(6,175))),new xt(23,132,132,20,20,new Dt(62,new Tt(8,163))),new xt(24,144,144,22,22,new Dt(62,new Tt(8,156),new Tt(2,155))),new xt(25,8,18,6,16,new Dt(7,new Tt(1,5))),new xt(26,8,32,6,14,new Dt(11,new Tt(1,10))),new xt(27,12,26,10,24,new Dt(14,new Tt(1,16))),new xt(28,12,36,10,16,new Dt(18,new Tt(1,22))),new xt(29,16,36,14,16,new Dt(24,new Tt(1,32))),new xt(30,16,48,14,22,new Dt(28,new Tt(1,49)))]}}xt.VERSIONS=xt.buildVersions();class zh{constructor(s){const i=s.getHeight();if(i<8||i>144||i&1)throw new B;this.version=zh.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new ie(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const i=s.getHeight(),a=s.getWidth();return xt.getVersionForDimensions(i,a)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let i=0,a=4,c=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let p=!1,y=!1,w=!1,S=!1;do if(a===u&&c===0&&!p)s[i++]=this.readCorner1(u,f)&255,a-=2,c+=2,p=!0;else if(a===u-2&&c===0&&f&3&&!y)s[i++]=this.readCorner2(u,f)&255,a-=2,c+=2,y=!0;else if(a===u+4&&c===2&&!(f&7)&&!w)s[i++]=this.readCorner3(u,f)&255,a-=2,c+=2,w=!0;else if(a===u-2&&c===0&&(f&7)===4&&!S)s[i++]=this.readCorner4(u,f)&255,a-=2,c+=2,S=!0;else{do a<u&&c>=0&&!this.readMappingMatrix.get(c,a)&&(s[i++]=this.readUtah(a,c,u,f)&255),a-=2,c+=2;while(a>=0&&c<f);a+=1,c+=3;do a>=0&&c<f&&!this.readMappingMatrix.get(c,a)&&(s[i++]=this.readUtah(a,c,u,f)&255),a+=2,c-=2;while(a<u&&c>=0);a+=3,c+=1}while(a<u||c<f);if(i!==this.version.getTotalCodewords())throw new B;return s}readModule(s,i,a,c){return s<0&&(s+=a,i+=4-(a+4&7)),i<0&&(i+=c,s+=4-(c+4&7)),this.readMappingMatrix.set(i,s),this.mappingBitMatrix.get(i,s)}readUtah(s,i,a,c){let u=0;return this.readModule(s-2,i-2,a,c)&&(u|=1),u<<=1,this.readModule(s-2,i-1,a,c)&&(u|=1),u<<=1,this.readModule(s-1,i-2,a,c)&&(u|=1),u<<=1,this.readModule(s-1,i-1,a,c)&&(u|=1),u<<=1,this.readModule(s-1,i,a,c)&&(u|=1),u<<=1,this.readModule(s,i-2,a,c)&&(u|=1),u<<=1,this.readModule(s,i-1,a,c)&&(u|=1),u<<=1,this.readModule(s,i,a,c)&&(u|=1),u}readCorner1(s,i){let a=0;return this.readModule(s-1,0,s,i)&&(a|=1),a<<=1,this.readModule(s-1,1,s,i)&&(a|=1),a<<=1,this.readModule(s-1,2,s,i)&&(a|=1),a<<=1,this.readModule(0,i-2,s,i)&&(a|=1),a<<=1,this.readModule(0,i-1,s,i)&&(a|=1),a<<=1,this.readModule(1,i-1,s,i)&&(a|=1),a<<=1,this.readModule(2,i-1,s,i)&&(a|=1),a<<=1,this.readModule(3,i-1,s,i)&&(a|=1),a}readCorner2(s,i){let a=0;return this.readModule(s-3,0,s,i)&&(a|=1),a<<=1,this.readModule(s-2,0,s,i)&&(a|=1),a<<=1,this.readModule(s-1,0,s,i)&&(a|=1),a<<=1,this.readModule(0,i-4,s,i)&&(a|=1),a<<=1,this.readModule(0,i-3,s,i)&&(a|=1),a<<=1,this.readModule(0,i-2,s,i)&&(a|=1),a<<=1,this.readModule(0,i-1,s,i)&&(a|=1),a<<=1,this.readModule(1,i-1,s,i)&&(a|=1),a}readCorner3(s,i){let a=0;return this.readModule(s-1,0,s,i)&&(a|=1),a<<=1,this.readModule(s-1,i-1,s,i)&&(a|=1),a<<=1,this.readModule(0,i-3,s,i)&&(a|=1),a<<=1,this.readModule(0,i-2,s,i)&&(a|=1),a<<=1,this.readModule(0,i-1,s,i)&&(a|=1),a<<=1,this.readModule(1,i-3,s,i)&&(a|=1),a<<=1,this.readModule(1,i-2,s,i)&&(a|=1),a<<=1,this.readModule(1,i-1,s,i)&&(a|=1),a}readCorner4(s,i){let a=0;return this.readModule(s-3,0,s,i)&&(a|=1),a<<=1,this.readModule(s-2,0,s,i)&&(a|=1),a<<=1,this.readModule(s-1,0,s,i)&&(a|=1),a<<=1,this.readModule(0,i-2,s,i)&&(a|=1),a<<=1,this.readModule(0,i-1,s,i)&&(a|=1),a<<=1,this.readModule(1,i-1,s,i)&&(a|=1),a<<=1,this.readModule(2,i-1,s,i)&&(a|=1),a<<=1,this.readModule(3,i-1,s,i)&&(a|=1),a}extractDataRegion(s){const i=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(s.getHeight()!==i)throw new C("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=i/c|0,p=a/u|0,y=f*c,w=p*u,S=new ie(w,y);for(let T=0;T<f;++T){const D=T*c;for(let F=0;F<p;++F){const V=F*u;for(let H=0;H<c;++H){const K=T*(c+2)+1+H,ee=D+H;for(let ge=0;ge<u;++ge){const xe=F*(u+2)+1+ge;if(s.get(xe,K)){const ue=V+ge;S.set(ue,ee)}}}}}return S}}class Wh{constructor(s,i){this.numDataCodewords=s,this.codewords=i}static getDataBlocks(s,i){const a=i.getECBlocks();let c=0;const u=a.getECBlocks();for(let H of u)c+=H.getCount();const f=new Array(c);let p=0;for(let H of u)for(let K=0;K<H.getCount();K++){const ee=H.getDataCodewords(),ge=a.getECCodewords()+ee;f[p++]=new Wh(ee,new Uint8Array(ge))}const w=f[0].codewords.length-a.getECCodewords(),S=w-1;let T=0;for(let H=0;H<S;H++)for(let K=0;K<p;K++)f[K].codewords[H]=s[T++];const D=i.getVersionNumber()===24,F=D?8:p;for(let H=0;H<F;H++)f[H].codewords[w-1]=s[T++];const V=f[0].codewords.length;for(let H=w;H<V;H++)for(let K=0;K<p;K++){const ee=D?(K+8)%p:K,ge=D&&ee>7?H-1:H;f[ee].codewords[ge]=s[T++]}if(T!==s.length)throw new C;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Hh{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new C(""+s);let i=0,a=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(a>0){const f=8-a,p=s<f?s:f,y=f-p,w=255>>8-p<<y;i=(u[c]&w)>>y,s-=p,a+=p,a===8&&(a=0,c++)}if(s>0){for(;s>=8;)i=i<<8|u[c]&255,c++,s-=8;if(s>0){const f=8-s,p=255>>f<<f;i=i<<s|(u[c]&p)>>f,a+=s}}return this.bitOffset=a,this.byteOffset=c,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Cn;(function(_){_[_.PAD_ENCODE=0]="PAD_ENCODE",_[_.ASCII_ENCODE=1]="ASCII_ENCODE",_[_.C40_ENCODE=2]="C40_ENCODE",_[_.TEXT_ENCODE=3]="TEXT_ENCODE",_[_.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",_[_.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",_[_.BASE256_ENCODE=6]="BASE256_ENCODE"})(Cn||(Cn={}));class Ii{static decode(s){const i=new Hh(s),a=new oe,c=new oe,u=new Array;let f=Cn.ASCII_ENCODE;do if(f===Cn.ASCII_ENCODE)f=this.decodeAsciiSegment(i,a,c);else{switch(f){case Cn.C40_ENCODE:this.decodeC40Segment(i,a);break;case Cn.TEXT_ENCODE:this.decodeTextSegment(i,a);break;case Cn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,a);break;case Cn.EDIFACT_ENCODE:this.decodeEdifactSegment(i,a);break;case Cn.BASE256_ENCODE:this.decodeBase256Segment(i,a,u);break;default:throw new B}f=Cn.ASCII_ENCODE}while(f!==Cn.PAD_ENCODE&&i.available()>0);return c.length()>0&&a.append(c.toString()),new st(s,a.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(s,i,a){let c=!1;do{let u=s.readBits(8);if(u===0)throw new B;if(u<=128)return c&&(u+=128),i.append(String.fromCharCode(u-1)),Cn.ASCII_ENCODE;if(u===129)return Cn.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&i.append("0"),i.append(""+f)}else switch(u){case 230:return Cn.C40_ENCODE;case 231:return Cn.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:i.append("[)>05"),a.insert(0,"");break;case 237:i.append("[)>06"),a.insert(0,"");break;case 238:return Cn.ANSIX12_ENCODE;case 239:return Cn.TEXT_ENCODE;case 240:return Cn.EDIFACT_ENCODE;case 241:break;default:if(u!==254||s.available()!==0)throw new B;break}}while(s.available()>0);return Cn.ASCII_ENCODE}static decodeC40Segment(s,i){let a=!1;const c=[];let u=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let p=0;p<3;p++){const y=c[p];switch(u){case 0:if(y<3)u=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[y];a?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):i.append(w)}else throw new B;break;case 1:a?(i.append(String.fromCharCode(y+128)),a=!1):i.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[y];a?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):i.append(w)}else switch(y){case 27:i.append("");break;case 30:a=!0;break;default:throw new B}u=0;break;case 3:a?(i.append(String.fromCharCode(y+224)),a=!1):i.append(String.fromCharCode(y+96)),u=0;break;default:throw new B}}}while(s.available()>0)}static decodeTextSegment(s,i){let a=!1,c=[],u=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let p=0;p<3;p++){const y=c[p];switch(u){case 0:if(y<3)u=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[y];a?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):i.append(w)}else throw new B;break;case 1:a?(i.append(String.fromCharCode(y+128)),a=!1):i.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[y];a?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):i.append(w)}else switch(y){case 27:i.append("");break;case 30:a=!0;break;default:throw new B}u=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[y];a?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):i.append(w),u=0}else throw new B;break;default:throw new B}}}while(s.available()>0)}static decodeAnsiX12Segment(s,i){const a=[];do{if(s.available()===8)return;const c=s.readBits(8);if(c===254)return;this.parseTwoBytes(c,s.readBits(8),a);for(let u=0;u<3;u++){const f=a[u];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new B;break}}}while(s.available()>0)}static parseTwoBytes(s,i,a){let c=(s<<8)+i-1,u=Math.floor(c/1600);a[0]=u,c-=u*1600,u=Math.floor(c/40),a[1]=u,a[2]=c-u*40}static decodeEdifactSegment(s,i){do{if(s.available()<=16)return;for(let a=0;a<4;a++){let c=s.readBits(6);if(c===31){const u=8-s.getBitOffset();u!==8&&s.readBits(u);return}c&32||(c|=64),i.append(String.fromCharCode(c))}}while(s.available()>0)}static decodeBase256Segment(s,i,a){let c=1+s.getByteOffset();const u=this.unrandomize255State(s.readBits(8),c++);let f;if(u===0?f=s.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(s.readBits(8),c++),f<0)throw new B;const p=new Uint8Array(f);for(let y=0;y<f;y++){if(s.available()<8)throw new B;p[y]=this.unrandomize255State(s.readBits(8),c++)}a.push(p);try{i.append(pe.decode(p,Y.ISO88591))}catch(y){throw new In("Platform does not support required encoding: "+y.message)}}static unrandomize255State(s,i){const a=149*i%255+1,c=s-a;return c>=0?c:c+256}}Ii.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ii.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ii.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ii.TEXT_SHIFT2_SET_CHARS=Ii.C40_SHIFT2_SET_CHARS,Ii.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class V8{constructor(){this.rsDecoder=new gr(qe.DATA_MATRIX_FIELD_256)}decode(s){const i=new zh(s),a=i.getVersion(),c=i.readCodewords(),u=Wh.getDataBlocks(c,a);let f=0;for(let w of u)f+=w.getNumDataCodewords();const p=new Uint8Array(f),y=u.length;for(let w=0;w<y;w++){const S=u[w],T=S.getCodewords(),D=S.getNumDataCodewords();this.correctErrors(T,D);for(let F=0;F<D;F++)p[F*y+w]=T[F]}return Ii.decode(p)}correctErrors(s,i){const a=new Int32Array(s);try{this.rsDecoder.decode(a,s.length-i)}catch{throw new O}for(let c=0;c<i;c++)s[c]=a[c]}}class mn{constructor(s){this.image=s,this.rectangleDetector=new se(this.image)}detect(){const s=this.rectangleDetector.detect();let i=this.detectSolid1(s);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new X;i=this.shiftToModuleCenter(i);const a=i[0],c=i[1],u=i[2],f=i[3];let p=this.transitionsBetween(a,f)+1,y=this.transitionsBetween(u,f)+1;(p&1)===1&&(p+=1),(y&1)===1&&(y+=1),4*p<7*y&&4*y<7*p&&(p=y=Math.max(p,y));let w=mn.sampleGrid(this.image,a,c,u,f,p,y);return new U(w,[a,c,u,f])}static shiftPoint(s,i,a){let c=(i.getX()-s.getX())/(a+1),u=(i.getY()-s.getY())/(a+1);return new ke(s.getX()+c,s.getY()+u)}static moveAway(s,i,a){let c=s.getX(),u=s.getY();return c<i?c-=1:c+=1,u<a?u-=1:u+=1,new ke(c,u)}detectSolid1(s){let i=s[0],a=s[1],c=s[3],u=s[2],f=this.transitionsBetween(i,a),p=this.transitionsBetween(a,c),y=this.transitionsBetween(c,u),w=this.transitionsBetween(u,i),S=f,T=[u,i,a,c];return S>p&&(S=p,T[0]=i,T[1]=a,T[2]=c,T[3]=u),S>y&&(S=y,T[0]=a,T[1]=c,T[2]=u,T[3]=i),S>w&&(T[0]=c,T[1]=u,T[2]=i,T[3]=a),T}detectSolid2(s){let i=s[0],a=s[1],c=s[2],u=s[3],f=this.transitionsBetween(i,u),p=mn.shiftPoint(a,c,(f+1)*4),y=mn.shiftPoint(c,a,(f+1)*4),w=this.transitionsBetween(p,i),S=this.transitionsBetween(y,u);return w<S?(s[0]=i,s[1]=a,s[2]=c,s[3]=u):(s[0]=a,s[1]=c,s[2]=u,s[3]=i),s}correctTopRight(s){let i=s[0],a=s[1],c=s[2],u=s[3],f=this.transitionsBetween(i,u),p=this.transitionsBetween(a,u),y=mn.shiftPoint(i,a,(p+1)*4),w=mn.shiftPoint(c,a,(f+1)*4);f=this.transitionsBetween(y,u),p=this.transitionsBetween(w,u);let S=new ke(u.getX()+(c.getX()-a.getX())/(f+1),u.getY()+(c.getY()-a.getY())/(f+1)),T=new ke(u.getX()+(i.getX()-a.getX())/(p+1),u.getY()+(i.getY()-a.getY())/(p+1));if(!this.isValid(S))return this.isValid(T)?T:null;if(!this.isValid(T))return S;let D=this.transitionsBetween(y,S)+this.transitionsBetween(w,S),F=this.transitionsBetween(y,T)+this.transitionsBetween(w,T);return D>F?S:T}shiftToModuleCenter(s){let i=s[0],a=s[1],c=s[2],u=s[3],f=this.transitionsBetween(i,u)+1,p=this.transitionsBetween(c,u)+1,y=mn.shiftPoint(i,a,p*4),w=mn.shiftPoint(c,a,f*4);f=this.transitionsBetween(y,u)+1,p=this.transitionsBetween(w,u)+1,(f&1)===1&&(f+=1),(p&1)===1&&(p+=1);let S=(i.getX()+a.getX()+c.getX()+u.getX())/4,T=(i.getY()+a.getY()+c.getY()+u.getY())/4;i=mn.moveAway(i,S,T),a=mn.moveAway(a,S,T),c=mn.moveAway(c,S,T),u=mn.moveAway(u,S,T);let D,F;return y=mn.shiftPoint(i,a,p*4),y=mn.shiftPoint(y,u,f*4),D=mn.shiftPoint(a,i,p*4),D=mn.shiftPoint(D,c,f*4),w=mn.shiftPoint(c,u,p*4),w=mn.shiftPoint(w,a,f*4),F=mn.shiftPoint(u,c,p*4),F=mn.shiftPoint(F,i,f*4),[y,D,w,F]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,i,a,c,u,f,p){return _e.getInstance().sampleGrid(s,f,p,.5,.5,f-.5,.5,f-.5,p-.5,.5,p-.5,i.getX(),i.getY(),u.getX(),u.getY(),c.getX(),c.getY(),a.getX(),a.getY())}transitionsBetween(s,i){let a=Math.trunc(s.getX()),c=Math.trunc(s.getY()),u=Math.trunc(i.getX()),f=Math.trunc(i.getY()),p=Math.abs(f-c)>Math.abs(u-a);if(p){let H=a;a=c,c=H,H=u,u=f,f=H}let y=Math.abs(u-a),w=Math.abs(f-c),S=-y/2,T=c<f?1:-1,D=a<u?1:-1,F=0,V=this.image.get(p?c:a,p?a:c);for(let H=a,K=c;H!==u;H+=D){let ee=this.image.get(p?K:H,p?H:K);if(ee!==V&&(F++,V=ee),S+=w,S>0){if(K===f)break;K+=T,S-=y}}return F}}class Ri{constructor(){this.decoder=new V8}decode(s,i=null){let a,c;if(i!=null&&i.has($.PURE_BARCODE)){const w=Ri.extractPureBits(s.getBlackMatrix());a=this.decoder.decode(w),c=Ri.NO_POINTS}else{const w=new mn(s.getBlackMatrix()).detect();a=this.decoder.decode(w.getBits()),c=w.getPoints()}const u=a.getRawBytes(),f=new re(a.getText(),u,8*u.length,c,Ee.DATA_MATRIX,N.currentTimeMillis()),p=a.getByteSegments();p!=null&&f.putMetadata(Le.BYTE_SEGMENTS,p);const y=a.getECLevel();return y!=null&&f.putMetadata(Le.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(s){const i=s.getTopLeftOnBit(),a=s.getBottomRightOnBit();if(i==null||a==null)throw new X;const c=this.moduleSize(i,s);let u=i[1];const f=a[1];let p=i[0];const w=(a[0]-p+1)/c,S=(f-u+1)/c;if(w<=0||S<=0)throw new X;const T=c/2;u+=T,p+=T;const D=new ie(w,S);for(let F=0;F<S;F++){const V=u+F*c;for(let H=0;H<w;H++)s.get(p+H*c,V)&&D.set(H,F)}return D}static moduleSize(s,i){const a=i.getWidth();let c=s[0];const u=s[1];for(;c<a&&i.get(c,u);)c++;if(c===a)throw new X;const f=c-s[0];if(f===0)throw new X;return f}}Ri.NO_POINTS=[];class U8 extends Nt{constructor(s=500){super(new Ri,s)}}var ba;(function(_){_[_.L=0]="L",_[_.M=1]="M",_[_.Q=2]="Q",_[_.H=3]="H"})(ba||(ba={}));class Ut{constructor(s,i,a){this.value=s,this.stringValue=i,this.bits=a,Ut.FOR_BITS.set(a,this),Ut.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Ut.L;case"M":return Ut.M;case"Q":return Ut.Q;case"H":return Ut.H;default:throw new v(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Ut))return!1;const i=s;return this.value===i.value}static forBits(s){if(s<0||s>=Ut.FOR_BITS.size)throw new C;return Ut.FOR_BITS.get(s)}}Ut.FOR_BITS=new Map,Ut.FOR_VALUE=new Map,Ut.L=new Ut(ba.L,"L",1),Ut.M=new Ut(ba.M,"M",0),Ut.Q=new Ut(ba.Q,"Q",3),Ut.H=new Ut(ba.H,"H",2);class Zn{constructor(s){this.errorCorrectionLevel=Ut.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,i){return I.bitCount(s^i)}static decodeFormatInformation(s,i){const a=Zn.doDecodeFormatInformation(s,i);return a!==null?a:Zn.doDecodeFormatInformation(s^Zn.FORMAT_INFO_MASK_QR,i^Zn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,i){let a=Number.MAX_SAFE_INTEGER,c=0;for(const u of Zn.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===s||f===i)return new Zn(u[1]);let p=Zn.numBitsDiffering(s,f);p<a&&(c=u[1],a=p),s!==i&&(p=Zn.numBitsDiffering(i,f),p<a&&(c=u[1],a=p))}return a<=3?new Zn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof Zn))return!1;const i=s;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Zn.FORMAT_INFO_MASK_QR=21522,Zn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class q{constructor(s,...i){this.ecCodewordsPerBlock=s,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const i=this.ecBlocks;for(const a of i)s+=a.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class L{constructor(s,i){this.count=s,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ve{constructor(s,i,...a){this.versionNumber=s,this.alignmentPatternCenters=i,this.ecBlocks=a;let c=0;const u=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();for(const p of f)c+=p.getCount()*(p.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new B;try{return this.getVersionForNumber((s-17)/4)}catch{throw new B}}static getVersionForNumber(s){if(s<1||s>40)throw new C;return Ve.VERSIONS[s-1]}static decodeVersionInformation(s){let i=Number.MAX_SAFE_INTEGER,a=0;for(let c=0;c<Ve.VERSION_DECODE_INFO.length;c++){const u=Ve.VERSION_DECODE_INFO[c];if(u===s)return Ve.getVersionForNumber(c+7);const f=Zn.numBitsDiffering(s,u);f<i&&(a=c+7,i=f)}return i<=3?Ve.getVersionForNumber(a):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),i=new ie(s);i.setRegion(0,0,9,9),i.setRegion(s-8,0,8,9),i.setRegion(0,s-8,9,8);const a=this.alignmentPatternCenters.length;for(let c=0;c<a;c++){const u=this.alignmentPatternCenters[c]-2;for(let f=0;f<a;f++)c===0&&(f===0||f===a-1)||c===a-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return i.setRegion(6,9,1,s-17),i.setRegion(9,6,s-17,1),this.versionNumber>6&&(i.setRegion(s-11,0,3,6),i.setRegion(0,s-11,6,3)),i}toString(){return""+this.versionNumber}}Ve.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ve.VERSIONS=[new Ve(1,new Int32Array(0),new q(7,new L(1,19)),new q(10,new L(1,16)),new q(13,new L(1,13)),new q(17,new L(1,9))),new Ve(2,Int32Array.from([6,18]),new q(10,new L(1,34)),new q(16,new L(1,28)),new q(22,new L(1,22)),new q(28,new L(1,16))),new Ve(3,Int32Array.from([6,22]),new q(15,new L(1,55)),new q(26,new L(1,44)),new q(18,new L(2,17)),new q(22,new L(2,13))),new Ve(4,Int32Array.from([6,26]),new q(20,new L(1,80)),new q(18,new L(2,32)),new q(26,new L(2,24)),new q(16,new L(4,9))),new Ve(5,Int32Array.from([6,30]),new q(26,new L(1,108)),new q(24,new L(2,43)),new q(18,new L(2,15),new L(2,16)),new q(22,new L(2,11),new L(2,12))),new Ve(6,Int32Array.from([6,34]),new q(18,new L(2,68)),new q(16,new L(4,27)),new q(24,new L(4,19)),new q(28,new L(4,15))),new Ve(7,Int32Array.from([6,22,38]),new q(20,new L(2,78)),new q(18,new L(4,31)),new q(18,new L(2,14),new L(4,15)),new q(26,new L(4,13),new L(1,14))),new Ve(8,Int32Array.from([6,24,42]),new q(24,new L(2,97)),new q(22,new L(2,38),new L(2,39)),new q(22,new L(4,18),new L(2,19)),new q(26,new L(4,14),new L(2,15))),new Ve(9,Int32Array.from([6,26,46]),new q(30,new L(2,116)),new q(22,new L(3,36),new L(2,37)),new q(20,new L(4,16),new L(4,17)),new q(24,new L(4,12),new L(4,13))),new Ve(10,Int32Array.from([6,28,50]),new q(18,new L(2,68),new L(2,69)),new q(26,new L(4,43),new L(1,44)),new q(24,new L(6,19),new L(2,20)),new q(28,new L(6,15),new L(2,16))),new Ve(11,Int32Array.from([6,30,54]),new q(20,new L(4,81)),new q(30,new L(1,50),new L(4,51)),new q(28,new L(4,22),new L(4,23)),new q(24,new L(3,12),new L(8,13))),new Ve(12,Int32Array.from([6,32,58]),new q(24,new L(2,92),new L(2,93)),new q(22,new L(6,36),new L(2,37)),new q(26,new L(4,20),new L(6,21)),new q(28,new L(7,14),new L(4,15))),new Ve(13,Int32Array.from([6,34,62]),new q(26,new L(4,107)),new q(22,new L(8,37),new L(1,38)),new q(24,new L(8,20),new L(4,21)),new q(22,new L(12,11),new L(4,12))),new Ve(14,Int32Array.from([6,26,46,66]),new q(30,new L(3,115),new L(1,116)),new q(24,new L(4,40),new L(5,41)),new q(20,new L(11,16),new L(5,17)),new q(24,new L(11,12),new L(5,13))),new Ve(15,Int32Array.from([6,26,48,70]),new q(22,new L(5,87),new L(1,88)),new q(24,new L(5,41),new L(5,42)),new q(30,new L(5,24),new L(7,25)),new q(24,new L(11,12),new L(7,13))),new Ve(16,Int32Array.from([6,26,50,74]),new q(24,new L(5,98),new L(1,99)),new q(28,new L(7,45),new L(3,46)),new q(24,new L(15,19),new L(2,20)),new q(30,new L(3,15),new L(13,16))),new Ve(17,Int32Array.from([6,30,54,78]),new q(28,new L(1,107),new L(5,108)),new q(28,new L(10,46),new L(1,47)),new q(28,new L(1,22),new L(15,23)),new q(28,new L(2,14),new L(17,15))),new Ve(18,Int32Array.from([6,30,56,82]),new q(30,new L(5,120),new L(1,121)),new q(26,new L(9,43),new L(4,44)),new q(28,new L(17,22),new L(1,23)),new q(28,new L(2,14),new L(19,15))),new Ve(19,Int32Array.from([6,30,58,86]),new q(28,new L(3,113),new L(4,114)),new q(26,new L(3,44),new L(11,45)),new q(26,new L(17,21),new L(4,22)),new q(26,new L(9,13),new L(16,14))),new Ve(20,Int32Array.from([6,34,62,90]),new q(28,new L(3,107),new L(5,108)),new q(26,new L(3,41),new L(13,42)),new q(30,new L(15,24),new L(5,25)),new q(28,new L(15,15),new L(10,16))),new Ve(21,Int32Array.from([6,28,50,72,94]),new q(28,new L(4,116),new L(4,117)),new q(26,new L(17,42)),new q(28,new L(17,22),new L(6,23)),new q(30,new L(19,16),new L(6,17))),new Ve(22,Int32Array.from([6,26,50,74,98]),new q(28,new L(2,111),new L(7,112)),new q(28,new L(17,46)),new q(30,new L(7,24),new L(16,25)),new q(24,new L(34,13))),new Ve(23,Int32Array.from([6,30,54,78,102]),new q(30,new L(4,121),new L(5,122)),new q(28,new L(4,47),new L(14,48)),new q(30,new L(11,24),new L(14,25)),new q(30,new L(16,15),new L(14,16))),new Ve(24,Int32Array.from([6,28,54,80,106]),new q(30,new L(6,117),new L(4,118)),new q(28,new L(6,45),new L(14,46)),new q(30,new L(11,24),new L(16,25)),new q(30,new L(30,16),new L(2,17))),new Ve(25,Int32Array.from([6,32,58,84,110]),new q(26,new L(8,106),new L(4,107)),new q(28,new L(8,47),new L(13,48)),new q(30,new L(7,24),new L(22,25)),new q(30,new L(22,15),new L(13,16))),new Ve(26,Int32Array.from([6,30,58,86,114]),new q(28,new L(10,114),new L(2,115)),new q(28,new L(19,46),new L(4,47)),new q(28,new L(28,22),new L(6,23)),new q(30,new L(33,16),new L(4,17))),new Ve(27,Int32Array.from([6,34,62,90,118]),new q(30,new L(8,122),new L(4,123)),new q(28,new L(22,45),new L(3,46)),new q(30,new L(8,23),new L(26,24)),new q(30,new L(12,15),new L(28,16))),new Ve(28,Int32Array.from([6,26,50,74,98,122]),new q(30,new L(3,117),new L(10,118)),new q(28,new L(3,45),new L(23,46)),new q(30,new L(4,24),new L(31,25)),new q(30,new L(11,15),new L(31,16))),new Ve(29,Int32Array.from([6,30,54,78,102,126]),new q(30,new L(7,116),new L(7,117)),new q(28,new L(21,45),new L(7,46)),new q(30,new L(1,23),new L(37,24)),new q(30,new L(19,15),new L(26,16))),new Ve(30,Int32Array.from([6,26,52,78,104,130]),new q(30,new L(5,115),new L(10,116)),new q(28,new L(19,47),new L(10,48)),new q(30,new L(15,24),new L(25,25)),new q(30,new L(23,15),new L(25,16))),new Ve(31,Int32Array.from([6,30,56,82,108,134]),new q(30,new L(13,115),new L(3,116)),new q(28,new L(2,46),new L(29,47)),new q(30,new L(42,24),new L(1,25)),new q(30,new L(23,15),new L(28,16))),new Ve(32,Int32Array.from([6,34,60,86,112,138]),new q(30,new L(17,115)),new q(28,new L(10,46),new L(23,47)),new q(30,new L(10,24),new L(35,25)),new q(30,new L(19,15),new L(35,16))),new Ve(33,Int32Array.from([6,30,58,86,114,142]),new q(30,new L(17,115),new L(1,116)),new q(28,new L(14,46),new L(21,47)),new q(30,new L(29,24),new L(19,25)),new q(30,new L(11,15),new L(46,16))),new Ve(34,Int32Array.from([6,34,62,90,118,146]),new q(30,new L(13,115),new L(6,116)),new q(28,new L(14,46),new L(23,47)),new q(30,new L(44,24),new L(7,25)),new q(30,new L(59,16),new L(1,17))),new Ve(35,Int32Array.from([6,30,54,78,102,126,150]),new q(30,new L(12,121),new L(7,122)),new q(28,new L(12,47),new L(26,48)),new q(30,new L(39,24),new L(14,25)),new q(30,new L(22,15),new L(41,16))),new Ve(36,Int32Array.from([6,24,50,76,102,128,154]),new q(30,new L(6,121),new L(14,122)),new q(28,new L(6,47),new L(34,48)),new q(30,new L(46,24),new L(10,25)),new q(30,new L(2,15),new L(64,16))),new Ve(37,Int32Array.from([6,28,54,80,106,132,158]),new q(30,new L(17,122),new L(4,123)),new q(28,new L(29,46),new L(14,47)),new q(30,new L(49,24),new L(10,25)),new q(30,new L(24,15),new L(46,16))),new Ve(38,Int32Array.from([6,32,58,84,110,136,162]),new q(30,new L(4,122),new L(18,123)),new q(28,new L(13,46),new L(32,47)),new q(30,new L(48,24),new L(14,25)),new q(30,new L(42,15),new L(32,16))),new Ve(39,Int32Array.from([6,26,54,82,110,138,166]),new q(30,new L(20,117),new L(4,118)),new q(28,new L(40,47),new L(7,48)),new q(30,new L(43,24),new L(22,25)),new q(30,new L(10,15),new L(67,16))),new Ve(40,Int32Array.from([6,30,58,86,114,142,170]),new q(30,new L(19,118),new L(6,119)),new q(28,new L(18,47),new L(31,48)),new q(30,new L(34,24),new L(34,25)),new q(30,new L(20,15),new L(61,16)))];var Rn;(function(_){_[_.DATA_MASK_000=0]="DATA_MASK_000",_[_.DATA_MASK_001=1]="DATA_MASK_001",_[_.DATA_MASK_010=2]="DATA_MASK_010",_[_.DATA_MASK_011=3]="DATA_MASK_011",_[_.DATA_MASK_100=4]="DATA_MASK_100",_[_.DATA_MASK_101=5]="DATA_MASK_101",_[_.DATA_MASK_110=6]="DATA_MASK_110",_[_.DATA_MASK_111=7]="DATA_MASK_111"})(Rn||(Rn={}));class Gr{constructor(s,i){this.value=s,this.isMasked=i}unmaskBitMatrix(s,i){for(let a=0;a<i;a++)for(let c=0;c<i;c++)this.isMasked(a,c)&&s.flip(c,a)}}Gr.values=new Map([[Rn.DATA_MASK_000,new Gr(Rn.DATA_MASK_000,(_,s)=>(_+s&1)===0)],[Rn.DATA_MASK_001,new Gr(Rn.DATA_MASK_001,(_,s)=>(_&1)===0)],[Rn.DATA_MASK_010,new Gr(Rn.DATA_MASK_010,(_,s)=>s%3===0)],[Rn.DATA_MASK_011,new Gr(Rn.DATA_MASK_011,(_,s)=>(_+s)%3===0)],[Rn.DATA_MASK_100,new Gr(Rn.DATA_MASK_100,(_,s)=>(Math.floor(_/2)+Math.floor(s/3)&1)===0)],[Rn.DATA_MASK_101,new Gr(Rn.DATA_MASK_101,(_,s)=>_*s%6===0)],[Rn.DATA_MASK_110,new Gr(Rn.DATA_MASK_110,(_,s)=>_*s%6<3)],[Rn.DATA_MASK_111,new Gr(Rn.DATA_MASK_111,(_,s)=>(_+s+_*s%3&1)===0)]]);class z8{constructor(s){const i=s.getHeight();if(i<21||(i&3)!==1)throw new B;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let u=0;u<6;u++)s=this.copyBit(u,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let u=5;u>=0;u--)s=this.copyBit(8,u,s);const i=this.bitMatrix.getHeight();let a=0;const c=i-7;for(let u=i-1;u>=c;u--)a=this.copyBit(8,u,a);for(let u=i-8;u<i;u++)a=this.copyBit(u,8,a);if(this.parsedFormatInfo=Zn.decodeFormatInformation(s,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),i=Math.floor((s-17)/4);if(i<=6)return Ve.getVersionForNumber(i);let a=0;const c=s-11;for(let f=5;f>=0;f--)for(let p=s-9;p>=c;p--)a=this.copyBit(p,f,a);let u=Ve.decodeVersionInformation(a);if(u!==null&&u.getDimensionForVersion()===s)return this.parsedVersion=u,u;a=0;for(let f=5;f>=0;f--)for(let p=s-9;p>=c;p--)a=this.copyBit(f,p,a);if(u=Ve.decodeVersionInformation(a),u!==null&&u.getDimensionForVersion()===s)return this.parsedVersion=u,u;throw new B}copyBit(s,i,a){return(this.isMirror?this.bitMatrix.get(i,s):this.bitMatrix.get(s,i))?a<<1|1:a<<1}readCodewords(){const s=this.readFormatInformation(),i=this.readVersion(),a=Gr.values.get(s.getDataMask()),c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c);const u=i.buildFunctionPattern();let f=!0;const p=new Uint8Array(i.getTotalCodewords());let y=0,w=0,S=0;for(let T=c-1;T>0;T-=2){T===6&&T--;for(let D=0;D<c;D++){const F=f?c-1-D:D;for(let V=0;V<2;V++)u.get(T-V,F)||(S++,w<<=1,this.bitMatrix.get(T-V,F)&&(w|=1),S===8&&(p[y++]=w,S=0,w=0))}f=!f}if(y!==i.getTotalCodewords())throw new B;return p}remask(){if(this.parsedFormatInfo===null)return;const s=Gr.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,i)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let i=0,a=s.getWidth();i<a;i++)for(let c=i+1,u=s.getHeight();c<u;c++)s.get(i,c)!==s.get(c,i)&&(s.flip(c,i),s.flip(i,c))}}class Gh{constructor(s,i){this.numDataCodewords=s,this.codewords=i}static getDataBlocks(s,i,a){if(s.length!==i.getTotalCodewords())throw new C;const c=i.getECBlocksForLevel(a);let u=0;const f=c.getECBlocks();for(const V of f)u+=V.getCount();const p=new Array(u);let y=0;for(const V of f)for(let H=0;H<V.getCount();H++){const K=V.getDataCodewords(),ee=c.getECCodewordsPerBlock()+K;p[y++]=new Gh(K,new Uint8Array(ee))}const w=p[0].codewords.length;let S=p.length-1;for(;S>=0&&p[S].codewords.length!==w;)S--;S++;const T=w-c.getECCodewordsPerBlock();let D=0;for(let V=0;V<T;V++)for(let H=0;H<y;H++)p[H].codewords[V]=s[D++];for(let V=S;V<y;V++)p[V].codewords[T]=s[D++];const F=p[0].codewords.length;for(let V=T;V<F;V++)for(let H=0;H<y;H++){const K=H<S?V:V+1;p[H].codewords[K]=s[D++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var $r;(function(_){_[_.TERMINATOR=0]="TERMINATOR",_[_.NUMERIC=1]="NUMERIC",_[_.ALPHANUMERIC=2]="ALPHANUMERIC",_[_.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",_[_.BYTE=4]="BYTE",_[_.ECI=5]="ECI",_[_.KANJI=6]="KANJI",_[_.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",_[_.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",_[_.HANZI=9]="HANZI"})($r||($r={}));class Ue{constructor(s,i,a,c){this.value=s,this.stringValue=i,this.characterCountBitsForVersions=a,this.bits=c,Ue.FOR_BITS.set(c,this),Ue.FOR_VALUE.set(s,this)}static forBits(s){const i=Ue.FOR_BITS.get(s);if(i===void 0)throw new C;return i}getCharacterCountBits(s){const i=s.getVersionNumber();let a;return i<=9?a=0:i<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Ue))return!1;const i=s;return this.value===i.value}toString(){return this.stringValue}}Ue.FOR_BITS=new Map,Ue.FOR_VALUE=new Map,Ue.TERMINATOR=new Ue($r.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ue.NUMERIC=new Ue($r.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ue.ALPHANUMERIC=new Ue($r.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ue.STRUCTURED_APPEND=new Ue($r.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ue.BYTE=new Ue($r.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ue.ECI=new Ue($r.ECI,"ECI",Int32Array.from([0,0,0]),7),Ue.KANJI=new Ue($r.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ue.FNC1_FIRST_POSITION=new Ue($r.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ue.FNC1_SECOND_POSITION=new Ue($r.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ue.HANZI=new Ue($r.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class en{static decode(s,i,a,c){const u=new Hh(s);let f=new oe;const p=new Array;let y=-1,w=-1;try{let S=null,T=!1,D;do{if(u.available()<4)D=Ue.TERMINATOR;else{const F=u.readBits(4);D=Ue.forBits(F)}switch(D){case Ue.TERMINATOR:break;case Ue.FNC1_FIRST_POSITION:case Ue.FNC1_SECOND_POSITION:T=!0;break;case Ue.STRUCTURED_APPEND:if(u.available()<16)throw new B;y=u.readBits(8),w=u.readBits(8);break;case Ue.ECI:const F=en.parseECIValue(u);if(S=W.getCharacterSetECIByValue(F),S===null)throw new B;break;case Ue.HANZI:const V=u.readBits(4),H=u.readBits(D.getCharacterCountBits(i));V===en.GB2312_SUBSET&&en.decodeHanziSegment(u,f,H);break;default:const K=u.readBits(D.getCharacterCountBits(i));switch(D){case Ue.NUMERIC:en.decodeNumericSegment(u,f,K);break;case Ue.ALPHANUMERIC:en.decodeAlphanumericSegment(u,f,K,T);break;case Ue.BYTE:en.decodeByteSegment(u,f,K,S,p,c);break;case Ue.KANJI:en.decodeKanjiSegment(u,f,K);break;default:throw new B}break}}while(D!==Ue.TERMINATOR)}catch{throw new B}return new st(s,f.toString(),p.length===0?null:p,a===null?null:a.toString(),y,w)}static decodeHanziSegment(s,i,a){if(a*13>s.available())throw new B;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const f=s.readBits(13);let p=f/96<<8&4294967295|f%96;p<959?p+=41377:p+=42657,c[u]=p>>8&255,c[u+1]=p&255,u+=2,a--}try{i.append(pe.decode(c,Y.GB2312))}catch(f){throw new B(f)}}static decodeKanjiSegment(s,i,a){if(a*13>s.available())throw new B;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const f=s.readBits(13);let p=f/192<<8&4294967295|f%192;p<7936?p+=33088:p+=49472,c[u]=p>>8,c[u+1]=p,u+=2,a--}try{i.append(pe.decode(c,Y.SHIFT_JIS))}catch(f){throw new B(f)}}static decodeByteSegment(s,i,a,c,u,f){if(8*a>s.available())throw new B;const p=new Uint8Array(a);for(let w=0;w<a;w++)p[w]=s.readBits(8);let y;c===null?y=Y.guessEncoding(p,f):y=c.getName();try{i.append(pe.decode(p,y))}catch(w){throw new B(w)}u.push(p)}static toAlphaNumericChar(s){if(s>=en.ALPHANUMERIC_CHARS.length)throw new B;return en.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,i,a,c){const u=i.length();for(;a>1;){if(s.available()<11)throw new B;const f=s.readBits(11);i.append(en.toAlphaNumericChar(Math.floor(f/45))),i.append(en.toAlphaNumericChar(f%45)),a-=2}if(a===1){if(s.available()<6)throw new B;i.append(en.toAlphaNumericChar(s.readBits(6)))}if(c)for(let f=u;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,""))}static decodeNumericSegment(s,i,a){for(;a>=3;){if(s.available()<10)throw new B;const c=s.readBits(10);if(c>=1e3)throw new B;i.append(en.toAlphaNumericChar(Math.floor(c/100))),i.append(en.toAlphaNumericChar(Math.floor(c/10)%10)),i.append(en.toAlphaNumericChar(c%10)),a-=3}if(a===2){if(s.available()<7)throw new B;const c=s.readBits(7);if(c>=100)throw new B;i.append(en.toAlphaNumericChar(Math.floor(c/10))),i.append(en.toAlphaNumericChar(c%10))}else if(a===1){if(s.available()<4)throw new B;const c=s.readBits(4);if(c>=10)throw new B;i.append(en.toAlphaNumericChar(c))}}static parseECIValue(s){const i=s.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const a=s.readBits(8);return(i&63)<<8&4294967295|a}if((i&224)===192){const a=s.readBits(16);return(i&31)<<16&4294967295|a}throw new B}}en.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",en.GB2312_SUBSET=1;class ex{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const i=s[0];s[0]=s[2],s[2]=i}}class W8{constructor(){this.rsDecoder=new gr(qe.QR_CODE_FIELD_256)}decodeBooleanArray(s,i){return this.decodeBitMatrix(ie.parseFromBooleanArray(s),i)}decodeBitMatrix(s,i){const a=new z8(s);let c=null;try{return this.decodeBitMatrixParser(a,i)}catch(u){c=u}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const u=this.decodeBitMatrixParser(a,i);return u.setOther(new ex(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(s,i){const a=s.readVersion(),c=s.readFormatInformation().getErrorCorrectionLevel(),u=s.readCodewords(),f=Gh.getDataBlocks(u,a,c);let p=0;for(const S of f)p+=S.getNumDataCodewords();const y=new Uint8Array(p);let w=0;for(const S of f){const T=S.getCodewords(),D=S.getNumDataCodewords();this.correctErrors(T,D);for(let F=0;F<D;F++)y[w++]=T[F]}return en.decode(y,a,c,i)}correctErrors(s,i){const a=new Int32Array(s);try{this.rsDecoder.decode(a,s.length-i)}catch{throw new O}for(let c=0;c<i;c++)s[c]=a[c]}}class $h extends ke{constructor(s,i,a){super(s,i),this.estimatedModuleSize=a}aboutEquals(s,i,a){if(Math.abs(i-this.getY())<=s&&Math.abs(a-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,i,a){const c=(this.getX()+i)/2,u=(this.getY()+s)/2,f=(this.estimatedModuleSize+a)/2;return new $h(c,u,f)}}class $u{constructor(s,i,a,c,u,f,p){this.image=s,this.startX=i,this.startY=a,this.width=c,this.height=u,this.moduleSize=f,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,i=this.height,a=this.width,c=s+a,u=this.startY+i/2,f=new Int32Array(3),p=this.image;for(let y=0;y<i;y++){const w=u+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let S=s;for(;S<c&&!p.get(S,w);)S++;let T=0;for(;S<c;){if(p.get(S,w))if(T===1)f[1]++;else if(T===2){if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,w,S);if(D!==null)return D}f[0]=f[2],f[1]=1,f[2]=0,T=1}else f[++T]++;else T===1&&T++,f[T]++;S++}if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,w,c);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(s,i){return i-s[2]-s[1]/2}foundPatternCross(s){const i=this.moduleSize,a=i/2;for(let c=0;c<3;c++)if(Math.abs(i-s[c])>=a)return!1;return!0}crossCheckVertical(s,i,a,c){const u=this.image,f=u.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let y=s;for(;y>=0&&u.get(i,y)&&p[1]<=a;)p[1]++,y--;if(y<0||p[1]>a)return NaN;for(;y>=0&&!u.get(i,y)&&p[0]<=a;)p[0]++,y--;if(p[0]>a)return NaN;for(y=s+1;y<f&&u.get(i,y)&&p[1]<=a;)p[1]++,y++;if(y===f||p[1]>a)return NaN;for(;y<f&&!u.get(i,y)&&p[2]<=a;)p[2]++,y++;if(p[2]>a)return NaN;const w=p[0]+p[1]+p[2];return 5*Math.abs(w-c)>=2*c?NaN:this.foundPatternCross(p)?$u.centerFromEnd(p,y):NaN}handlePossibleCenter(s,i,a){const c=s[0]+s[1]+s[2],u=$u.centerFromEnd(s,a),f=this.crossCheckVertical(i,u,2*s[1],c);if(!isNaN(f)){const p=(s[0]+s[1]+s[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(p,f,u))return w.combineEstimate(f,u,p);const y=new $h(u,f,p);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class Xh extends ke{constructor(s,i,a,c){super(s,i),this.estimatedModuleSize=a,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,i,a){if(Math.abs(i-this.getY())<=s&&Math.abs(a-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,i,a){const c=this.count+1,u=(this.count*this.getX()+i)/c,f=(this.count*this.getY()+s)/c,p=(this.count*this.estimatedModuleSize+a)/c;return new Xh(u,f,p,c)}}class H8{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class On{constructor(s,i){this.image=s,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const i=s!=null&&s.get($.TRY_HARDER)!==void 0,a=s!=null&&s.get($.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),f=c.getWidth();let p=Math.floor(3*u/(4*On.MAX_MODULES));(p<On.MIN_SKIP||i)&&(p=On.MIN_SKIP);let y=!1;const w=new Int32Array(5);for(let T=p-1;T<u&&!y;T+=p){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let D=0;for(let F=0;F<f;F++)if(c.get(F,T))(D&1)===1&&D++,w[D]++;else if(D&1)w[D]++;else if(D===4)if(On.foundPatternCross(w)){if(this.handlePossibleCenter(w,T,F,a)===!0)if(p=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const H=this.findRowSkip();H>w[2]&&(T+=H-w[2]-p,F=f-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,D=3;continue}D=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,D=3;else w[++D]++;On.foundPatternCross(w)&&this.handlePossibleCenter(w,T,f,a)===!0&&(p=w[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return ke.orderBestPatterns(S),new H8(S)}static centerFromEnd(s,i){return i-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let i=0;for(let u=0;u<5;u++){const f=s[u];if(f===0)return!1;i+=f}if(i<7)return!1;const a=i/7,c=a/2;return Math.abs(a-s[0])<c&&Math.abs(a-s[1])<c&&Math.abs(3*a-s[2])<3*c&&Math.abs(a-s[3])<c&&Math.abs(a-s[4])<c}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,i,a,c){const u=this.getCrossCheckStateCount();let f=0;const p=this.image;for(;s>=f&&i>=f&&p.get(i-f,s-f);)u[2]++,f++;if(s<f||i<f)return!1;for(;s>=f&&i>=f&&!p.get(i-f,s-f)&&u[1]<=a;)u[1]++,f++;if(s<f||i<f||u[1]>a)return!1;for(;s>=f&&i>=f&&p.get(i-f,s-f)&&u[0]<=a;)u[0]++,f++;if(u[0]>a)return!1;const y=p.getHeight(),w=p.getWidth();for(f=1;s+f<y&&i+f<w&&p.get(i+f,s+f);)u[2]++,f++;if(s+f>=y||i+f>=w)return!1;for(;s+f<y&&i+f<w&&!p.get(i+f,s+f)&&u[3]<a;)u[3]++,f++;if(s+f>=y||i+f>=w||u[3]>=a)return!1;for(;s+f<y&&i+f<w&&p.get(i+f,s+f)&&u[4]<a;)u[4]++,f++;if(u[4]>=a)return!1;const S=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(S-c)<2*c&&On.foundPatternCross(u)}crossCheckVertical(s,i,a,c){const u=this.image,f=u.getHeight(),p=this.getCrossCheckStateCount();let y=s;for(;y>=0&&u.get(i,y);)p[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(i,y)&&p[1]<=a;)p[1]++,y--;if(y<0||p[1]>a)return NaN;for(;y>=0&&u.get(i,y)&&p[0]<=a;)p[0]++,y--;if(p[0]>a)return NaN;for(y=s+1;y<f&&u.get(i,y);)p[2]++,y++;if(y===f)return NaN;for(;y<f&&!u.get(i,y)&&p[3]<a;)p[3]++,y++;if(y===f||p[3]>=a)return NaN;for(;y<f&&u.get(i,y)&&p[4]<a;)p[4]++,y++;if(p[4]>=a)return NaN;const w=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(w-c)>=2*c?NaN:On.foundPatternCross(p)?On.centerFromEnd(p,y):NaN}crossCheckHorizontal(s,i,a,c){const u=this.image,f=u.getWidth(),p=this.getCrossCheckStateCount();let y=s;for(;y>=0&&u.get(y,i);)p[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(y,i)&&p[1]<=a;)p[1]++,y--;if(y<0||p[1]>a)return NaN;for(;y>=0&&u.get(y,i)&&p[0]<=a;)p[0]++,y--;if(p[0]>a)return NaN;for(y=s+1;y<f&&u.get(y,i);)p[2]++,y++;if(y===f)return NaN;for(;y<f&&!u.get(y,i)&&p[3]<a;)p[3]++,y++;if(y===f||p[3]>=a)return NaN;for(;y<f&&u.get(y,i)&&p[4]<a;)p[4]++,y++;if(p[4]>=a)return NaN;const w=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(w-c)>=c?NaN:On.foundPatternCross(p)?On.centerFromEnd(p,y):NaN}handlePossibleCenter(s,i,a,c){const u=s[0]+s[1]+s[2]+s[3]+s[4];let f=On.centerFromEnd(s,a),p=this.crossCheckVertical(i,Math.floor(f),s[2],u);if(!isNaN(p)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(p),s[2],u),!isNaN(f)&&(!c||this.crossCheckDiagonal(Math.floor(p),Math.floor(f),s[2],u)))){const y=u/7;let w=!1;const S=this.possibleCenters;for(let T=0,D=S.length;T<D;T++){const F=S[T];if(F.aboutEquals(y,p,f)){S[T]=F.combineEstimate(p,f,y),w=!0;break}}if(!w){const T=new Xh(f,p,y);S.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const a of this.possibleCenters)if(a.getCount()>=On.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,i=0;const a=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=On.CENTER_QUORUM&&(s++,i+=f.getEstimatedModuleSize());if(s<3)return!1;const c=i/a;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-c);return u<=.05*i}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new X;const i=this.possibleCenters;let a;if(s>3){let c=0,u=0;for(const y of this.possibleCenters){const w=y.getEstimatedModuleSize();c+=w,u+=w*w}a=c/s;let f=Math.sqrt(u/s-a*a);i.sort((y,w)=>{const S=Math.abs(w.getEstimatedModuleSize()-a),T=Math.abs(y.getEstimatedModuleSize()-a);return S<T?-1:S>T?1:0});const p=Math.max(.2*a,f);for(let y=0;y<i.length&&i.length>3;y++){const w=i[y];Math.abs(w.getEstimatedModuleSize()-a)>p&&(i.splice(y,1),y--)}}if(i.length>3){let c=0;for(const u of i)c+=u.getEstimatedModuleSize();a=c/i.length,i.sort((u,f)=>{if(f.getCount()===u.getCount()){const p=Math.abs(f.getEstimatedModuleSize()-a),y=Math.abs(u.getEstimatedModuleSize()-a);return p<y?1:p>y?-1:0}else return f.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}On.CENTER_QUORUM=2,On.MIN_SKIP=3,On.MAX_MODULES=57;class Yl{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get($.NEED_RESULT_POINT_CALLBACK);const a=new On(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(a)}processFinderPatternInfo(s){const i=s.getTopLeft(),a=s.getTopRight(),c=s.getBottomLeft(),u=this.calculateModuleSize(i,a,c);if(u<1)throw new X("No pattern found in proccess finder.");const f=Yl.computeDimension(i,a,c,u),p=Ve.getProvisionalVersionForDimension(f),y=p.getDimensionForVersion()-7;let w=null;if(p.getAlignmentPatternCenters().length>0){const F=a.getX()-i.getX()+c.getX(),V=a.getY()-i.getY()+c.getY(),H=1-3/y,K=Math.floor(i.getX()+H*(F-i.getX())),ee=Math.floor(i.getY()+H*(V-i.getY()));for(let ge=4;ge<=16;ge<<=1)try{w=this.findAlignmentInRegion(u,K,ee,ge);break}catch(xe){if(!(xe instanceof X))throw xe}}const S=Yl.createTransform(i,a,c,w,f),T=Yl.sampleGrid(this.image,S,f);let D;return w===null?D=[c,i,a]:D=[c,i,a,w],new U(T,D)}static createTransform(s,i,a,c,u){const f=u-3.5;let p,y,w,S;return c!==null?(p=c.getX(),y=c.getY(),w=f-3,S=w):(p=i.getX()-s.getX()+a.getX(),y=i.getY()-s.getY()+a.getY(),w=f,S=f),ve.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,w,S,3.5,f,s.getX(),s.getY(),i.getX(),i.getY(),p,y,a.getX(),a.getY())}static sampleGrid(s,i,a){return _e.getInstance().sampleGridWithTransform(s,a,a,i)}static computeDimension(s,i,a,c){const u=it.round(ke.distance(s,i)/c),f=it.round(ke.distance(s,a)/c);let p=Math.floor((u+f)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new X("Dimensions could be not found.")}return p}calculateModuleSize(s,i,a){return(this.calculateModuleSizeOneWay(s,i)+this.calculateModuleSizeOneWay(s,a))/2}calculateModuleSizeOneWay(s,i){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(i.getX()),Math.floor(i.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(a)?c/7:isNaN(c)?a/7:(a+c)/14}sizeOfBlackWhiteBlackRunBothWays(s,i,a,c){let u=this.sizeOfBlackWhiteBlackRun(s,i,a,c),f=1,p=s-(a-s);p<0?(f=s/(s-p),p=0):p>=this.image.getWidth()&&(f=(this.image.getWidth()-1-s)/(p-s),p=this.image.getWidth()-1);let y=Math.floor(i-(c-i)*f);return f=1,y<0?(f=i/(i-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(y-i),y=this.image.getHeight()-1),p=Math.floor(s+(p-s)*f),u+=this.sizeOfBlackWhiteBlackRun(s,i,p,y),u-1}sizeOfBlackWhiteBlackRun(s,i,a,c){const u=Math.abs(c-i)>Math.abs(a-s);if(u){let F=s;s=i,i=F,F=a,a=c,c=F}const f=Math.abs(a-s),p=Math.abs(c-i);let y=-f/2;const w=s<a?1:-1,S=i<c?1:-1;let T=0;const D=a+w;for(let F=s,V=i;F!==D;F+=w){const H=u?V:F,K=u?F:V;if(T===1===this.image.get(H,K)){if(T===2)return it.distance(F,V,s,i);T++}if(y+=p,y>0){if(V===c)break;V+=S,y-=f}}return T===2?it.distance(a+w,c,s,i):NaN}findAlignmentInRegion(s,i,a,c){const u=Math.floor(c*s),f=Math.max(0,i-u),p=Math.min(this.image.getWidth()-1,i+u);if(p-f<s*3)throw new X("Alignment top exceeds estimated module size.");const y=Math.max(0,a-u),w=Math.min(this.image.getHeight()-1,a+u);if(w-y<s*3)throw new X("Alignment bottom exceeds estimated module size.");return new $u(this.image,f,y,p-f,w-y,s,this.resultPointCallback).find()}}class Oi{constructor(){this.decoder=new W8}getDecoder(){return this.decoder}decode(s,i){let a,c;if(i!=null&&i.get($.PURE_BARCODE)!==void 0){const y=Oi.extractPureBits(s.getBlackMatrix());a=this.decoder.decodeBitMatrix(y,i),c=Oi.NO_POINTS}else{const y=new Yl(s.getBlackMatrix()).detect(i);a=this.decoder.decodeBitMatrix(y.getBits(),i),c=y.getPoints()}a.getOther()instanceof ex&&a.getOther().applyMirroredCorrection(c);const u=new re(a.getText(),a.getRawBytes(),void 0,c,Ee.QR_CODE,void 0),f=a.getByteSegments();f!==null&&u.putMetadata(Le.BYTE_SEGMENTS,f);const p=a.getECLevel();return p!==null&&u.putMetadata(Le.ERROR_CORRECTION_LEVEL,p),a.hasStructuredAppend()&&(u.putMetadata(Le.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),u.putMetadata(Le.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),u}reset(){}static extractPureBits(s){const i=s.getTopLeftOnBit(),a=s.getBottomRightOnBit();if(i===null||a===null)throw new X;const c=this.moduleSize(i,s);let u=i[1],f=a[1],p=i[0],y=a[0];if(p>=y||u>=f)throw new X;if(f-u!==y-p&&(y=p+(f-u),y>=s.getWidth()))throw new X;const w=Math.round((y-p+1)/c),S=Math.round((f-u+1)/c);if(w<=0||S<=0)throw new X;if(S!==w)throw new X;const T=Math.floor(c/2);u+=T,p+=T;const D=p+Math.floor((w-1)*c)-y;if(D>0){if(D>T)throw new X;p-=D}const F=u+Math.floor((S-1)*c)-f;if(F>0){if(F>T)throw new X;u-=F}const V=new ie(w,S);for(let H=0;H<S;H++){const K=u+Math.floor(H*c);for(let ee=0;ee<w;ee++)s.get(p+Math.floor(ee*c),K)&&V.set(ee,H)}return V}static moduleSize(s,i){const a=i.getHeight(),c=i.getWidth();let u=s[0],f=s[1],p=!0,y=0;for(;u<c&&f<a;){if(p!==i.get(u,f)){if(++y===5)break;p=!p}u++,f++}if(u===c||f===a)throw new X;return(u-s[0])/7}}Oi.NO_POINTS=new Array;class Ge{PDF417Common(){}static getBitCountSum(s){return it.sum(s)}static toIntArray(s){if(s==null||!s.length)return Ge.EMPTY_INT_ARRAY;const i=new Int32Array(s.length);let a=0;for(const c of s)i[a++]=c;return i}static getCodeword(s){const i=A.binarySearch(Ge.SYMBOL_TABLE,s&262143);return i<0?-1:(Ge.CODEWORD_TABLE[i]-1)%Ge.NUMBER_OF_CODEWORDS}}Ge.NUMBER_OF_CODEWORDS=929,Ge.MAX_CODEWORDS_IN_BARCODE=Ge.NUMBER_OF_CODEWORDS-1,Ge.MIN_ROWS_IN_BARCODE=3,Ge.MAX_ROWS_IN_BARCODE=90,Ge.MODULES_IN_CODEWORD=17,Ge.MODULES_IN_STOP_PATTERN=18,Ge.BARS_IN_MODULE=8,Ge.EMPTY_INT_ARRAY=new Int32Array([]),Ge.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ge.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class G8{constructor(s,i){this.bits=s,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ot{static detectMultiple(s,i,a){let c=s.getBlackMatrix(),u=ot.detect(a,c);return u.length||(c=c.clone(),c.rotate180(),u=ot.detect(a,c)),new G8(c,u)}static detect(s,i){const a=new Array;let c=0,u=0,f=!1;for(;c<i.getHeight();){const p=ot.findVertices(i,c,u);if(p[0]==null&&p[3]==null){if(!f)break;f=!1,u=0;for(const y of a)y[1]!=null&&(c=Math.trunc(Math.max(c,y[1].getY()))),y[3]!=null&&(c=Math.max(c,Math.trunc(y[3].getY())));c+=ot.ROW_STEP;continue}if(f=!0,a.push(p),!s)break;p[2]!=null?(u=Math.trunc(p[2].getX()),c=Math.trunc(p[2].getY())):(u=Math.trunc(p[4].getX()),c=Math.trunc(p[4].getY()))}return a}static findVertices(s,i,a){const c=s.getHeight(),u=s.getWidth(),f=new Array(8);return ot.copyToResult(f,ot.findRowsWithPattern(s,c,u,i,a,ot.START_PATTERN),ot.INDEXES_START_PATTERN),f[4]!=null&&(a=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),ot.copyToResult(f,ot.findRowsWithPattern(s,c,u,i,a,ot.STOP_PATTERN),ot.INDEXES_STOP_PATTERN),f}static copyToResult(s,i,a){for(let c=0;c<a.length;c++)s[a[c]]=i[c]}static findRowsWithPattern(s,i,a,c,u,f){const p=new Array(4);let y=!1;const w=new Int32Array(f.length);for(;c<i;c+=ot.ROW_STEP){let T=ot.findGuardPattern(s,u,c,a,!1,f,w);if(T!=null){for(;c>0;){const D=ot.findGuardPattern(s,u,--c,a,!1,f,w);if(D!=null)T=D;else{c++;break}}p[0]=new ke(T[0],c),p[1]=new ke(T[1],c),y=!0;break}}let S=c+1;if(y){let T=0,D=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;S<i;S++){const F=ot.findGuardPattern(s,D[0],S,a,!1,f,w);if(F!=null&&Math.abs(D[0]-F[0])<ot.MAX_PATTERN_DRIFT&&Math.abs(D[1]-F[1])<ot.MAX_PATTERN_DRIFT)D=F,T=0;else{if(T>ot.SKIPPED_ROW_COUNT_MAX)break;T++}}S-=T+1,p[2]=new ke(D[0],S),p[3]=new ke(D[1],S)}return S-c<ot.BARCODE_MIN_HEIGHT&&A.fill(p,null),p}static findGuardPattern(s,i,a,c,u,f,p){A.fillWithin(p,0,p.length,0);let y=i,w=0;for(;s.get(y,a)&&y>0&&w++<ot.MAX_PIXEL_DRIFT;)y--;let S=y,T=0,D=f.length;for(let F=u;S<c;S++)if(s.get(S,a)!==F)p[T]++;else{if(T===D-1){if(ot.patternMatchVariance(p,f,ot.MAX_INDIVIDUAL_VARIANCE)<ot.MAX_AVG_VARIANCE)return new Int32Array([y,S]);y+=p[0]+p[1],N.arraycopy(p,2,p,0,T-1),p[T-1]=0,p[T]=0,T--}else T++;p[T]=1,F=!F}return T===D-1&&ot.patternMatchVariance(p,f,ot.MAX_INDIVIDUAL_VARIANCE)<ot.MAX_AVG_VARIANCE?new Int32Array([y,S-1]):null}static patternMatchVariance(s,i,a){let c=s.length,u=0,f=0;for(let w=0;w<c;w++)u+=s[w],f+=i[w];if(u<f)return 1/0;let p=u/f;a*=p;let y=0;for(let w=0;w<c;w++){let S=s[w],T=i[w]*p,D=S>T?S-T:T-S;if(D>a)return 1/0;y+=D}return y/u}}ot.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ot.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ot.MAX_AVG_VARIANCE=.42,ot.MAX_INDIVIDUAL_VARIANCE=.8,ot.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ot.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ot.MAX_PIXEL_DRIFT=3,ot.MAX_PATTERN_DRIFT=5,ot.SKIPPED_ROW_COUNT_MAX=25,ot.ROW_STEP=5,ot.BARCODE_MIN_HEIGHT=10;class jn{constructor(s,i){if(i.length===0)throw new C;this.field=s;let a=i.length;if(a>1&&i[0]===0){let c=1;for(;c<a&&i[c]===0;)c++;c===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-c),N.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let i=this.coefficients[0],a=this.coefficients.length;for(let c=1;c<a;c++)i=this.field.add(this.field.multiply(s,i),this.coefficients[c]);return i}add(s){if(!this.field.equals(s.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let i=this.coefficients,a=s.coefficients;if(i.length>a.length){let f=i;i=a,a=f}let c=new Int32Array(a.length),u=a.length-i.length;N.arraycopy(a,0,c,0,u);for(let f=u;f<a.length;f++)c[f]=this.field.add(i[f-u],a[f]);return new jn(this.field,c)}subtract(s){if(!this.field.equals(s.field))throw new C("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof jn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new jn(this.field,new Int32Array([0]));let i=this.coefficients,a=i.length,c=s.coefficients,u=c.length,f=new Int32Array(a+u-1);for(let p=0;p<a;p++){let y=i[p];for(let w=0;w<u;w++)f[p+w]=this.field.add(f[p+w],this.field.multiply(y,c[w]))}return new jn(this.field,f)}negative(){let s=this.coefficients.length,i=new Int32Array(s);for(let a=0;a<s;a++)i[a]=this.field.subtract(0,this.coefficients[a]);return new jn(this.field,i)}multiplyScalar(s){if(s===0)return new jn(this.field,new Int32Array([0]));if(s===1)return this;let i=this.coefficients.length,a=new Int32Array(i);for(let c=0;c<i;c++)a[c]=this.field.multiply(this.coefficients[c],s);return new jn(this.field,a)}multiplyByMonomial(s,i){if(s<0)throw new C;if(i===0)return new jn(this.field,new Int32Array([0]));let a=this.coefficients.length,c=new Int32Array(a+s);for(let u=0;u<a;u++)c[u]=this.field.multiply(this.coefficients[u],i);return new jn(this.field,c)}toString(){let s=new oe;for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);a!==0&&(a<0?(s.append(" - "),a=-a):s.length()>0&&s.append(" + "),(i===0||a!==1)&&s.append(a),i!==0&&(i===1?s.append("x"):(s.append("x^"),s.append(i))))}return s.toString()}}class $8{add(s,i){return(s+i)%this.modulus}subtract(s,i){return(this.modulus+s-i)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new C;return this.logTable[s]}inverse(s){if(s===0)throw new mt;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,i){return s===0||i===0?0:this.expTable[(this.logTable[s]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Zh extends $8{constructor(s,i){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let a=1;for(let c=0;c<s;c++)this.expTable[c]=a,a=a*i%s;for(let c=0;c<s-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new jn(this,new Int32Array([0])),this.one=new jn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,i){if(s<0)throw new C;if(i===0)return this.zero;let a=new Int32Array(s+1);return a[0]=i,new jn(this,a)}}Zh.PDF417_GF=new Zh(Ge.NUMBER_OF_CODEWORDS,3);class tx{constructor(){this.field=Zh.PDF417_GF}decode(s,i,a){let c=new jn(this.field,s),u=new Int32Array(i),f=!1;for(let V=i;V>0;V--){let H=c.evaluateAt(this.field.exp(V));u[i-V]=H,H!==0&&(f=!0)}if(!f)return 0;let p=this.field.getOne();if(a!=null)for(const V of a){let H=this.field.exp(s.length-1-V),K=new jn(this.field,new Int32Array([this.field.subtract(0,H),1]));p=p.multiply(K)}let y=new jn(this.field,u),w=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),y,i),S=w[0],T=w[1],D=this.findErrorLocations(S),F=this.findErrorMagnitudes(T,S,D);for(let V=0;V<D.length;V++){let H=s.length-1-this.field.log(D[V]);if(H<0)throw O.getChecksumInstance();s[H]=this.field.subtract(s[H],F[V])}return D.length}runEuclideanAlgorithm(s,i,a){if(s.getDegree()<i.getDegree()){let D=s;s=i,i=D}let c=s,u=i,f=this.field.getZero(),p=this.field.getOne();for(;u.getDegree()>=Math.round(a/2);){let D=c,F=f;if(c=u,f=p,c.isZero())throw O.getChecksumInstance();u=D;let V=this.field.getZero(),H=c.getCoefficient(c.getDegree()),K=this.field.inverse(H);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let ee=u.getDegree()-c.getDegree(),ge=this.field.multiply(u.getCoefficient(u.getDegree()),K);V=V.add(this.field.buildMonomial(ee,ge)),u=u.subtract(c.multiplyByMonomial(ee,ge))}p=V.multiply(f).subtract(F).negative()}let y=p.getCoefficient(0);if(y===0)throw O.getChecksumInstance();let w=this.field.inverse(y),S=p.multiply(w),T=u.multiply(w);return[S,T]}findErrorLocations(s){let i=s.getDegree(),a=new Int32Array(i),c=0;for(let u=1;u<this.field.getSize()&&c<i;u++)s.evaluateAt(u)===0&&(a[c]=this.field.inverse(u),c++);if(c!==i)throw O.getChecksumInstance();return a}findErrorMagnitudes(s,i,a){let c=i.getDegree(),u=new Int32Array(c);for(let w=1;w<=c;w++)u[c-w]=this.field.multiply(w,i.getCoefficient(w));let f=new jn(this.field,u),p=a.length,y=new Int32Array(p);for(let w=0;w<p;w++){let S=this.field.inverse(a[w]),T=this.field.subtract(0,s.evaluateAt(S)),D=this.field.inverse(f.evaluateAt(S));y[w]=this.field.multiply(T,D)}return y}}class Oo{constructor(s,i,a,c,u){s instanceof Oo?this.constructor_2(s):this.constructor_1(s,i,a,c,u)}constructor_1(s,i,a,c,u){const f=i==null||a==null,p=c==null||u==null;if(f&&p)throw new X;f?(i=new ke(0,c.getY()),a=new ke(0,u.getY())):p&&(c=new ke(s.getWidth()-1,i.getY()),u=new ke(s.getWidth()-1,a.getY())),this.image=s,this.topLeft=i,this.bottomLeft=a,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),a.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),c.getY())),this.maxY=Math.trunc(Math.max(a.getY(),u.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,i){return s==null?i:i==null?s:new Oo(s.image,s.topLeft,s.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(s,i,a){let c=this.topLeft,u=this.bottomLeft,f=this.topRight,p=this.bottomRight;if(s>0){let y=a?this.topLeft:this.topRight,w=Math.trunc(y.getY()-s);w<0&&(w=0);let S=new ke(y.getX(),w);a?c=S:f=S}if(i>0){let y=a?this.bottomLeft:this.bottomRight,w=Math.trunc(y.getY()+i);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let S=new ke(y.getX(),w);a?u=S:p=S}return new Oo(this.image,c,u,f,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class X8{constructor(s,i,a,c){this.columnCount=s,this.errorCorrectionLevel=c,this.rowCountUpperPart=i,this.rowCountLowerPart=a,this.rowCount=i+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ql{constructor(){this.buffer=""}static form(s,i){let a=-1;function c(f,p,y,w,S,T){if(f==="%%")return"%";if(i[++a]===void 0)return;f=w?parseInt(w.substr(1)):void 0;let D=S?parseInt(S.substr(1)):void 0,F;switch(T){case"s":F=i[a];break;case"c":F=i[a][0];break;case"f":F=parseFloat(i[a]).toFixed(f);break;case"p":F=parseFloat(i[a]).toPrecision(f);break;case"e":F=parseFloat(i[a]).toExponential(f);break;case"x":F=parseInt(i[a]).toString(D||16);break;case"d":F=parseFloat(parseInt(i[a],D||10).toPrecision(f)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(D);let V=parseInt(y),H=y&&y[0]+""=="0"?"0":" ";for(;F.length<V;)F=p!==void 0?F+H:H+F;return F}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(u,c)}format(s,...i){this.buffer+=Ql.form(s,i)}toString(){return this.buffer}}class Jl{constructor(s){this.boundingBox=new Oo(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let i=this.getCodeword(s);if(i!=null)return i;for(let a=1;a<Jl.MAX_NEARBY_DISTANCE;a++){let c=this.imageRowToCodewordIndex(s)-a;if(c>=0&&(i=this.codewords[c],i!=null)||(c=this.imageRowToCodewordIndex(s)+a,c<this.codewords.length&&(i=this.codewords[c],i!=null)))return i}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,i){this.codewords[this.imageRowToCodewordIndex(s)]=i}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Ql;let i=0;for(const a of this.codewords){if(a==null){s.format("%3d:    |   %n",i++);continue}s.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}return s.toString()}}Jl.MAX_NEARBY_DISTANCE=5;class ec{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let i=this.values.get(s);i==null&&(i=0),i++,this.values.set(s,i)}getValue(){let s=-1,i=new Array;for(const[a,c]of this.values.entries()){const u={getKey:()=>a,getValue:()=>c};u.getValue()>s?(s=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===s&&i.push(u.getKey())}return Ge.toIntArray(i)}getConfidence(s){return this.values.get(s)}}class nx extends Jl{constructor(s,i){super(s),this._isLeft=i}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,s);let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=-1,w=1,S=0;for(let T=f;T<p;T++){if(i[T]==null)continue;let D=i[T],F=D.getRowNumber()-y;if(F===0)S++;else if(F===1)w=Math.max(w,S),S=1,y=D.getRowNumber();else if(F<0||D.getRowNumber()>=s.getRowCount()||F>T)i[T]=null;else{let V;w>2?V=(w-2)*F:V=F;let H=V>=T;for(let K=1;K<=V&&!H;K++)H=i[T-K]!=null;H?i[T]=null:(y=D.getRowNumber(),S=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let i=new Int32Array(s.getRowCount());for(let a of this.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=i.length)continue;i[c]++}return i}adjustIncompleteIndicatorColumnRowNumbers(s){let i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=this.getCodewords(),y=-1;for(let w=u;w<f;w++){if(p[w]==null)continue;let S=p[w];S.setRowNumberAsRowIndicatorColumn();let T=S.getRowNumber()-y;T===0||(T===1?y=S.getRowNumber():S.getRowNumber()>=s.getRowCount()?p[w]=null:y=S.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),i=new ec,a=new ec,c=new ec,u=new ec;for(let p of s){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let y=p.getValue()%30,w=p.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:a.setValue(y*3+1);break;case 1:u.setValue(y/3),c.setValue(y%3);break;case 2:i.setValue(y+1);break}}if(i.getValue().length===0||a.getValue().length===0||c.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+c.getValue()[0]<Ge.MIN_ROWS_IN_BARCODE||a.getValue()[0]+c.getValue()[0]>Ge.MAX_ROWS_IN_BARCODE)return null;let f=new X8(i.getValue()[0],a.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(s,f),f}removeIncorrectCodewords(s,i){for(let a=0;a<s.length;a++){let c=s[a];if(s[a]==null)continue;let u=c.getValue()%30,f=c.getRowNumber();if(f>i.getRowCount()){s[a]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(s[a]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(s[a]=null);break;case 2:u+1!==i.getColumnCount()&&(s[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class tc{constructor(s,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Ge.MAX_CODEWORDS_IN_BARCODE,i;do i=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let a=this.detectionResultColumns[i].getCodewords();for(let c=0;c<a.length;c++)a[c]!=null&&(a[c].hasValidRowNumber()||this.adjustRowNumbers(i,c,a))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<s.length;a++)if(s[a]!=null&&i[a]!=null&&s[a].getRowNumber()===i[a].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[a];u!=null&&(u.setRowNumber(s[a].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let c=i[a].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let p=this.detectionResultColumns[f].getCodewords()[a];p!=null&&(u=tc.adjustRowNumberIfValid(c,u,p),p.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,i=this.detectionResultColumns[0].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let c=i[a].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let p=this.detectionResultColumns[f].getCodewords()[a];p!=null&&(u=tc.adjustRowNumberIfValid(c,u,p),p.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,i,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(s)?(a.setRowNumber(s),i=0):++i),i}adjustRowNumbers(s,i,a){if(!this.detectionResultColumns[s-1])return;let c=a[i],u=this.detectionResultColumns[s-1].getCodewords(),f=u;this.detectionResultColumns[s+1]!=null&&(f=this.detectionResultColumns[s+1].getCodewords());let p=new Array(14);p[2]=u[i],p[3]=f[i],i>0&&(p[0]=a[i-1],p[4]=u[i-1],p[5]=f[i-1]),i>1&&(p[8]=a[i-2],p[10]=u[i-2],p[11]=f[i-2]),i<a.length-1&&(p[1]=a[i+1],p[6]=u[i+1],p[7]=f[i+1]),i<a.length-2&&(p[9]=a[i+2],p[12]=u[i+2],p[13]=f[i+2]);for(let y of p)if(tc.adjustRowNumber(c,y))return}static adjustRowNumber(s,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===s.getBucket()?(s.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,i){this.detectionResultColumns[s]=i}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Ql;for(let a=0;a<s.getCodewords().length;a++){i.format("CW %3d:",a);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[a];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class nc{constructor(s,i,a,c){this.rowNumber=nc.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(i),this.bucket=Math.trunc(a),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==nc.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}nc.BARCODE_ROW_UNKNOWN=-1;class vr{static initialize(){for(let s=0;s<Ge.SYMBOL_TABLE.length;s++){let i=Ge.SYMBOL_TABLE[s],a=i&1;for(let c=0;c<Ge.BARS_IN_MODULE;c++){let u=0;for(;(i&1)===a;)u+=1,i>>=1;a=i&1,vr.RATIOS_TABLE[s]||(vr.RATIOS_TABLE[s]=new Array(Ge.BARS_IN_MODULE)),vr.RATIOS_TABLE[s][Ge.BARS_IN_MODULE-c-1]=Math.fround(u/Ge.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let i=vr.getDecodedCodewordValue(vr.sampleBitCounts(s));return i!==-1?i:vr.getClosestDecodedValue(s)}static sampleBitCounts(s){let i=it.sum(s),a=new Int32Array(Ge.BARS_IN_MODULE),c=0,u=0;for(let f=0;f<Ge.MODULES_IN_CODEWORD;f++){let p=i/(2*Ge.MODULES_IN_CODEWORD)+f*i/Ge.MODULES_IN_CODEWORD;u+s[c]<=p&&(u+=s[c],c++),a[c]++}return a}static getDecodedCodewordValue(s){let i=vr.getBitValue(s);return Ge.getCodeword(i)===-1?-1:i}static getBitValue(s){let i=0;for(let a=0;a<s.length;a++)for(let c=0;c<s[a];c++)i=i<<1|(a%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(s){let i=it.sum(s),a=new Array(Ge.BARS_IN_MODULE);if(i>1)for(let f=0;f<a.length;f++)a[f]=Math.fround(s[f]/i);let c=ql.MAX_VALUE,u=-1;this.bSymbolTableReady||vr.initialize();for(let f=0;f<vr.RATIOS_TABLE.length;f++){let p=0,y=vr.RATIOS_TABLE[f];for(let w=0;w<Ge.BARS_IN_MODULE;w++){let S=Math.fround(y[w]-a[w]);if(p+=Math.fround(S*S),p>=c)break}p<c&&(c=p,u=Ge.SYMBOL_TABLE[f])}return u}}vr.bSymbolTableReady=!1,vr.RATIOS_TABLE=new Array(Ge.SYMBOL_TABLE.length).map(_=>new Array(Ge.BARS_IN_MODULE));class rx{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class sx{static parseLong(s,i=void 0){return parseInt(s,i)}}class ix extends g{}ix.kind="NullPointerException";class Z8{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,i,a){if(s==null)throw new ix;if(i<0||i>s.length||a<0||i+a>s.length||i+a<0)throw new P;if(a===0)return;for(let c=0;c<a;c++)this.write(s[i+c])}flush(){}close(){}}class K8 extends g{}class q8 extends Z8{constructor(s=32){if(super(),this.count=0,s<0)throw new C("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let a=this.buf.length<<1;if(a-s<0&&(a=s),a<0){if(s<0)throw new K8;a=I.MAX_VALUE}this.buf=A.copyOfUint8Array(this.buf,a)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,i,a){if(i<0||i>s.length||a<0||i+a-s.length>0)throw new P;this.ensureCapacity(this.count+a),N.arraycopy(s,i,this.buf,this.count,a),this.count+=a}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return A.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Lt;(function(_){_[_.ALPHA=0]="ALPHA",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.PUNCT=3]="PUNCT",_[_.ALPHA_SHIFT=4]="ALPHA_SHIFT",_[_.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Lt||(Lt={}));function ox(){if(typeof window<"u")return window.BigInt||null;if(typeof ic<"u")return ic.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Xu;function Pi(_){if(typeof Xu>"u"&&(Xu=ox()),Xu===null)throw new Error("BigInt is not supported!");return Xu(_)}function Y8(){let _=[];_[0]=Pi(1);let s=Pi(900);_[1]=s;for(let i=2;i<16;i++)_[i]=_[i-1]*s;return _}class J{static decode(s,i){let a=new oe(""),c=W.ISO8859_1;a.enableDecoding(c);let u=1,f=s[u++],p=new rx;for(;u<s[0];){switch(f){case J.TEXT_COMPACTION_MODE_LATCH:u=J.textCompaction(s,u,a);break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:u=J.byteCompaction(f,s,c,u,a);break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(s[u++]);break;case J.NUMERIC_COMPACTION_MODE_LATCH:u=J.numericCompaction(s,u,a);break;case J.ECI_CHARSET:W.getCharacterSetECIByValue(s[u++]);break;case J.ECI_GENERAL_PURPOSE:u+=2;break;case J.ECI_USER_DEFINED:u++;break;case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=J.decodeMacroBlock(s,u,p);break;case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:throw new B;default:u--,u=J.textCompaction(s,u,a);break}if(u<s.length)f=s[u++];else throw B.getFormatInstance()}if(a.length()===0)throw B.getFormatInstance();let y=new st(null,a.toString(),null,i);return y.setOther(p),y}static decodeMacroBlock(s,i,a){if(i+J.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw B.getFormatInstance();let c=new Int32Array(J.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<J.NUMBER_OF_SEQUENCE_CODEWORDS;p++,i++)c[p]=s[i];a.setSegmentIndex(I.parseInt(J.decodeBase900toBase10(c,J.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new oe;i=J.textCompaction(s,i,u),a.setFileId(u.toString());let f=-1;for(s[i]===J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<s[0];)switch(s[i]){case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,s[i]){case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new oe;i=J.textCompaction(s,i+1,p),a.setFileName(p.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new oe;i=J.textCompaction(s,i+1,y),a.setSender(y.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new oe;i=J.textCompaction(s,i+1,w),a.setAddressee(w.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new oe;i=J.numericCompaction(s,i+1,S),a.setSegmentCount(I.parseInt(S.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new oe;i=J.numericCompaction(s,i+1,T),a.setTimestamp(sx.parseLong(T.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new oe;i=J.numericCompaction(s,i+1,D),a.setChecksum(I.parseInt(D.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let F=new oe;i=J.numericCompaction(s,i+1,F),a.setFileSize(sx.parseLong(F.toString()));break;default:throw B.getFormatInstance()}break;case J.MACRO_PDF417_TERMINATOR:i++,a.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(f!==-1){let p=i-f;a.isLastSegment()&&p--,a.setOptionalData(A.copyOfRange(s,f,f+p))}return i}static textCompaction(s,i,a){let c=new Int32Array((s[0]-i)*2),u=new Int32Array((s[0]-i)*2),f=0,p=!1;for(;i<s[0]&&!p;){let y=s[i++];if(y<J.TEXT_COMPACTION_MODE_LATCH)c[f]=y/30,c[f+1]=y%30,f+=2;else switch(y){case J.TEXT_COMPACTION_MODE_LATCH:c[f++]=J.TEXT_COMPACTION_MODE_LATCH;break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:i--,p=!0;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[f]=J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=s[i++],u[f]=y,f++;break}}return J.decodeTextCompaction(c,u,f,a),i}static decodeTextCompaction(s,i,a,c){let u=Lt.ALPHA,f=Lt.ALPHA,p=0;for(;p<a;){let y=s[p],w="";switch(u){case Lt.ALPHA:if(y<26)w=String.fromCharCode(65+y);else switch(y){case 26:w=" ";break;case J.LL:u=Lt.LOWER;break;case J.ML:u=Lt.MIXED;break;case J.PS:f=u,u=Lt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[p]);break;case J.TEXT_COMPACTION_MODE_LATCH:u=Lt.ALPHA;break}break;case Lt.LOWER:if(y<26)w=String.fromCharCode(97+y);else switch(y){case 26:w=" ";break;case J.AS:f=u,u=Lt.ALPHA_SHIFT;break;case J.ML:u=Lt.MIXED;break;case J.PS:f=u,u=Lt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[p]);break;case J.TEXT_COMPACTION_MODE_LATCH:u=Lt.ALPHA;break}break;case Lt.MIXED:if(y<J.PL)w=J.MIXED_CHARS[y];else switch(y){case J.PL:u=Lt.PUNCT;break;case 26:w=" ";break;case J.LL:u=Lt.LOWER;break;case J.AL:u=Lt.ALPHA;break;case J.PS:f=u,u=Lt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[p]);break;case J.TEXT_COMPACTION_MODE_LATCH:u=Lt.ALPHA;break}break;case Lt.PUNCT:if(y<J.PAL)w=J.PUNCT_CHARS[y];else switch(y){case J.PAL:u=Lt.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[p]);break;case J.TEXT_COMPACTION_MODE_LATCH:u=Lt.ALPHA;break}break;case Lt.ALPHA_SHIFT:if(u=f,y<26)w=String.fromCharCode(65+y);else switch(y){case 26:w=" ";break;case J.TEXT_COMPACTION_MODE_LATCH:u=Lt.ALPHA;break}break;case Lt.PUNCT_SHIFT:if(u=f,y<J.PAL)w=J.PUNCT_CHARS[y];else switch(y){case J.PAL:u=Lt.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[p]);break;case J.TEXT_COMPACTION_MODE_LATCH:u=Lt.ALPHA;break}break}w!==""&&c.append(w),p++}}static byteCompaction(s,i,a,c,u){let f=new q8,p=0,y=0,w=!1;switch(s){case J.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),T=i[c++];for(;c<i[0]&&!w;)switch(S[p++]=T,y=900*y+T,T=i[c++],T){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:c--,w=!0;break;default:if(p%5===0&&p>0){for(let D=0;D<6;++D)f.write(Number(Pi(y)>>Pi(8*(5-D))));y=0,p=0}break}c===i[0]&&T<J.TEXT_COMPACTION_MODE_LATCH&&(S[p++]=T);for(let D=0;D<p;D++)f.write(S[D]);break;case J.BYTE_COMPACTION_MODE_LATCH_6:for(;c<i[0]&&!w;){let D=i[c++];if(D<J.TEXT_COMPACTION_MODE_LATCH)p++,y=900*y+D;else switch(D){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:c--,w=!0;break}if(p%5===0&&p>0){for(let F=0;F<6;++F)f.write(Number(Pi(y)>>Pi(8*(5-F))));y=0,p=0}}break}return u.append(pe.decode(f.toByteArray(),a)),c}static numericCompaction(s,i,a){let c=0,u=!1,f=new Int32Array(J.MAX_NUMERIC_CODEWORDS);for(;i<s[0]&&!u;){let p=s[i++];if(i===s[0]&&(u=!0),p<J.TEXT_COMPACTION_MODE_LATCH)f[c]=p,c++;else switch(p){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(c%J.MAX_NUMERIC_CODEWORDS===0||p===J.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(a.append(J.decodeBase900toBase10(f,c)),c=0)}return i}static decodeBase900toBase10(s,i){let a=Pi(0);for(let u=0;u<i;u++)a+=J.EXP900[i-u-1]*Pi(s[u]);let c=a.toString();if(c.charAt(0)!=="1")throw new B;return c.substring(1)}}J.TEXT_COMPACTION_MODE_LATCH=900,J.BYTE_COMPACTION_MODE_LATCH=901,J.NUMERIC_COMPACTION_MODE_LATCH=902,J.BYTE_COMPACTION_MODE_LATCH_6=924,J.ECI_USER_DEFINED=925,J.ECI_GENERAL_PURPOSE=926,J.ECI_CHARSET=927,J.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,J.MACRO_PDF417_TERMINATOR=922,J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,J.MAX_NUMERIC_CODEWORDS=15,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,J.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,J.PL=25,J.LL=27,J.AS=27,J.ML=28,J.AL=28,J.PS=29,J.PAL=29,J.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,J.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",J.EXP900=ox()?Y8():[],J.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ct{constructor(){}static decode(s,i,a,c,u,f,p){let y=new Oo(s,i,a,c,u),w=null,S=null,T;for(let V=!0;;V=!1){if(i!=null&&(w=ct.getRowIndicatorColumn(s,y,i,!0,f,p)),c!=null&&(S=ct.getRowIndicatorColumn(s,y,c,!1,f,p)),T=ct.merge(w,S),T==null)throw X.getNotFoundInstance();let H=T.getBoundingBox();if(V&&H!=null&&(H.getMinY()<y.getMinY()||H.getMaxY()>y.getMaxY()))y=H;else break}T.setBoundingBox(y);let D=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,w),T.setDetectionResultColumn(D,S);let F=w!=null;for(let V=1;V<=D;V++){let H=F?V:D-V;if(T.getDetectionResultColumn(H)!==void 0)continue;let K;H===0||H===D?K=new nx(y,H===0):K=new Jl(y),T.setDetectionResultColumn(H,K);let ee=-1,ge=ee;for(let xe=y.getMinY();xe<=y.getMaxY();xe++){if(ee=ct.getStartColumn(T,H,xe,F),ee<0||ee>y.getMaxX()){if(ge===-1)continue;ee=ge}let ue=ct.detectCodeword(s,y.getMinX(),y.getMaxX(),F,ee,xe,f,p);ue!=null&&(K.setCodeword(xe,ue),ge=ee,f=Math.min(f,ue.getWidth()),p=Math.max(p,ue.getWidth()))}}return ct.createDecoderResult(T)}static merge(s,i){if(s==null&&i==null)return null;let a=ct.getBarcodeMetadata(s,i);if(a==null)return null;let c=Oo.merge(ct.adjustBoundingBox(s),ct.adjustBoundingBox(i));return new tc(a,c)}static adjustBoundingBox(s){if(s==null)return null;let i=s.getRowHeights();if(i==null)return null;let a=ct.getMax(i),c=0;for(let p of i)if(c+=a-p,p>0)break;let u=s.getCodewords();for(let p=0;c>0&&u[p]==null;p++)c--;let f=0;for(let p=i.length-1;p>=0&&(f+=a-i[p],!(i[p]>0));p--);for(let p=u.length-1;f>0&&u[p]==null;p--)f--;return s.getBoundingBox().addMissingRows(c,f,s.isLeft())}static getMax(s){let i=-1;for(let a of s)i=Math.max(i,a);return i}static getBarcodeMetadata(s,i){let a;if(s==null||(a=s.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let c;return i==null||(c=i.getBarcodeMetadata())==null?a:a.getColumnCount()!==c.getColumnCount()&&a.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&a.getRowCount()!==c.getRowCount()?null:a}static getRowIndicatorColumn(s,i,a,c,u,f){let p=new nx(i,c);for(let y=0;y<2;y++){let w=y===0?1:-1,S=Math.trunc(Math.trunc(a.getX()));for(let T=Math.trunc(Math.trunc(a.getY()));T<=i.getMaxY()&&T>=i.getMinY();T+=w){let D=ct.detectCodeword(s,0,s.getWidth(),c,S,T,u,f);D!=null&&(p.setCodeword(T,D),c?S=D.getStartX():S=D.getEndX())}}return p}static adjustCodewordCount(s,i){let a=i[0][1],c=a.getValue(),u=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-ct.getNumberOfECCodeWords(s.getBarcodeECLevel());if(c.length===0){if(u<1||u>Ge.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();a.setValue(u)}else c[0]!==u&&a.setValue(u)}static createDecoderResult(s){let i=ct.createBarcodeMatrix(s);ct.adjustCodewordCount(s,i);let a=new Array,c=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),u=[],f=new Array;for(let y=0;y<s.getBarcodeRowCount();y++)for(let w=0;w<s.getBarcodeColumnCount();w++){let S=i[y][w+1].getValue(),T=y*s.getBarcodeColumnCount()+w;S.length===0?a.push(T):S.length===1?c[T]=S[0]:(f.push(T),u.push(S))}let p=new Array(u.length);for(let y=0;y<p.length;y++)p[y]=u[y];return ct.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),c,Ge.toIntArray(a),Ge.toIntArray(f),p)}static createDecoderResultFromAmbiguousValues(s,i,a,c,u){let f=new Int32Array(c.length),p=100;for(;p-- >0;){for(let y=0;y<f.length;y++)i[c[y]]=u[y][f[y]];try{return ct.decodeCodewords(i,s,a)}catch(y){if(!(y instanceof O))throw y}if(f.length===0)throw O.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<u[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(s){let i=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let c=0;c<i.length;c++)for(let u=0;u<i[c].length;u++)i[c][u]=new ec;let a=0;for(let c of s.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][a].setValue(u.getValue())}}}a++}return i}static isValidBarcodeColumn(s,i){return i>=0&&i<=s.getBarcodeColumnCount()+1}static getStartColumn(s,i,a,c){let u=c?1:-1,f=null;if(ct.isValidBarcodeColumn(s,i-u)&&(f=s.getDetectionResultColumn(i-u).getCodeword(a)),f!=null)return c?f.getEndX():f.getStartX();if(f=s.getDetectionResultColumn(i).getCodewordNearby(a),f!=null)return c?f.getStartX():f.getEndX();if(ct.isValidBarcodeColumn(s,i-u)&&(f=s.getDetectionResultColumn(i-u).getCodewordNearby(a)),f!=null)return c?f.getEndX():f.getStartX();let p=0;for(;ct.isValidBarcodeColumn(s,i-u);){i-=u;for(let y of s.getDetectionResultColumn(i).getCodewords())if(y!=null)return(c?y.getEndX():y.getStartX())+u*p*(y.getEndX()-y.getStartX());p++}return c?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,i,a,c,u,f,p,y){u=ct.adjustCodewordStartColumn(s,i,a,c,u,f);let w=ct.getModuleBitCount(s,i,a,c,u,f);if(w==null)return null;let S,T=it.sum(w);if(c)S=u+T;else{for(let V=0;V<w.length/2;V++){let H=w[V];w[V]=w[w.length-1-V],w[w.length-1-V]=H}S=u,u=S-T}if(!ct.checkCodewordSkew(T,p,y))return null;let D=vr.getDecodedValue(w),F=Ge.getCodeword(D);return F===-1?null:new nc(u,S,ct.getCodewordBucketNumber(D),F)}static getModuleBitCount(s,i,a,c,u,f){let p=u,y=new Int32Array(8),w=0,S=c?1:-1,T=c;for(;(c?p<a:p>=i)&&w<y.length;)s.get(p,f)===T?(y[w]++,p+=S):(w++,T=!T);return w===y.length||p===(c?a:i)&&w===y.length-1?y:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,i,a,c,u,f){let p=u,y=c?-1:1;for(let w=0;w<2;w++){for(;(c?p>=i:p<a)&&c===s.get(p,f);){if(Math.abs(u-p)>ct.CODEWORD_SKEW_SIZE)return u;p+=y}y=-y,c=!c}return p}static checkCodewordSkew(s,i,a){return i-ct.CODEWORD_SKEW_SIZE<=s&&s<=a+ct.CODEWORD_SKEW_SIZE}static decodeCodewords(s,i,a){if(s.length===0)throw B.getFormatInstance();let c=1<<i+1,u=ct.correctErrors(s,a,c);ct.verifyCodewordCount(s,c);let f=J.decode(s,""+i);return f.setErrorsCorrected(u),f.setErasures(a.length),f}static correctErrors(s,i,a){if(i!=null&&i.length>a/2+ct.MAX_ERRORS||a<0||a>ct.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return ct.errorCorrection.decode(s,a,i)}static verifyCodewordCount(s,i){if(s.length<4)throw B.getFormatInstance();let a=s[0];if(a>s.length)throw B.getFormatInstance();if(a===0)if(i<s.length)s[0]=s.length-i;else throw B.getFormatInstance()}static getBitCountForCodeword(s){let i=new Int32Array(8),a=0,c=i.length-1;for(;!((s&1)!==a&&(a=s&1,c--,c<0));)i[c]++,s>>=1;return i}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return ct.getCodewordBucketNumber(ct.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let i=new Ql;for(let a=0;a<s.length;a++){i.format("Row %2d: ",a);for(let c=0;c<s[a].length;c++){let u=s[a][c];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}ct.CODEWORD_SKEW_SIZE=2,ct.MAX_ERRORS=3,ct.MAX_EC_CODEWORDS=512,ct.errorCorrection=new tx;class Ln{decode(s,i=null){let a=Ln.decode(s,i,!1);if(a==null||a.length===0||a[0]==null)throw X.getNotFoundInstance();return a[0]}decodeMultiple(s,i=null){try{return Ln.decode(s,i,!0)}catch(a){throw a instanceof B||a instanceof O?X.getNotFoundInstance():a}}static decode(s,i,a){const c=new Array,u=ot.detectMultiple(s,i,a);for(const f of u.getPoints()){const p=ct.decode(u.getBits(),f[4],f[5],f[6],f[7],Ln.getMinCodewordWidth(f),Ln.getMaxCodewordWidth(f)),y=new re(p.getText(),p.getRawBytes(),void 0,f,Ee.PDF_417);y.putMetadata(Le.ERROR_CORRECTION_LEVEL,p.getECLevel());const w=p.getOther();w!=null&&y.putMetadata(Le.PDF417_EXTRA_METADATA,w),c.push(y)}return c.map(f=>f)}static getMaxWidth(s,i){return s==null||i==null?0:Math.trunc(Math.abs(s.getX()-i.getX()))}static getMinWidth(s,i){return s==null||i==null?I.MAX_VALUE:Math.trunc(Math.abs(s.getX()-i.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Ln.getMaxWidth(s[0],s[4]),Ln.getMaxWidth(s[6],s[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.max(Ln.getMaxWidth(s[1],s[5]),Ln.getMaxWidth(s[7],s[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Ln.getMinWidth(s[0],s[4]),Ln.getMinWidth(s[6],s[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.min(Ln.getMinWidth(s[1],s[5]),Ln.getMinWidth(s[7],s[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}reset(){}}class Zu extends g{}Zu.kind="ReaderException";class ax{constructor(s,i){this.verbose=s===!0,i&&this.setHints(i)}decode(s,i){return i&&this.setHints(i),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const i=!r(s)&&s.get($.TRY_HARDER)===!0,a=r(s)?null:s.get($.POSSIBLE_FORMATS),c=new Array;if(!r(a)){const u=a.some(f=>f===Ee.UPC_A||f===Ee.UPC_E||f===Ee.EAN_13||f===Ee.EAN_8||f===Ee.CODABAR||f===Ee.CODE_39||f===Ee.CODE_93||f===Ee.CODE_128||f===Ee.ITF||f===Ee.RSS_14||f===Ee.RSS_EXPANDED);u&&!i&&c.push(new Ea(s,this.verbose)),a.includes(Ee.QR_CODE)&&c.push(new Oi),a.includes(Ee.DATA_MATRIX)&&c.push(new Ri),a.includes(Ee.AZTEC)&&c.push(new fn),a.includes(Ee.PDF_417)&&c.push(new Ln),u&&i&&c.push(new Ea(s,this.verbose))}c.length===0&&(i||c.push(new Ea(s,this.verbose)),c.push(new Oi),c.push(new Ri),c.push(new fn),c.push(new Ln),i&&c.push(new Ea(s,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Zu("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(s,this.hints)}catch(a){if(a instanceof Zu)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class Q8 extends Nt{constructor(s=null,i=500){const a=new ax;a.setHints(s),super(a,i)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class J8 extends Nt{constructor(s=500){super(new Ln,s)}}class e6 extends Nt{constructor(s=500){super(new Oi,s)}}var Kh;(function(_){_[_.ERROR_CORRECTION=0]="ERROR_CORRECTION",_[_.CHARACTER_SET=1]="CHARACTER_SET",_[_.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",_[_.MIN_SIZE=3]="MIN_SIZE",_[_.MAX_SIZE=4]="MAX_SIZE",_[_.MARGIN=5]="MARGIN",_[_.PDF417_COMPACT=6]="PDF417_COMPACT",_[_.PDF417_COMPACTION=7]="PDF417_COMPACTION",_[_.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",_[_.AZTEC_LAYERS=9]="AZTEC_LAYERS",_[_.QR_VERSION=10]="QR_VERSION"})(Kh||(Kh={}));var En=Kh;class qh{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Ke(s,Int32Array.from([1])))}buildGenerator(s){const i=this.cachedGenerators;if(s>=i.length){let a=i[i.length-1];const c=this.field;for(let u=i.length;u<=s;u++){const f=a.multiply(new Ke(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));i.push(f),a=f}}return i[s]}encode(s,i){if(i===0)throw new C("No error correction bytes");const a=s.length-i;if(a<=0)throw new C("No data bytes provided");const c=this.buildGenerator(i),u=new Int32Array(a);N.arraycopy(s,0,u,0,a);let f=new Ke(this.field,u);f=f.multiplyByMonomial(i,1);const y=f.divide(c)[1].getCoefficients(),w=i-y.length;for(let S=0;S<w;S++)s[a+S]=0;N.arraycopy(y,0,s,a+w,y.length)}}class ln{constructor(){}static applyMaskPenaltyRule1(s){return ln.applyMaskPenaltyRule1Internal(s,!0)+ln.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let i=0;const a=s.getArray(),c=s.getWidth(),u=s.getHeight();for(let f=0;f<u-1;f++){const p=a[f];for(let y=0;y<c-1;y++){const w=p[y];w===p[y+1]&&w===a[f+1][y]&&w===a[f+1][y+1]&&i++}}return ln.N2*i}static applyMaskPenaltyRule3(s){let i=0;const a=s.getArray(),c=s.getWidth(),u=s.getHeight();for(let f=0;f<u;f++)for(let p=0;p<c;p++){const y=a[f];p+6<c&&y[p]===1&&y[p+1]===0&&y[p+2]===1&&y[p+3]===1&&y[p+4]===1&&y[p+5]===0&&y[p+6]===1&&(ln.isWhiteHorizontal(y,p-4,p)||ln.isWhiteHorizontal(y,p+7,p+11))&&i++,f+6<u&&a[f][p]===1&&a[f+1][p]===0&&a[f+2][p]===1&&a[f+3][p]===1&&a[f+4][p]===1&&a[f+5][p]===0&&a[f+6][p]===1&&(ln.isWhiteVertical(a,p,f-4,f)||ln.isWhiteVertical(a,p,f+7,f+11))&&i++}return i*ln.N3}static isWhiteHorizontal(s,i,a){i=Math.max(i,0),a=Math.min(a,s.length);for(let c=i;c<a;c++)if(s[c]===1)return!1;return!0}static isWhiteVertical(s,i,a,c){a=Math.max(a,0),c=Math.min(c,s.length);for(let u=a;u<c;u++)if(s[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let i=0;const a=s.getArray(),c=s.getWidth(),u=s.getHeight();for(let y=0;y<u;y++){const w=a[y];for(let S=0;S<c;S++)w[S]===1&&i++}const f=s.getHeight()*s.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*ln.N4}static getDataMaskBit(s,i,a){let c,u;switch(s){case 0:c=a+i&1;break;case 1:c=a&1;break;case 2:c=i%3;break;case 3:c=(a+i)%3;break;case 4:c=Math.floor(a/2)+Math.floor(i/3)&1;break;case 5:u=a*i,c=(u&1)+u%3;break;case 6:u=a*i,c=(u&1)+u%3&1;break;case 7:u=a*i,c=u%3+(a+i&1)&1;break;default:throw new C("Invalid mask pattern: "+s)}return c===0}static applyMaskPenaltyRule1Internal(s,i){let a=0;const c=i?s.getHeight():s.getWidth(),u=i?s.getWidth():s.getHeight(),f=s.getArray();for(let p=0;p<c;p++){let y=0,w=-1;for(let S=0;S<u;S++){const T=i?f[p][S]:f[S][p];T===w?y++:(y>=5&&(a+=ln.N1+(y-5)),y=1,w=T)}y>=5&&(a+=ln.N1+(y-5))}return a}}ln.N1=3,ln.N2=3,ln.N3=40,ln.N4=10;class Ku{constructor(s,i){this.width=s,this.height=i;const a=new Array(i);for(let c=0;c!==i;c++)a[c]=new Uint8Array(s);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(s,i){return this.bytes[i][s]}getArray(){return this.bytes}setNumber(s,i,a){this.bytes[i][s]=a}setBoolean(s,i,a){this.bytes[i][s]=a?1:0}clear(s){for(const i of this.bytes)A.fill(i,s)}equals(s){if(!(s instanceof Ku))return!1;const i=s;if(this.width!==i.width||this.height!==i.height)return!1;for(let a=0,c=this.height;a<c;++a){const u=this.bytes[a],f=i.bytes[a];for(let p=0,y=this.width;p<y;++p)if(u[p]!==f[p])return!1}return!0}toString(){const s=new oe;for(let i=0,a=this.height;i<a;++i){const c=this.bytes[i];for(let u=0,f=this.width;u<f;++u)switch(c[u]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Po{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new oe;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Po.NUM_MASK_PATTERNS}}Po.NUM_MASK_PATTERNS=8;class Ft extends g{}Ft.kind="WriterException";class ze{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,i,a,c,u){ze.clearMatrix(u),ze.embedBasicPatterns(a,u),ze.embedTypeInfo(i,c,u),ze.maybeEmbedVersionInfo(a,u),ze.embedDataBits(s,c,u)}static embedBasicPatterns(s,i){ze.embedPositionDetectionPatternsAndSeparators(i),ze.embedDarkDotAtLeftBottomCorner(i),ze.maybeEmbedPositionAdjustmentPatterns(s,i),ze.embedTimingPatterns(i)}static embedTypeInfo(s,i,a){const c=new M;ze.makeTypeInfoBits(s,i,c);for(let u=0,f=c.getSize();u<f;++u){const p=c.get(c.getSize()-1-u),y=ze.TYPE_INFO_COORDINATES[u],w=y[0],S=y[1];if(a.setBoolean(w,S,p),u<8){const T=a.getWidth()-u-1;a.setBoolean(T,8,p)}else{const D=a.getHeight()-7+(u-8);a.setBoolean(8,D,p)}}}static maybeEmbedVersionInfo(s,i){if(s.getVersionNumber()<7)return;const a=new M;ze.makeVersionInfoBits(s,a);let c=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const p=a.get(c);c--,i.setBoolean(u,i.getHeight()-11+f,p),i.setBoolean(i.getHeight()-11+f,u,p)}}static embedDataBits(s,i,a){let c=0,u=-1,f=a.getWidth()-1,p=a.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);p>=0&&p<a.getHeight();){for(let y=0;y<2;++y){const w=f-y;if(!ze.isEmpty(a.get(w,p)))continue;let S;c<s.getSize()?(S=s.get(c),++c):S=!1,i!==255&&ln.getDataMaskBit(i,w,p)&&(S=!S),a.setBoolean(w,p,S)}p+=u}u=-u,p+=u,f-=2}if(c!==s.getSize())throw new Ft("Not all bits consumed: "+c+"/"+s.getSize())}static findMSBSet(s){return 32-I.numberOfLeadingZeros(s)}static calculateBCHCode(s,i){if(i===0)throw new C("0 polynomial");const a=ze.findMSBSet(i);for(s<<=a-1;ze.findMSBSet(s)>=a;)s^=i<<ze.findMSBSet(s)-a;return s}static makeTypeInfoBits(s,i,a){if(!Po.isValidMaskPattern(i))throw new Ft("Invalid mask pattern");const c=s.getBits()<<3|i;a.appendBits(c,5);const u=ze.calculateBCHCode(c,ze.TYPE_INFO_POLY);a.appendBits(u,10);const f=new M;if(f.appendBits(ze.TYPE_INFO_MASK_PATTERN,15),a.xor(f),a.getSize()!==15)throw new Ft("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(s,i){i.appendBits(s.getVersionNumber(),6);const a=ze.calculateBCHCode(s.getVersionNumber(),ze.VERSION_INFO_POLY);if(i.appendBits(a,12),i.getSize()!==18)throw new Ft("should not happen but we got: "+i.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let i=8;i<s.getWidth()-8;++i){const a=(i+1)%2;ze.isEmpty(s.get(i,6))&&s.setNumber(i,6,a),ze.isEmpty(s.get(6,i))&&s.setNumber(6,i,a)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Ft;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,i,a){for(let c=0;c<8;++c){if(!ze.isEmpty(a.get(s+c,i)))throw new Ft;a.setNumber(s+c,i,0)}}static embedVerticalSeparationPattern(s,i,a){for(let c=0;c<7;++c){if(!ze.isEmpty(a.get(s,i+c)))throw new Ft;a.setNumber(s,i+c,0)}}static embedPositionAdjustmentPattern(s,i,a){for(let c=0;c<5;++c){const u=ze.POSITION_ADJUSTMENT_PATTERN[c];for(let f=0;f<5;++f)a.setNumber(s+f,i+c,u[f])}}static embedPositionDetectionPattern(s,i,a){for(let c=0;c<7;++c){const u=ze.POSITION_DETECTION_PATTERN[c];for(let f=0;f<7;++f)a.setNumber(s+f,i+c,u[f])}}static embedPositionDetectionPatternsAndSeparators(s){const i=ze.POSITION_DETECTION_PATTERN[0].length;ze.embedPositionDetectionPattern(0,0,s),ze.embedPositionDetectionPattern(s.getWidth()-i,0,s),ze.embedPositionDetectionPattern(0,s.getWidth()-i,s);const a=8;ze.embedHorizontalSeparationPattern(0,a-1,s),ze.embedHorizontalSeparationPattern(s.getWidth()-a,a-1,s),ze.embedHorizontalSeparationPattern(0,s.getWidth()-a,s);const c=7;ze.embedVerticalSeparationPattern(c,0,s),ze.embedVerticalSeparationPattern(s.getHeight()-c-1,0,s),ze.embedVerticalSeparationPattern(c,s.getHeight()-c,s)}static maybeEmbedPositionAdjustmentPatterns(s,i){if(s.getVersionNumber()<2)return;const a=s.getVersionNumber()-1,c=ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let u=0,f=c.length;u!==f;u++){const p=c[u];if(p>=0)for(let y=0;y!==f;y++){const w=c[y];w>=0&&ze.isEmpty(i.get(w,p))&&ze.embedPositionAdjustmentPattern(w-2,p-2,i)}}}}ze.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ze.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ze.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ze.VERSION_INFO_POLY=7973,ze.TYPE_INFO_POLY=1335,ze.TYPE_INFO_MASK_PATTERN=21522;class t6{constructor(s,i){this.dataBytes=s,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Wt{constructor(){}static calculateMaskPenalty(s){return ln.applyMaskPenaltyRule1(s)+ln.applyMaskPenaltyRule2(s)+ln.applyMaskPenaltyRule3(s)+ln.applyMaskPenaltyRule4(s)}static encode(s,i,a=null){let c=Wt.DEFAULT_BYTE_MODE_ENCODING;const u=a!==null&&a.get(En.CHARACTER_SET)!==void 0;u&&(c=a.get(En.CHARACTER_SET).toString());const f=this.chooseMode(s,c),p=new M;if(f===Ue.BYTE&&(u||Wt.DEFAULT_BYTE_MODE_ENCODING!==c)){const xe=W.getCharacterSetECIByName(c);xe!==void 0&&this.appendECI(xe,p)}this.appendModeInfo(f,p);const y=new M;this.appendBytes(s,f,y,c);let w;if(a!==null&&a.get(En.QR_VERSION)!==void 0){const xe=Number.parseInt(a.get(En.QR_VERSION).toString(),10);w=Ve.getVersionForNumber(xe);const ue=this.calculateBitsNeeded(f,p,y,w);if(!this.willFit(ue,w,i))throw new Ft("Data too big for requested version")}else w=this.recommendVersion(i,f,p,y);const S=new M;S.appendBitArray(p);const T=f===Ue.BYTE?y.getSizeInBytes():s.length;this.appendLengthInfo(T,w,f,S),S.appendBitArray(y);const D=w.getECBlocksForLevel(i),F=w.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(F,S);const V=this.interleaveWithECBytes(S,w.getTotalCodewords(),F,D.getNumBlocks()),H=new Po;H.setECLevel(i),H.setMode(f),H.setVersion(w);const K=w.getDimensionForVersion(),ee=new Ku(K,K),ge=this.chooseMaskPattern(V,i,w,ee);return H.setMaskPattern(ge),ze.buildMatrix(V,i,w,ge,ee),H.setMatrix(ee),H}static recommendVersion(s,i,a,c){const u=this.calculateBitsNeeded(i,a,c,Ve.getVersionForNumber(1)),f=this.chooseVersion(u,s),p=this.calculateBitsNeeded(i,a,c,f);return this.chooseVersion(p,s)}static calculateBitsNeeded(s,i,a,c){return i.getSize()+s.getCharacterCountBits(c)+a.getSize()}static getAlphanumericCode(s){return s<Wt.ALPHANUMERIC_TABLE.length?Wt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,i=null){if(W.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(s))return Ue.KANJI;let a=!1,c=!1;for(let u=0,f=s.length;u<f;++u){const p=s.charAt(u);if(Wt.isDigit(p))a=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)c=!0;else return Ue.BYTE}return c?Ue.ALPHANUMERIC:a?Ue.NUMERIC:Ue.BYTE}static isOnlyDoubleByteKanji(s){let i;try{i=pe.encode(s,W.SJIS)}catch{return!1}const a=i.length;if(a%2!==0)return!1;for(let c=0;c<a;c+=2){const u=i[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(s,i,a,c){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let p=0;p<Po.NUM_MASK_PATTERNS;p++){ze.buildMatrix(s,i,a,p,c);let y=this.calculateMaskPenalty(c);y<u&&(u=y,f=p)}return f}static chooseVersion(s,i){for(let a=1;a<=40;a++){const c=Ve.getVersionForNumber(a);if(Wt.willFit(s,c,i))return c}throw new Ft("Data too big")}static willFit(s,i,a){const c=i.getTotalCodewords(),f=i.getECBlocksForLevel(a).getTotalECCodewords(),p=c-f,y=(s+7)/8;return p>=y}static terminateBits(s,i){const a=s*8;if(i.getSize()>a)throw new Ft("data bits cannot fit in the QR Code"+i.getSize()+" > "+a);for(let f=0;f<4&&i.getSize()<a;++f)i.appendBit(!1);const c=i.getSize()&7;if(c>0)for(let f=c;f<8;f++)i.appendBit(!1);const u=s-i.getSizeInBytes();for(let f=0;f<u;++f)i.appendBits(f&1?17:236,8);if(i.getSize()!==a)throw new Ft("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,i,a,c,u,f){if(c>=a)throw new Ft("Block ID too large");const p=s%a,y=a-p,w=Math.floor(s/a),S=w+1,T=Math.floor(i/a),D=T+1,F=w-T,V=S-D;if(F!==V)throw new Ft("EC bytes mismatch");if(a!==y+p)throw new Ft("RS blocks mismatch");if(s!==(T+F)*y+(D+V)*p)throw new Ft("Total bytes mismatch");c<y?(u[0]=T,f[0]=F):(u[0]=D,f[0]=V)}static interleaveWithECBytes(s,i,a,c){if(s.getSizeInBytes()!==a)throw new Ft("Number of bits and data bytes does not match");let u=0,f=0,p=0;const y=new Array;for(let S=0;S<c;++S){const T=new Int32Array(1),D=new Int32Array(1);Wt.getNumDataBytesAndNumECBytesForBlockID(i,a,c,S,T,D);const F=T[0],V=new Uint8Array(F);s.toBytes(8*u,V,0,F);const H=Wt.generateECBytes(V,D[0]);y.push(new t6(V,H)),f=Math.max(f,F),p=Math.max(p,H.length),u+=T[0]}if(a!==u)throw new Ft("Data bytes does not match offset");const w=new M;for(let S=0;S<f;++S)for(const T of y){const D=T.getDataBytes();S<D.length&&w.appendBits(D[S],8)}for(let S=0;S<p;++S)for(const T of y){const D=T.getErrorCorrectionBytes();S<D.length&&w.appendBits(D[S],8)}if(i!==w.getSizeInBytes())throw new Ft("Interleaving error: "+i+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(s,i){const a=s.length,c=new Int32Array(a+i);for(let f=0;f<a;f++)c[f]=s[f]&255;new qh(qe.QR_CODE_FIELD_256).encode(c,i);const u=new Uint8Array(i);for(let f=0;f<i;f++)u[f]=c[a+f];return u}static appendModeInfo(s,i){i.appendBits(s.getBits(),4)}static appendLengthInfo(s,i,a,c){const u=a.getCharacterCountBits(i);if(s>=1<<u)throw new Ft(s+" is bigger than "+((1<<u)-1));c.appendBits(s,u)}static appendBytes(s,i,a,c){switch(i){case Ue.NUMERIC:Wt.appendNumericBytes(s,a);break;case Ue.ALPHANUMERIC:Wt.appendAlphanumericBytes(s,a);break;case Ue.BYTE:Wt.append8BitBytes(s,a,c);break;case Ue.KANJI:Wt.appendKanjiBytes(s,a);break;default:throw new Ft("Invalid mode: "+i)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const i=Wt.getDigit(s);return i>=0&&i<=9}static appendNumericBytes(s,i){const a=s.length;let c=0;for(;c<a;){const u=Wt.getDigit(s.charAt(c));if(c+2<a){const f=Wt.getDigit(s.charAt(c+1)),p=Wt.getDigit(s.charAt(c+2));i.appendBits(u*100+f*10+p,10),c+=3}else if(c+1<a){const f=Wt.getDigit(s.charAt(c+1));i.appendBits(u*10+f,7),c+=2}else i.appendBits(u,4),c++}}static appendAlphanumericBytes(s,i){const a=s.length;let c=0;for(;c<a;){const u=Wt.getAlphanumericCode(s.charCodeAt(c));if(u===-1)throw new Ft;if(c+1<a){const f=Wt.getAlphanumericCode(s.charCodeAt(c+1));if(f===-1)throw new Ft;i.appendBits(u*45+f,11),c+=2}else i.appendBits(u,6),c++}}static append8BitBytes(s,i,a){let c;try{c=pe.encode(s,a)}catch(u){throw new Ft(u)}for(let u=0,f=c.length;u!==f;u++){const p=c[u];i.appendBits(p,8)}}static appendKanjiBytes(s,i){let a;try{a=pe.encode(s,W.SJIS)}catch(u){throw new Ft(u)}const c=a.length;for(let u=0;u<c;u+=2){const f=a[u]&255,p=a[u+1]&255,y=f<<8&4294967295|p;let w=-1;if(y>=33088&&y<=40956?w=y-33088:y>=57408&&y<=60351&&(w=y-49472),w===-1)throw new Ft("Invalid byte sequence");const S=(w>>8)*192+(w&255);i.appendBits(S,13)}}static appendECI(s,i){i.appendBits(Ue.ECI.getBits(),4),i.appendBits(s.getValue(),8)}}Wt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Wt.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class Do{write(s,i,a,c=null){if(s.length===0)throw new C("Found empty contents");if(i<0||a<0)throw new C("Requested dimensions are too small: "+i+"x"+a);let u=Ut.L,f=Do.QUIET_ZONE_SIZE;c!==null&&(c.get(En.ERROR_CORRECTION)!==void 0&&(u=Ut.fromString(c.get(En.ERROR_CORRECTION).toString())),c.get(En.MARGIN)!==void 0&&(f=Number.parseInt(c.get(En.MARGIN).toString(),10)));const p=Wt.encode(s,u,c);return this.renderResult(p,i,a,f)}writeToDom(s,i,a,c,u=null){typeof s=="string"&&(s=document.querySelector(s));const f=this.write(i,a,c,u);s&&s.appendChild(f)}renderResult(s,i,a,c){const u=s.getMatrix();if(u===null)throw new In;const f=u.getWidth(),p=u.getHeight(),y=f+c*2,w=p+c*2,S=Math.max(i,y),T=Math.max(a,w),D=Math.min(Math.floor(S/y),Math.floor(T/w)),F=Math.floor((S-f*D)/2),V=Math.floor((T-p*D)/2),H=this.createSVGElement(S,T);for(let K=0,ee=V;K<p;K++,ee+=D)for(let ge=0,xe=F;ge<f;ge++,xe+=D)if(u.get(ge,K)===1){const ue=this.createSvgRectElement(xe,ee,D,D);H.appendChild(ue)}return H}createSVGElement(s,i){const a=document.createElementNS(Do.SVG_NS,"svg");return a.setAttributeNS(null,"height",s.toString()),a.setAttributeNS(null,"width",i.toString()),a}createSvgRectElement(s,i,a,c){const u=document.createElementNS(Do.SVG_NS,"rect");return u.setAttributeNS(null,"x",s.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}Do.QUIET_ZONE_SIZE=4,Do.SVG_NS="http://www.w3.org/2000/svg";class Sa{encode(s,i,a,c,u){if(s.length===0)throw new C("Found empty contents");if(i!==Ee.QR_CODE)throw new C("Can only encode QR_CODE, but got "+i);if(a<0||c<0)throw new C(`Requested dimensions are too small: ${a}x${c}`);let f=Ut.L,p=Sa.QUIET_ZONE_SIZE;u!==null&&(u.get(En.ERROR_CORRECTION)!==void 0&&(f=Ut.fromString(u.get(En.ERROR_CORRECTION).toString())),u.get(En.MARGIN)!==void 0&&(p=Number.parseInt(u.get(En.MARGIN).toString(),10)));const y=Wt.encode(s,f,u);return Sa.renderResult(y,a,c,p)}static renderResult(s,i,a,c){const u=s.getMatrix();if(u===null)throw new In;const f=u.getWidth(),p=u.getHeight(),y=f+c*2,w=p+c*2,S=Math.max(i,y),T=Math.max(a,w),D=Math.min(Math.floor(S/y),Math.floor(T/w)),F=Math.floor((S-f*D)/2),V=Math.floor((T-p*D)/2),H=new ie(S,T);for(let K=0,ee=V;K<p;K++,ee+=D)for(let ge=0,xe=F;ge<f;ge++,xe+=D)u.get(ge,K)===1&&H.setRegion(xe,ee,D,D);return H}}Sa.QUIET_ZONE_SIZE=4;class n6{encode(s,i,a,c,u){let f;switch(i){case Ee.QR_CODE:f=new Sa;break;default:throw new C("No encoder available for format "+i)}return f.encode(s,i,a,c,u)}}class Ts extends te{constructor(s,i,a,c,u,f,p,y){if(super(f,p),this.yuvData=s,this.dataWidth=i,this.dataHeight=a,this.left=c,this.top=u,c+f>i||u+p>a)throw new C("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,p)}getRow(s,i){if(s<0||s>=this.getHeight())throw new C("Requested row is outside the image: "+s);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const c=(s+this.top)*this.dataWidth+this.left;return N.arraycopy(this.yuvData,c,i,0,a),i}getMatrix(){const s=this.getWidth(),i=this.getHeight();if(s===this.dataWidth&&i===this.dataHeight)return this.yuvData;const a=s*i,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return N.arraycopy(this.yuvData,u,c,0,a),c;for(let f=0;f<i;f++){const p=f*s;N.arraycopy(this.yuvData,u,c,p,s),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,i,a,c){return new Ts(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+i,a,c,!1)}renderThumbnail(){const s=this.getWidth()/Ts.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Ts.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(s*i),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const p=f*s;for(let y=0;y<s;y++){const w=c[u+y*Ts.THUMBNAIL_SCALE_FACTOR]&255;a[p+y]=4278190080|w*65793}u+=this.dataWidth*Ts.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Ts.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ts.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,i){const a=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<i;c++,u+=this.dataWidth){const f=u+s/2;for(let p=u,y=u+s-1;p<f;p++,y--){const w=a[p];a[p]=a[y],a[y]=w}}}invert(){return new ne(this)}}Ts.THUMBNAIL_SCALE_FACTOR=2;class Yh extends te{constructor(s,i,a,c,u,f,p){if(super(i,a),this.dataWidth=c,this.dataHeight=u,this.left=f,this.top=p,s.BYTES_PER_ELEMENT===4){const y=i*a,w=new Uint8ClampedArray(y);for(let S=0;S<y;S++){const T=s[S],D=T>>16&255,F=T>>7&510,V=T&255;w[S]=(D+F+V)/4&255}this.luminances=w}else this.luminances=s;if(c===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=a),f===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+a>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(s,i){if(s<0||s>=this.getHeight())throw new C("Requested row is outside the image: "+s);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const c=(s+this.top)*this.dataWidth+this.left;return N.arraycopy(this.luminances,c,i,0,a),i}getMatrix(){const s=this.getWidth(),i=this.getHeight();if(s===this.dataWidth&&i===this.dataHeight)return this.luminances;const a=s*i,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return N.arraycopy(this.luminances,u,c,0,a),c;for(let f=0;f<i;f++){const p=f*s;N.arraycopy(this.luminances,u,c,p,s),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,i,a,c){return new Yh(this.luminances,a,c,this.dataWidth,this.dataHeight,this.left+s,this.top+i)}invert(){return new ne(this)}}class lx extends W{static forName(s){return this.getCharacterSetECIByName(s)}}class Qh{}Qh.ISO_8859_1=W.ISO8859_1;class cx{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class ux{static singletonList(s){return[s]}static min(s,i){return s.sort(i)[0]}}class r6{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Aa extends r6{constructor(s,i,a){super(s),this.value=i,this.bitCount=a}appendTo(s,i){s.appendBits(this.value,this.bitCount)}add(s,i){return new Aa(this,s,i)}addBinaryShift(s,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Aa(this,s,i)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+I.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Jh extends Aa{constructor(s,i,a){super(s,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=a}appendTo(s,i){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):a===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(i[this.binaryShiftStart+a],8)}addBinaryShift(s,i){return new Jh(this,s,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function s6(_,s,i){return new Jh(_,s,i)}function rc(_,s,i){return new Aa(_,s,i)}const i6=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Di=0,qu=1,Xr=2,dx=3,Is=4,o6=new Aa(null,0,0),e0=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function a6(_){for(let s of _)A.fill(s,-1);return _[Di][Is]=0,_[qu][Is]=0,_[qu][Di]=28,_[dx][Is]=0,_[Xr][Is]=0,_[Xr][Di]=15,_}const fx=a6(A.createInt32Array(6,6));class Rs{constructor(s,i,a,c){this.token=s,this.mode=i,this.binaryShiftByteCount=a,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,i){let a=this.bitCount,c=this.token;if(s!==this.mode){let f=e0[this.mode][s];c=rc(c,f&65535,f>>16),a+=f>>16}let u=s===Xr?4:5;return c=rc(c,i,u),new Rs(c,s,0,a+u)}shiftAndAppend(s,i){let a=this.token,c=this.mode===Xr?4:5;return a=rc(a,fx[this.mode][s],c),a=rc(a,i,5),new Rs(a,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(s){let i=this.token,a=this.mode,c=this.bitCount;if(this.mode===Is||this.mode===Xr){let p=e0[a][Di];i=rc(i,p&65535,p>>16),c+=p>>16,a=Di}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Rs(i,a,this.binaryShiftByteCount+1,c+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(s+1)),f}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=s6(i,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Rs(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let i=this.bitCount+(e0[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?i+=Rs.calculateBinaryShiftCost(s)-Rs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(i+=10),i<=s.bitCount}toBitArray(s){let i=[];for(let c=this.endBinaryShift(s.length).token;c!==null;c=c.getPrevious())i.unshift(c);let a=new M;for(const c of i)c.appendTo(a,s);return a}toString(){return Y.format("%s bits=%d bytes=%d",i6[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Rs.INITIAL_STATE=new Rs(o6,Di,0,0);function l6(_){const s=Y.getCharCode(" "),i=Y.getCharCode("."),a=Y.getCharCode(",");_[Di][s]=1;const c=Y.getCharCode("Z"),u=Y.getCharCode("A");for(let D=u;D<=c;D++)_[Di][D]=D-u+2;_[qu][s]=1;const f=Y.getCharCode("z"),p=Y.getCharCode("a");for(let D=p;D<=f;D++)_[qu][D]=D-p+2;_[Xr][s]=1;const y=Y.getCharCode("9"),w=Y.getCharCode("0");for(let D=w;D<=y;D++)_[Xr][D]=D-w+2;_[Xr][a]=12,_[Xr][i]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<S.length;D++)_[dx][Y.getCharCode(S[D])]=D;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<T.length;D++)Y.getCharCode(T[D])>0&&(_[Is][Y.getCharCode(T[D])]=D);return _}const t0=l6(A.createInt32Array(5,256));class sc{constructor(s){this.text=s}encode(){const s=Y.getCharCode(" "),i=Y.getCharCode(`
`);let a=ux.singletonList(Rs.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,p=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Y.getCharCode("\r"):f=p===i?2:0;break;case Y.getCharCode("."):f=p===s?3:0;break;case Y.getCharCode(","):f=p===s?4:0;break;case Y.getCharCode(":"):f=p===s?5:0;break;default:f=0}f>0?(a=sc.updateStateListForPair(a,u,f),u++):a=this.updateStateListForChar(a,u)}return ux.min(a,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,i){const a=[];for(let c of s)this.updateStateForChar(c,i,a);return sc.simplifyStates(a)}updateStateForChar(s,i,a){let c=this.text[i]&255,u=t0[s.getMode()][c]>0,f=null;for(let p=0;p<=Is;p++){let y=t0[p][c];if(y>0){if(f==null&&(f=s.endBinaryShift(i)),!u||p===s.getMode()||p===Xr){const w=f.latchAndAppend(p,y);a.push(w)}if(!u&&fx[s.getMode()][p]>=0){const w=f.shiftAndAppend(p,y);a.push(w)}}}if(s.getBinaryShiftByteCount()>0||t0[s.getMode()][c]===0){let p=s.addBinaryShiftChar(i);a.push(p)}}static updateStateListForPair(s,i,a){const c=[];for(let u of s)this.updateStateForPair(u,i,a,c);return this.simplifyStates(c)}static updateStateForPair(s,i,a,c){let u=s.endBinaryShift(i);if(c.push(u.latchAndAppend(Is,a)),s.getMode()!==Is&&c.push(u.shiftAndAppend(Is,a)),a===3||a===4){let f=u.latchAndAppend(Xr,16-a).latchAndAppend(Xr,1);c.push(f)}if(s.getBinaryShiftByteCount()>0){let f=s.addBinaryShiftChar(i).addBinaryShiftChar(i+1);c.push(f)}}static simplifyStates(s){let i=[];for(const a of s){let c=!0;for(const u of i){if(u.isBetterThanOrEqualTo(a)){c=!1;break}a.isBetterThanOrEqualTo(u)&&(i=i.filter(f=>f!==u))}c&&i.push(a)}return i}}class St{constructor(){}static encodeBytes(s){return St.encode(s,St.DEFAULT_EC_PERCENT,St.DEFAULT_AZTEC_LAYERS)}static encode(s,i,a){let c=new sc(s).encode(),u=I.truncDivision(c.getSize()*i,100)+11,f=c.getSize()+u,p,y,w,S,T;if(a!==St.DEFAULT_AZTEC_LAYERS){if(p=a<0,y=Math.abs(a),y>(p?St.MAX_NB_BITS_COMPACT:St.MAX_NB_BITS))throw new C(Y.format("Illegal value %s for layers",a));w=St.totalBitsInLayer(y,p),S=St.WORD_SIZE[y];let ue=w-w%S;if(T=St.stuffBits(c,S),T.getSize()+u>ue)throw new C("Data to large for user specified layer");if(p&&T.getSize()>S*64)throw new C("Data to large for user specified layer")}else{S=0,T=null;for(let ue=0;;ue++){if(ue>St.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(p=ue<=3,y=p?ue+1:ue,w=St.totalBitsInLayer(y,p),f>w)continue;(T==null||S!==St.WORD_SIZE[y])&&(S=St.WORD_SIZE[y],T=St.stuffBits(c,S));let pt=w-w%S;if(!(p&&T.getSize()>S*64)&&T.getSize()+u<=pt)break}}let D=St.generateCheckWords(T,w,S),F=T.getSize()/S,V=St.generateModeMessage(p,y,F),H=(p?11:14)+y*4,K=new Int32Array(H),ee;if(p){ee=H;for(let ue=0;ue<K.length;ue++)K[ue]=ue}else{ee=H+1+2*I.truncDivision(I.truncDivision(H,2)-1,15);let ue=I.truncDivision(H,2),pt=I.truncDivision(ee,2);for(let et=0;et<ue;et++){let wr=et+I.truncDivision(et,15);K[ue-et-1]=pt-wr-1,K[ue+et]=pt+wr+1}}let ge=new ie(ee);for(let ue=0,pt=0;ue<y;ue++){let et=(y-ue)*4+(p?9:12);for(let wr=0;wr<et;wr++){let os=wr*2;for(let Cr=0;Cr<2;Cr++)D.get(pt+os+Cr)&&ge.set(K[ue*2+Cr],K[ue*2+wr]),D.get(pt+et*2+os+Cr)&&ge.set(K[ue*2+wr],K[H-1-ue*2-Cr]),D.get(pt+et*4+os+Cr)&&ge.set(K[H-1-ue*2-Cr],K[H-1-ue*2-wr]),D.get(pt+et*6+os+Cr)&&ge.set(K[H-1-ue*2-wr],K[ue*2+Cr])}pt+=et*8}if(St.drawModeMessage(ge,p,ee,V),p)St.drawBullsEye(ge,I.truncDivision(ee,2),5);else{St.drawBullsEye(ge,I.truncDivision(ee,2),7);for(let ue=0,pt=0;ue<I.truncDivision(H,2)-1;ue+=15,pt+=16)for(let et=I.truncDivision(ee,2)&1;et<ee;et+=2)ge.set(I.truncDivision(ee,2)-pt,et),ge.set(I.truncDivision(ee,2)+pt,et),ge.set(et,I.truncDivision(ee,2)-pt),ge.set(et,I.truncDivision(ee,2)+pt)}let xe=new cx;return xe.setCompact(p),xe.setSize(ee),xe.setLayers(y),xe.setCodeWords(F),xe.setMatrix(ge),xe}static drawBullsEye(s,i,a){for(let c=0;c<a;c+=2)for(let u=i-c;u<=i+c;u++)s.set(u,i-c),s.set(u,i+c),s.set(i-c,u),s.set(i+c,u);s.set(i-a,i-a),s.set(i-a+1,i-a),s.set(i-a,i-a+1),s.set(i+a,i-a),s.set(i+a,i-a+1),s.set(i+a,i+a-1)}static generateModeMessage(s,i,a){let c=new M;return s?(c.appendBits(i-1,2),c.appendBits(a-1,6),c=St.generateCheckWords(c,28,4)):(c.appendBits(i-1,5),c.appendBits(a-1,11),c=St.generateCheckWords(c,40,4)),c}static drawModeMessage(s,i,a,c){let u=I.truncDivision(a,2);if(i)for(let f=0;f<7;f++){let p=u-3+f;c.get(f)&&s.set(p,u-5),c.get(f+7)&&s.set(u+5,p),c.get(20-f)&&s.set(p,u+5),c.get(27-f)&&s.set(u-5,p)}else for(let f=0;f<10;f++){let p=u-5+f+I.truncDivision(f,5);c.get(f)&&s.set(p,u-7),c.get(f+10)&&s.set(u+7,p),c.get(29-f)&&s.set(p,u+7),c.get(39-f)&&s.set(u-7,p)}}static generateCheckWords(s,i,a){let c=s.getSize()/a,u=new qh(St.getGF(a)),f=I.truncDivision(i,a),p=St.bitsToWords(s,a,f);u.encode(p,f-c);let y=i%a,w=new M;w.appendBits(0,y);for(const S of Array.from(p))w.appendBits(S,a);return w}static bitsToWords(s,i,a){let c=new Int32Array(a),u,f;for(u=0,f=s.getSize()/i;u<f;u++){let p=0;for(let y=0;y<i;y++)p|=s.get(u*i+y)?1<<i-y-1:0;c[u]=p}return c}static getGF(s){switch(s){case 4:return qe.AZTEC_PARAM;case 6:return qe.AZTEC_DATA_6;case 8:return qe.AZTEC_DATA_8;case 10:return qe.AZTEC_DATA_10;case 12:return qe.AZTEC_DATA_12;default:throw new C("Unsupported word size "+s)}}static stuffBits(s,i){let a=new M,c=s.getSize(),u=(1<<i)-2;for(let f=0;f<c;f+=i){let p=0;for(let y=0;y<i;y++)(f+y>=c||s.get(f+y))&&(p|=1<<i-1-y);(p&u)===u?(a.appendBits(p&u,i),f--):p&u?a.appendBits(p,i):(a.appendBits(p|1,i),f--)}return a}static totalBitsInLayer(s,i){return((i?88:112)+16*s)*s}}St.DEFAULT_EC_PERCENT=33,St.DEFAULT_AZTEC_LAYERS=0,St.MAX_NB_BITS=32,St.MAX_NB_BITS_COMPACT=4,St.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Yu{encode(s,i,a,c){return this.encodeWithHints(s,i,a,c,null)}encodeWithHints(s,i,a,c,u){let f=Qh.ISO_8859_1,p=St.DEFAULT_EC_PERCENT,y=St.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(En.CHARACTER_SET)&&(f=lx.forName(u.get(En.CHARACTER_SET).toString())),u.has(En.ERROR_CORRECTION)&&(p=I.parseInt(u.get(En.ERROR_CORRECTION).toString())),u.has(En.AZTEC_LAYERS)&&(y=I.parseInt(u.get(En.AZTEC_LAYERS).toString()))),Yu.encodeLayers(s,i,a,c,f,p,y)}static encodeLayers(s,i,a,c,u,f,p){if(i!==Ee.AZTEC)throw new C("Can only encode AZTEC, but got "+i);let y=St.encode(Y.getBytes(s,u),f,p);return Yu.renderResult(y,a,c)}static renderResult(s,i,a){let c=s.getMatrix();if(c==null)throw new In;let u=c.getWidth(),f=c.getHeight(),p=Math.max(i,u),y=Math.max(a,f),w=Math.min(p/u,y/f),S=(p-u*w)/2,T=(y-f*w)/2,D=new ie(p,y);for(let F=0,V=T;F<f;F++,V+=w)for(let H=0,K=S;H<u;H++,K+=w)c.get(H,F)&&D.setRegion(K,V,w,w);return D}}n.AbstractExpandedDecoder=Vh,n.ArgumentException=v,n.ArithmeticException=mt,n.AztecCode=cx,n.AztecCodeReader=fn,n.AztecCodeWriter=Yu,n.AztecDecoder=Ot,n.AztecDetector=Jt,n.AztecDetectorResult=Q,n.AztecEncoder=St,n.AztecHighLevelEncoder=sc,n.AztecPoint=Xe,n.BarcodeFormat=Ee,n.Binarizer=k,n.BinaryBitmap=b,n.BitArray=M,n.BitMatrix=ie,n.BitSource=Hh,n.BrowserAztecCodeReader=jh,n.BrowserBarcodeReader=B8,n.BrowserCodeReader=Nt,n.BrowserDatamatrixCodeReader=U8,n.BrowserMultiFormatReader=Q8,n.BrowserPDF417Reader=J8,n.BrowserQRCodeReader=e6,n.BrowserQRCodeSvgWriter=Do,n.CharacterSetECI=W,n.ChecksumException=O,n.Code128Reader=Ce,n.Code39Reader=hn,n.DataMatrixDecodedBitStreamParser=Ii,n.DataMatrixReader=Ri,n.DecodeHintType=$,n.DecoderResult=st,n.DefaultGridSampler=ye,n.DetectorResult=U,n.EAN13Reader=To,n.EncodeHintType=En,n.Exception=g,n.FormatException=B,n.GenericGF=qe,n.GenericGFPoly=Ke,n.GlobalHistogramBinarizer=fe,n.GridSampler=Ne,n.GridSamplerInstance=_e,n.HTMLCanvasElementLuminanceSource=we,n.HybridBinarizer=de,n.ITFReader=Pt,n.IllegalArgumentException=C,n.IllegalStateException=In,n.InvertedLuminanceSource=ne,n.LuminanceSource=te,n.MathUtils=it,n.MultiFormatOneDReader=Ea,n.MultiFormatReader=ax,n.MultiFormatWriter=n6,n.NotFoundException=X,n.OneDReader=Zt,n.PDF417DecodedBitStreamParser=J,n.PDF417DecoderErrorCorrection=tx,n.PDF417Reader=Ln,n.PDF417ResultMetadata=rx,n.PerspectiveTransform=ve,n.PlanarYUVLuminanceSource=Ts,n.QRCodeByteMatrix=Ku,n.QRCodeDataMask=Gr,n.QRCodeDecodedBitStreamParser=en,n.QRCodeDecoderErrorCorrectionLevel=Ut,n.QRCodeDecoderFormatInformation=Zn,n.QRCodeEncoder=Wt,n.QRCodeEncoderQRCode=Po,n.QRCodeMaskUtil=ln,n.QRCodeMatrixUtil=ze,n.QRCodeMode=Ue,n.QRCodeReader=Oi,n.QRCodeVersion=Ve,n.QRCodeWriter=Sa,n.RGBLuminanceSource=Yh,n.RSS14Reader=an,n.RSSExpandedReader=le,n.ReaderException=Zu,n.ReedSolomonDecoder=gr,n.ReedSolomonEncoder=qh,n.ReedSolomonException=vn,n.Result=re,n.ResultMetadataType=Le,n.ResultPoint=ke,n.StringUtils=Y,n.UnsupportedOperationException=ae,n.VideoInputDevice=Me,n.WhiteRectangleDetector=se,n.WriterException=Ft,n.ZXingArrays=A,n.ZXingCharset=lx,n.ZXingInteger=I,n.ZXingStandardCharsets=Qh,n.ZXingStringBuilder=oe,n.ZXingStringEncoding=pe,n.ZXingSystem=N,n.createAbstractExpandedDecoder=Jg,Object.defineProperty(n,"__esModule",{value:!0})})})(km,km.exports);var $t=km.exports;const $L=zm($t),XL=WE({__proto__:null,default:$L},[$t]);var V2=function(){function e(t,n,r){if(this.formatMap=new Map([[Pe.QR_CODE,$t.BarcodeFormat.QR_CODE],[Pe.AZTEC,$t.BarcodeFormat.AZTEC],[Pe.CODABAR,$t.BarcodeFormat.CODABAR],[Pe.CODE_39,$t.BarcodeFormat.CODE_39],[Pe.CODE_93,$t.BarcodeFormat.CODE_93],[Pe.CODE_128,$t.BarcodeFormat.CODE_128],[Pe.DATA_MATRIX,$t.BarcodeFormat.DATA_MATRIX],[Pe.MAXICODE,$t.BarcodeFormat.MAXICODE],[Pe.ITF,$t.BarcodeFormat.ITF],[Pe.EAN_13,$t.BarcodeFormat.EAN_13],[Pe.EAN_8,$t.BarcodeFormat.EAN_8],[Pe.PDF_417,$t.BarcodeFormat.PDF_417],[Pe.RSS_14,$t.BarcodeFormat.RSS_14],[Pe.RSS_EXPANDED,$t.BarcodeFormat.RSS_EXPANDED],[Pe.UPC_A,$t.BarcodeFormat.UPC_A],[Pe.UPC_E,$t.BarcodeFormat.UPC_E],[Pe.UPC_EAN_EXTENSION,$t.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!XL)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var o=this.createZXingFormats(t),l=new Map;l.set($t.DecodeHintType.POSSIBLE_FORMATS,o),l.set($t.DecodeHintType.TRY_HARDER,!1),this.hints=l}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,o){try{r(n.decode(t))}catch(l){o(l)}})},e.prototype.decode=function(t){var n=new $t.MultiFormatReader(this.verbose,this.hints),r=new $t.HTMLCanvasElementLuminanceSource(t),o=new $t.BinaryBitmap(new $t.HybridBinarizer(r)),l=n.decode(o);return{text:l.text,format:YT.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var l=o[r];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),ZL=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(v){try{g(r.next(v))}catch(C){d(C)}}function x(v){try{g(r.throw(v))}catch(C){d(C)}}function g(v){v.done?l(v.value):o(v.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},KL=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(v){return x([g,v])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},U2=function(){function e(t,n,r){if(this.formatMap=new Map([[Pe.QR_CODE,"qr_code"],[Pe.AZTEC,"aztec"],[Pe.CODABAR,"codabar"],[Pe.CODE_39,"code_39"],[Pe.CODE_93,"code_93"],[Pe.CODE_128,"code_128"],[Pe.DATA_MATRIX,"data_matrix"],[Pe.ITF,"itf"],[Pe.EAN_13,"ean_13"],[Pe.EAN_8,"ean_8"],[Pe.PDF_417,"pdf417"],[Pe.UPC_A,"upc_a"],[Pe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var o=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return ZL(this,void 0,void 0,function(){var n,r;return KL(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:YT.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,o=0,l=t;o<l.length;o++){var d=l[o],m=d.boundingBox.width*d.boundingBox.height;m>r&&(r=m,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var l=o[r];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),z2=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(v){try{g(r.next(v))}catch(C){d(C)}}function x(v){try{g(r.throw(v))}catch(C){d(C)}}function g(v){v.done?l(v.value):o(v.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},W2=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(v){return x([g,v])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},qL=function(){function e(t,n,r,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&U2.isSupported()?(this.primaryDecoder=new U2(t,r,o),this.secondaryDecoder=new V2(t,r,o)):this.primaryDecoder=new V2(t,r,o)}return e.prototype.decodeAsync=function(t){return z2(this,void 0,void 0,function(){var n;return W2(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return z2(this,void 0,void 0,function(){var n,r;return W2(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,o.sent()];case 3:if(r=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var o=r[n];t+=o}var l=t/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Vg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uf=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(v){try{g(r.next(v))}catch(C){d(C)}}function x(v){try{g(r.throw(v))}catch(C){d(C)}}function g(v){v.done?l(v.value):o(v.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},zf=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(v){return x([g,v])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},JT=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),YL=function(e){Vg(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var o={advanced:[r]};return this.track.applyConstraints(o)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(JT),QL=function(e){Vg(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(YL),JL=function(e){Vg(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(JT),eF=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new QL(this.track)},e.prototype.torchFeature=function(){return new JL(this.track)},e}(),tF=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,o=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,o),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,o){return Uf(this,void 0,void 0,function(){var l,d;return zf(this,function(m){switch(m.label){case 0:return l=new e(t,n,o),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:m.sent(),m.label=2;case 2:return l.setupSurface(),[2,l]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Uf(this,void 0,void 0,function(){return zf(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var o=t.mediaStream.getVideoTracks(),l=o.length,d=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++d,d>=l&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new eF(this.getFirstTrackOrFail())},e}(),nF=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Uf(this,void 0,void 0,function(){return zf(this,function(o){return[2,tF.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Uf(this,void 0,void 0,function(){var n,r;return zf(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=o.sent(),[2,new e(r)]}})})},e}(),H2=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(v){try{g(r.next(v))}catch(C){d(C)}}function x(v){try{g(r.throw(v))}catch(C){d(C)}}function g(v){v.done?l(v.value):o(v.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},G2=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(v){return x([g,v])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},rF=function(){function e(){}return e.failIfNotSupported=function(){return H2(this,void 0,void 0,function(){return G2(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return H2(this,void 0,void 0,function(){return G2(this,function(n){return[2,nF.create(t)]})})},e}(),sF=function(e,t,n,r){function o(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function m(v){try{g(r.next(v))}catch(C){d(C)}}function x(v){try{g(r.throw(v))}catch(C){d(C)}}function g(v){v.done?l(v.value):o(v.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},iF=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(v){return x([g,v])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},oF=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Xa.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Xa.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return sF(this,void 0,void 0,function(){var t,n,r,o,l,d,m;return iF(this,function(x){switch(x.label){case 0:return t=function(g){for(var v=g.getVideoTracks(),C=0,b=v;C<b.length;C++){var O=b[C];O.enabled=!1,O.stop(),g.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=x.sent(),o=[],l=0,d=r;l<d.length;l++)m=d[l],m.kind==="videoinput"&&o.push({id:m.deviceId,label:m.label});return t(n),[2,o]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(l){for(var d=[],m=0,x=l;m<x.length;m++){var g=x[m];g.kind==="video"&&d.push({id:g.id,label:g.label})}t(d)},o=MediaStreamTrack;o.getSources(r)})},e}(),un;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(un||(un={}));var aF=function(){function e(){this.state=un.NOT_STARTED,this.onGoingTransactionNewState=un.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===un.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=un.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===un.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=un.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==un.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case un.UNKNOWN:throw"Transition from unknown is not allowed";case un.NOT_STARTED:this.failIfNewStateIs(t,[un.PAUSED]);break;case un.SCANNING:break;case un.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,o=n;r<o.length;r++){var l=o[r];if(t===l)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),lF=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===un.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==un.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===un.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===un.PAUSED},e}(),cF=function(){function e(){}return e.create=function(){return new lF(new aF)},e}(),uF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rr=function(e){uF(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(WL),dF=function(){function e(t,n){this.logger=n,this.fps=Rr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Rr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?QT.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ei(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),fF=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new GL(this.verbose),this.qrcode=new qL(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=cF.create()}return e.prototype.start=function(t,n,r,o){var l=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;o?d=o:d=this.verbose?this.logger.log:function(){};var m=dF.create(n,this.logger);this.clearElement();var x=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=x,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:Rr.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var C=this,b=this.stateManagerProxy.startTransition(un.SCANNING);return new Promise(function(O,k){var N=g?m.videoConstraints:C.createVideoConstraints(t);if(!N){b.cancel(),k("videoConstraints should be defined");return}var P={};(!g||m.aspectRatio)&&(P.aspectRatio=m.aspectRatio);var R={onRenderSurfaceReady:function(A,I){C.setupUi(A,I,m),C.isScanning=!0,C.foreverScan(m,r,d)}};rF.failIfNotSupported().then(function(A){A.create(N).then(function(I){return I.render(l.element,P,R).then(function(M){C.renderedCamera=M,b.execute(),O(null)}).catch(function(M){b.cancel(),k(M)})}).catch(function(I){b.cancel(),k(Xa.errorGettingUserMedia(I))})}).catch(function(A){b.cancel(),k(Xa.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(un.PAUSED),this.showPausedState(),(ei(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(un.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(un.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var l=document.getElementById(Rr.SHADED_REGION_ELEMENT_ID);l&&t.element.removeChild(l)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),r(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ei(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,l){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var m=d.width,x=d.height,g=document.getElementById(r.elementId),v=g.clientWidth?g.clientWidth:Rr.DEFAULT_WIDTH,C=Math.max(g.clientHeight?g.clientHeight:x,Rr.FILE_SCAN_MIN_HEIGHT),b=r.computeCanvasDrawConfig(m,x,v,C);if(n){var O=r.createCanvasElement(v,C,"qr-canvas-visible");O.style.display="inline-block",g.appendChild(O);var k=O.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=v,k.canvas.height=C,k.drawImage(d,0,0,m,x,b.x,b.y,b.width,b.height)}var N=Rr.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(d.width,b.width),R=Math.max(d.height,b.height),A=P+2*N,I=R+2*N,M=r.createCanvasElement(A,I);g.appendChild(M);var j=M.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=A,j.canvas.height=I,j.drawImage(d,0,0,m,x,N,N,P,R);try{r.qrcode.decodeRobustlyAsync(M).then(function($){o(B2.createFromQrcodeResult($))}).catch(l)}catch($){l("QR code parse error, error = ".concat($))}},d.onerror=l,d.onabort=l,d.onstalled=l,d.onsuspend=l,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return oF.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!QT.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Pe.QR_CODE,Pe.AZTEC,Pe.CODABAR,Pe.CODE_39,Pe.CODE_93,Pe.CODE_128,Pe.DATA_MATRIX,Pe.MAXICODE,Pe.ITF,Pe.EAN_13,Pe.EAN_8,Pe.PDF_417,Pe.RSS_14,Pe.RSS_EXPANDED,Pe.UPC_A,Pe.UPC_E,Pe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],o=0,l=t.formatsToSupport;o<l.length;o++){var d=l[o];zL(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ei(t))return!0;if(!ei(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ei(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ei(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var o=this,l=r.qrbox;this.validateQrboxConfig(l);var d=this.toQrdimensions(t,n,l),m=function(g){if(g<Rr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Rr.MIN_QR_BOX_SIZE,"px.")},x=function(g){return g>t&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};m(d.width),m(d.height),d.width=x(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var o=ei(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(o);var l=this.toQrdimensions(t,n,o);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&l.height<=n,m={x:0,y:0,width:t,height:n},x=d?this.getShadedRegionBounds(t,n,l):m,g=this.createCanvasElement(x.width,x.height),v={willReadFrequently:!0},C=g.getContext("2d",v);C.canvas.width=x.width,C.canvas.height=x.height,this.element.append(g),d&&this.possiblyInsertShadingElement(this.element,t,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=C,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Xa.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return t(o.text,B2.createFromQrcodeResult(o)),r.possiblyUpdateShaders(!0),!0}).catch(function(o){r.possiblyUpdateShaders(!1);var l=Xa.codeParseError(o);return n(l,HL.createFrom(l)),!1})},e.prototype.foreverScan=function(t,n,r){var o=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),d=l.videoWidth/l.clientWidth,m=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*d,g=this.qrRegion.height*m,v=this.qrRegion.x*d,C=this.qrRegion.y*m;this.context.drawImage(l,v,C,x,g,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(t,n,r)},o.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(O){!O&&t.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,r).finally(function(){b()})):b()}).catch(function(O){o.logger.logError("Error happend while scanning context",O),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",o={user:!0,environment:!0},l="exact",d=function(k){if(k in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var g=t.facingMode;if(typeof g=="string"){if(d(g))return{facingMode:g}}else if(typeof g=="object")if(l in g){if(d(g["".concat(l)]))return{facingMode:{exact:g["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var v=typeof g;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(l in C)return{deviceId:{exact:C["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var b=typeof C;throw"Invalid type of 'deviceId' = ".concat(b)}}}var O=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},e.prototype.computeCanvasDrawConfig=function(t,n,r,o){if(t<=r&&n<=o){var l=(r-t)/2,d=(o-n)/2;return{x:l,y:d,width:t,height:n}}else{var m=t,x=n;return t>r&&(n=r/t*n,t=r),n>o&&(t=o/n*t,n=o),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,o)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Rr.BORDER_SHADER_MATCH_COLOR:Rr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var o=t,l=n,d=document.createElement("canvas");return d.style.width="".concat(o,"px"),d.style.height="".concat(l,"px"),d.style.display="none",d.id=ei(r)?"qr-canvas":r,d},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,o){if(!(n-o.width<1||r-o.height<1)){var l=document.createElement("div");l.style.position="absolute";var d=(n-o.width)/2,m=(r-o.height)/2;if(l.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(Rr.SHADED_REGION_ELEMENT_ID),n-o.width<11||r-o.height<11)this.hasBorderShaders=!1;else{var x=5,g=40;this.insertShaderBorders(l,g,x,-x,null,0,!0),this.insertShaderBorders(l,g,x,-x,null,0,!1),this.insertShaderBorders(l,g,x,null,-x,0,!0),this.insertShaderBorders(l,g,x,null,-x,0,!1),this.insertShaderBorders(l,x,g+x,-x,null,-x,!0),this.insertShaderBorders(l,x,g+x,null,-x,-x,!0),this.insertShaderBorders(l,x,g+x,-x,null,-x,!1),this.insertShaderBorders(l,x,g+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(l)}},e.prototype.insertShaderBorders=function(t,n,r,o,l,d,m){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=Rr.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(r,"px"),o!==null&&(x.style.top="".concat(o,"px")),l!==null&&(x.style.bottom="".concat(l,"px")),m?x.style.left="".concat(d,"px"):x.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),$2;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})($2||($2={}));function hF(){const[e,t]=E.useState("scanning"),[n,r]=E.useState(""),[o,l]=E.useState(!1),d=E.useRef(null),m=E.useRef(""),x=E.useRef(null),[g,v]=E.useState(!1),[C]=zr();E.useEffect(()=>(C==="/verificar"?b():O(),()=>{x.current&&clearTimeout(x.current),O()}),[C]);const b=async()=>{if(d.current)try{if(d.current.getState()===2){console.log("Scanner already running");return}}catch{console.log("Cleaning up previous scanner instance")}try{const P=new fF("qr-reader");d.current=P;const R={fps:10,qrbox:{width:250,height:250}};await P.start({facingMode:"environment"},R,k,N),v(!0),console.log("Scanner started successfully")}catch(P){console.error("Error starting scanner:",P),t("error"),r("Erro ao acessar cmera"),v(!1)}},O=async()=>{if(d.current)try{const P=d.current;P.getState()===2&&(console.log("Stopping scanner..."),await P.stop(),console.log("Scanner stopped")),await P.clear(),console.log("Scanner cleared")}catch(P){console.warn("Error during scanner cleanup:",P)}finally{d.current=null,v(!1)}},k=async P=>{if(o||m.current===P)return;l(!0),m.current=P;try{const I=await(await Yt("POST","/api/tickets/verify-ticket/",{qr_code_data:P})).json();I.success?(t("success"),r(` ${I.userName||"Verificado"}`)):(t("error"),r(I.message||"Erro"))}catch(A){t("error"),r(A instanceof Error?A.message:"QR Code invlido")}const R=e==="error"?1500:800;x.current=setTimeout(()=>{t("scanning"),r(""),l(!1),setTimeout(()=>{m.current=""},3e3)},R)},N=P=>{};return C!=="/verificar"?null:h.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:h.jsxs("div",{className:"w-full max-w-sm",children:[h.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Verificar Ingresso"}),h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 relative min-h-[400px]",children:[h.jsx("div",{id:"qr-reader",className:"w-full",style:{display:e==="scanning"?"block":"none"}}),e==="scanning"&&!g&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Iniciando cmera..."})]})}),e==="success"&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-green-50/95",children:h.jsxs("div",{className:"text-center",children:[h.jsx(ph,{className:"h-16 w-16 text-green-500 mx-auto mb-2"}),h.jsx("h2",{className:"text-xl font-bold text-green-700",children:n})]})}),e==="error"&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-50/95",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Zp,{className:"h-16 w-16 text-red-500 mx-auto mb-2"}),h.jsx("p",{className:"text-red-600 font-semibold",children:n})]})}),o&&e==="scanning"&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/90",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]}),h.jsx("p",{className:"text-center text-gray-600 mt-4 text-sm",children:"Aponte a cmera para o QR Code do ingresso"})]})})}function mF(){const[e,t]=E.useState(""),{user:n}=Ai(),{toast:r}=mr(),o=async()=>{if(!e){r({title:"Erro",description:"Por favor, insira o ID do usurio",variant:"destructive"});return}try{const l=await Yt("POST",`/api/make-admin/${e}`);r({title:"Sucesso!",description:`Usurio ${l.user.name} agora  administrador`}),t("")}catch{r({title:"Erro",description:"Erro ao tornar usurio administrador",variant:"destructive"})}};return h.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:h.jsxs(It,{children:[h.jsxs(zn,{children:[h.jsx(Wn,{children:"Teste de Administrador"}),h.jsx(TN,{children:"Use esta pgina para tornar um usurio administrador (apenas desenvolvimento)"})]}),h.jsxs(Rt,{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[h.jsx("p",{className:"text-sm font-medium",children:"Seu ID de usurio:"}),h.jsx("code",{className:"text-xs bg-white px-2 py-1 rounded mt-1 block",children:n==null?void 0:n.id}),h.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Status: ",n!=null&&n.is_staff?" Administrador":" Usurio normal"]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Tornar usurio admin (insira o ID):"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(ut,{placeholder:"ID do usurio",value:e,onChange:l=>t(l.target.value),"data-testid":"input-user-id"}),h.jsx(Qe,{onClick:o,"data-testid":"button-make-admin",children:"Tornar Admin"})]})]}),h.jsxs("div",{className:"text-xs text-gray-500 space-y-1 pt-4 border-t",children:[h.jsx("p",{children:" Esta pgina est disponvel apenas em desenvolvimento"}),h.jsx("p",{children:"Para testar: copie seu ID acima e cole no campo para se tornar admin"}),h.jsx("p",{children:"Depois faa logout e login novamente para ver as funcionalidades de admin"})]})]})]})})}const pF=M7,eI=E.createContext({}),Li=({...e})=>h.jsx(eI.Provider,{value:{name:e.name},children:h.jsx(B7,{...e})}),Rh=()=>{const e=E.useContext(eI),t=E.useContext(tI),{getFieldState:n,formState:r}=Th(),o=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:l}=t;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...o}},tI=E.createContext({}),ti=E.forwardRef(({className:e,...t},n)=>{const r=E.useId();return h.jsx(tI.Provider,{value:{id:r},children:h.jsx("div",{ref:n,className:je("space-y-2",e),...t})})});ti.displayName="FormItem";const ni=E.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:o}=Rh();return h.jsx(vt,{ref:n,className:je(r&&"text-destructive",e),htmlFor:o,...t})});ni.displayName="FormLabel";const ri=E.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:o,formMessageId:l}=Rh();return h.jsx(OS,{ref:t,id:r,"aria-describedby":n?`${o} ${l}`:`${o}`,"aria-invalid":!!n,...e})});ri.displayName="FormControl";const gF=E.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Rh();return h.jsx("p",{ref:n,id:r,className:je("text-sm text-muted-foreground",e),...t})});gF.displayName="FormDescription";const si=E.forwardRef(({className:e,children:t,...n},r)=>{const{error:o,formMessageId:l}=Rh(),d=o?String((o==null?void 0:o.message)??""):t;return d?h.jsx("p",{ref:r,id:l,className:je("text-sm font-medium text-destructive",e),...n,children:d}):null});si.displayName="FormMessage";const xF=Ye.object({name:Ye.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ye.string().email("Email invlido"),emailConfirm:Ye.string().email("Email invlido"),cpf:Ye.string().regex(/^\d{3}\.\d{3}\.\d{3}-\d{2}$/,"CPF deve estar no formato 000.000.000-00"),partnerCompany:Ye.string().min(2,"Empresa parceira  obrigatria"),birthDate:Ye.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Data deve estar no formato AAAA-MM-DD"),address:Ye.string().min(10,"Endereo deve ter pelo menos 10 caracteres"),phone:Ye.string().regex(/^\(\d{2}\)\s\d{4,5}-\d{4}$/,"Telefone deve estar no formato (00) 00000-0000")}).refine(e=>e.email===e.emailConfirm,{message:"Os emails no coincidem",path:["emailConfirm"]});function yF(){var I;const[,e]=zr(),t=_S(),n=new URLSearchParams(t).get("code"),[r,o]=E.useState(!1),[l,d]=E.useState(""),{isAuthenticated:m,isLoading:x,user:g}=Ai(),{toast:v}=mr(),C=ca({resolver:Ig(xF),defaultValues:{name:"",email:"",emailConfirm:"",cpf:"",partnerCompany:"",birthDate:"",address:"",phone:""}});E.useEffect(()=>{if(g&&(C.setValue("email",g.email),C.setValue("emailConfirm",g.email),g.name&&C.setValue("name",g.name),g.cpf&&C.setValue("cpf",g.cpf),g.phone&&C.setValue("phone",g.phone),g.address&&C.setValue("address",g.address),g.birthDate)){const M=new Date(g.birthDate),j=`${M.getFullYear()}-${String(M.getMonth()+1).padStart(2,"0")}-${String(M.getDate()).padStart(2,"0")}`;C.setValue("birthDate",j)}},[g,C]),E.useEffect(()=>{!x&&!m&&n&&(v({title:"Login necessrio",description:"Faa login para resgatar sua cortesia",variant:"destructive"}),localStorage.setItem("courtesyCode",n),e("/login"))},[x,m,n,e,v]),E.useEffect(()=>{if(m&&!n){const M=localStorage.getItem("courtesyCode");M&&(localStorage.removeItem("courtesyCode"),e(`/cortesia?code=${M}`))}},[m,n,e]);const{data:b,isLoading:O,error:k}=wi({queryKey:["/api/orders/courtesy/links/",n],queryFn:async()=>{if(!n)return null;const M=await Yt("GET",`/api/orders/courtesy/links/${n}/`);if(!M.ok){const j=await M.json();throw new Error(j.message||"Link invlido")}return M.json()},enabled:!!n&&m}),N=cr({mutationFn:async M=>await Yt("POST","/api/orders/courtesy/redeem/",M),onSuccess:()=>{o(!0),v({title:"Cortesia resgatada com sucesso!",description:"Seu ingresso foi enviado para o email cadastrado."})},onError:M=>{v({title:"Erro ao resgatar cortesia",description:M.message,variant:"destructive"})}}),P=M=>{const j=M.replace(/\D/g,"");return j.length<=3?j:j.length<=6?`${j.slice(0,3)}.${j.slice(3)}`:j.length<=9?`${j.slice(0,3)}.${j.slice(3,6)}.${j.slice(6)}`:`${j.slice(0,3)}.${j.slice(3,6)}.${j.slice(6,9)}-${j.slice(9,11)}`},R=M=>{const j=M.replace(/\D/g,"");return j.length<=2?j:j.length<=6?`(${j.slice(0,2)}) ${j.slice(2)}`:j.length<=10?`(${j.slice(0,2)}) ${j.slice(2,6)}-${j.slice(6)}`:`(${j.slice(0,2)}) ${j.slice(2,7)}-${j.slice(7,11)}`},A=M=>{if(!n){v({title:"Cdigo invlido",description:"Cdigo de cortesia no encontrado",variant:"destructive"});return}N.mutate({...M,code:n})};return x?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx("p",{className:"text-gray-500",children:"Verificando autenticao..."})}):!m&&n?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx("p",{className:"text-gray-500",children:"Redirecionando para login..."})}):n?O?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx("p",{className:"text-gray-500",children:"Verificando cdigo de cortesia..."})}):k||!b?h.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:h.jsx("div",{className:"max-w-lg mx-auto px-4",children:h.jsxs(It,{children:[h.jsxs(zn,{className:"text-center",children:[h.jsx(Zp,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),h.jsx(Wn,{children:"Cdigo invlido"})]}),h.jsxs(Rt,{children:[h.jsx("p",{className:"text-center text-gray-600 mb-4",children:(k==null?void 0:k.message)||"Este cdigo de cortesia no  vlido ou j foi utilizado."}),h.jsx(Qe,{className:"w-full",onClick:()=>e("/"),"data-testid":"button-home-error",children:"Voltar ao incio"})]})]})})}):r?h.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:h.jsx("div",{className:"max-w-lg mx-auto px-4",children:h.jsxs(It,{children:[h.jsxs(zn,{className:"text-center",children:[h.jsx(Kp,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),h.jsx(Wn,{children:"Cortesia Resgatada!"})]}),h.jsxs(Rt,{className:"text-center",children:[h.jsx("p",{className:"text-gray-600 mb-4",children:"Seu ingresso foi enviado para o e-mail cadastrado."}),h.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Voc pode acessar seus ingressos na pgina de perfil."}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{className:"w-full",onClick:()=>e("/profile"),"data-testid":"button-profile",children:"Ver Meus Ingressos"}),h.jsx(Qe,{variant:"outline",className:"w-full",onClick:()=>e("/"),"data-testid":"button-home-success",children:"Voltar ao Incio"})]})]})]})})}):h.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:h.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[h.jsxs(It,{children:[h.jsxs(zn,{children:[h.jsx("div",{className:"flex items-center justify-center mb-4",children:h.jsx(au,{className:"h-12 w-12 text-primary"})}),h.jsx(Wn,{className:"text-center text-2xl",children:"Resgate de Cortesia"}),b&&h.jsxs("div",{className:"mt-4 p-4 bg-primary/10 rounded-lg",children:[h.jsx("p",{className:"text-center font-semibold text-lg",children:(I=b.event)==null?void 0:I.title}),g.is_staff&&h.jsxs("p",{className:"text-center text-sm text-gray-600",children:[b.remainingTickets," ingresso(s) disponvel(is)"]})]})]}),h.jsx(Rt,{children:h.jsx(pF,{...C,children:h.jsxs("form",{onSubmit:C.handleSubmit(A),className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(Li,{control:C.control,name:"name",render:({field:M})=>h.jsxs(ti,{children:[h.jsx(ni,{children:"Nome Completo *"}),h.jsx(ri,{children:h.jsx(ut,{...M,"data-testid":"input-name"})}),h.jsx(si,{})]})}),h.jsx(Li,{control:C.control,name:"cpf",render:({field:M})=>h.jsxs(ti,{children:[h.jsx(ni,{children:"CPF *"}),h.jsx(ri,{children:h.jsx(ut,{...M,onChange:j=>M.onChange(P(j.target.value)),maxLength:14,"data-testid":"input-cpf"})}),h.jsx(si,{})]})}),h.jsx(Li,{control:C.control,name:"email",render:({field:M})=>h.jsxs(ti,{children:[h.jsx(ni,{children:"E-mail *"}),h.jsx(ri,{children:h.jsx(ut,{...M,type:"email","data-testid":"input-email"})}),h.jsx(si,{})]})}),h.jsx(Li,{control:C.control,name:"emailConfirm",render:({field:M})=>h.jsxs(ti,{children:[h.jsx(ni,{children:"Confirmar E-mail *"}),h.jsx(ri,{children:h.jsx(ut,{...M,type:"email","data-testid":"input-email-confirm"})}),h.jsx(si,{})]})}),h.jsx(Li,{control:C.control,name:"phone",render:({field:M})=>h.jsxs(ti,{children:[h.jsx(ni,{children:"Telefone *"}),h.jsx(ri,{children:h.jsx(ut,{...M,onChange:j=>M.onChange(R(j.target.value)),maxLength:15,"data-testid":"input-phone"})}),h.jsx(si,{})]})}),h.jsx(Li,{control:C.control,name:"birthDate",render:({field:M})=>h.jsxs(ti,{children:[h.jsx(ni,{children:"Data de Nascimento *"}),h.jsx(ri,{children:h.jsx(ut,{...M,type:"date","data-testid":"input-birth-date"})}),h.jsx(si,{})]})}),h.jsx(Li,{control:C.control,name:"partnerCompany",render:({field:M})=>h.jsxs(ti,{className:"md:col-span-2",children:[h.jsx(ni,{children:"Empresa Parceira *"}),h.jsx(ri,{children:h.jsx(ut,{...M,"data-testid":"input-partner-company"})}),h.jsx(si,{})]})}),h.jsx(Li,{control:C.control,name:"address",render:({field:M})=>h.jsxs(ti,{className:"md:col-span-2",children:[h.jsx(ni,{children:"Endereo Residencial *"}),h.jsx(ri,{children:h.jsx(ut,{...M,"data-testid":"input-address"})}),h.jsx(si,{})]})})]}),h.jsx("div",{className:"pt-4",children:h.jsx(Qe,{type:"submit",className:"w-full",disabled:N.isPending,"data-testid":"button-redeem",children:N.isPending?"Resgatando...":"Resgatar Cortesia"})})]})})})]}),h.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:h.jsxs("p",{children:["Dvidas? Entre em contato pelo telefone: ",h.jsx("strong",{children:"+55 (62) 99860-6833"})]})})]})}):h.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:h.jsx("div",{className:"max-w-lg mx-auto px-4",children:h.jsxs(It,{children:[h.jsxs(zn,{className:"text-center",children:[h.jsx(au,{className:"h-12 w-12 text-primary mx-auto mb-4"}),h.jsx(Wn,{children:"Resgate de Cortesia"})]}),h.jsxs(Rt,{children:[h.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Insira o cdigo de cortesia recebido:"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(ut,{type:"text",placeholder:"Digite o cdigo (ex: CDPI12345ABC)",value:l,onChange:M=>d(M.target.value.toUpperCase()),className:"text-center font-mono text-lg","data-testid":"input-courtesy-code"}),h.jsx(Qe,{className:"w-full",onClick:()=>{l.trim()?e(`/cortesia?code=${l.trim()}`):v({title:"Cdigo invlido",description:"Por favor, insira um cdigo vlido",variant:"destructive"})},disabled:!l.trim(),"data-testid":"button-submit-code",children:"Continuar"}),h.jsx(Qe,{variant:"outline",className:"w-full",onClick:()=>e("/"),"data-testid":"button-home",children:"Voltar ao incio"})]})]})]})})})}function X2(e,[t,n]){return Math.min(n,Math.max(t,e))}var vF=[" ","Enter","ArrowUp","ArrowDown"],wF=[" ","Enter"],Vu="Select",[Oh,Ph,CF]=dh(Vu),[Kl]=Wr(Vu,[CF,Gl]),Dh=Gl(),[EF,No]=Kl(Vu),[bF,SF]=Kl(Vu),nI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:l,value:d,defaultValue:m,onValueChange:x,dir:g,name:v,autoComplete:C,disabled:b,required:O,form:k}=e,N=Dh(t),[P,R]=E.useState(null),[A,I]=E.useState(null),[M,j]=E.useState(!1),$=Sh(g),[B=!1,G]=po({prop:r,defaultProp:o,onChange:l}),[W,ae]=po({prop:d,defaultProp:m,onChange:x}),pe=E.useRef(null),Y=P?k||!!P.closest("form"):!0,[oe,ie]=E.useState(new Set),X=Array.from(oe).map(fe=>fe.props.value).join(";");return h.jsx(UA,{...N,children:h.jsxs(EF,{required:O,scope:t,trigger:P,onTriggerChange:R,valueNode:A,onValueNodeChange:I,valueNodeHasChildren:M,onValueNodeHasChildrenChange:j,contentId:zs(),value:W,onValueChange:ae,open:B,onOpenChange:G,dir:$,triggerPointerDownPosRef:pe,disabled:b,children:[h.jsx(Oh.Provider,{scope:t,children:h.jsx(bF,{scope:e.__scopeSelect,onNativeOptionAdd:E.useCallback(fe=>{ie(de=>new Set(de).add(fe))},[]),onNativeOptionRemove:E.useCallback(fe=>{ie(de=>{const te=new Set(de);return te.delete(fe),te})},[]),children:n})}),Y?h.jsxs(_I,{"aria-hidden":!0,required:O,tabIndex:-1,name:v,autoComplete:C,value:W,onChange:fe=>ae(fe.target.value),disabled:b,form:k,children:[W===void 0?h.jsx("option",{value:""}):null,Array.from(oe)]},X):null]})})};nI.displayName=Vu;var rI="SelectTrigger",sI=E.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,l=Dh(n),d=No(rI,n),m=d.disabled||r,x=Ct(t,d.onTriggerChange),g=Ph(n),v=E.useRef("touch"),[C,b,O]=TI(N=>{const P=g().filter(I=>!I.disabled),R=P.find(I=>I.value===d.value),A=II(P,N,R);A!==void 0&&d.onValueChange(A.value)}),k=N=>{m||(d.onOpenChange(!0),O()),N&&(d.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return h.jsx(og,{asChild:!0,...l,children:h.jsx(He.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":NI(d.value)?"":void 0,...o,ref:x,onClick:be(o.onClick,N=>{N.currentTarget.focus(),v.current!=="mouse"&&k(N)}),onPointerDown:be(o.onPointerDown,N=>{v.current=N.pointerType;const P=N.target;P.hasPointerCapture(N.pointerId)&&P.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(k(N),N.preventDefault())}),onKeyDown:be(o.onKeyDown,N=>{const P=C.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&b(N.key),!(P&&N.key===" ")&&vF.includes(N.key)&&(k(),N.preventDefault())})})})});sI.displayName=rI;var iI="SelectValue",oI=E.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:l,placeholder:d="",...m}=e,x=No(iI,n),{onValueNodeHasChildrenChange:g}=x,v=l!==void 0,C=Ct(t,x.onValueNodeChange);return Tn(()=>{g(v)},[g,v]),h.jsx(He.span,{...m,ref:C,style:{pointerEvents:"none"},children:NI(x.value)?h.jsx(h.Fragment,{children:d}):l})});oI.displayName=iI;var AF="SelectIcon",aI=E.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return h.jsx(He.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});aI.displayName=AF;var NF="SelectPortal",lI=e=>h.jsx(ku,{asChild:!0,...e});lI.displayName=NF;var ha="SelectContent",cI=E.forwardRef((e,t)=>{const n=No(ha,e.__scopeSelect),[r,o]=E.useState();if(Tn(()=>{o(new DocumentFragment)},[]),!n.open){const l=r;return l?ga.createPortal(h.jsx(uI,{scope:e.__scopeSelect,children:h.jsx(Oh.Slot,{scope:e.__scopeSelect,children:h.jsx("div",{children:e.children})})}),l):null}return h.jsx(dI,{...e,ref:t})});cI.displayName=ha;var ls=10,[uI,_o]=Kl(ha),_F="SelectContentImpl",TF=oa("SelectContent.RemoveScroll"),dI=E.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:d,side:m,sideOffset:x,align:g,alignOffset:v,arrowPadding:C,collisionBoundary:b,collisionPadding:O,sticky:k,hideWhenDetached:N,avoidCollisions:P,...R}=e,A=No(ha,n),[I,M]=E.useState(null),[j,$]=E.useState(null),B=Ct(t,Te=>M(Te)),[G,W]=E.useState(null),[ae,pe]=E.useState(null),Y=Ph(n),[oe,ie]=E.useState(!1),X=E.useRef(!1);E.useEffect(()=>{if(I)return fg(I)},[I]),dg();const fe=E.useCallback(Te=>{const[Le,...st]=Y().map(mt=>mt.ref.current),[dt]=st.slice(-1),Ke=document.activeElement;for(const mt of Te)if(mt===Ke||(mt==null||mt.scrollIntoView({block:"nearest"}),mt===Le&&j&&(j.scrollTop=0),mt===dt&&j&&(j.scrollTop=j.scrollHeight),mt==null||mt.focus(),document.activeElement!==Ke))return},[Y,j]),de=E.useCallback(()=>fe([G,I]),[fe,G,I]);E.useEffect(()=>{oe&&de()},[oe,de]);const{onOpenChange:te,triggerPointerDownPosRef:ne}=A;E.useEffect(()=>{if(I){let Te={x:0,y:0};const Le=dt=>{var Ke,mt;Te={x:Math.abs(Math.round(dt.pageX)-(((Ke=ne.current)==null?void 0:Ke.x)??0)),y:Math.abs(Math.round(dt.pageY)-(((mt=ne.current)==null?void 0:mt.y)??0))}},st=dt=>{Te.x<=10&&Te.y<=10?dt.preventDefault():I.contains(dt.target)||te(!1),document.removeEventListener("pointermove",Le),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",Le),document.addEventListener("pointerup",st,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Le),document.removeEventListener("pointerup",st,{capture:!0})}}},[I,te,ne]),E.useEffect(()=>{const Te=()=>te(!1);return window.addEventListener("blur",Te),window.addEventListener("resize",Te),()=>{window.removeEventListener("blur",Te),window.removeEventListener("resize",Te)}},[te]);const[we,Me]=TI(Te=>{const Le=Y().filter(Ke=>!Ke.disabled),st=Le.find(Ke=>Ke.ref.current===document.activeElement),dt=II(Le,Te,st);dt&&setTimeout(()=>dt.ref.current.focus())}),Be=E.useCallback((Te,Le,st)=>{const dt=!X.current&&!st;(A.value!==void 0&&A.value===Le||dt)&&(W(Te),dt&&(X.current=!0))},[A.value]),Nt=E.useCallback(()=>I==null?void 0:I.focus(),[I]),re=E.useCallback((Te,Le,st)=>{const dt=!X.current&&!st;(A.value!==void 0&&A.value===Le||dt)&&pe(Te)},[A.value]),gt=r==="popper"?Mm:fI,Ee=gt===Mm?{side:m,sideOffset:x,align:g,alignOffset:v,arrowPadding:C,collisionBoundary:b,collisionPadding:O,sticky:k,hideWhenDetached:N,avoidCollisions:P}:{};return h.jsx(uI,{scope:n,content:I,viewport:j,onViewportChange:$,itemRefCallback:Be,selectedItem:G,onItemLeave:Nt,itemTextRefCallback:re,focusSelectedItem:de,selectedItemText:ae,position:r,isPositioned:oe,searchRef:we,children:h.jsx(bh,{as:TF,allowPinchZoom:!0,children:h.jsx(Ch,{asChild:!0,trapped:A.open,onMountAutoFocus:Te=>{Te.preventDefault()},onUnmountAutoFocus:be(o,Te=>{var Le;(Le=A.trigger)==null||Le.focus({preventScroll:!0}),Te.preventDefault()}),children:h.jsx(Ul,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:Te=>Te.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:h.jsx(gt,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:Te=>Te.preventDefault(),...R,...Ee,onPlaced:()=>ie(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:be(R.onKeyDown,Te=>{const Le=Te.ctrlKey||Te.altKey||Te.metaKey;if(Te.key==="Tab"&&Te.preventDefault(),!Le&&Te.key.length===1&&Me(Te.key),["ArrowUp","ArrowDown","Home","End"].includes(Te.key)){let dt=Y().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(Te.key)&&(dt=dt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Te.key)){const Ke=Te.target,mt=dt.indexOf(Ke);dt=dt.slice(mt+1)}setTimeout(()=>fe(dt)),Te.preventDefault()}})})})})})})});dI.displayName=_F;var IF="SelectItemAlignedPosition",fI=E.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,l=No(ha,n),d=_o(ha,n),[m,x]=E.useState(null),[g,v]=E.useState(null),C=Ct(t,B=>v(B)),b=Ph(n),O=E.useRef(!1),k=E.useRef(!0),{viewport:N,selectedItem:P,selectedItemText:R,focusSelectedItem:A}=d,I=E.useCallback(()=>{if(l.trigger&&l.valueNode&&m&&g&&N&&P&&R){const B=l.trigger.getBoundingClientRect(),G=g.getBoundingClientRect(),W=l.valueNode.getBoundingClientRect(),ae=R.getBoundingClientRect();if(l.dir!=="rtl"){const Ke=ae.left-G.left,mt=W.left-Ke,qe=B.left-mt,vn=B.width+qe,In=Math.max(vn,G.width),gr=window.innerWidth-ls,Vt=X2(mt,[ls,Math.max(ls,gr-In)]);m.style.minWidth=vn+"px",m.style.left=Vt+"px"}else{const Ke=G.right-ae.right,mt=window.innerWidth-W.right-Ke,qe=window.innerWidth-B.right-mt,vn=B.width+qe,In=Math.max(vn,G.width),gr=window.innerWidth-ls,Vt=X2(mt,[ls,Math.max(ls,gr-In)]);m.style.minWidth=vn+"px",m.style.right=Vt+"px"}const pe=b(),Y=window.innerHeight-ls*2,oe=N.scrollHeight,ie=window.getComputedStyle(g),X=parseInt(ie.borderTopWidth,10),fe=parseInt(ie.paddingTop,10),de=parseInt(ie.borderBottomWidth,10),te=parseInt(ie.paddingBottom,10),ne=X+fe+oe+te+de,we=Math.min(P.offsetHeight*5,ne),Me=window.getComputedStyle(N),Be=parseInt(Me.paddingTop,10),Nt=parseInt(Me.paddingBottom,10),re=B.top+B.height/2-ls,gt=Y-re,Ee=P.offsetHeight/2,Te=P.offsetTop+Ee,Le=X+fe+Te,st=ne-Le;if(Le<=re){const Ke=pe.length>0&&P===pe[pe.length-1].ref.current;m.style.bottom="0px";const mt=g.clientHeight-N.offsetTop-N.offsetHeight,qe=Math.max(gt,Ee+(Ke?Nt:0)+mt+de),vn=Le+qe;m.style.height=vn+"px"}else{const Ke=pe.length>0&&P===pe[0].ref.current;m.style.top="0px";const qe=Math.max(re,X+N.offsetTop+(Ke?Be:0)+Ee)+st;m.style.height=qe+"px",N.scrollTop=Le-re+N.offsetTop}m.style.margin=`${ls}px 0`,m.style.minHeight=we+"px",m.style.maxHeight=Y+"px",r==null||r(),requestAnimationFrame(()=>O.current=!0)}},[b,l.trigger,l.valueNode,m,g,N,P,R,l.dir,r]);Tn(()=>I(),[I]);const[M,j]=E.useState();Tn(()=>{g&&j(window.getComputedStyle(g).zIndex)},[g]);const $=E.useCallback(B=>{B&&k.current===!0&&(I(),A==null||A(),k.current=!1)},[I,A]);return h.jsx(OF,{scope:n,contentWrapper:m,shouldExpandOnScrollRef:O,onScrollButtonChange:$,children:h.jsx("div",{ref:x,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:h.jsx(He.div,{...o,ref:C,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});fI.displayName=IF;var RF="SelectPopperPosition",Mm=E.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=ls,...l}=e,d=Dh(n);return h.jsx(ag,{...d,...l,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mm.displayName=RF;var[OF,Ug]=Kl(ha,{}),jm="SelectViewport",hI=E.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,l=_o(jm,n),d=Ug(jm,n),m=Ct(t,l.onViewportChange),x=E.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(Oh.Slot,{scope:n,children:h.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:be(o.onScroll,g=>{const v=g.currentTarget,{contentWrapper:C,shouldExpandOnScrollRef:b}=d;if(b!=null&&b.current&&C){const O=Math.abs(x.current-v.scrollTop);if(O>0){const k=window.innerHeight-ls*2,N=parseFloat(C.style.minHeight),P=parseFloat(C.style.height),R=Math.max(N,P);if(R<k){const A=R+O,I=Math.min(k,A),M=A-I;C.style.height=I+"px",C.style.bottom==="0px"&&(v.scrollTop=M>0?M:0,C.style.justifyContent="flex-end")}}}x.current=v.scrollTop})})})]})});hI.displayName=jm;var mI="SelectGroup",[PF,DF]=Kl(mI),kF=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=zs();return h.jsx(PF,{scope:n,id:o,children:h.jsx(He.div,{role:"group","aria-labelledby":o,...r,ref:t})})});kF.displayName=mI;var pI="SelectLabel",gI=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=DF(pI,n);return h.jsx(He.div,{id:o.id,...r,ref:t})});gI.displayName=pI;var Wf="SelectItem",[MF,xI]=Kl(Wf),yI=E.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:l,...d}=e,m=No(Wf,n),x=_o(Wf,n),g=m.value===r,[v,C]=E.useState(l??""),[b,O]=E.useState(!1),k=Ct(t,A=>{var I;return(I=x.itemRefCallback)==null?void 0:I.call(x,A,r,o)}),N=zs(),P=E.useRef("touch"),R=()=>{o||(m.onValueChange(r),m.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(MF,{scope:n,value:r,disabled:o,textId:N,isSelected:g,onItemTextChange:E.useCallback(A=>{C(I=>I||((A==null?void 0:A.textContent)??"").trim())},[]),children:h.jsx(Oh.ItemSlot,{scope:n,value:r,disabled:o,textValue:v,children:h.jsx(He.div,{role:"option","aria-labelledby":N,"data-highlighted":b?"":void 0,"aria-selected":g&&b,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:k,onFocus:be(d.onFocus,()=>O(!0)),onBlur:be(d.onBlur,()=>O(!1)),onClick:be(d.onClick,()=>{P.current!=="mouse"&&R()}),onPointerUp:be(d.onPointerUp,()=>{P.current==="mouse"&&R()}),onPointerDown:be(d.onPointerDown,A=>{P.current=A.pointerType}),onPointerMove:be(d.onPointerMove,A=>{var I;P.current=A.pointerType,o?(I=x.onItemLeave)==null||I.call(x):P.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(d.onPointerLeave,A=>{var I;A.currentTarget===document.activeElement&&((I=x.onItemLeave)==null||I.call(x))}),onKeyDown:be(d.onKeyDown,A=>{var M;((M=x.searchRef)==null?void 0:M.current)!==""&&A.key===" "||(wF.includes(A.key)&&R(),A.key===" "&&A.preventDefault())})})})})});yI.displayName=Wf;var Nc="SelectItemText",vI=E.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...l}=e,d=No(Nc,n),m=_o(Nc,n),x=xI(Nc,n),g=SF(Nc,n),[v,C]=E.useState(null),b=Ct(t,R=>C(R),x.onItemTextChange,R=>{var A;return(A=m.itemTextRefCallback)==null?void 0:A.call(m,R,x.value,x.disabled)}),O=v==null?void 0:v.textContent,k=E.useMemo(()=>h.jsx("option",{value:x.value,disabled:x.disabled,children:O},x.value),[x.disabled,x.value,O]),{onNativeOptionAdd:N,onNativeOptionRemove:P}=g;return Tn(()=>(N(k),()=>P(k)),[N,P,k]),h.jsxs(h.Fragment,{children:[h.jsx(He.span,{id:x.textId,...l,ref:b}),x.isSelected&&d.valueNode&&!d.valueNodeHasChildren?ga.createPortal(l.children,d.valueNode):null]})});vI.displayName=Nc;var wI="SelectItemIndicator",CI=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return xI(wI,n).isSelected?h.jsx(He.span,{"aria-hidden":!0,...r,ref:t}):null});CI.displayName=wI;var Lm="SelectScrollUpButton",EI=E.forwardRef((e,t)=>{const n=_o(Lm,e.__scopeSelect),r=Ug(Lm,e.__scopeSelect),[o,l]=E.useState(!1),d=Ct(t,r.onScrollButtonChange);return Tn(()=>{if(n.viewport&&n.isPositioned){let m=function(){const g=x.scrollTop>0;l(g)};const x=n.viewport;return m(),x.addEventListener("scroll",m),()=>x.removeEventListener("scroll",m)}},[n.viewport,n.isPositioned]),o?h.jsx(SI,{...e,ref:d,onAutoScroll:()=>{const{viewport:m,selectedItem:x}=n;m&&x&&(m.scrollTop=m.scrollTop-x.offsetHeight)}}):null});EI.displayName=Lm;var Fm="SelectScrollDownButton",bI=E.forwardRef((e,t)=>{const n=_o(Fm,e.__scopeSelect),r=Ug(Fm,e.__scopeSelect),[o,l]=E.useState(!1),d=Ct(t,r.onScrollButtonChange);return Tn(()=>{if(n.viewport&&n.isPositioned){let m=function(){const g=x.scrollHeight-x.clientHeight,v=Math.ceil(x.scrollTop)<g;l(v)};const x=n.viewport;return m(),x.addEventListener("scroll",m),()=>x.removeEventListener("scroll",m)}},[n.viewport,n.isPositioned]),o?h.jsx(SI,{...e,ref:d,onAutoScroll:()=>{const{viewport:m,selectedItem:x}=n;m&&x&&(m.scrollTop=m.scrollTop+x.offsetHeight)}}):null});bI.displayName=Fm;var SI=E.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,l=_o("SelectScrollButton",n),d=E.useRef(null),m=Ph(n),x=E.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return E.useEffect(()=>()=>x(),[x]),Tn(()=>{var v;const g=m().find(C=>C.ref.current===document.activeElement);(v=g==null?void 0:g.ref.current)==null||v.scrollIntoView({block:"nearest"})},[m]),h.jsx(He.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:be(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(r,50))}),onPointerMove:be(o.onPointerMove,()=>{var g;(g=l.onItemLeave)==null||g.call(l),d.current===null&&(d.current=window.setInterval(r,50))}),onPointerLeave:be(o.onPointerLeave,()=>{x()})})}),jF="SelectSeparator",AI=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return h.jsx(He.div,{"aria-hidden":!0,...r,ref:t})});AI.displayName=jF;var Bm="SelectArrow",LF=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Dh(n),l=No(Bm,n),d=_o(Bm,n);return l.open&&d.position==="popper"?h.jsx(lg,{...o,...r,ref:t}):null});LF.displayName=Bm;function NI(e){return e===""||e===void 0}var _I=E.forwardRef((e,t)=>{const{value:n,...r}=e,o=E.useRef(null),l=Ct(t,o),d=m_(n);return E.useEffect(()=>{const m=o.current,x=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(x,"value").set;if(d!==n&&v){const C=new Event("change",{bubbles:!0});v.call(m,n),m.dispatchEvent(C)}},[d,n]),h.jsx(Mu,{asChild:!0,children:h.jsx("select",{...r,ref:l,defaultValue:n})})});_I.displayName="BubbleSelect";function TI(e){const t=$n(e),n=E.useRef(""),r=E.useRef(0),o=E.useCallback(d=>{const m=n.current+d;t(m),function x(g){n.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>x(""),1e3))}(m)},[t]),l=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,l]}function II(e,t,n){const o=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let d=FF(e,Math.max(l,0));o.length===1&&(d=d.filter(g=>g!==n));const x=d.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return x!==n?x:void 0}function FF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var BF=nI,RI=sI,VF=oI,UF=aI,zF=lI,OI=cI,WF=hI,PI=gI,DI=yI,HF=vI,GF=CI,kI=EI,MI=bI,jI=AI;const $F=BF,XF=VF,LI=E.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(RI,{ref:r,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,h.jsx(UF,{asChild:!0,children:h.jsx(Fc,{className:"h-4 w-4 opacity-50"})})]}));LI.displayName=RI.displayName;const FI=E.forwardRef(({className:e,...t},n)=>h.jsx(kI,{ref:n,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(Bd,{className:"h-4 w-4"})}));FI.displayName=kI.displayName;const BI=E.forwardRef(({className:e,...t},n)=>h.jsx(MI,{ref:n,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(Fc,{className:"h-4 w-4"})}));BI.displayName=MI.displayName;const VI=E.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>h.jsx(zF,{children:h.jsxs(OI,{ref:o,className:je("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[h.jsx(FI,{}),h.jsx(WF,{className:je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),h.jsx(BI,{})]})}));VI.displayName=OI.displayName;const ZF=E.forwardRef(({className:e,...t},n)=>h.jsx(PI,{ref:n,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ZF.displayName=PI.displayName;const UI=E.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(DI,{ref:r,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(GF,{children:h.jsx(ph,{className:"h-4 w-4"})})}),h.jsx(HF,{children:t})]}));UI.displayName=DI.displayName;const KF=E.forwardRef(({className:e,...t},n)=>h.jsx(jI,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));KF.displayName=jI.displayName;const qF=15;function YF(){var M;const[e,t]=E.useState(""),[n,r]=E.useState("1"),[o,l]=E.useState(null),{toast:d}=mr(),m=Up(),{isAuthenticated:x}=Ai(),[g,v]=E.useState(1),[C,b]=E.useState(""),{data:O}=wi({queryKey:["/api/events/"]}),{data:k,isLoading:N}=wi({queryKey:["/api/orders/courtesy/links/",g],queryFn:async()=>{const $=await(await Yt("GET",`/api/orders/courtesy/links/?page=${g}`)).json();return console.log($),$},enabled:x,staleTime:0,gcTime:0}),P=k!=null&&k.count?Math.ceil(k.count/qF):1,R=cr({mutationFn:async j=>(console.log(j),await Yt("POST","/api/orders/courtesy/links/",j)),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/orders/courtesy/links/"]}),v(1),d({title:"Link criado com sucesso!",description:"O link de cortesia foi gerado e est pronto para uso."}),t(""),r("1"),b("")},onError:j=>{d({title:"Erro ao criar link",description:j.message,variant:"destructive"})}}),A=()=>{if(!e){d({title:"Selecione um evento",description:"Por favor, selecione um evento para o link de cortesia",variant:"destructive"});return}R.mutate({eventId:e,ticket_count:parseInt(n),override_price:C?parseFloat(C):null})},I=async j=>{try{await navigator.clipboard.writeText(j),l(j),d({title:"Link copiado!",description:"O link foi copiado para a rea de transferncia"}),setTimeout(()=>l(null),3e3)}catch{d({title:"Erro ao copiar",description:"No foi possvel copiar o link",variant:"destructive"})}};return h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[h.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Gerenciar Links de Cortesia"}),h.jsxs(It,{className:"mb-8",children:[h.jsx(zn,{children:h.jsxs(Wn,{className:"flex items-center gap-2",children:[h.jsx(au,{className:"h-5 w-5"}),"Criar Novo Link de Cortesia"]})}),h.jsx(Rt,{children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(vt,{htmlFor:"event",children:"Evento"}),h.jsxs($F,{value:e,onValueChange:t,children:[h.jsx(LI,{id:"event","data-testid":"select-event",children:h.jsx(XF,{placeholder:"Selecione um evento"})}),h.jsx(VI,{children:(M=O==null?void 0:O.results)==null?void 0:M.map(j=>h.jsx(UI,{value:j.id.toString(),children:j.title},j.id))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(vt,{htmlFor:"tickets",children:"Quantidade de Ingressos"}),h.jsx(ut,{id:"tickets",type:"number",min:"1",max:"100",value:n,onChange:j=>r(j.target.value),"data-testid":"input-ticket-count"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(vt,{htmlFor:"price",children:"Preo Promocional (deixe em branco para cortesia)"}),h.jsx(ut,{id:"price",type:"number",min:"0",placeholder:"Ex: 50.00",value:C,onChange:j=>b(j.target.value),"data-testid":"input-override-price"})]}),h.jsx("div",{className:"flex items-end",children:h.jsx(Qe,{onClick:A,disabled:R.isPending,className:"w-full","data-testid":"button-create-link",children:R.isPending?"Criando...":"Criar Link"})})]})})]}),h.jsxs(It,{children:[h.jsx(zn,{children:h.jsxs(Wn,{className:"flex items-center gap-2",children:[h.jsx(XP,{className:"h-5 w-5"}),"Links de Cortesia Criados"]})}),h.jsxs(Rt,{children:[console.log("Links Loading:",N),console.log("Paginated Links Data:",k),N?h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-gray-500",children:"Carregando links..."})}):k!=null&&k.results&&k.results.length>0?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"space-y-4",children:k.results.map(j=>{var $;return h.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:h.jsx("div",{className:"flex justify-between items-start",children:h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-lg",children:(($=j.event)==null?void 0:$.title)||"Evento"}),h.jsx("div",{className:"mb-2",children:j.override_price?h.jsxs("span",{className:"text-sm font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:["Promocional: R$ ",parseFloat(j.override_price).toFixed(2)]}):h.jsx("span",{className:"text-sm font-bold text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"Cortesia (Grtis)"})}),h.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Cdigo: ",h.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:j.code})]}),h.jsxs("div",{className:"flex gap-4 text-sm",children:[h.jsxs("span",{className:`flex items-center gap-1 ${j.remainingTickets===0?"text-red-600":"text-green-600"}`,children:[h.jsx(au,{className:"h-4 w-4"}),j.remainingTickets||0," de ",j.ticket_count," disponveis"]}),h.jsxs("span",{className:"text-gray-500",children:["Criado em: ",new Date(j.created_at).toLocaleDateString("pt-BR")]})]}),h.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[h.jsx("input",{type:"text",value:j.redeemUrl,readOnly:!0,className:"flex-1 text-xs bg-gray-50 p-2 rounded border","data-testid":`input-link-${j.id}`}),h.jsx(Qe,{size:"sm",variant:"outline",onClick:()=>I(j.redeemUrl),"data-testid":`button-copy-${j.id}`,children:o===j.redeemUrl?h.jsx(Kp,{className:"h-4 w-4 text-green-600"}):h.jsx(aA,{className:"h-4 w-4"})})]})]})})},j.id)})}),P>1&&h.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[h.jsx(Qe,{variant:"outline",onClick:()=>v(j=>Math.max(j-1,1)),disabled:!(k!=null&&k.previous),children:"Anterior"}),h.jsxs("span",{className:"text-sm font-medium px-4",children:["Pgina ",g," de ",P]}),h.jsx(Qe,{variant:"outline",onClick:()=>v(j=>Math.min(j+1,P)),disabled:!(k!=null&&k.next),children:"Prxima"})]})]}):h.jsxs(h.Fragment,{children:[console.log("Rendering No Links Message..."),h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-gray-500",children:"Nenhum link de cortesia criado ainda"})})]})]})]})]})}function QF(){return h.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:h.jsx(It,{className:"w-full max-w-md mx-4",children:h.jsxs(Rt,{className:"pt-6",children:[h.jsxs("div",{className:"flex mb-4 gap-2",children:[h.jsx(Zp,{className:"h-8 w-8 text-red-500"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),h.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var Vm=["Enter"," "],JF=["ArrowDown","PageUp","Home"],zI=["ArrowUp","PageDown","End"],eB=[...JF,...zI],tB={ltr:[...Vm,"ArrowRight"],rtl:[...Vm,"ArrowLeft"]},nB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Uu="Menu",[bu,rB,sB]=dh(Uu),[xa,WI]=Wr(Uu,[sB,Gl,Nh]),kh=Gl(),HI=Nh(),[iB,ya]=xa(Uu),[oB,zu]=xa(Uu),GI=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:l,modal:d=!0}=e,m=kh(t),[x,g]=E.useState(null),v=E.useRef(!1),C=$n(l),b=Sh(o);return E.useEffect(()=>{const O=()=>{v.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>v.current=!1;return document.addEventListener("keydown",O,{capture:!0}),()=>{document.removeEventListener("keydown",O,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),h.jsx(UA,{...m,children:h.jsx(iB,{scope:t,open:n,onOpenChange:C,content:x,onContentChange:g,children:h.jsx(oB,{scope:t,onClose:E.useCallback(()=>C(!1),[C]),isUsingKeyboardRef:v,dir:b,modal:d,children:r})})})};GI.displayName=Uu;var aB="MenuAnchor",zg=E.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=kh(n);return h.jsx(og,{...o,...r,ref:t})});zg.displayName=aB;var Wg="MenuPortal",[lB,$I]=xa(Wg,{forceMount:void 0}),XI=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,l=ya(Wg,t);return h.jsx(lB,{scope:t,forceMount:n,children:h.jsx(ss,{present:n||l.open,children:h.jsx(ku,{asChild:!0,container:o,children:r})})})};XI.displayName=Wg;var ts="MenuContent",[cB,Hg]=xa(ts),ZI=E.forwardRef((e,t)=>{const n=$I(ts,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,l=ya(ts,e.__scopeMenu),d=zu(ts,e.__scopeMenu);return h.jsx(bu.Provider,{scope:e.__scopeMenu,children:h.jsx(ss,{present:r||l.open,children:h.jsx(bu.Slot,{scope:e.__scopeMenu,children:d.modal?h.jsx(uB,{...o,ref:t}):h.jsx(dB,{...o,ref:t})})})})}),uB=E.forwardRef((e,t)=>{const n=ya(ts,e.__scopeMenu),r=E.useRef(null),o=Ct(t,r);return E.useEffect(()=>{const l=r.current;if(l)return fg(l)},[]),h.jsx(Gg,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:be(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),dB=E.forwardRef((e,t)=>{const n=ya(ts,e.__scopeMenu);return h.jsx(Gg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),fB=oa("MenuContent.ScrollLock"),Gg=E.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:d,disableOutsidePointerEvents:m,onEntryFocus:x,onEscapeKeyDown:g,onPointerDownOutside:v,onFocusOutside:C,onInteractOutside:b,onDismiss:O,disableOutsideScroll:k,...N}=e,P=ya(ts,n),R=zu(ts,n),A=kh(n),I=HI(n),M=rB(n),[j,$]=E.useState(null),B=E.useRef(null),G=Ct(t,B,P.onContentChange),W=E.useRef(0),ae=E.useRef(""),pe=E.useRef(0),Y=E.useRef(null),oe=E.useRef("right"),ie=E.useRef(0),X=k?bh:E.Fragment,fe=k?{as:fB,allowPinchZoom:!0}:void 0,de=ne=>{var Te,Le;const we=ae.current+ne,Me=M().filter(st=>!st.disabled),Be=document.activeElement,Nt=(Te=Me.find(st=>st.ref.current===Be))==null?void 0:Te.textValue,re=Me.map(st=>st.textValue),gt=SB(re,we,Nt),Ee=(Le=Me.find(st=>st.textValue===gt))==null?void 0:Le.ref.current;(function st(dt){ae.current=dt,window.clearTimeout(W.current),dt!==""&&(W.current=window.setTimeout(()=>st(""),1e3))})(we),Ee&&setTimeout(()=>Ee.focus())};E.useEffect(()=>()=>window.clearTimeout(W.current),[]),dg();const te=E.useCallback(ne=>{var Me,Be;return oe.current===((Me=Y.current)==null?void 0:Me.side)&&NB(ne,(Be=Y.current)==null?void 0:Be.area)},[]);return h.jsx(cB,{scope:n,searchRef:ae,onItemEnter:E.useCallback(ne=>{te(ne)&&ne.preventDefault()},[te]),onItemLeave:E.useCallback(ne=>{var we;te(ne)||((we=B.current)==null||we.focus(),$(null))},[te]),onTriggerLeave:E.useCallback(ne=>{te(ne)&&ne.preventDefault()},[te]),pointerGraceTimerRef:pe,onPointerGraceIntentChange:E.useCallback(ne=>{Y.current=ne},[]),children:h.jsx(X,{...fe,children:h.jsx(Ch,{asChild:!0,trapped:o,onMountAutoFocus:be(l,ne=>{var we;ne.preventDefault(),(we=B.current)==null||we.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:h.jsx(Ul,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:g,onPointerDownOutside:v,onFocusOutside:C,onInteractOutside:b,onDismiss:O,children:h.jsx(kN,{asChild:!0,...I,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:$,onEntryFocus:be(x,ne=>{R.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(ag,{role:"menu","aria-orientation":"vertical","data-state":u8(P.open),"data-radix-menu-content":"",dir:R.dir,...A,...N,ref:G,style:{outline:"none",...N.style},onKeyDown:be(N.onKeyDown,ne=>{const Me=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,Be=ne.ctrlKey||ne.altKey||ne.metaKey,Nt=ne.key.length===1;Me&&(ne.key==="Tab"&&ne.preventDefault(),!Be&&Nt&&de(ne.key));const re=B.current;if(ne.target!==re||!eB.includes(ne.key))return;ne.preventDefault();const Ee=M().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);zI.includes(ne.key)&&Ee.reverse(),EB(Ee)}),onBlur:be(e.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(W.current),ae.current="")}),onPointerMove:be(e.onPointerMove,Su(ne=>{const we=ne.target,Me=ie.current!==ne.clientX;if(ne.currentTarget.contains(we)&&Me){const Be=ne.clientX>ie.current?"right":"left";oe.current=Be,ie.current=ne.clientX}}))})})})})})})});ZI.displayName=ts;var hB="MenuGroup",$g=E.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return h.jsx(He.div,{role:"group",...r,ref:t})});$g.displayName=hB;var mB="MenuLabel",KI=E.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return h.jsx(He.div,{...r,ref:t})});KI.displayName=mB;var Hf="MenuItem",Z2="menu.itemSelect",Mh=E.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,l=E.useRef(null),d=zu(Hf,e.__scopeMenu),m=Hg(Hf,e.__scopeMenu),x=Ct(t,l),g=E.useRef(!1),v=()=>{const C=l.current;if(!n&&C){const b=new CustomEvent(Z2,{bubbles:!0,cancelable:!0});C.addEventListener(Z2,O=>r==null?void 0:r(O),{once:!0}),Hp(C,b),b.defaultPrevented?g.current=!1:d.onClose()}};return h.jsx(qI,{...o,ref:x,disabled:n,onClick:be(e.onClick,v),onPointerDown:C=>{var b;(b=e.onPointerDown)==null||b.call(e,C),g.current=!0},onPointerUp:be(e.onPointerUp,C=>{var b;g.current||(b=C.currentTarget)==null||b.click()}),onKeyDown:be(e.onKeyDown,C=>{const b=m.searchRef.current!=="";n||b&&C.key===" "||Vm.includes(C.key)&&(C.currentTarget.click(),C.preventDefault())})})});Mh.displayName=Hf;var qI=E.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...l}=e,d=Hg(Hf,n),m=HI(n),x=E.useRef(null),g=Ct(t,x),[v,C]=E.useState(!1),[b,O]=E.useState("");return E.useEffect(()=>{const k=x.current;k&&O((k.textContent??"").trim())},[l.children]),h.jsx(bu.ItemSlot,{scope:n,disabled:r,textValue:o??b,children:h.jsx(MN,{asChild:!0,...m,focusable:!r,children:h.jsx(He.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:g,onPointerMove:be(e.onPointerMove,Su(k=>{r?d.onItemLeave(k):(d.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(e.onPointerLeave,Su(k=>d.onItemLeave(k))),onFocus:be(e.onFocus,()=>C(!0)),onBlur:be(e.onBlur,()=>C(!1))})})})}),pB="MenuCheckboxItem",YI=E.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return h.jsx(n8,{scope:e.__scopeMenu,checked:n,children:h.jsx(Mh,{role:"menuitemcheckbox","aria-checked":Gf(n)?"mixed":n,...o,ref:t,"data-state":Zg(n),onSelect:be(o.onSelect,()=>r==null?void 0:r(Gf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});YI.displayName=pB;var QI="MenuRadioGroup",[gB,xB]=xa(QI,{value:void 0,onValueChange:()=>{}}),JI=E.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,l=$n(r);return h.jsx(gB,{scope:e.__scopeMenu,value:n,onValueChange:l,children:h.jsx($g,{...o,ref:t})})});JI.displayName=QI;var e8="MenuRadioItem",t8=E.forwardRef((e,t)=>{const{value:n,...r}=e,o=xB(e8,e.__scopeMenu),l=n===o.value;return h.jsx(n8,{scope:e.__scopeMenu,checked:l,children:h.jsx(Mh,{role:"menuitemradio","aria-checked":l,...r,ref:t,"data-state":Zg(l),onSelect:be(r.onSelect,()=>{var d;return(d=o.onValueChange)==null?void 0:d.call(o,n)},{checkForDefaultPrevented:!1})})})});t8.displayName=e8;var Xg="MenuItemIndicator",[n8,yB]=xa(Xg,{checked:!1}),r8=E.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,l=yB(Xg,n);return h.jsx(ss,{present:r||Gf(l.checked)||l.checked===!0,children:h.jsx(He.span,{...o,ref:t,"data-state":Zg(l.checked)})})});r8.displayName=Xg;var vB="MenuSeparator",s8=E.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return h.jsx(He.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});s8.displayName=vB;var wB="MenuArrow",i8=E.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=kh(n);return h.jsx(lg,{...o,...r,ref:t})});i8.displayName=wB;var CB="MenuSub",[EV,o8]=xa(CB),_c="MenuSubTrigger",a8=E.forwardRef((e,t)=>{const n=ya(_c,e.__scopeMenu),r=zu(_c,e.__scopeMenu),o=o8(_c,e.__scopeMenu),l=Hg(_c,e.__scopeMenu),d=E.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:x}=l,g={__scopeMenu:e.__scopeMenu},v=E.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return E.useEffect(()=>v,[v]),E.useEffect(()=>{const C=m.current;return()=>{window.clearTimeout(C),x(null)}},[m,x]),h.jsx(zg,{asChild:!0,...g,children:h.jsx(qI,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":u8(n.open),...e,ref:uh(t,o.onTriggerChange),onClick:C=>{var b;(b=e.onClick)==null||b.call(e,C),!(e.disabled||C.defaultPrevented)&&(C.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:be(e.onPointerMove,Su(C=>{l.onItemEnter(C),!C.defaultPrevented&&!e.disabled&&!n.open&&!d.current&&(l.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:be(e.onPointerLeave,Su(C=>{var O,k;v();const b=(O=n.content)==null?void 0:O.getBoundingClientRect();if(b){const N=(k=n.content)==null?void 0:k.dataset.side,P=N==="right",R=P?-5:5,A=b[P?"left":"right"],I=b[P?"right":"left"];l.onPointerGraceIntentChange({area:[{x:C.clientX+R,y:C.clientY},{x:A,y:b.top},{x:I,y:b.top},{x:I,y:b.bottom},{x:A,y:b.bottom}],side:N}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(C),C.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:be(e.onKeyDown,C=>{var O;const b=l.searchRef.current!=="";e.disabled||b&&C.key===" "||tB[r.dir].includes(C.key)&&(n.onOpenChange(!0),(O=n.content)==null||O.focus(),C.preventDefault())})})})});a8.displayName=_c;var l8="MenuSubContent",c8=E.forwardRef((e,t)=>{const n=$I(ts,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,l=ya(ts,e.__scopeMenu),d=zu(ts,e.__scopeMenu),m=o8(l8,e.__scopeMenu),x=E.useRef(null),g=Ct(t,x);return h.jsx(bu.Provider,{scope:e.__scopeMenu,children:h.jsx(ss,{present:r||l.open,children:h.jsx(bu.Slot,{scope:e.__scopeMenu,children:h.jsx(Gg,{id:m.contentId,"aria-labelledby":m.triggerId,...o,ref:g,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{var C;d.isUsingKeyboardRef.current&&((C=x.current)==null||C.focus()),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:be(e.onFocusOutside,v=>{v.target!==m.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:be(e.onEscapeKeyDown,v=>{d.onClose(),v.preventDefault()}),onKeyDown:be(e.onKeyDown,v=>{var O;const C=v.currentTarget.contains(v.target),b=nB[d.dir].includes(v.key);C&&b&&(l.onOpenChange(!1),(O=m.trigger)==null||O.focus(),v.preventDefault())})})})})})});c8.displayName=l8;function u8(e){return e?"open":"closed"}function Gf(e){return e==="indeterminate"}function Zg(e){return Gf(e)?"indeterminate":e?"checked":"unchecked"}function EB(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function bB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function SB(e,t,n){const o=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let d=bB(e,Math.max(l,0));o.length===1&&(d=d.filter(g=>g!==n));const x=d.find(g=>g.toLowerCase().startsWith(o.toLowerCase()));return x!==n?x:void 0}function AB(e,t){const{x:n,y:r}=e;let o=!1;for(let l=0,d=t.length-1;l<t.length;d=l++){const m=t[l].x,x=t[l].y,g=t[d].x,v=t[d].y;x>r!=v>r&&n<(g-m)*(r-x)/(v-x)+m&&(o=!o)}return o}function NB(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return AB(n,t)}function Su(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _B=GI,TB=zg,IB=XI,RB=ZI,OB=$g,PB=KI,DB=Mh,kB=YI,MB=JI,jB=t8,LB=r8,FB=s8,BB=i8,VB=a8,UB=c8,Kg="DropdownMenu",[zB]=Wr(Kg,[WI]),pr=WI(),[WB,d8]=zB(Kg),f8=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:l,onOpenChange:d,modal:m=!0}=e,x=pr(t),g=E.useRef(null),[v=!1,C]=po({prop:o,defaultProp:l,onChange:d});return h.jsx(WB,{scope:t,triggerId:zs(),triggerRef:g,contentId:zs(),open:v,onOpenChange:C,onOpenToggle:E.useCallback(()=>C(b=>!b),[C]),modal:m,children:h.jsx(_B,{...x,open:v,onOpenChange:C,dir:r,modal:m,children:n})})};f8.displayName=Kg;var h8="DropdownMenuTrigger",m8=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,l=d8(h8,n),d=pr(n);return h.jsx(TB,{asChild:!0,...d,children:h.jsx(He.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:uh(t,l.triggerRef),onPointerDown:be(e.onPointerDown,m=>{!r&&m.button===0&&m.ctrlKey===!1&&(l.onOpenToggle(),l.open||m.preventDefault())}),onKeyDown:be(e.onKeyDown,m=>{r||(["Enter"," "].includes(m.key)&&l.onOpenToggle(),m.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(m.key)&&m.preventDefault())})})})});m8.displayName=h8;var HB="DropdownMenuPortal",p8=e=>{const{__scopeDropdownMenu:t,...n}=e,r=pr(t);return h.jsx(IB,{...r,...n})};p8.displayName=HB;var g8="DropdownMenuContent",x8=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=d8(g8,n),l=pr(n),d=E.useRef(!1);return h.jsx(RB,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...r,ref:t,onCloseAutoFocus:be(e.onCloseAutoFocus,m=>{var x;d.current||(x=o.triggerRef.current)==null||x.focus(),d.current=!1,m.preventDefault()}),onInteractOutside:be(e.onInteractOutside,m=>{const x=m.detail.originalEvent,g=x.button===0&&x.ctrlKey===!0,v=x.button===2||g;(!o.modal||v)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});x8.displayName=g8;var GB="DropdownMenuGroup",$B=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=pr(n);return h.jsx(OB,{...o,...r,ref:t})});$B.displayName=GB;var XB="DropdownMenuLabel",y8=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=pr(n);return h.jsx(PB,{...o,...r,ref:t})});y8.displayName=XB;var ZB="DropdownMenuItem",v8=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=pr(n);return h.jsx(DB,{...o,...r,ref:t})});v8.displayName=ZB;var KB="DropdownMenuCheckboxItem",w8=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=pr(n);return h.jsx(kB,{...o,...r,ref:t})});w8.displayName=KB;var qB="DropdownMenuRadioGroup",YB=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=pr(n);return h.jsx(MB,{...o,...r,ref:t})});YB.displayName=qB;var QB="DropdownMenuRadioItem",C8=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=pr(n);return h.jsx(jB,{...o,...r,ref:t})});C8.displayName=QB;var JB="DropdownMenuItemIndicator",E8=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=pr(n);return h.jsx(LB,{...o,...r,ref:t})});E8.displayName=JB;var eV="DropdownMenuSeparator",b8=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=pr(n);return h.jsx(FB,{...o,...r,ref:t})});b8.displayName=eV;var tV="DropdownMenuArrow",nV=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=pr(n);return h.jsx(BB,{...o,...r,ref:t})});nV.displayName=tV;var rV="DropdownMenuSubTrigger",S8=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=pr(n);return h.jsx(VB,{...o,...r,ref:t})});S8.displayName=rV;var sV="DropdownMenuSubContent",A8=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=pr(n);return h.jsx(UB,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});A8.displayName=sV;var iV=f8,oV=m8,aV=p8,N8=x8,_8=y8,T8=v8,I8=w8,R8=C8,O8=E8,P8=b8,D8=S8,k8=A8;const K2=iV,q2=oV,lV=E.forwardRef(({className:e,inset:t,children:n,...r},o)=>h.jsxs(D8,{ref:o,className:je("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,h.jsx(iA,{className:"ml-auto"})]}));lV.displayName=D8.displayName;const cV=E.forwardRef(({className:e,...t},n)=>h.jsx(k8,{ref:n,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));cV.displayName=k8.displayName;const Um=E.forwardRef(({className:e,sideOffset:t=4,...n},r)=>h.jsx(aV,{children:h.jsx(N8,{ref:r,sideOffset:t,className:je("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Um.displayName=N8.displayName;const ii=E.forwardRef(({className:e,inset:t,...n},r)=>h.jsx(T8,{ref:r,className:je("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));ii.displayName=T8.displayName;const uV=E.forwardRef(({className:e,children:t,checked:n,...r},o)=>h.jsxs(I8,{ref:o,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(O8,{children:h.jsx(ph,{className:"h-4 w-4"})})}),t]}));uV.displayName=I8.displayName;const dV=E.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(R8,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(O8,{children:h.jsx(WP,{className:"h-2 w-2 fill-current"})})}),t]}));dV.displayName=R8.displayName;const fV=E.forwardRef(({className:e,inset:t,...n},r)=>h.jsx(_8,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));fV.displayName=_8.displayName;const hV=E.forwardRef(({className:e,...t},n)=>h.jsx(P8,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));hV.displayName=P8.displayName;function mV(){const[,e]=zr(),{user:t,isAuthenticated:n}=Ai(),[r,o]=E.useState(!1),l=()=>{localStorage.removeItem("token"),e("/"),window.location.reload()},d=m=>m.split(" ").slice(0,2).map(x=>x[0]).join("").toUpperCase();return h.jsx("nav",{className:"bg-primary shadow-lg sticky top-0 z-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsx("div",{className:"flex items-center",children:h.jsxs("button",{onClick:()=>e("/"),className:"flex items-center cursor-pointer","data-testid":"button-logo",children:[h.jsx("img",{src:"/Marca CDPI negativa 32x32px.svg",alt:"CDPI Faculdade Logo",className:"h-10 w-auto mr-3"}),h.jsx("span",{className:"text-xl font-bold text-white",children:((t==null?void 0:t.is_staff)||(t==null?void 0:t.is_superuser))&&h.jsx("span",{className:"text-xs ml-2 bg-white/20 text-white px-2 py-1 rounded",children:"ADMIN"})})]})}),h.jsx("div",{className:"hidden md:block",children:h.jsxs("div",{className:"ml-10 flex items-baseline space-x-6",children:[h.jsx("button",{onClick:()=>e("/eventos"),className:"text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors","data-testid":"nav-events",children:"Eventos"}),h.jsx("button",{onClick:()=>e("/cortesia"),className:"text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors","data-testid":"nav-courtesy",children:"Resgate de cortesia"}),n?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>e("/profile"),className:"text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors","data-testid":"nav-profile",children:"rea de acesso"}),((t==null?void 0:t.is_staff)||(t==null?void 0:t.is_superuser))&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>e("/verificar"),className:"text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium flex items-center transition-colors","data-testid":"nav-scanner",children:[h.jsx(j0,{className:"h-4 w-4 mr-1"}),"Verificar QR"]}),t.email==="caueroriz@gmail.com"&&h.jsx("button",{onClick:()=>e("/cortesia-admin"),className:"text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors","data-testid":"nav-courtesy-admin",children:"Gerenciar Cortesias"})]})]}):h.jsx("button",{onClick:()=>e("/login"),className:"text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors","data-testid":"nav-login",children:"rea de acesso"}),h.jsx("button",{onClick:()=>e("/eventos"),className:"p-2 text-white hover:bg-white/10 rounded-full transition-colors","data-testid":"nav-search",children:h.jsx(lA,{className:"h-5 w-5"})}),n&&t&&h.jsxs(K2,{children:[h.jsx(q2,{asChild:!0,children:h.jsx(Qe,{variant:"ghost",className:"p-1 ml-2","data-testid":"button-user-menu",children:h.jsx(Ff,{className:"h-8 w-8",children:h.jsx(Bf,{className:"bg-white text-primary text-sm",children:d(t.name)})})})}),h.jsxs(Um,{align:"end",children:[h.jsxs("div",{className:"px-2 py-1.5 text-sm font-semibold",children:[t.name,h.jsx("div",{className:"text-xs font-normal text-gray-500",children:t.email})]}),h.jsxs(ii,{onClick:()=>e("/profile"),"data-testid":"menu-profile-desktop",children:[h.jsx(fm,{className:"h-4 w-4 mr-2"}),"Meu Perfil"]}),((t==null?void 0:t.is_staff)||(t==null?void 0:t.is_superuser))&&h.jsxs(h.Fragment,{children:[h.jsxs(ii,{onClick:()=>e("/verificar"),"data-testid":"menu-scanner-desktop",children:[h.jsx(j0,{className:"h-4 w-4 mr-2"}),"Verificar QR"]}),t.email==="caueroriz@gmail.com"&&h.jsx(ii,{onClick:()=>e("/cortesia-admin"),"data-testid":"menu-courtesy-admin-desktop",children:"Gerenciar Cortesias"})]}),h.jsxs(ii,{onClick:l,className:"text-red-600","data-testid":"menu-logout-desktop",children:[h.jsx(Hy,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]})]})}),h.jsxs("div",{className:"flex items-center md:hidden",children:[n&&t&&h.jsxs(K2,{children:[h.jsx(q2,{asChild:!0,children:h.jsx(Qe,{variant:"ghost",className:"p-1 mr-2","data-testid":"button-user-menu-mobile",children:h.jsx(Ff,{className:"h-8 w-8",children:h.jsx(Bf,{className:"bg-white text-primary text-sm",children:d(t.name)})})})}),h.jsxs(Um,{align:"end",children:[h.jsxs(ii,{onClick:()=>e("/profile"),"data-testid":"menu-profile",children:[h.jsx(fm,{className:"h-4 w-4 mr-2"}),"Meu Perfil"]}),((t==null?void 0:t.is_staff)||(t==null?void 0:t.is_superuser))&&h.jsxs(h.Fragment,{children:[h.jsxs(ii,{onClick:()=>e("/verificar"),"data-testid":"menu-scanner",children:[h.jsx(j0,{className:"h-4 w-4 mr-2"}),"Verificar QR"]}),t.email==="caueroriz@gmail.com"&&h.jsx(ii,{onClick:()=>e("/cortesia-admin"),"data-testid":"menu-courtesy-admin",children:"Gerenciar Cortesias"})]}),h.jsxs(ii,{onClick:l,className:"text-red-600","data-testid":"menu-logout",children:[h.jsx(Hy,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]}),h.jsx("button",{onClick:()=>o(!r),className:"text-white hover:bg-white/10 p-2 rounded-md transition-colors","data-testid":"button-mobile-menu",children:h.jsx(qP,{className:"h-6 w-6"})})]})]}),r&&h.jsx("div",{className:"md:hidden",children:h.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 border-t border-white/10",children:[h.jsx("button",{onClick:()=>{e("/eventos"),o(!1)},className:"text-white hover:bg-white/10 block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-colors",children:"Eventos"}),h.jsx("button",{onClick:()=>{e("/cortesia"),o(!1)},className:"text-white hover:bg-white/10 block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-colors",children:"Resgate de cortesia"}),!n&&h.jsx("button",{onClick:()=>{e("/login"),o(!1)},className:"text-white hover:bg-white/10 block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-colors",children:"rea de acesso"})]})})]})})}function J0({children:e}){const{user:t,isAuthenticated:n,isLoading:r}=Ai(),[,o]=zr(),{toast:l}=mr();return E.useEffect(()=>{r||(n?t.is_staff||t.is_superuser||(l({title:"Acesso negado",description:"Apenas administradores podem acessar esta pgina",variant:"destructive"}),o("/")):(l({title:"Acesso negado",description:"Voc precisa fazer login para acessar esta pgina",variant:"destructive"}),o("/login")))},[n,r,t,o,l]),r?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):!n||!(t!=null&&t.is_staff)?null:h.jsx(h.Fragment,{children:e})}function pV(){const[e,t]=E.useState(null),[n,r]=E.useState(null),{toast:o}=mr(),l=cr({mutationFn:g=>Yt("POST","/api/orders/courtesy/mass-send/",g),onSuccess:async()=>{o({title:"Emails enfileirados para envio",description:"Os e-mails de cortesia esto sendo processados e sero enviados em breve."}),t(null),r(null)},onError:g=>{o({title:"Erro ao enviar e-mails",description:g.message,variant:"destructive"})}}),d=g=>{g.target.files&&t(g.target.files[0])},m=g=>{g.target.files&&r(g.target.files[0])},x=g=>{if(g.preventDefault(),!e){o({title:"Nenhum arquivo selecionado",description:"Por favor, selecione um arquivo CSV.",variant:"destructive"});return}const v=new FormData;v.append("csvFile",e),n&&v.append("attachment",n),l.mutate(v)};return h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[h.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Envio em Massa de Cortesias"}),h.jsxs(It,{children:[h.jsx(zn,{children:h.jsx(Wn,{children:"Enviar Cortesias por CSV"})}),h.jsx(Rt,{children:h.jsxs("form",{onSubmit:x,className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(vt,{htmlFor:"csvFile",children:"Arquivo CSV *"}),h.jsx(ut,{id:"csvFile",type:"file",accept:".csv",onChange:d,required:!0}),h.jsx("p",{className:"text-sm text-gray-500",children:"O arquivo deve conter as colunas: name, email, amount_of_courtesies, event_id"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(vt,{htmlFor:"attachment",children:"Anexo (Opcional)"}),h.jsx(ut,{id:"attachment",type:"file",onChange:m}),h.jsx("p",{className:"text-sm text-gray-500",children:"Selecione um arquivo para anexar a todos os e-mails de cortesia (PDF, DOC, etc.)"}),n&&h.jsxs("p",{className:"text-sm text-green-600",children:["Arquivo selecionado: ",n.name]})]}),h.jsx(Qe,{type:"submit",disabled:l.isPending,children:l.isPending?"Enviando...":"Enviar E-mails"})]})})]})]})}function gV(){const{isLoading:e}=Ai();return e?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):h.jsxs(h.Fragment,{children:[h.jsx(mV,{}),h.jsxs(G5,{children:[h.jsx(nr,{path:"/",component:O7}),h.jsx(nr,{path:"/eventos",component:P7}),h.jsx(nr,{path:"/login",component:mL}),h.jsx(nr,{path:"/register",component:gL}),h.jsx(nr,{path:"/forgot-password",component:xL}),h.jsx(nr,{path:"/reset-password",component:yL}),h.jsx(nr,{path:"/verify-email",component:VL}),h.jsx(nr,{path:"/profile",component:BL}),h.jsx(nr,{path:"/event/:id",component:UL}),h.jsx(nr,{path:"/verificar",children:h.jsx(J0,{children:h.jsx(hF,{})})}),h.jsx(nr,{path:"/admin-test",component:mF}),h.jsx(nr,{path:"/cortesia",component:yF}),h.jsx(nr,{path:"/cortesia-admin",children:h.jsx(J0,{children:h.jsx(YF,{})})}),h.jsx(nr,{path:"/cortesia-envio-em-massa",children:h.jsx(J0,{children:h.jsx(pV,{})})}),h.jsx(nr,{component:QF})]})]})}function xV(){return h.jsx(mS,{client:fi,children:h.jsx(lM,{children:h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(LD,{}),h.jsx(gV,{})]})})})}e1.createRoot(document.getElementById("root")).render(h.jsx(Je.StrictMode,{children:h.jsx(mS,{client:fi,children:h.jsx(xV,{})})}));
